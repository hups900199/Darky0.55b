globals
real V
real E
real X
real O
integer array R
integer array I
integer array N
integer B
integer C
item F=null
rect G=null
item array H
integer J=0
trigger M=null
hashtable P=null
boolean Q=false
group S=CreateGroup()
integer T='e016'
real U=$47E*.03
real W=0
real Y=0
real Z=0
trigger VV=null
integer EV=0
location XV=null
location OV=null
group RV=null
location IV=null
real AV=0
real NV=0
integer BV=0
string CV=null
integer DV=0
integer FV=0
integer GV=0
integer HV=0
integer JV=0
integer KV=0
unit LV=null
unit MV=null
timer PV=null
real QV=0
real SV=0
trigger TV=null
integer UV=0
integer array WV
integer array YV
unit array ZV
integer VE=0
integer EE=0
integer XE=0
real OE=0
integer array RE
boolean IE=false
trigger AE=null
real NE=0
integer BE=0
integer CE=0
integer DE=0
integer FE=0
integer GE=0
integer HE=0
integer JE=0
integer KE=0
boolean LE=false
real ME=0
integer PE=0
boolean array QE
real array SE
unit array TE
unit array UE
real WE=0
integer YE=0
integer ZE=0
integer VX=0
integer EX=0
integer XX=0
real OX=0
integer RX=0
real IX=0
boolean AX=false
boolean NX=false
boolean BX=false
boolean CX=false
integer DX=0
real FX=0
unit GX=null
unit HX=null
real JX=0
real KX=0
real LX=0
trigger MX=null
trigger PX=null
trigger QX=null
real array SX
boolean array TX
integer array UX
boolean array WX
real YX=0
group ZX=null
timer VO=null
integer EO=0
real XO=0
real OO=0
unit RO=null
trigger IO=null
trigger AO=null
trigger NO=null
trigger BO=null
trigger CO=null
trigger DO=null
integer array FO
integer array GO
boolean array HO
real array JO
real KO=0
real array LO
real MO=0
real PO=0
trigger array QO
sound SO
integer TO=0
trigger UO=CreateTrigger()
hashtable WO=InitHashtable()
integer YO=2
constant integer VR=$C
real ER=.001
timer XR
integer OR
integer RR=0
integer IR=0
integer array AR
integer array NR
integer array BR
real array CR
player array DR
boolean array FR
real array GR
real array HR
real array JR
boolean array KR
unit array LR
integer MR=0
unit PR
integer array QR
timer SR
timer TR
unit array UR
real array WR
integer YR=0
trigger ZR
integer VI
integer EI
real XI
group OI
real RI
real II
real AI
integer NI
boolexpr BI
integer CI=0
integer DI=0
integer array FI
unit array GI
integer array HI
integer array JI
integer KI=1
integer LI=0
integer MI=0
integer PI=0
integer QI=0
integer array SI
integer array TI
effect array WI
real array YI
integer array ZI
integer array VA
integer array EA
integer array XA
integer array OA
integer NA=0
unit array BA
integer CA=0
integer DA=0
boolean FA=false
integer GA=0
integer HA=0
integer JA=0
integer KA=0
integer LA=0
integer MA=0
unit PA=null
boolean QA=false
unit SA=null
unit TA=null
integer array UA
integer WA=0
integer YA=0
string ZA="|cffff0000Not Found|r"
string VN="|cffff0000Not Retrieved|r"
integer array EN
integer array XN
string array ON
integer array RN
integer array IN
integer array AN
location BN
integer CN
integer array DN
integer array FN
group array GN
unit array HN
integer array JN
item KN=null
real array LN
real array MN
integer PN=0
string array QN
unit array SN
unit array TN
integer UN=0
integer WN=0
group array YN
group array ZN
real array VB
boolean EB=false
real array OB
real array IB
real array AB
unit NB=null
unit FB=null
unit GB=null
integer HB=0
string JB=null
location KB=null
location LB=null
location MB=null
string PB
real QB=0
real SB=0
player array TB
integer array UB
unit WB=null
integer YB=0
real array BB
real array CB
integer array DB
integer XB=0
integer array AW
integer array ZB
unit array VC
unit EC=null
integer XC=0
boolean OC=true
unit RC=null
unit IC=null
unit AC=null
unit NC=null
unit BC=null
unit CC=null
unit array DC
integer array FC
integer array GC
integer array HC
integer array JC
integer array KC
integer array LC
integer array MC
integer PC=0
trigger QC=null
dialog array SC
unit array TC
integer array UC
boolean array WC
boolean array YC
integer array ZC
integer array VD
integer array ED
integer array XD
integer array OD
boolean RD=false
boolean ID=false
boolean ND=false
boolean BD=false
boolean CD=false
integer DD=0
boolean FD=false
boolean GD=false
integer HD=0
integer JD=0
integer MD=0
integer PD=0
integer QD=0
integer SD=0
integer TD=0
integer UD=0
integer WD=0
integer YD=0
integer ZD=0
integer VF=0
integer EF=0
integer XF=0
integer OF=0
integer RF=0
integer IF=0
integer AF=0
integer NF=0
integer BF=0
integer CF=0
integer DF=1
integer FF=0
integer GF=0
integer HF=0
integer JF=0
integer KF=0
unit LF=null
unit MF=null
unit PF=null
unit QF=null
unit SF=null
unit TF=null
unit UF=null
unit WF=null
unit YF=null
unit ZF=null
timer VG=null
timer EG=null
timer XG=null
unit OG=null
integer RG=0
integer IG=0
integer AG=0
string NG=null
string BG=null
unit CG=null
unit DG=null
unit FG=null
unit GG=null
integer HG=0
integer array JG
integer array KG
integer array LG
unit array MG
unit array PG
integer array QG
hashtable SG=InitHashtable()
hashtable TG=InitHashtable()
hashtable UG=InitHashtable()
integer A=0
integer array D
integer array NN
multiboard AD=null
integer WG=0
integer YG=0
integer ZG=0
integer VH=0
integer EH=0
integer XH=0
unit OH=null
unit RH=null
unit IH=null
unit AH=null
unit NH=null
unit BH=null
unit CH=null
unit DH=null
unit FH=null
unit GH=null
unit HH=null
unit JH=null
unit KH=null
integer array LH
timer array MH
unit PH=null
unit array QH
integer SH=0
integer TH=0
timer UH=null
integer WH=0
group ZH=null
integer VJ=0
integer EJ=0
integer XJ=0
integer OJ=0
integer array QJ
real KD=0
integer LD=0
integer RB=0
unit RJ=null
integer IJ=0
integer AJ=0
integer NJ=0
integer BJ=0
integer CJ=0
integer DJ=0
integer FJ=0
integer GJ=0
unit HJ=null
trigger JJ=null
trigger KJ=null
unit LJ=null
unit MJ=null
quest array PJ
real SJ=0
real TJ=0
real UJ=0
real WJ=0
real YJ=0
real ZJ=0
real VK=0
real EK=0
string XK
real OK=0
string RK
string IK
real AK=0
real NK=0
real BK=0
real CK=0
attacktype DK=null
damagetype FK=null
boolean GK=true
location array HK
group JK=null
group KK=null
integer array LK
unit array MK
unit array PK
integer array QK
real array SK
real array TK
real array UK
real array WK
hashtable YK=null
real ZK=0
real VL=0
real EL=0
integer XL=0
integer OL=0
integer RL=0
string IL
integer AL=0
string NL
lightning BL=null
real CL=0
real DL=0
real FL=0
real GL=0
real HL=0
real JL=0
real KL=0
real LL=0
real ML=0
real PL=0
real QL=0
real SL=0
real TL=0
location UL=null
location WL=null
real YL=0
integer ZL=0
unit VM=null
unit EM=null
integer XM=0
real OM=0
real RM=0
integer IM=0
real AM=0
real NM=0
location BM=null
integer CM=0
unit DM=null
group FM=null
real GM=0
group HM=null
real JM=0
real KM=0
real LM=0
integer array MM
location PM=null
real array QM
string array SM
integer array TM
unit array UM
integer array WM
real array YM
real array ZM
integer array VP
boolean array EP
integer array XP
real array OP
real array RP
real array IP
real array AP
real array NP
real array BP
real array CP
real array DP
real array FP
lightning array GP
location JP=null
unit KP=null
unit array LP
timer MP=null
integer array PP
integer array QP
group array SP
real TP=0
real UP=0
real WP=0
real YP=0
group ZP=null
real VQ=0
unit array EQ
dialog XQ=null
button array OQ
string array RQ
integer array IQ
timer array AQ
group NQ=null
effect array BQ
dialog CQ=null
button array DQ
group FQ=null
real array GQ
integer array HQ
dialog JQ=null
button array KQ
dialog LQ=null
button array MQ
unit array PQ
group QQ=null
integer SQ=0
unit array TQ
unit array UQ
integer array WQ
location array YQ
unit array ZQ
integer VS=0
group array ES
group XS=null
integer OS=0
unit array RS
location array IS
integer AS=0
real array NS
boolean array BS
integer CS=0
unit array DS
location array FS
integer GS=0
real HS=0
real array JS
unit array KS
group array LS
real MS=0
real PS=0
real QS=0
real SS=0
real TS=0
real US=0
real WS=0
real YS=0
real ZS=0
real VT=0
real ET=0
real XT=0
integer OT=0
integer RT=0
unit IT=null
unit AT=null
unit NT=null
hashtable BT=null
integer CT=0
integer DT=0
real FT=0
real GT=0
real HT=0
integer JT=0
integer KT=0
real LT=0
location MT=null
location PT=null
group QT=null
real ST=0
integer TT=0
real UT=0
integer WT=0
unit YT=null
real ZT=0
location VU=null
integer EU=0
real XU=0
real OU=0
real RU=0
real IU=0
real AU=0
integer NU=0
integer BU=0
string CU
string DU
real FU=0
real GU=0
real HU=0
string JU
damagetype KU=null
attacktype LU=null
item MU=null
hashtable PU=null
unit QU=null
unit SU=null
group TU=null
group UU=null
group WU=null
real array YU
location array ZU
integer array VW
group EW=null
integer XW=0
integer OW=0
string RW
integer IW=0
integer NW=0
integer CW=0
real array DW
real array FW
integer GW=0
integer array HW
unit array JW
integer array KW
integer array LW
real array MW
integer PW=0
effect array QW
location SW=null
unit TW=null
real UW=0
real WW=0
boolean array YW
real ZW=0
real VY=0
real EY=0
real XY=0
real OY=0
real RY=0
real IY=0
real AY=0
real NY=0
real BY=0
real CY=0
real DY=0
real FY=0
real GY=0
real HY=0
integer JY=0
integer KY=0
integer LY=0
integer MY=0
real PY=0
real QY=0
real SY=0
real TY=0
real UY=0
real WY=0
real YY=0
real ZY=0
real VZ=0
real EZ=0
real XZ=0
real OZ=0
real RZ=0
string IZ
string AZ
string NZ
string BZ
string CZ
integer DZ=0
integer FZ=0
unit GZ=null
location HZ=null
location JZ=null
real KZ=0
unit LZ=null
integer MZ=0
unit array PZ
player array QZ
integer SZ=0
real TZ=0
effect array UZ
unit array WZ
real array YZ
real array ZZ
real array V0
real array E0
real array X0
real array O0
unit array R0
integer array I0
real array A0
real array N0
real array B0
real array C0
integer D0=0
integer F0=0
unit G0=null
group H0=null
real J0=0
integer K0=0
unit L0=null
integer M0=0
integer P0=0
integer Q0=0
unit S0=null
unit T0=null
unit U0=null
unit W0=null
unit Y0=null
unit Z0=null
unit V1=null
timer E1=null
integer X1=0
integer O1=0
unit R1=null
unit I1=null
unit A1=null
unit N1=null
unit B1=null
unit C1=null
unit D1=null
unit F1=null
integer array G1
unit array H1
integer J1=0
integer K1=0
integer L1=0
unit array M1
integer array P1
player array Q1
group S1=null
unit array T1
location U1=null
effect array W1
real Y1=0
integer Z1=0
integer array V2
integer E2=0
integer X2=0
integer O2=0
integer array R2
real array I2
real array A2
group N2=null
location B2=null
integer array C2
string array D2
string array F2
string array G2
integer H2=0
integer array J2
integer K2=0
integer L2=0
unit array M2
player array P2
unit array Q2
integer array S2
integer array T2
integer array U2
real array W2
integer array Y2
boolean array Z2
effect array V3
integer E3=0
location array X3
group array O3
unit array R3
integer I3=0
integer A3=0
integer N3=0
unit array B3
unit array C3
real array D3
boolean array F3
boolean array G3
real array H3
real array J3
location K3=null
location L3=null
integer array M3
integer array P3
real array Q3
effect array S3
integer array T3
real U3=0
string W3
string Y3
string Z3
real V4=0
real E4=0
location X4=null
real array O4
integer array R4
real I4=0
real A4=0
integer N4=0
integer B4=0
string C4
string D4
unit F4=null
player G4=null
location H4=null
integer J4=0
real K4=0
integer L4=0
real M4=0
real P4=0
location Q4=null
group S4=null
integer T4=0
integer U4=0
unit array W4
integer Y4=0
location array Z4
real array V5
integer E5=0
real array X5
location array O5
location array R5
group array I5
group array A5
real array N5
real array B5
real array C5
integer array D5
group F5=null
unit array G5
rect H5=null
location array J5
group array K5
dialog L5=null
button array M5
dialog P5=null
button array Q5
integer S5=0
integer T5=0
integer U5=0
integer W5=0
integer Y5=0
integer Z5=0
integer V6=0
hashtable E6=null
real array X6
real array O6
real array R6
real array I6
real array A6
real array N6
real array B6
real array C6
real array D6
integer array F6
damagetype G6=null
string H6
string J6
boolean K6=false
boolean L6=false
integer M6=0
integer P6=0
location Q6=null
integer S6=0
group T6=null
real U6=0
real W6=0
location Y6=null
group Z6=null
unit V7=null
real E7=0
group X7=null
location O7=null
integer R7=0
unit I7=null
location A7=null
unit N7=null
unit B7=null
location array C7
unit array D7
unit F7=null
integer G7=0
real array H7
real array J7
real array K7
real array L7
integer M7=0
string P7
integer Q7=0
integer S7=0
integer T7=0
integer U7=0
integer array W7
unit array Y7
location Z7=null
location V8=null
real array E8
unit array X8
boolean array O8
integer array R8
real array I8
real array A8
real array N8
real array B8
integer array C8
integer D8=0
group F8=null
unit G8=null
integer H8=0
integer J8=0
real array K8
real array L8
real array M8
real array P8
string Q8
integer S8=0
integer T8=0
integer U8=0
integer W8=0
integer array Y8
unit array Z8
location array VVV
unit array VEV
integer VXV=0
real array VOV
real array VRV
real array VIV
real array VAV
real array VNV
integer array VBV
integer VCV=0
group VDV=null
unit VFV=null
integer VGV=0
real array VHV
real array VJV
string VKV
string VLV
unit VMV=null
unit VPV=null
integer VQV=0
real VSV=0
location VTV=null
group VUV=null
unit VWV=null
integer VYV=0
real array VZV
integer array V_V
real array V0V
real array V1V
real V2V=0
string V3V
integer V4V=0
integer V5V=0
integer V6V=0
integer V7V=0
integer V8V=0
integer array V9V
unit array EVV
unit array EEV
integer EXV=0
real array EOV
integer array ERV
real array EIV
real array EAV
location ENV=null
location EBV=null
real ECV=0
unit array EDV
integer array EFV
integer EGV=0
real EHV=0
group EJV=null
integer EKV=0
real ELV=0
real EMV=0
real EPV=0
string EQV
integer ESV=0
integer ETV=0
integer EUV=0
integer EWV=0
integer array EYV
unit array EZV
unit array E_V
real array E0V
real array E1V
effect array E2V
integer array E3V
integer E4V=0
integer E5V=0
unit E6V=null
unit E7V=null
timer E8V=null
integer E9V=0
location XVV=null
group XEV=null
location XXV=null
location XOV=null
location XRV=null
location XIV=null
integer XAV=0
group XNV=null
effect XBV=null
texttag XCV=null
texttag XDV=null
integer XFV=0
unit XGV=null
integer XHV=0
integer array XJV
integer XKV=0
integer XLV=0
integer XMV=0
integer XPV=0
integer XQV=0
integer XSV=0
integer XTV=0
integer XUV=0
integer XWV=0
integer XYV=0
texttag XZV=null
unit X_V=null
unit X0V=null
integer X1V=0
integer array X2V
integer X3V=0
unit X4V=null
timer X5V=null
integer X6V=0
integer X7V=0
unit X8V=null
real X9V=0
timer OVV=null
unit OEV=null
timer OXV=null
unit OOV=null
unit ORV=null
timer OIV=null
integer OAV=0
timer ONV=null
timer OBV=null
unit OCV=null
unit array ODV
timer array OFV
integer OGV=0
timer OHV=null
unit OJV=null
timer OKV=null
unit OLV=null
unit OMV=null
boolean OPV=false
integer OQV=0
unit OSV=null
integer OTV=0
integer OUV=0
integer OWV=0
integer OYV=0
integer OZV=0
integer O_V=0
integer O0V=0
integer O1V=0
timer O2V=null
timer O3V=null
timer O4V=null
timer O5V=null
timer O6V=null
unit O7V=null
unit O8V=null
unit O9V=null
timer RVV=null
unit REV=null
integer RXV=0
unit ROV=null
timer RRV=null
timer RIV=null
integer RAV=0
unit RNV=null
timerdialog RBV=null
unit RCV=null
timer RDV=null
timer RFV=null
integer RGV=0
integer RHV=0
timer RJV=null
unit RKV=null
unit RLV=null
timer RMV=null
unit RPV=null
timer RQV=null
integer RSV=0
unit RTV=null
timer RUV=null
integer RWV=0
integer RYV=0
unit RZV=null
timer R_V=null
integer R0V=0
unit R1V=null
unit R2V=null
timer R3V=null
integer R4V=0
unit R5V=null
unit R6V=null
timer R7V=null
unit R8V=null
timer R9V=null
unit IVV=null
timer IEV=null
unit IXV=null
unit IOV=null
integer IRV=0
timer IIV=null
timer hj=null
unit IAV=null
unit INV=null
integer IBV=0
unit ICV=null
unit IDV=null
integer IFV=0
timer IGV=null
unit IHV=null
unit IJV=null
integer IKV=0
timer ILV=null
unit IMV=null
timer IPV=null
unit IQV=null
timer ISV=null
timer ITV=null
timer IUV=null
timer IWV=null
unit IYV=null
unit IZV=null
unit I_V=null
unit I0V=null
timer I1V=null
integer I2V=0
timer I3V=null
integer I4V=0
unit I5V=null
timer I6V=null
integer I7V=0
integer I8V=0
integer I9V=0
unit AVV=null
integer AEV=0
timer AXV=null
integer AOV=0
integer ARV=0
integer AIV=0
unit AAV=null
timer ANV=null
integer ABV=0
unit ACV=null
timer ADV=null
integer AFV=0
timer AGV=null
unit AHV=null
unit AJV=null
unit AKV=null
timer ALV=null
timer AMV=null
timer APV=null
timer AQV=null
unit ASV=null
integer ATV=0
item AUV=null
integer AWV=0
timer AYV=null
timer AZV=null
timer A_V=null
timer A0V=null
unit A1V=null
timer A2V=null
unit A3V=null
unit A4V=null
player A5V=null
timer A6V=null
unit A7V=null
timer A8V=null
unit A9V=null
timer NVV=null
unit NEV=null
timer NXV=null
integer NOV=0
unit NRV=null
timer NIV=null
unit NAV=null
timer NNV=null
timer NBV=null
unit NCV=null
integer NDV=0
unit NFV=null
integer NGV=0
integer NHV=0
unit NJV=null
unit NKV=null
unit NLV=null
unit NMV=null
unit NPV=null
unit NQV=null
unit NSV=null
timer NTV=null
unit NUV=null
timer NWV=null
integer NYV=0
integer NZV=0
integer N_V=0
integer N0V=0
integer N1V=0
integer N2V=0
integer N3V=0
integer N4V=0
timer N5V=null
integer N6V=0
integer N7V=0
timer N8V=null
unit N9V=null
integer BVV=0
unit BEV=null
unit BXV=null
unit BOV=null
unit BRV=null
timer BIV=null
unit BAV=null
unit BNV=null
unit BBV=null
unit BCV=null
unit BDV=null
integer BFV=0
integer BGV=0
timer BHV=null
unit BJV=null
integer BKV=0
integer BLV=0
unit BMV=null
integer BPV=0
unit BQV=null
integer BSV=0
timer BTV=null
unit BUV=null
unit BWV=null
timer BYV=null
timer BZV=null
integer B_V=0
integer B0V=0
integer B1V=0
integer B2V=0
integer B3V=0
integer B4V=0
integer B5V=0
integer B6V=0
integer array B7V
timer B8V=null
integer BW=0
timer B9V=null
integer CVV=0
unit CEV=null
timer CXV=null
unit COV=null
integer CRV=0
integer array CIV
integer CAV=0
unit CNV=null
integer CBV=0
integer array CCV
integer CDV=0
timer CFV=null
unit CGV=null
unit CHV=null
timer CJV=null
unit CKV=null
timer CLV=null
location CMV=null
integer CPV=0
integer CQV=0
timer CSV=null
timer CTV=null
unit CUV=null
unit CWV=null
timer CYV=null
timer CZV=null
timer C_V=null
integer C0V=0
unit C1V=null
timer C2V=null
integer C3V=0
integer C4V=0
integer C5V=0
integer C6V=0
integer C7V=0
boolean C8V=false
integer C9V=0
integer DVV=0
timer DEV=null
unit DXV=null
integer DOV=0
unit DRV=null
unit DIV=null
timer DAV=null
unit DNV=null
unit DBV=null
timer DCV=null
timer DDV=null
timer DFV=null
timer DGV=null
timer array DHV
timer array DJV
timer DKV=null
integer DLV=0
integer DMV=0
button array DPV
integer DQV=0
integer DSV=0
timer DTV=null
unit DUV=null
unit DWV=null
timer DYV=null
unit DZV=null
real D_V=0
timer D0V=null
integer D1V=0
integer D2V=0
unit D3V=null
integer D4V=0
integer D5V=0
integer D6V=0
integer D7V=0
integer D8V=0
real D9V=0
timer FVV=null
integer FEV=0
integer FXV=0
integer FOV=0
integer FRV=0
integer FIV=0
integer FAV=0
integer FNV=0
integer FBV=0
location FCV=null
location FDV=null
integer FFV=0
unit FGV=null
integer FHV=0
timer FJV=null
integer FKV=0
unit FLV=null
unit FMV
player FPV
real FQV
real FSV
integer FTV=0
integer FUV=0
integer FWV=0
integer FYV=0
integer FZV=0
timer F_V=null
integer F0V=0
integer F1V=0
integer F2V=0
integer F3V=0
integer F4V=0
integer F5V=0
integer F6V=0
integer F7V=0
integer F8V=0
integer F9V=0
integer GVV=0
integer GEV=0
integer GXV=0
integer GOV=0
integer GRV=0
unit GIV=null
unit GAV=null
unit GNV=null
unit GBV=null
unit GCV=null
integer GDV=0
integer GFV=0
timer GGV=null
integer GHV=0
timer GJV=null
integer GKV=0
unit GLV=null
unit GMV=null
unit array GPV
integer GQV=0
integer GSV=0
integer GTV=0
unit array GUV
boolean array GWV
integer GYV=0
timer GZV=null
integer G_V=0
unit G0V=null
integer G1V=0
integer G2V=0
integer G3V=0
timer G4V=null
unit G5V=null
unit G6V=null
integer G7V=0
timer G8V=null
integer G9V=0
unit HVV=null
integer HEV=0
integer HXV=0
integer HOV=0
integer HRV=0
integer HIV=0
integer HAV=0
integer HNV=0
integer HBV=0
timer HCV=null
unit HDV=null
integer HFV=0
integer HGV=0
timer HHV=null
integer HJV=0
timer HKV=null
integer HLV=0
unit HMV=null
unit HPV=null
unit HQV=null
integer HSV=0
integer HTV=0
unit HUV=null
timer HWV=null
integer HYV=0
timer HZV=null
integer H_V=0
integer H0V=0
unit H1V=null
timer H2V=null
unit H3V=null
timer H4V=null
unit H5V=null
integer H6V=0
integer H7V=0
integer H8V=0
integer H9V=0
integer JVV=0
integer JEV=0
integer JXV=0
integer JOV=0
integer JRV=0
integer JIV=0
integer JAV=0
integer JNV=0
boolean JBV=false
unit JCV=null
unit JDV=null
unit JFV=null
integer JGV=0
integer JHV=0
timer JJV=null
unit JKV=null
dialog JLV=null
integer JMV=0
rect JPV=null
integer array JQV
unit JSV=null
integer JTV=0
unit JUV=null
integer array JWV
integer array JYV
unit array JZV
integer array J_V
unit J0V=null
unit J1V=null
integer J2V=0
unit J3V=null
integer J4V=0
unit array J5V
unit array J6V
integer J7V=0
unit J8V=null
trigger J9V=null
trigger KVV=null
trigger KEV=null
rect KXV=null
rect KOV=null
rect KRV=null
rect KIV=null
rect KAV=null
rect KNV=null
rect KBV=null
rect KCV=null
rect KDV=null
rect KFV=null
rect KGV=null
rect KHV=null
rect KJV=null
rect KKV=null
rect KLV=null
rect KMV=null
rect KPV=null
rect KQV=null
rect KSV=null
rect KTV=null
rect KUV=null
rect KWV=null
rect KYV=null
rect KZV=null
rect K_V=null
rect K0V=null
rect K1V=null
rect K2V=null
rect K3V=null
rect K4V=null
rect K5V=null
rect K6V=null
rect K7V=null
rect K8V=null
rect K9V=null
rect LVV=null
rect LEV=null
rect LXV=null
rect LOV=null
rect LRV=null
rect LIV=null
rect LAV=null
rect LNV=null
rect LBV=null
rect LCV=null
rect LDV=null
rect LFV=null
rect LGV=null
rect LHV=null
rect LJV=null
rect LKV=null
rect LLV=null
rect LMV=null
rect LPV=null
rect LQV=null
rect LSV=null
rect LTV=null
rect LUV=null
rect LWV=null
rect LYV=null
rect LZV=null
rect L_V=null
rect L0V=null
rect L1V=null
rect L2V=null
rect L3V=null
rect L4V=null
rect L5V=null
rect L6V=null
rect L7V=null
rect L8V=null
rect L9V=null
rect MOV=null
rect MRV=null
rect MIV=null
rect MAV=null
rect MNV=null
rect MBV=null
rect MCV=null
rect MDV=null
rect MFV=null
rect MGV=null
rect MHV=null
rect MJV=null
rect MKV=null
rect MLV=null
rect MMV=null
rect MPV=null
rect MQV=null
rect MSV=null
rect MTV=null
rect MUV=null
rect MWV=null
rect MYV=null
rect MZV=null
rect M_V=null
rect M0V=null
rect M1V=null
rect M2V=null
rect M3V=null
rect M4V=null
rect M5V=null
rect M6V=null
rect M7V=null
rect M8V=null
rect M9V=null
rect PVV=null
rect PEV=null
rect PXV=null
rect POV=null
rect PRV=null
sound PIV=null
sound PAV=null
sound PNV=null
sound PBV=null
sound PCV=null
sound PDV=null
sound PFV=null
sound PGV=null
sound PHV=null
sound PJV=null
sound PKV=null
sound PLV=null
sound PMV=null
sound PPV=null
sound PQV=null
sound PSV=null
sound PTV=null
sound PUV=null
sound PWV=null
string PYV
string PZV
string P_V
sound P0V=null
sound P1V=null
sound P2V=null
sound P3V=null
sound P4V=null
sound P5V=null
sound P6V=null
sound P7V=null
sound P8V=null
sound P9V=null
trigger QVV=null
trigger QEV=null
trigger QXV=null
trigger QOV=null
trigger QRV=null
trigger QIV=null
trigger QAV=null
trigger QNV=null
trigger QBV=null
trigger QCV=null
trigger QDV=null
trigger QFV=null
trigger QGV=null
trigger QHV=null
trigger QJV=null
trigger QKV=null
trigger QLV=null
trigger QMV=null
trigger QPV=null
trigger QQV=null
trigger QSV=null
trigger QTV=null
trigger QUV=null
trigger QWV=null
trigger QYV=null
trigger QZV=null
trigger Q_V=null
trigger Q0V=null
trigger Q1V=null
trigger Q2V=null
trigger Q3V=null
trigger Q4V=null
trigger Q5V=null
trigger Q6V=null
trigger Q7V=null
trigger Q8V=null
trigger Q9V=null
trigger SVV=null
trigger SEV=null
trigger SXV=null
trigger SOV=null
trigger SRV=null
trigger SIV=null
trigger SAV=null
trigger SNV=null
trigger SBV=null
trigger SCV=null
trigger SDV=null
trigger SFV=null
trigger SGV=null
trigger SHV=null
trigger SJV=null
trigger SKV=null
trigger SLV=null
trigger SMV=null
trigger SPV=null
trigger SQV=null
trigger SSV=null
trigger STV=null
trigger SUV=null
trigger SWV=null
trigger SYV=null
trigger SZV=null
trigger S_V=null
trigger S0V=null
trigger S1V=null
trigger S2V=null
trigger S3V=null
trigger S4V=null
trigger S5V=null
trigger S6V=null
trigger S7V=null
trigger S8V=null
trigger S9V=null
trigger TVV=null
trigger TEV=null
trigger TXV=null
trigger TOV=null
trigger TRV=null
trigger TIV=null
trigger TAV=null
trigger TNV=null
trigger TBV=null
trigger TCV=null
trigger TDV=null
trigger TFV=null
trigger TGV=null
trigger THV=null
trigger TJV=null
trigger TKV=null
trigger TLV=null
trigger TMV=null
trigger TPV=null
trigger TQV=null
trigger TSV=null
trigger TTV=null
trigger TUV=null
trigger TWV=null
trigger TYV=null
trigger TZV=null
trigger T_V=null
trigger T0V=null
trigger T1V=null
trigger T2V=null
trigger T3V=null
trigger T4V=null
trigger T5V=null
trigger T6V=null
trigger T7V=null
trigger T8V=null
trigger T9V=null
trigger UVV=null
trigger UXV=null
trigger UOV=null
trigger URV=null
trigger UIV=null
trigger UAV=null
trigger UNV=null
trigger UBV=null
trigger UCV=null
trigger UDV=null
trigger UFV=null
trigger UGV=null
trigger UHV=null
trigger UJV=null
trigger UKV=null
trigger ULV=null
trigger UMV=null
trigger UPV=null
trigger UQV=null
trigger USV=null
trigger UTV=null
trigger UUV=null
trigger UWV=null
trigger UYV=null
trigger UZV=null
trigger U_V=null
trigger U0V=null
trigger U1V=null
trigger U2V=null
trigger U3V=null
trigger U4V=null
trigger U5V=null
trigger U6V=null
trigger U7V=null
trigger U8V=null
trigger U9V=null
trigger WVV=null
trigger WEV=null
trigger WXV=null
trigger WOV=null
trigger WRV=null
trigger WIV=null
trigger WAV=null
trigger WNV=null
trigger WBV=null
trigger WCV=null
trigger WDV=null
trigger WFV=null
trigger WGV=null
trigger WHV=null
trigger WJV=null
trigger WKV=null
trigger WLV=null
trigger WMV=null
trigger WPV=null
trigger WQV=null
trigger WSV=null
trigger WTV=null
trigger WUV=null
trigger WWV=null
trigger WYV=null
trigger WZV=null
trigger W_V=null
trigger W0V=null
trigger W1V=null
trigger W2V=null
trigger W3V=null
trigger W4V=null
trigger W5V=null
trigger W6V=null
trigger W7V=null
trigger W8V=null
trigger W9V=null
trigger YVV=null
trigger YEV=null
trigger YXV=null
trigger YOV=null
trigger YRV=null
trigger YIV=null
trigger YAV=null
trigger YNV=null
trigger YBV=null
trigger YCV=null
trigger YDV=null
trigger YFV=null
trigger YGV=null
trigger YHV=null
trigger YJV=null
trigger YKV=null
trigger YLV=null
trigger YMV=null
trigger YPV=null
trigger YQV=null
trigger YSV=null
trigger YTV=null
trigger YUV=null
trigger YWV=null
trigger YYV=null
trigger YZV=null
trigger Y_V=null
trigger Y0V=null
trigger Y1V=null
trigger Y2V=null
trigger Y3V=null
trigger Y4V=null
trigger Y5V=null
trigger Y6V=null
trigger Y7V=null
trigger Y8V=null
trigger Y9V=null
trigger ZVV=null
trigger ZEV=null
trigger ZXV=null
trigger ZOV=null
trigger ZRV=null
trigger ZIV=null
trigger ZAV=null
trigger ZNV=null
trigger ZBV=null
trigger ZCV=null
trigger ZDV=null
trigger ZFV=null
trigger ZGV=null
trigger ZHV=null
trigger ZJV=null
trigger ZKV=null
trigger ZLV=null
trigger ZMV=null
trigger ZPV=null
trigger ZQV=null
trigger ZSV=null
trigger ZTV=null
trigger ZUV=null
trigger ZWV=null
trigger ZYV=null
trigger ZZV=null
trigger Z_V=null
trigger Z0V=null
trigger Z1V=null
trigger Z2V=null
trigger Z3V=null
trigger Z4V=null
trigger Z5V=null
trigger Z6V=null
trigger Z7V=null
trigger Z8V=null
trigger Z9V=null
trigger VVE=null
trigger VEE=null
trigger VXE=null
trigger VOE=null
trigger VBE=null
trigger VCE=null
trigger VDE=null
trigger VFE=null
trigger VGE=null
trigger VHE=null
trigger VJE=null
trigger VKE=null
trigger VLE=null
trigger VME=null
trigger VPE=null
trigger VQE=null
trigger VSE=null
trigger VTE=null
trigger VUE=null
trigger VWE=null
trigger VYE=null
trigger VZE=null
trigger V_E=null
trigger V0E=null
trigger V1E=null
trigger V2E=null
trigger V3E=null
trigger V4E=null
trigger V5E=null
trigger V6E=null
trigger V7E=null
trigger V8E=null
trigger V9E=null
trigger EVE=null
trigger EEE=null
trigger EXE=null
trigger EOE=null
trigger ERE=null
trigger EIE=null
trigger EAE=null
trigger ENE=null
trigger EBE=null
trigger ECE=null
trigger EDE=null
trigger EFE=null
trigger EGE=null
trigger EHE=null
trigger EJE=null
trigger EKE=null
trigger ELE=null
trigger EME=null
trigger EPE=null
trigger EQE=null
trigger ESE=null
trigger ETE=null
trigger EUE=null
trigger EWE=null
trigger EYE=null
trigger EZE=null
trigger E_E=null
trigger E0E=null
trigger E1E=null
trigger E2E=null
trigger E3E=null
trigger E4E=null
trigger E5E=null
trigger E6E=null
trigger E7E=null
trigger E8E=null
trigger E9E=null
trigger XVE=null
trigger XEE=null
trigger XXE=null
trigger XOE=null
trigger XRE=null
trigger XIE=null
trigger XAE=null
trigger XNE=null
trigger XBE=null
trigger XCE=null
trigger XDE=null
trigger XFE=null
trigger XGE=null
trigger XHE=null
trigger XJE=null
trigger XKE=null
trigger XLE=null
trigger XME=null
trigger XPE=null
trigger XQE=null
trigger XSE=null
trigger XTE=null
trigger XUE=null
trigger XWE=null
trigger XYE=null
trigger XZE=null
trigger X_E=null
trigger X0E=null
trigger X1E=null
trigger X2E=null
trigger X3E=null
trigger X4E=null
trigger X5E=null
trigger X6E=null
trigger X7E=null
trigger X8E=null
trigger X9E=null
trigger OVE=null
trigger OEE=null
trigger OXE=null
trigger OOE=null
trigger ORE=null
trigger OIE=null
trigger OAE=null
trigger ONE=null
trigger OBE=null
trigger OCE=null
trigger ODE=null
trigger OFE=null
trigger OGE=null
trigger OHE=null
trigger OJE=null
trigger OKE=null
trigger OLE=null
trigger OME=null
trigger OPE=null
trigger OQE=null
trigger OSE=null
trigger OTE=null
trigger OUE=null
trigger OWE=null
trigger OYE=null
trigger OZE=null
trigger O_E=null
trigger O0E=null
trigger O1E=null
trigger O2E=null
trigger O3E=null
trigger O4E=null
trigger O5E=null
trigger O8E=null
trigger O9E=null
trigger RVE=null
trigger REE=null
trigger RXE=null
trigger ROE=null
trigger RRE=null
trigger RIE=null
trigger RAE=null
trigger RNE=null
trigger RBE=null
trigger RCE=null
trigger RDE=null
trigger RFE=null
trigger RGE=null
trigger RHE=null
trigger RJE=null
trigger RKE=null
trigger RLE=null
trigger RME=null
trigger RPE=null
trigger RQE=null
trigger RSE=null
trigger RTE=null
trigger RUE=null
trigger RWE=null
trigger RYE=null
trigger RZE=null
trigger R_E=null
trigger R0E=null
trigger R1E=null
trigger R2E=null
trigger R3E=null
trigger R4E=null
trigger R5E=null
trigger R6E=null
trigger R7E=null
trigger R8E=null
trigger R9E=null
trigger IVE=null
trigger IEE=null
trigger IXE=null
trigger IOE=null
trigger IRE=null
trigger IIE=null
trigger IAE=null
trigger INE=null
trigger IBE=null
trigger ICE=null
trigger IDE=null
trigger IFE=null
trigger IGE=null
trigger IHE=null
trigger IJE=null
trigger IKE=null
trigger ILE=null
trigger IME=null
trigger IPE=null
trigger IQE=null
trigger ISE=null
trigger ITE=null
trigger IUE=null
trigger IWE=null
trigger IYE=null
trigger IZE=null
trigger I_E=null
trigger I0E=null
trigger I1E=null
trigger I2E=null
trigger I3E=null
trigger I4E=null
trigger I5E=null
trigger I6E=null
trigger I7E=null
trigger I8E=null
trigger I9E=null
trigger AVE=null
trigger AEE=null
trigger AXE=null
trigger AOE=null
trigger ARE=null
trigger AIE=null
trigger AAE=null
trigger ANE=null
trigger ABE=null
trigger ACE=null
trigger ADE=null
trigger AFE=null
trigger AGE=null
trigger AHE=null
trigger AJE=null
trigger AKE=null
trigger ALE=null
trigger AME=null
trigger APE=null
trigger AQE=null
trigger ASE=null
trigger ATE=null
trigger AUE=null
trigger AWE=null
trigger AYE=null
trigger AZE=null
trigger A_E=null
trigger A0E=null
trigger A1E=null
trigger A2E=null
trigger A3E=null
trigger A4E=null
trigger A5E=null
trigger A6E=null
trigger A7E=null
trigger A8E=null
trigger A9E=null
trigger NVE=null
trigger NEE=null
trigger NXE=null
trigger NOE=null
trigger NRE=null
trigger NIE=null
trigger NAE=null
trigger NNE=null
trigger NBE=null
trigger NCE=null
trigger NDE=null
trigger NFE=null
trigger NGE=null
trigger NHE=null
trigger NJE=null
trigger NKE=null
trigger NLE=null
trigger NME=null
trigger NPE=null
trigger NQE=null
trigger NSE=null
trigger NTE=null
trigger NUE=null
trigger NWE=null
trigger NYE=null
trigger NZE=null
trigger N_E=null
trigger N0E=null
trigger N1E=null
trigger N2E=null
trigger N3E=null
trigger N4E=null
trigger N5E=null
trigger N6E=null
trigger N7E=null
trigger N8E=null
trigger N9E=null
trigger BVE=null
trigger BEE=null
trigger BXE=null
trigger BOE=null
trigger BRE=null
trigger BIE=null
trigger BAE=null
trigger BNE=null
trigger BBE=null
trigger BCE=null
trigger BDE=null
trigger BFE=null
trigger BGE=null
trigger BHE=null
trigger BJE=null
trigger BKE=null
trigger BLE=null
trigger BME=null
trigger BPE=null
trigger BQE=null
trigger BSE=null
trigger BTE=null
trigger BUE=null
trigger BWE=null
trigger BYE=null
trigger BZE=null
trigger B_E=null
trigger B0E=null
trigger B1E=null
trigger B2E=null
trigger B3E=null
trigger B4E=null
trigger B5E=null
trigger B6E=null
trigger B7E=null
trigger B8E=null
trigger B9E=null
trigger CVE=null
trigger CEE=null
trigger CXE=null
trigger COE=null
trigger CRE=null
trigger CIE=null
trigger CAE=null
trigger CNE=null
trigger CBE=null
trigger CCE=null
trigger CDE=null
trigger CFE=null
trigger CGE=null
trigger CHE=null
trigger CJE=null
trigger CKE=null
trigger CLE=null
trigger CME=null
trigger CPE=null
trigger CQE=null
trigger CSE=null
trigger CTE=null
trigger CUE=null
unit CWE=null
unit CYE=null
unit CZE=null
unit C_E=null
unit array C0E
integer C1E=0
integer C2E=0
integer C3E=0
trigger C4E=null
rect C5E=null
rect C6E=null
rect C7E=null
rect C8E=null
rect C9E=null
rect DVE=null
rect DEE=null
rect DXE=null
rect DOE=null
rect DIE=null
rect DAE=null
rect DNE=null
rect DBE=null
rect DCE=null
rect DDE=null
trigger DFE=null
trigger DGE=null
trigger DHE=null
trigger DJE=null
trigger DKE=null
trigger DLE=null
trigger DME=null
trigger DPE=null
trigger DQE=null
trigger DSE=null
trigger DTE=null
trigger DUE=null
trigger DWE=null
trigger DYE=null
trigger DZE=null
trigger D_E=null
trigger D0E=null
trigger D1E=null
trigger D2E=null
trigger D3E=null
unit D4E=null
unit D5E=null
unit D6E=null
unit D7E=null
unit D8E=null
unit D9E=null
unit FVE=null
unit FEE=null
unit FXE=null
destructable FOE=null
trigger FRE=null
unit FIE=null
trigger FAE=null
rect FNE=null
trigger FBE=null
trigger FCE=null
trigger FDE=null
trigger FFE=null
trigger FGE=null
trigger FHE=null
trigger FJE=null
trigger FKE=null
trigger FLE=null
trigger FME=null
sound FPE=null
trigger FQE=null
trigger FSE=null
trigger FTE=null
trigger FUE=null
trigger FWE=null
trigger FYE=null
trigger FZE=null
trigger F_E=null
trigger F0E=null
trigger F1E=null
trigger F2E=null
trigger F3E=null
trigger F4E=null
trigger F5E=null
trigger F6E=null
trigger F7E=null
trigger F8E=null
trigger F9E=null
trigger GVE=null
trigger GEE=null
trigger GXE=null
trigger GOE=null
trigger GRE=null
trigger GIE=null
trigger GAE=null
trigger GNE=null
trigger GBE=null
trigger GCE=null
trigger GDE=null
trigger GFE=null
trigger GGE=null
trigger GHE=null
trigger GJE=null
trigger GKE=null
trigger GLE=null
trigger GME=null
trigger GPE=null
trigger GQE=null
trigger GSE=null
trigger GTE=null
trigger GUE=null
trigger GWE=null
trigger GYE=null
trigger GZE=null
trigger G_E=null
trigger G0E=null
trigger G1E=null
trigger G2E=null
trigger G3E=null
trigger G4E=null
trigger G5E=null
trigger G6E=null
trigger G7E=null
trigger G8E=null
trigger G9E=null
trigger HVE=null
trigger HEE=null
trigger HXE=null
trigger HOE=null
trigger HRE=null
trigger HIE=null
trigger HAE=null
trigger HNE=null
trigger HBE=null
trigger HCE=null
trigger HDE=null
trigger HFE=null
trigger HGE=null
trigger HHE=null
endglobals
function HJE takes nothing returns nothing
local integer i=0
set NA='hpea'
set i=0
loop
exitwhen(i>1)
set BA[i]=null
set i=i+1
endloop
set CA='I000'
set i=0
loop
exitwhen(i>1)
set UA[i]='ntor'
set i=i+1
endloop
set WA='ntor'
set YA='I009'
set i=0
loop
exitwhen(i>1)
set EN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>30)
set ON[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set RN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set AN[i]='I00F'
set i=i+1
endloop
loop
exitwhen(i>$A)
set DHV[i]=CreateTimer()
set i=i+1
endloop
set XEV=CreateGroup()
set XAV=0
set XNV=CreateGroup()
set XFV=0
set XHV=0
set i=0
loop
exitwhen(i>8)
set XJV[i]=2
set i=i+1
endloop
set XKV=0
set XLV=0
set XMV=0
set XPV=0
set XQV=0
set XSV=0
set XTV=0
set XUV=0
set XWV=0
set XYV=0
set X1V=0
set i=0
loop
exitwhen(i>$A)
set X2V[i]=0
set i=i+1
endloop
set X3V=0
set X5V=CreateTimer()
set X6V=0
set X7V=0
set X9V=0
set OVV=CreateTimer()
set OXV=CreateTimer()
set OIV=CreateTimer()
set OAV='nerw'
set ONV=CreateTimer()
set OBV=CreateTimer()
set i=0
loop
exitwhen(i>3)
set MH[i]=CreateTimer()
set i=i+1
endloop
set i=0
loop
exitwhen(i>$A)
set OFV[i]=CreateTimer()
set i=i+1
endloop
set OGV=0
set OHV=CreateTimer()
set OKV=CreateTimer()
set OPV=false
set OQV=0
set OTV=0
set OUV=0
set OWV=0
set OYV=0
set OZV=0
set O_V=0
set O2V=CreateTimer()
set O3V=CreateTimer()
set O4V=CreateTimer()
set O5V=CreateTimer()
set O6V=CreateTimer()
set RVV=CreateTimer()
set RXV=0
set RRV=CreateTimer()
set RIV=CreateTimer()
set RDV=CreateTimer()
set RFV=CreateTimer()
set BYV=CreateTimer()
set RGV=0
set RHV=0
set RJV=CreateTimer()
set RMV=CreateTimer()
set RQV=CreateTimer()
set RSV=0
set RUV=CreateTimer()
set RWV=0
set R_V=CreateTimer()
set R0V=0
set R3V=CreateTimer()
set R4V=0
set R7V=CreateTimer()
set R9V=CreateTimer()
set IEV=CreateTimer()
set IRV=0
set IIV=CreateTimer()
set IFV=0
set IGV=CreateTimer()
set IKV=0
set ILV=CreateTimer()
set IPV=CreateTimer()
set ISV=CreateTimer()
set UH=CreateTimer()
set ITV=CreateTimer()
set IUV=CreateTimer()
set IWV=CreateTimer()
set I1V=CreateTimer()
set I2V=0
set I3V=CreateTimer()
set I4V=0
set I6V=CreateTimer()
set I7V=0
set I8V=0
set I9V=0
set AEV=0
set AXV=CreateTimer()
set AOV=0
set ARV=0
set AIV=0
set ANV=CreateTimer()
set ABV=0
set ADV=CreateTimer()
set AFV=0
set AGV=CreateTimer()
set ALV=CreateTimer()
set AMV=CreateTimer()
set APV=CreateTimer()
set AQV=CreateTimer()
set ATV=0
set AWV=0
set X1=0
set O1=0
set E5V=0
set E8V=CreateTimer()
set E9V=0
set AYV=CreateTimer()
set AZV=CreateTimer()
set A_V=CreateTimer()
set A0V=CreateTimer()
set H0=CreateGroup()
set A2V=CreateTimer()
set A6V=CreateTimer()
set A8V=CreateTimer()
set NVV=CreateTimer()
set NXV=CreateTimer()
set NOV=0
set NIV=CreateTimer()
set NNV=CreateTimer()
set NBV=CreateTimer()
set NDV=0
set NGV=0
set NHV=0
set NTV=CreateTimer()
set NWV=CreateTimer()
set PV=CreateTimer()
set i=0
loop
exitwhen(i>4)
set DJV[i]=CreateTimer()
set i=i+1
endloop
set UV=0
set i=0
loop
exitwhen(i>1)
set WV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set YV[i]=0
set i=i+1
endloop
set VE=0
set EE=0
set XE=0
set OE=0
set NE=0
set FX=0
set PE=0
set i=0
loop
exitwhen(i>1)
set QE[i]=false
set i=i+1
endloop
set XO=0
set VO=CreateTimer()
set ME=0
set i=0
loop
exitwhen(i>1)
set FO[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set GO[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set HO[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set JO[i]=0
set i=i+1
endloop
set KO=0
set i=0
loop
exitwhen(i>1)
set LO[i]=0
set i=i+1
endloop
set MO=0
set PO=0
set EX=0
set NX=false
set i=0
loop
exitwhen(i>1)
set RE[i]=0
set i=i+1
endloop
set IE=false
set OO=0
set i=0
loop
exitwhen(i>1)
set SE[i]=0
set i=i+1
endloop
set YE=0
set ZE=0
set WE=0
set i=0
loop
exitwhen(i>1)
set SX[i]=0
set i=i+1
endloop
set AX=false
set DE=0
set FE=0
set GE=0
set LE=false
set i=0
loop
exitwhen(i>1)
set TX[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set UX[i]=0
set i=i+1
endloop
set DX=0
set OX=0
set RX=0
set IX=0
set HE=0
set CX=false
set EO=0
set BX=false
set JX=0
set KX=0
set LX=0
set i=0
loop
exitwhen(i>1)
set WX[i]=false
set i=i+1
endloop
set BE=0
set CE=0
set ZX=CreateGroup()
set YX=0
set NYV=0
set NZV=0
set N_V=0
set N0V=0
set N1V=0
set N2V=0
set N3V=0
set N4V=0
set N5V=CreateTimer()
set N6V=0
set N7V=0
set N8V=CreateTimer()
set BVV=0
set BIV=CreateTimer()
set BFV=0
set BGV=0
set E1=CreateTimer()
set VG=CreateTimer()
set EG=CreateTimer()
set XG=CreateTimer()
set BHV=CreateTimer()
set BKV=0
set BPV=0
set BSV=0
set BTV=CreateTimer()
set BZV=CreateTimer()
set B_V=0
set B0V=0
set B1V=0
set B2V=0
set B3V=0
set B4V=0
set B5V=0
set B6V=0
set i=0
set ZH=CreateGroup()
loop
exitwhen(i>4)
set B7V[i]=0
set i=i+1
endloop
set B8V=CreateTimer()
set BW=0
set B9V=CreateTimer()
set CVV=0
set CXV=CreateTimer()
set CRV=0
set i=0
loop
exitwhen(i>$A)
set CIV[i]=0
set i=i+1
endloop
set CAV=0
set CBV=0
set i=0
loop
exitwhen(i>$E)
set CCV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set DN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>24)
set FN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set GN[i]=CreateGroup()
set i=i+1
endloop
set CDV=0
set CFV=CreateTimer()
set CJV=CreateTimer()
set CLV=CreateTimer()
set CPV=0
set CQV=0
set CSV=CreateTimer()
set CTV=CreateTimer()
set CYV=CreateTimer()
set CZV=CreateTimer()
set C_V=CreateTimer()
set C0V=0
set C2V=CreateTimer()
set C3V=0
set C4V=0
set C5V=0
set C7V=0
set C9V=0
set DVV=0
set DEV=CreateTimer()
set DOV=0
set DAV=CreateTimer()
set DCV=CreateTimer()
set DLV=0
set DMV=0
set i=0
loop
exitwhen(i>$C)
set SC[i]=DialogCreate()
set i=i+1
endloop
set i=0
set L5=DialogCreate()
set P5=DialogCreate()
set DQV=0
set DSV=0
set DTV=CreateTimer()
set D_V=0
set D0V=CreateTimer()
set D1V=0
set D2V=0
set D4V=0
set D5V=0
set D6V=0
set D7V=0
set D8V=0
set FVV=CreateTimer()
set FEV=0
set FXV=0
set FOV=0
set FRV=0
set FBV=0
set FFV=0
set C6V=0
set EW=CreateGroup()
set TU=CreateGroup()
set UU=CreateGroup()
set WU=CreateGroup()
set FHV=0
set FJV=CreateTimer()
set FKV=0
set F_V=CreateTimer()
set F0V=0
set F1V=0
set F4V=0
set F5V=0
set GOV=0
set GRV=0
set GDV=0
set GFV=0
set GGV=CreateTimer()
set GHV=0
set GJV=CreateTimer()
set GKV=0
set GQV=0
set GTV=0
set GYV=0
set GZV=CreateTimer()
set G_V=0
set G1V=0
set G2V=0
set G3V=0
set G4V=CreateTimer()
set G7V=0
set G8V=CreateTimer()
set G9V=0
set HEV=0
set HXV=0
set HOV=0
set HRV=0
set HIV=0
set HAV=0
set HNV=0
set HBV=0
set HCV=CreateTimer()
set DDV=CreateTimer()
set DKV=CreateTimer()
set DFV=CreateTimer()
set DGV=CreateTimer()
set HFV=0
set HGV=0
set HHV=CreateTimer()
set HJV=0
set HKV=CreateTimer()
set HLV=0
set HSV=0
set HTV=0
set HWV=CreateTimer()
set DYV=CreateTimer()
set HYV=0
set HZV=CreateTimer()
set H_V=0
set H0V=0
set H2V=CreateTimer()
set H4V=CreateTimer()
set H6V=0
set H7V=0
set H8V=0
set H9V=0
set JVV=0
set JGV=0
set JHV=0
set JJV=CreateTimer()
set JLV=DialogCreate()
set JMV=0
set i=0
loop
exitwhen(i>1)
set JN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set X6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set O6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set R6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set I6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set A6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set N6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set B6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set C6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set D6[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set F6[i]=0
set i=i+1
endloop
set H6=""
set J6=""
set K6=false
set C8V=false
set L6=false
set M6=0
set S6=0
set T6=CreateGroup()
set U6=0
set W6=0
set Z6=CreateGroup()
set E7=0
set X7=CreateGroup()
set R7=0
loop
exitwhen(i>1)
set H7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set J7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set K7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set L7[i]=0
set i=i+1
endloop
set P7=""
set Q7=0
set S7=0
set T7=0
set U7=0
set i=0
loop
exitwhen(i>1)
set W7[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set E8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set O8[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set R8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set I8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set A8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set N8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set B8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set C8[i]=0
set i=i+1
endloop
set F8=CreateGroup()
set i=0
loop
exitwhen(i>1)
set K8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set L8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set M8[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set P8[i]=0
set i=i+1
endloop
set Q8=""
set S8=0
set T8=0
set U8=0
set W8=0
set i=0
loop
exitwhen(i>1)
set Y8[i]=0
set i=i+1
endloop
set VXV=0
set i=0
loop
exitwhen(i>1)
set VOV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VRV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VIV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VAV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VNV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VBV[i]=0
set i=i+1
endloop
set VDV=CreateGroup()
set i=0
loop
exitwhen(i>1)
set VHV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VJV[i]=0
set i=i+1
endloop
set VKV=""
set VLV=""
set VQV=0
set VSV=0
set VUV=CreateGroup()
set i=0
loop
exitwhen(i>1)
set VZV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set V_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set V0V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set V1V[i]=0
set i=i+1
endloop
set V2V=0
set V3V=""
set V5V=0
set V6V=0
set V7V=0
set V8V=0
set i=0
loop
exitwhen(i>1)
set V9V[i]=0
set i=i+1
endloop
set EXV=0
set i=0
loop
exitwhen(i>1)
set EOV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set ERV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set EIV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set EAV[i]=0
set i=i+1
endloop
set ECV=0
set i=0
loop
exitwhen(i>1)
set EFV[i]=0
set i=i+1
endloop
set EHV=0
set EJV=CreateGroup()
set ELV=0
set EMV=0
set EPV=0
set EQV=""
set ESV=0
set ETV=0
set EUV=0
set EWV=0
set i=0
loop
exitwhen(i>1)
set EYV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set E0V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set E1V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set E3V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
endloop
set i=0
loop
exitwhen(i>$A)
set JQV[i]=0
set i=i+1
endloop
set JTV=0
set i=0
loop
exitwhen(i>$A)
set JWV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>$A)
set JYV[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>$A)
set J_V[i]=0
set i=i+1
endloop
set J2V=0
set J4V=0
set J7V=0
set J1=0
set K1=0
set L1=0
set i=0
loop
exitwhen(i>1)
set K5[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set P1[i]=0
set i=i+1
endloop
set S1=CreateGroup()
set Y1=0
set Z1=0
set i=0
loop
exitwhen(i>1)
set V2[i]=0
set i=i+1
endloop
set E2=0
set X2=0
set O2=0
set i=0
loop
exitwhen(i>1)
set R2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set I2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set A2[i]=0
set i=i+1
endloop
set N2=CreateGroup()
set i=0
loop
exitwhen(i>1)
set C2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set D2[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set F2[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set G2[i]=""
set i=i+1
endloop
set H2=0
set i=0
loop
exitwhen(i>1)
set J2[i]=0
set i=i+1
endloop
set K2=0
set L2=0
set i=0
loop
exitwhen(i>1)
set S2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set T2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set U2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set W2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set Y2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set Z2[i]=false
set i=i+1
endloop
set E3=0
set i=0
loop
exitwhen(i>1)
set O3[i]=CreateGroup()
set i=i+1
endloop
set I3=0
set A3=0
set N3=0
set i=0
loop
exitwhen(i>1)
set D3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set F3[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set G3[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set H3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set J3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set M3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set P3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set Q3[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set T3[i]=0
set i=i+1
endloop
set U3=0
set W3=""
set Y3=""
set Z3=""
set V4=0
set E4=0
set i=0
loop
exitwhen(i>1)
set O4[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set R4[i]=0
set i=i+1
endloop
set I4=0
set A4=0
set N4=0
set B4=0
set C4=""
set D4=""
set M0=0
set P0=0
set Q0=0
set i=0
loop
exitwhen(i>1)
set YW[i]=false
set i=i+1
endloop
set ZW=0
set VY=0
set EY=0
set XY=0
set OY=0
set RY=0
set IY=0
set AY=0
set NY=0
set BY=0
set CY=0
set DY=0
set FY=0
set GY=0
set HY=0
set JY=0
set KY=0
set LY=0
set MY=0
set PY=0
set QY=0
set SY=0
set TY=0
set UY=0
set WY=0
set YY=0
set ZY=0
set VZ=0
set EZ=0
set XZ=0
set OZ=0
set RZ=0
set IZ=""
set AZ=""
set NZ=""
set BZ=""
set CZ=""
set KZ=0
set MZ=0
set SZ=0
set TZ=0
set i=0
loop
exitwhen(i>1)
set YZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set ZZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set V0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set E0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set X0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set O0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set I0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set A0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set N0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set B0[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set C0[i]=0
set i=i+1
endloop
set D0=0
set J0=0
set UW=0
set WW=0
set RW=""
set CW=0
set i=0
loop
exitwhen(i>1)
set DW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set FW[i]=0
set i=i+1
endloop
set GW=0
set i=0
loop
exitwhen(i>1)
set HW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set KW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set LW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set MW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set YU[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VW[i]=0
set i=i+1
endloop
set US=0
set WS=0
set YS=0
set ZS=0
set VT=0
set ET=0
set XT=0
set CT=0
set DT=0
set FT=0
set GT=0
set HT=0
set LT=0
set ST=0
set TT=0
set UT=0
set WT=0
set ZT=0
set XU=0
set OU=0
set RU=0
set IU=0
set AU=0
set NU=0
set BU=0
set CU=""
set DU=""
set FU=0
set GU=0
set HU=0
set JU=""
set CS=0
set GS=0
set HS=0
set i=0
loop
exitwhen(i>1)
set JS[i]=0
set i=i+1
endloop
set MS=0
set PS=0
set QS=0
set SS=0
set TS=0
set J4=0
set K4=0
set L4=0
set M4=0
set P4=0
endfunction
function mj takes real Mj returns nothing
local real pj
local real st=TimerGetElapsed(hj)
if st<=0 then
set hj=CreateTimer()
call TimerStart(hj,$F4240,false,null)
endif
if(Mj>0)then
loop
set pj=Mj-TimerGetElapsed(hj)+st
exitwhen pj<=0
if(pj>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(.1*pj)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
endif
endfunction
function ItemTable000002_DropItems takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0F0',7)
call RandomDistAddItem('I0HB',$F)
call RandomDistAddItem('I0HA',$F)
call RandomDistAddItem('pnvu',5)
call RandomDistAddItem('I0HC',$E)
call RandomDistAddItem('I066',$C)
call RandomDistAddItem('I0HD',$D)
call RandomDistAddItem('I04V',$D)
call RandomDistAddItem('I049',6)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function ItemTable000003_DropItems takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',20)
call RandomDistAddItem('I00B',7)
call RandomDistAddItem('phea',20)
call RandomDistAddItem(-1,53)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function ItemTable000004_DropItems takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function ItemTable000000_DropItems takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$F)
call RandomDistAddItem('pnvl',7)
call RandomDistAddItem('tpow',$A)
call RandomDistAddItem('tdx2',$A)
call RandomDistAddItem('tst2',$A)
call RandomDistAddItem('tin2',$A)
call RandomDistAddItem('manh',7)
call RandomDistAddItem('I04U',$E)
call RandomDistAddItem('I064',17)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HQE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tpow','d')
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tint',34)
call RandomDistAddItem('tdex',33)
call RandomDistAddItem('tstr',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HSE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tkno',9)
call RandomDistAddItem('tdex',24)
call RandomDistAddItem('I0HB',31)
call RandomDistAddItem('pnvu',24)
call RandomDistAddItem('I02D',$C)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HTE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',34)
call RandomDistAddItem('tdex',33)
call RandomDistAddItem('I0HA',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',25)
call RandomDistAddItem('tst2',25)
call RandomDistAddItem('tdx2',25)
call RandomDistAddItem('tin2',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HUE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HB',25)
call RandomDistAddItem('I0HA',25)
call RandomDistAddItem('I0HC',25)
call RandomDistAddItem('I0F0',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HWE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tstr',33)
call RandomDistAddItem('tdex',34)
call RandomDistAddItem('I0HB',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',25)
call RandomDistAddItem('tst2',25)
call RandomDistAddItem('tin2',25)
call RandomDistAddItem('tdx2',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HYE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I02E',51)
call RandomDistAddItem('I03X',47)
call RandomDistAddItem('I07F',2)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0ES',5)
call RandomDistAddItem('I0HK',9)
call RandomDistAddItem('I0DL',$B)
call RandomDistAddItem('I0CR',$B)
call RandomDistAddItem('I0CK',$C)
call RandomDistAddItem('I07B',$A)
call RandomDistAddItem('I05Y',4)
call RandomDistAddItem('I048',$B)
call RandomDistAddItem('I047',5)
call RandomDistAddItem('I04N',$B)
call RandomDistAddItem('I02I',$B)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0FA',8)
call RandomDistAddItem('I0HI',8)
call RandomDistAddItem('I0FC',8)
call RandomDistAddItem('I0FB',8)
call RandomDistAddItem('I0CU',8)
call RandomDistAddItem('I0CP',8)
call RandomDistAddItem('I0CJ',8)
call RandomDistAddItem('I07A',9)
call RandomDistAddItem('I05T',9)
call RandomDistAddItem('I05F',8)
call RandomDistAddItem('gemt',8)
call RandomDistAddItem('I02H',$A)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0HF',25)
call RandomDistAddItem('I03T',25)
call RandomDistAddItem('I049',25)
call RandomDistAddItem('I02G',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',50)
call RandomDistAddItem('tst2',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',50)
call RandomDistAddItem('I0HD',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tst2',34)
call RandomDistAddItem('I0HA',33)
call RandomDistAddItem('tpow',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I04U','d')
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function HZE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tkno',8)
call RandomDistAddItem('I0HB',8)
call RandomDistAddItem('I0F0',30)
call RandomDistAddItem('I0HC',31)
call RandomDistAddItem('rej4',23)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H_E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tkno',$B)
call RandomDistAddItem('tpow',25)
call RandomDistAddItem('tin2',20)
call RandomDistAddItem('tst2',24)
call RandomDistAddItem('I0HC',20)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H0E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',25)
call RandomDistAddItem('I0HC',25)
call RandomDistAddItem('I0HA',25)
call RandomDistAddItem('tpow',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tst2',25)
call RandomDistAddItem('tdx2',25)
call RandomDistAddItem('tin2',25)
call RandomDistAddItem('tpow',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H1E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0G3',19)
call RandomDistAddItem('I0FF',20)
call RandomDistAddItem('I02N',40)
call RandomDistAddItem('I02O',9)
call RandomDistAddItem('I0E2',$C)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0EV',17)
call RandomDistAddItem('I0D1',25)
call RandomDistAddItem('I0F4',17)
call RandomDistAddItem('I07F',$A)
call RandomDistAddItem('I0E1',$F)
call RandomDistAddItem('I0FY',16)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0HI',7)
call RandomDistAddItem('I0HJ',6)
call RandomDistAddItem('I0HK',6)
call RandomDistAddItem('I0EZ',7)
call RandomDistAddItem('I0DL',7)
call RandomDistAddItem('I02I',7)
call RandomDistAddItem('I0D0',6)
call RandomDistAddItem('I0S5',6)
call RandomDistAddItem('I07B',6)
call RandomDistAddItem('I079',6)
call RandomDistAddItem('I05Y',6)
call RandomDistAddItem('I0ES',6)
call RandomDistAddItem('I0CY',6)
call RandomDistAddItem('I0ET',6)
call RandomDistAddItem('I0FB',6)
call RandomDistAddItem('I0FC',6)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I0CZ',26)
call RandomDistAddItem('I0CT',24)
call RandomDistAddItem('I04N',26)
call RandomDistAddItem('I0HG',24)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H2E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',30)
call RandomDistAddItem('rej3',6)
call RandomDistAddItem('I00L',2)
call RandomDistAddItem(-1,62)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H3E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pghe',24)
call RandomDistAddItem('lhst',2)
call RandomDistAddItem('tst2',$D)
call RandomDistAddItem('bgst',30)
call RandomDistAddItem('tkno',5)
call RandomDistAddItem('I005',26)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H4E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I00B',7)
call RandomDistAddItem('pman',$C)
call RandomDistAddItem('I008',4)
call RandomDistAddItem('hslv',25)
call RandomDistAddItem('pclr',19)
call RandomDistAddItem(-1,33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H5E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I04U',36)
call RandomDistAddItem(-1,64)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H6E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tstr',34)
call RandomDistAddItem('tdex',33)
call RandomDistAddItem('tgxp',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H7E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HB',4)
call RandomDistAddItem('I0HD',6)
call RandomDistAddItem('I0HC',4)
call RandomDistAddItem(-1,86)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H8E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',$B)
call RandomDistAddItem('hslv',26)
call RandomDistAddItem('hcun',7)
call RandomDistAddItem('I00B',4)
call RandomDistAddItem(-1,52)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function H9E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',$B)
call RandomDistAddItem('hslv',26)
call RandomDistAddItem('hcun',7)
call RandomDistAddItem('I00B',4)
call RandomDistAddItem(-1,52)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JVE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',17)
call RandomDistAddItem('hslv',22)
call RandomDistAddItem('hcun',5)
call RandomDistAddItem('I00B',6)
call RandomDistAddItem(-1,50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JEE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pghe',20)
call RandomDistAddItem('lhst',2)
call RandomDistAddItem('tst2',16)
call RandomDistAddItem('bgst',30)
call RandomDistAddItem('tkno',6)
call RandomDistAddItem('tstr',26)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JXE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej4',$F)
call RandomDistAddItem('pnvl',26)
call RandomDistAddItem('scul',16)
call RandomDistAddItem('I00R',19)
call RandomDistAddItem(-1,24)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tdex',40)
call RandomDistAddItem('tdx2',$F)
call RandomDistAddItem('tint',24)
call RandomDistAddItem('tpow',21)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I04M',8)
call RandomDistAddItem('I02D',6)
call RandomDistAddItem('soul',19)
call RandomDistAddItem('stre',$C)
call RandomDistAddItem(-1,55)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JNE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('stre',7)
call RandomDistAddItem('rej2',38)
call RandomDistAddItem('pnvu',9)
call RandomDistAddItem(-1,46)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I013',33)
call RandomDistAddItem(-1,67)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tint',38)
call RandomDistAddItem('tin2',$D)
call RandomDistAddItem(-1,49)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('hval',$C)
call RandomDistAddItem('I011',34)
call RandomDistAddItem(-1,54)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JBE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('bgst',$C)
call RandomDistAddItem('phea',26)
call RandomDistAddItem(-1,62)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JCE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tst2',45)
call RandomDistAddItem('tin2',25)
call RandomDistAddItem('tpow',30)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tst2',50)
call RandomDistAddItem('I0HA',40)
call RandomDistAddItem(-1,$A)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I04U',28)
call RandomDistAddItem(-1,72)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JDE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tstr',35)
call RandomDistAddItem('tpow',22)
call RandomDistAddItem('tst2',20)
call RandomDistAddItem('pghe',23)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('hval',20)
call RandomDistAddItem('soul',$F)
call RandomDistAddItem('rej3',30)
call RandomDistAddItem('manh',$F)
call RandomDistAddItem('tpow',5)
call RandomDistAddItem(-1,$F)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JFE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tstr',35)
call RandomDistAddItem('tpow',22)
call RandomDistAddItem('tst2',20)
call RandomDistAddItem('pghe',23)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('hval',20)
call RandomDistAddItem('soul',$F)
call RandomDistAddItem('rej3',30)
call RandomDistAddItem('manh',$F)
call RandomDistAddItem('tpow',5)
call RandomDistAddItem(-1,$F)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JGE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HC',25)
call RandomDistAddItem('I0HA',25)
call RandomDistAddItem('I0HB',25)
call RandomDistAddItem('I0F0',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JHE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I04U',50)
call RandomDistAddItem('I0HC',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I02G',34)
call RandomDistAddItem('I02C',33)
call RandomDistAddItem('I0HF',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I04M',34)
call RandomDistAddItem('arsc',33)
call RandomDistAddItem('tdx2',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tdx2',50)
call RandomDistAddItem('I03W',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JJE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HB',28)
call RandomDistAddItem('I0HD',27)
call RandomDistAddItem('I05S',$C)
call RandomDistAddItem('I04U',25)
call RandomDistAddItem(-1,8)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JKE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',20)
call RandomDistAddItem('tdex',20)
call RandomDistAddItem(-1,60)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',$E)
call RandomDistAddItem('tin2',$C)
call RandomDistAddItem('tdx2',$C)
call RandomDistAddItem(-1,62)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JLE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',20)
call RandomDistAddItem('tdex',20)
call RandomDistAddItem(-1,60)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tpow',$E)
call RandomDistAddItem('tin2',$C)
call RandomDistAddItem('tdx2',$C)
call RandomDistAddItem(-1,62)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JME takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tin2',45)
call RandomDistAddItem('tdx2',35)
call RandomDistAddItem('tpow',20)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tin2',50)
call RandomDistAddItem('I0HB',45)
call RandomDistAddItem(-1,5)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I04U',28)
call RandomDistAddItem(-1,72)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JPE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('frhg',25)
call RandomDistAddItem('tmsc',20)
call RandomDistAddItem('hval',20)
call RandomDistAddItem('pghe',18)
call RandomDistAddItem(-1,17)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tstr',20)
call RandomDistAddItem('tint',20)
call RandomDistAddItem('tdex',20)
call RandomDistAddItem('gold',20)
call RandomDistAddItem('tpow',$C)
call RandomDistAddItem('tst2',8)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JQE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('frhg',20)
call RandomDistAddItem('hbth',$E)
call RandomDistAddItem('I00X',30)
call RandomDistAddItem('I013',20)
call RandomDistAddItem(-1,16)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tdex',20)
call RandomDistAddItem('tint',20)
call RandomDistAddItem('tstr',20)
call RandomDistAddItem('tpow',$C)
call RandomDistAddItem('tin2',8)
call RandomDistAddItem('manh',20)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JSE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('arsh',$D)
call RandomDistAddItem('hval',20)
call RandomDistAddItem('tdex',20)
call RandomDistAddItem('I00X',25)
call RandomDistAddItem('pnvl',$F)
call RandomDistAddItem(-1,7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tint',25)
call RandomDistAddItem('tstr',25)
call RandomDistAddItem('tpow',20)
call RandomDistAddItem('gold',20)
call RandomDistAddItem('tst2',5)
call RandomDistAddItem('tdx2',5)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JTE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',24)
call RandomDistAddItem('I00P',6)
call RandomDistAddItem('I00M',7)
call RandomDistAddItem('pgma',7)
call RandomDistAddItem('rej3',$B)
call RandomDistAddItem(-1,45)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JUE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('pman',$B)
call RandomDistAddItem('hslv',24)
call RandomDistAddItem('I00B',7)
call RandomDistAddItem('I008',4)
call RandomDistAddItem(-1,54)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JWE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HA',$F)
call RandomDistAddItem('I0F0',17)
call RandomDistAddItem('I0HC',$F)
call RandomDistAddItem('I0HB',$F)
call RandomDistAddItem(-1,38)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JYE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HA',25)
call RandomDistAddItem('I0HC',25)
call RandomDistAddItem('I0HB',25)
call RandomDistAddItem('I0F0',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function JZE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HB',$F)
call RandomDistAddItem('I0F0',$F)
call RandomDistAddItem('I0HD',$F)
call RandomDistAddItem('I066',$F)
call RandomDistAddItem(-1,40)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J_E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HC',25)
call RandomDistAddItem('I0HA',25)
call RandomDistAddItem('I0HB',25)
call RandomDistAddItem('I0F0',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J0E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HA',5)
call RandomDistAddItem('I0HB',5)
call RandomDistAddItem('I0HC',5)
call RandomDistAddItem('I0F0',5)
call RandomDistAddItem(-1,80)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J1E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HE',30)
call RandomDistAddItem('I0HF',18)
call RandomDistAddItem('I0HD',18)
call RandomDistAddItem('I0HC',17)
call RandomDistAddItem('I0HA',17)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I064',34)
call RandomDistAddItem('I04U',33)
call RandomDistAddItem('tgxp',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I064',34)
call RandomDistAddItem('texp',33)
call RandomDistAddItem('tpow',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J2E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I01V',5)
call RandomDistAddItem('tst2',17)
call RandomDistAddItem('I00N',16)
call RandomDistAddItem(-1,62)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('amrc',23)
call RandomDistAddItem('tint',38)
call RandomDistAddItem('tmsc',32)
call RandomDistAddItem(-1,7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tstr',26)
call RandomDistAddItem('rej3',34)
call RandomDistAddItem(-1,40)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J3E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tst2',50)
call RandomDistAddItem('tpow',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('tdx2',50)
call RandomDistAddItem('tpow',50)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
call RandomDistReset()
call RandomDistAddItem('I03X',8)
call RandomDistAddItem('I02H',26)
call RandomDistAddItem('I04N',20)
call RandomDistAddItem('I048',20)
call RandomDistAddItem('I05S',26)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J4E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',34)
call RandomDistAddItem('tstr',33)
call RandomDistAddItem('tdex',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J5E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tint',34)
call RandomDistAddItem('tstr',33)
call RandomDistAddItem('tdex',33)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J6E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('manh',25)
call RandomDistAddItem('gold',25)
call RandomDistAddItem('pnvl',25)
call RandomDistAddItem('tpow',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J7E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('manh',25)
call RandomDistAddItem('gold',25)
call RandomDistAddItem('pnvl',25)
call RandomDistAddItem('tpow',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J8E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem(-1,99)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function J9E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,98)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KVE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem(-1,99)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KEE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KXE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KOE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KRE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KIE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KAE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KNE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KBE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej2',1)
call RandomDistAddItem(-1,99)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KCE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KDE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KFE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KGE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KHE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KJE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KKE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KLE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KME takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KPE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KQE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KSE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KTE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KUE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KWE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KYE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function KZE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K_E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K0E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K1E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K2E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej2',1)
call RandomDistAddItem(-1,99)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K3E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K4E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem(-1,98)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K5E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I04U',8)
call RandomDistAddItem('I064',76)
call RandomDistAddItem('tpow',8)
call RandomDistAddItem('manh',8)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K6E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K7E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K8E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function K9E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('pnvl',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LVE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('I0F0',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LEE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('rej4',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LXE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('I0HA',18)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',17)
call RandomDistAddItem('I0HB',18)
call RandomDistAddItem('I0F0',$D)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LOE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LRE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LIE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LAE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LNE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pgma',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LBE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I049',7)
call RandomDistAddItem(-1,$D)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LCE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',18)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('I066',21)
call RandomDistAddItem('I0F0',25)
call RandomDistAddItem('I0HE',25)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LDE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LFE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LGE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LHE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LJE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LKE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LLE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LME takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LPE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LQE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('I0HE',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LSE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('rej4',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LTE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LUE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',20)
call RandomDistAddItem('I04V',$D)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',16)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I0HF',5)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LWE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LYE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function LZE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L_E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L0E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L1E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L2E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('hslv',$C)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$D)
call RandomDistAddItem('hslv',$D)
call RandomDistAddItem('hslv',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L3E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('hslv',$C)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$B)
call RandomDistAddItem('hslv',$D)
call RandomDistAddItem('hslv',$D)
call RandomDistAddItem('hslv',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L4E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('bgst',1)
call RandomDistAddItem(-1,99)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L5E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L6E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L7E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L8E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function L9E takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MVE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('rej4',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MEE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MXE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MOE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MRE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MIE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MAE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MNE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MBE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MCE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MDE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('texp',1)
call RandomDistAddItem('I064',1)
call RandomDistAddItem('hslv',1)
call RandomDistAddItem(-1,97)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MFE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MGE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MHE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('rej4',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MJE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('manh',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MKE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',$C)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I0HF',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MLE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I066',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I0HF',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MME takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I066',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MPE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('pnvu',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MQE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MSE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MTE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MUE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I064',1)
call RandomDistAddItem('texp',1)
call RandomDistAddItem('rej2',1)
call RandomDistAddItem('bgst',1)
call RandomDistAddItem('sprn',1)
call RandomDistAddItem(-1,95)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MWE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('tdx2',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('rej4',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MYE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('tgxp',$C)
call RandomDistAddItem('I04U',$B)
call RandomDistAddItem('tst2',$B)
call RandomDistAddItem('I064',$B)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('tin2',$B)
call RandomDistAddItem('tpow',$D)
call RandomDistAddItem('I0F0',$D)
call RandomDistAddItem('I0HE',7)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function MZE takes nothing returns nothing
local widget HKE=null
local unit HLE=null
local integer HME=0
local boolean HPE=true
set HKE=bj_lastDyingWidget
if(HKE==null)then
set HLE=GetTriggerUnit()
endif
if(HLE!=null)then
set HPE=not IsUnitHidden(HLE)
if(HPE and GetChangingUnit()!=null)then
set HPE=(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if(HPE)then
call RandomDistReset()
call RandomDistAddItem('I0HD',16)
call RandomDistAddItem('I04V',$B)
call RandomDistAddItem('I0HA',$B)
call RandomDistAddItem('I066',$D)
call RandomDistAddItem('I0HC',$B)
call RandomDistAddItem('I0HB',$B)
call RandomDistAddItem('I049',$B)
call RandomDistAddItem('I0F0',$B)
call RandomDistAddItem('rej4',5)
set HME=RandomDistChoose()
if(HLE!=null)then
call UnitDropItem(HLE,HME)
else
call WidgetDropItem(HKE,HME)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function M_E takes nothing returns nothing
set FPE=CreateSound("Sound\\Units\\Combat\\MetalHeavySliceStone2.wav",false,true,true,$A,$A,"CombatSoundsEAX")
call SetSoundParamsFromLabel(FPE,"MetalHeavySliceStone")
call SetSoundDuration(FPE,$544)
set PAV=CreateSound("Units\\Orc\\Hellscream\\GromYesAttack2.wav",false,true,true,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(PAV,"GromYesAttack")
call SetSoundDuration(PAV,$5B1)
set PNV=CreateSound("Units\\Orc\\Grunt\\GruntYesAttack3.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PNV,"GruntYesAttack")
call SetSoundDuration(PNV,$692)
call SetSoundChannel(PNV,0)
set PBV=CreateSound("Units\\Other\\Rokhan\\RokhanWhat4.wav",false,true,true,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(PBV,"RokhanWhat")
call SetSoundDuration(PBV,$560)
set PCV=CreateSound("Units\\Other\\Rokhan\\RokhanYes1.wav",false,true,true,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(PCV,"RokhanYes")
call SetSoundDuration(PCV,721)
set PDV=CreateSound("Units\\Other\\Rokhan\\RokhanYesAttack1.wav",false,true,true,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(PDV,"RokhanYesAttack")
call SetSoundDuration(PDV,$401)
call SetSoundChannel(PDV,3)
set PFV=CreateSound("Abilities\\Spells\\Human\\Slow\\SlowTarget.wav",false,false,false,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(PFV,"Slow")
call SetSoundDuration(PFV,$C61)
call SetSoundChannel(PFV,0)
set PGV=CreateSound("war3mapImported\\tmaSti00.wav",false,false,false,$A,$A,"")
call SetSoundDuration(PGV,$844)
call SetSoundChannel(PGV,0)
call SetSoundVolume(PGV,$7F)
call SetSoundPitch(PGV,1.)
set PHV=CreateSound("war3mapImported\\tmaSti01.wav",false,false,false,$A,$A,"")
call SetSoundDuration(PHV,$6C9)
call SetSoundChannel(PHV,0)
call SetSoundVolume(PHV,$7F)
call SetSoundPitch(PHV,1.)
set PJV=CreateSound("Units\\Undead\\Varimathras\\VarimathrasPissed6.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PJV,"VarimathrasPissed")
call SetSoundDuration(PJV,$B45)
call SetSoundChannel(PJV,0)
call SetSoundPitch(PJV,.9)
set PKV=CreateSound("Units\\Creeps\\Satyr\\SatyrePissed3.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PKV,"SatyrPissed")
call SetSoundDuration(PKV,$671)
call SetSoundChannel(PKV,0)
set PLV=CreateSound("Units\\Creeps\\Satyr\\SatyrePissed5.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PLV,"SatyrPissed")
call SetSoundDuration(PLV,$4BD)
call SetSoundChannel(PLV,$B)
set PMV=CreateSound("Units\\Creeps\\Satyr\\SatyrDeath1.wav",false,false,true,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PMV,"SatyrDeath")
call SetSoundDuration(PMV,$DEE)
call SetSoundChannel(PMV,6)
set PPV=CreateSound("Units\\Human\\Muradin\\MuradinYes4.wav",false,false,false,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(PPV,"MuradinYes")
call SetSoundDuration(PPV,$529)
set PQV=CreateSound("Sound\\Dialogue\\NightElfCampaign\\NightElf06\\N06Illidan17.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PQV,"N06Illidan17")
call SetSoundDuration(PQV,6504)
call SetSoundVolume(PQV,$7F)
set PSV=CreateSound("Sound\\Dialogue\\NightElfCampaign\\NightElf06\\N06Illidan28.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PSV,"N06Illidan28")
call SetSoundDuration(PSV,$DC6)
call SetSoundVolume(PSV,$7F)
set PIV=CreateSound("Sound\\Dialogue\\HumanCampaign\\Human09\\H09Guardian08.mp3",false,false,false,$A,$A,"")
call SetSoundParamsFromLabel(PIV,"H09Guardian08")
call SetSoundDuration(PIV,9326)
call SetSoundVolume(PIV,$7F)
set PTV=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PTV,"AbominationPissed")
call SetSoundDuration(PTV,$6C7)
set PUV=CreateSound("Units\\Undead\\Abomination\\AbominationAlternateDeath1.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PUV,"AbominationAlternateDeath")
call SetSoundDuration(PUV,$910)
set PWV=CreateSound("Units\\Undead\\Necromancer\\NecromancerPissed2.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(PWV,"NecromancerPissed")
call SetSoundDuration(PWV,$E1B)
set PYV="war3mapImported\\H.O.E-FireEmblem.mp3"
set PZV="war3mapImported\\H.O.E-Ranma(1).mp3"
set P_V="war3mapImported\\H.O.E-Explosion(1)-00.mp3"
set P0V=CreateSound("Sound\\Dialogue\\UndeadExpCamp\\Undead08x\\L08Illidan27.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(P0V,"L08Illidan27")
call SetSoundDuration(P0V,$78D)
call SetSoundVolume(P0V,$7F)
set P1V=CreateSound("Units\\NightElf\\Illidan\\IllidanMorphedYesAttack3.wav",false,false,false,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(P1V,"IllidanMorphedYesAttack")
call SetSoundDuration(P1V,$8F5)
set P2V=CreateSound("Sound\\Dialogue\\NightElfCampaign\\NightElf06\\N06Illidan22.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(P2V,"N06Illidan22")
call SetSoundDuration(P2V,5146)
call SetSoundVolume(P2V,$7F)
set P3V=CreateSound("Sound\\Interface\\ItemReceived.wav",false,false,false,$A,$A,"")
call SetSoundParamsFromLabel(P3V,"ItemReward")
call SetSoundDuration(P3V,$5CB)
set P4V=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(P4V,"HornOfCenariusSound")
call SetSoundDuration(P4V,$2F59)
set P5V=CreateSound("Sound\\Interface\\ClanInvitation.wav",false,false,false,$A,$A,"")
call SetSoundParamsFromLabel(P5V,"ClanInvitation")
call SetSoundDuration(P5V,4296)
set P6V=CreateSound("Sound\\Ambient\\DoodadEffects\\FrostmourneChant1.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(P6V,"FrostmourneChantSound")
call SetSoundDuration(P6V,5039)
set P7V=CreateSound("Units\\NightElf\\HeroWarden\\HeroWardenPissed1.wav",false,false,false,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(P7V,"HeroWardenPissed")
call SetSoundDuration(P7V,$8ED)
set P8V=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,false,false,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(P8V,"Avatar")
call SetSoundDuration(P8V,$C7F)
set P9V=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterWarcry1.wav",false,true,true,$A,$A,"HeroAcksEAX")
call SetSoundParamsFromLabel(P9V,"HeroBladeMasterWarcry")
call SetSoundDuration(P9V,$858)
endfunction
function M0E takes nothing returns nothing
local destructable d
local trigger t
local real M1E
set d=CreateDestructable('B000',10144.,11040.,295.,1.376,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MZE)
set d=CreateDestructable('B000',9824.,-2080.,357.,1.307,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MYE)
set d=CreateDestructable('B000',11296.,928.,21.,1.2,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MWE)
set d=CreateDestructable('B000',-11232.,-7136.,331.99,1.318,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L3E)
set d=CreateDestructable('B000',-4000.,-1120.,140.,1.258,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LWE)
set d=CreateDestructable('B000',-96.,3744.,90.,1.162,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LUE)
set d=CreateDestructable('B000',-96.,3808.,63.,1.107,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LTE)
set d=CreateDestructable('B000',-11040.,6560.,312.,1.281,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MPE)
set d=CreateDestructable('B000',-9824.,10976.,359.,1.383,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MME)
set d=CreateDestructable('B000',-1760.,4640.,284.,1.103,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LSE)
set d=CreateDestructable('B000',-224.,4640.,355.,1.47,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LQE)
set d=CreateDestructable('B000',416.,2848.,302.,1.469,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LPE)
set d=CreateDestructable('B000',-160.,-96.,297.,1.192,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LME)
set d=CreateDestructable('B000',2208.,2272.,68.,1.169,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LDE)
set d=CreateDestructable('B000',1760.,736.,36.,1.22,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LCE)
set d=CreateDestructable('B000',-11296.,10784.,350.,1.408,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MLE)
set d=CreateDestructable('B000',-9056.,11040.,214.,1.38,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MKE)
set d=CreateDestructable('B000',-7072.,8416.,251.,1.157,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MJE)
set d=CreateDestructable('B000',-7520.,9888.,245.,1.153,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MHE)
set d=CreateDestructable('B000',2144.,480.,258.,1.469,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LBE)
set d=CreateDestructable('B000',2080.,480.,115.,1.489,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LNE)
set d=CreateDestructable('B000',-4576.,-5664.,91.,1.36,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L9E)
set d=CreateDestructable('B000',-7264.,10336.,199.,1.136,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MGE)
set d=CreateDestructable('B000',-7072.,10912.,251.,1.324,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MFE)
set d=CreateDestructable('B000',2016.,-992.,284.,1.243,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LXE)
set d=CreateDestructable('B000',1952.,-992.,83.,1.223,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LEE)
set d=CreateDestructable('B000',224.,-544.,299.,1.195,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LVE)
set d=CreateDestructable('B000',-4896.,-5664.,171.,1.36,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MVE)
set d=CreateDestructable('B000',2085.,-4565.,254.,1.461,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K5E)
set d=CreateDestructable('B000',1312.,4512.,143.,1.323,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MXE)
set d=CreateDestructable('B000',352.,-2720.,313.,1.329,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MEE)
set d=CreateDestructable('B000',-11232.,-7072.,323.78,1.336,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L2E)
set d=CreateDestructable('LTbr',7264.,-10272.,346.,1.268,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K3E)
set d=CreateDestructable('LTbr',7200.,-10272.,256.,1.335,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K4E)
set d=CreateDestructable('LTbr',1376.,4512.,222.,1.37,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MOE)
set d=CreateDestructable('LTbr',160.,-3360.,347.,1.345,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K6E)
set d=CreateDestructable('LTbr',224.,-3360.,263.,1.119,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K7E)
set d=CreateDestructable('LTbr',288.,-3360.,221.,1.388,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K8E)
set d=CreateDestructable('LTbr',1440.,4512.,183.,1.381,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MRE)
set d=CreateDestructable('LTbr',-8288.,-5280.,282.,1.476,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MIE)
set d=CreateDestructable('LTbr',-8224.,-5280.,59.,1.335,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MAE)
set d=CreateDestructable('LTbr',-7968.,-5024.,81.,1.327,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MNE)
set d=CreateDestructable('LTbr',-9696.,96.,321.,1.275,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KQE)
set d=CreateDestructable('LTbr',-11168.,-7136.,326.364,1.103,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L8E)
set d=CreateDestructable('LTbr',-11168.,-7072.,317.5,1.135,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L7E)
set d=CreateDestructable('LTbr',-11168.,-7008.,310.589,1.437,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L6E)
set d=CreateDestructable('LTbr',-9696.,32.,251.,1.448,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KPE)
set d=CreateDestructable('LTbr',-9632.,32.,214.,1.232,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KME)
set d=CreateDestructable('LTbr',-7520.,-6240.,56.,1.375,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KGE)
set d=CreateDestructable('LTbr',-7584.,-6304.,163.,1.31,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KFE)
set d=CreateDestructable('LTbr',1632.,2272.,141.,1.202,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LFE)
set d=CreateDestructable('LTbr',1440.,2272.,85.,1.464,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LGE)
set d=CreateDestructable('LTbr',-992.,32.,288.,1.237,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LHE)
set d=CreateDestructable('LTbr',-928.,-32.,331.,1.415,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LJE)
set d=CreateDestructable('LTbr',-992.,-32.,290.,1.315,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LKE)
set d=CreateDestructable('LTbr',-96.,-96.,156.,1.474,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LLE)
set d=CreateDestructable('LTbr',-7584.,-6240.,294.,1.289,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KDE)
set d=CreateDestructable('LTbr',-7648.,-6304.,308.,1.261,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KCE)
set d=CreateDestructable('LTbr',-11104.,-6944.,297.84,1.143,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KBE)
set d=CreateDestructable('LTbr',-11104.,-6880.,294.17,1.188,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KNE)
set d=CreateDestructable('LTbr',11424.,-3104.,292.,1.483,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MQE)
set d=CreateDestructable('LTbr',11424.,-3168.,284.,1.341,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MSE)
set d=CreateDestructable('LTbr',11360.,-3104.,287.,1.158,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MTE)
set d=CreateDestructable('LTbr',-11232.,-7264.,352.556,1.222,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L5E)
set d=CreateDestructable('LTbr',-11232.,-7200.,341.67,1.249,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L4E)
set d=CreateDestructable('LTbr',11296.,864.,347.,1.351,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MUE)
set d=CreateDestructable('LTbr',7264.,-10208.,299.,1.344,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K2E)
set d=CreateDestructable('LTbs',11104.,-8224.,148.,1.103,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function J9E)
set d=CreateDestructable('LTbs',-11104.,-6624.,285.656,1.478,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KXE)
set d=CreateDestructable('LTbs',-11104.,-6688.,287.187,1.35,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KOE)
set d=CreateDestructable('LTbs',-11040.,-6688.,281.623,1.149,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KRE)
set d=CreateDestructable('LTbs',-11040.,-6624.,280.557,1.152,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KIE)
set d=CreateDestructable('LTbs',-11040.,-6560.,279.669,1.149,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KAE)
set d=CreateDestructable('LTbs',-11104.,-6560.,284.37,1.103,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KEE)
set d=CreateDestructable('LTbs',224.,-3424.,202.,1.276,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K9E)
set d=CreateDestructable('LTbx',2272.,-1056.,283.,1.44,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LOE)
set d=CreateDestructable('LTbx',2272.,-544.,151.,1.299,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LRE)
set d=CreateDestructable('LTbx',-9824.,-9440.,318.989,1.178,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K1E)
set d=CreateDestructable('LTbx',-10912.,-8224.,152.,1.319,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K0E)
set d=CreateDestructable('LTbx',-10976.,-8288.,56.,1.237,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function K_E)
set d=CreateDestructable('LTbx',-11168.,-9696.,39.,1.233,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KZE)
set d=CreateDestructable('LTbx',-9824.,-9376.,140.,1.183,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KYE)
set d=CreateDestructable('LTbx',-9184.,-9760.,108.,1.303,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KWE)
set d=CreateDestructable('LTbx',2272.,-928.,150.,1.2,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LIE)
set d=CreateDestructable('LTbx',-8032.,10528.,30.,1.289,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MBE)
set d=CreateDestructable('LTbx',-8032.,10656.,87.,1.366,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MCE)
set d=CreateDestructable('LTbx',-7968.,10656.,237.,1.276,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function MDE)
set d=CreateDestructable('LTbx',-9184.,-9696.,49.,1.109,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KTE)
set d=CreateDestructable('LTbx',-9888.,-9376.,312.,1.263,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KSE)
set d=CreateDestructable('LTbx',-7456.,-6048.,186.,1.408,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KLE)
set d=CreateDestructable('LTbx',-7456.,-5984.,311.,1.471,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KKE)
set d=CreateDestructable('LTbx',-7456.,-5920.,182.,1.429,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KJE)
set d=CreateDestructable('LTbx',-7456.,-5856.,303.,1.222,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KHE)
set d=CreateDestructable('LTbx',2272.,-864.,329.,1.309,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LAE)
set d=CreateDestructable('LTbx',-4000.,-1056.,184.,1.474,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LYE)
set d=CreateDestructable('LTbx',-4000.,-1184.,79.,1.295,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function LZE)
set d=CreateDestructable('LTbx',-4064.,-1056.,315.,1.111,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L_E)
set d=CreateDestructable('LTbx',-4064.,-1120.,253.,1.39,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L0E)
set d=CreateDestructable('LTbx',-9120.,-9696.,261.,1.461,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KUE)
set d=CreateDestructable('LTbx',9312.,-8992.,107.,1.346,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function KVE)
set d=CreateDestructable('LTbx',-4064.,-1184.,349.,1.219,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function L1E)
set d=CreateDestructable('LTbx',11360.,-8544.,331.,1.291,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function J8E)
set FOE=CreateDestructable('ZTg3',14144.,3904.,.0,.9,0)
endfunction
function M2E takes nothing returns nothing
local integer HME
local integer M3E
call CreateItem('I04U',14219.8,7070.2)
call CreateItem('I04U',15531.7,1066.1)
call CreateItem('I04U',-15578.,-4847.7)
call CreateItem('I04U',12446.6,-7645.8)
call CreateItem('I04U',5155.9,-3507.8)
set M3E=GetRandomInt(1,4)
if M3E==1 then
call CreateItem('I0HC',5242.2,-3471.8)
endif
if M3E==2 then
call CreateItem('I0HB',5242.2,-3471.8)
endif
if M3E==3 then
call CreateItem('I0HA',5242.2,-3471.8)
endif
if M3E==4 then
call CreateItem('tgxp',5242.2,-3471.8)
endif
set M3E=0
call CreateItem('I04V',5790.,-4562.7)
call CreateItem('I068',-11577.6,5323.3)
call CreateItem('I0F0',12459.7,-7477.)
call CreateItem('I0J9',14717.3,-11304.6)
call CreateItem('I0JA',14307.1,-11301.3)
call CreateItem('I0JB',13915.7,-11300.)
call CreateItem('I0K4',13780.8,-10063.3)
endfunction
function M4E takes nothing returns nothing
local player p=Player(0)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'hgtw',14912.,9024.,270.)
set u=CreateUnit(p,'hgtw',15360.,9024.,270.)
set D7E=CreateUnit(p,'h088',14784.,8000.,270.)
set u=CreateUnit(p,'hgtw',-6976.,-7872.,270.)
set u=CreateUnit(p,'hcas',896.,-10688.,270.)
set u=CreateUnit(p,'hatw',576.,-10624.,270.)
set u=CreateUnit(p,'hatw',1216.,-10624.,270.)
set u=CreateUnit(p,'hatw',896.,-10368.,270.)
set u=CreateUnit(p,'hgtw',-6336.,-7872.,270.)
set u=CreateUnit(p,'hgtw',-3456.,-7872.,270.)
set u=CreateUnit(p,'hgtw',-2816.,-7872.,270.)
set u=CreateUnit(p,'hgtw',3520.,-7872.,270.)
set u=CreateUnit(p,'hgtw',4096.,-7872.,270.)
set u=CreateUnit(p,'hgtw',7040.,-7744.,270.)
set u=CreateUnit(p,'hgtw',7744.,-7744.,270.)
set u=CreateUnit(p,'hgtw',-6464.,-9024.,270.)
set u=CreateUnit(p,'hbar',-6528.,-9280.,270.)
set u=CreateUnit(p,'hbar',-3136.,-9472.,270.)
set u=CreateUnit(p,'hgtw',-3392.,-9280.,270.)
set u=CreateUnit(p,'n05C',-7879.,-11574.,.0)
set CG=u
call UnitAddItemById(u,'I0LB')
set u=CreateUnit(p,'hbar',3776.,-9472.,270.)
set u=CreateUnit(p,'hgtw',4032.,-9408.,270.)
set u=CreateUnit(p,'hbar',7360.,-9088.,270.)
set u=CreateUnit(p,'hgtw',7040.,-9152.,270.)
set u=CreateUnit(p,'hctw',6400.,-9472.,270.)
set u=CreateUnit(p,'hctw',3392.,-10176.,270.)
set u=CreateUnit(p,'hctw',-2432.,-9664.,270.)
set u=CreateUnit(p,'hctw',-5824.,-9664.,270.)
set u=CreateUnit(p,'hctw',192.,-10304.,270.)
set u=CreateUnit(p,'hctw',1792.,-10368.,270.)
set u=CreateUnit(p,'harm',-7104.,-10496.,270.)
set u=CreateUnit(p,'hhou',-7232.,-9408.,270.)
set u=CreateUnit(p,'hhou',-5824.,-8448.,270.)
set u=CreateUnit(p,'nmrf',-1088.,-10816.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'hhou',2240.,-9152.,270.)
set u=CreateUnit(p,'hbla',-1088.,-11648.,270.)
set u=CreateUnit(p,'hvlt',-832.,-8256.,270.)
set u=CreateUnit(p,'halt',-32.,-8224.,270.)
call AddItemToStockBJ('I032',u,1,1)
call AddItemToStockBJ('I023',u,1,1)
call AddItemToStockBJ('I025',u,1,1)
call AddItemToStockBJ('I02T',u,1,1)
call AddItemToStockBJ('I02U',u,1,1)
call AddItemToStockBJ('I03J',u,1,1)
call AddItemToStockBJ('I06L',u,1,1)
call AddItemToStockBJ('I04H',u,1,1)
call AddItemToStockBJ('I06J',u,1,1)
call AddItemToStockBJ('I0EF',u,1,1)
call UnitAddAbilityBJ('A0MB',u)
set u=CreateUnit(p,'hkee',-5056.,-11008.,270.)
set u=CreateUnit(p,'hkee',10560.,-10880.,270.)
set u=CreateUnit(p,'harm',10112.,-9024.,270.)
set u=CreateUnit(p,'hars',-1216.,-8256.,270.)
set u=CreateUnit(p,'nfnp',-512.,-11584.,270.)
set u=CreateUnit(p,'nfrt',64.,-11200.,270.)
set u=CreateUnit(p,'n00N',-10816.,-11520.,270.)
set TC[3]=u
call SetUnitColor(u,ConvertPlayerColor(6))
set u=CreateUnit(p,'hgra',-1536.,-8256.,270.)
set u=CreateUnit(p,'nheb',-11200.,-11520.,270.)
set TC[1]=u
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'h087',-2215.,-10602.,270.)
set A1=u
call AddItemToStockBJ('I0IW',A1,1,1)
set QG[0]=1
call AddItemToStockBJ('I0IU',A1,1,1)
set QG[1]=1
call AddItemToStockBJ('I0IY',A1,1,1)
set QG[2]=1
call AddItemToStockBJ('I0J1',A1,1,1)
set QG[3]=1
call AddItemToStockBJ('I0IZ',A1,1,1)
set QG[4]=1
call AddItemToStockBJ('I0J2',A1,1,1)
set QG[5]=1
call AddItemToStockBJ('I0IV',A1,1,1)
set QG[6]=1
call AddItemToStockBJ('I0J0',A1,1,1)
set QG[7]=1
call AddItemToStockBJ('I0K3',A1,1,1)
set QG[8]=1
call AddSpecialEffectTargetUnitBJ("overhead",u,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'nefm',4512.,-8480.,270.)
set u=CreateUnit(p,'hhou',3328.,-8768.,270.)
set u=CreateUnit(p,'nef1',4448.,-9120.,270.)
set MG[0]=CreateUnit(p,'n05D',11351.,-11513.,270.)
set MG[1]=CreateUnit(p,'n05D',11851.,-11513.,270.)
set MG[2]=CreateUnit(p,'n05D',12351.,-11513.,270.)
set MG[3]=CreateUnit(p,'n05D',12851.,-11513.,270.)
set MG[4]=CreateUnit(p,'n05D',10851.,-11513.,270.)
set MG[5]=CreateUnit(p,'n05D',12851.,-10380.,270.)
call SetUnitVertexColor(MG[5],$FF,$E1,3,$FF)
call UnitAddAbilityBJ('A1YG',MG[5])
call UnitAddAbilityBJ('A09Z',MG[5])
set u=CreateUnit(p,'hhou',3392.,-9408.,270.)
set u=CreateUnit(p,'hhou',-2560.,-8448.,270.)
set u=CreateUnit(p,'nef1',-6112.,-9056.,270.)
set u=CreateUnit(p,'nef1',-3808.,-8672.,270.)
set u=CreateUnit(p,'nef1',-1248.,-9760.,270.)
set u=CreateUnit(p,'nef1',2464.,-10272.,270.)
set u=CreateUnit(p,'nefm',-7200.,-8672.,270.)
set u=CreateUnit(p,'nefm',-2656.,-9056.,270.)
set u=CreateUnit(p,'nefm',-3936.,-9568.,270.)
set u=CreateUnit(p,'nefm',-5216.,-9568.,270.)
set u=CreateUnit(p,'nefm',-1376.,-8928.,270.)
set u=CreateUnit(p,'nefm',416.,-8800.,270.)
set u=CreateUnit(p,'nefm',8160.,-8480.,270.)
set u=CreateUnit(p,'nefm',6752.,-8416.,270.)
set u=CreateUnit(p,'nefm',3424.,-10784.,270.)
set u=CreateUnit(p,'nefm',-4256.,-10336.,270.)
set u=CreateUnit(p,'nefm',4320.,-10784.,270.)
set u=CreateUnit(p,'nefm',1824.,-10976.,270.)
set u=CreateUnit(p,'nefm',6176.,-10592.,270.)
set u=CreateUnit(p,'nef1',7776.,-8864.,270.)
set u=CreateUnit(p,'nef1',736.,-9504.,270.)
set u=CreateUnit(p,'nef1',-2784.,-10400.,270.)
set u=CreateUnit(p,'hhou',6848.,-8896.,270.)
set u=CreateUnit(p,'hhou',6720.,-10176.,270.)
set u=CreateUnit(p,'hhou',7680.,-9600.,270.)
set u=CreateUnit(p,'hhou',5184.,-10176.,270.)
set u=CreateUnit(p,'hhou',5888.,-8896.,270.)
set u=CreateUnit(p,'hhou',-256.,-9600.,270.)
set u=CreateUnit(p,'hhou',-6016.,-9728.,270.)
set u=CreateUnit(p,'hhou',2688.,-9664.,270.)
set u=CreateUnit(p,'h08K',14075.,-8604.,180.)
set u=CreateUnit(p,'o01L',190.,-9515.,270.)
set RJ=u
call AddItemToStockBJ('I0KH',RJ,1,1)
call AddItemToStockBJ('I0KI',RJ,1,1)
call AddItemToStockBJ('I0KJ',RJ,1,1)
call AddItemToStockBJ('I0KK',RJ,1,1)
call AddItemToStockBJ('I0KL',RJ,1,1)
call AddItemToStockBJ('I0KM',RJ,1,1)
call AddItemToStockBJ('I0KN',RJ,1,1)
call AddItemToStockBJ('I0KU',RJ,1,1)
set u=CreateUnit(p,'hhou',4480.,-9600.,270.)
set u=CreateUnit(p,'h05G',608.,-8224.,270.)
call SetUnitColor(u,ConvertPlayerColor(4))
set u=CreateUnit(p,'h05H',-1856.,-8256.,270.)
set u=CreateUnit(p,'h01H',288.,-8224.,270.)
call SetUnitColor(u,ConvertPlayerColor(1))
set u=CreateUnit(p,'n02W',-10816.,-11136.,270.)
set TC[2]=u
call SetUnitColor(u,ConvertPlayerColor(6))
set u=CreateUnit(p,'n02X',-10432.,-11136.,270.)
set TC[4]=u
call SetUnitColor(u,ConvertPlayerColor(1))
set u=CreateUnit(p,'n02V',-11200.,-11136.,270.)
set TC[0]=u
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'n021',-10432.,-11520.,270.)
set TC[5]=u
call SetUnitColor(u,ConvertPlayerColor(1))
endfunction
function M5E takes nothing returns nothing
local player p=Player(0)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'n04T',13834.1,8566.2,99.44)
set u=CreateUnit(p,'n04T',14377.7,8709.4,239.817)
set u=CreateUnit(p,'n04T',13877.1,7979.4,339.147)
set u=CreateUnit(p,'n04T',14153.4,7985.5,194.671)
set u=CreateUnit(p,'n04T',15291.9,8148.,87.421)
set u=CreateUnit(p,'n04T',15280.9,7257.2,353.21)
set u=CreateUnit(p,'n04U',13865.3,7387.5,30.07)
set u=CreateUnit(p,'n04U',13979.1,7378.1,106.873)
set u=CreateUnit(p,'n04U',13929.5,7451.1,225.347)
set u=CreateUnit(p,'n04V',15373.3,7259.3,171.218)
set u=CreateUnit(p,'n04V',14609.,8758.9,284.697)
set u=CreateUnit(p,'n04V',14181.6,8301.7,86.828)
set D6E=CreateUnit(p,'n04T',14013.5,7808.1,59.671)
call AddSpecialEffectTargetUnitBJ("overhead",D6E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call SetUnitInvulnerable(D6E,true)
set BQ[1]=GetLastCreatedEffectBJ()
set D8E=CreateUnit(p,'n04V',7038.,-11493.,260.54)
set BQ[2]=AddSpecialEffectTargetUnitBJ("overhead",D8E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set D5E=CreateUnit(p,'n051',10468.3,-8987.8,3.43)
set BQ[4]=AddSpecialEffectTargetUnitBJ("overhead",D5E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set D4E=CreateUnit(p,'n052',15192.8,-10614.4,229.3)
set BQ[3]=AddSpecialEffectTargetUnitBJ("overhead",D4E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set u=CreateUnit(p,'n04U',13721.5,-11474.7,106.873)
set u=CreateUnit(p,'n04U',14293.9,-10971.1,106.873)
set u=CreateUnit(p,'n04U',14854.9,-11149.,106.873)
set u=CreateUnit(p,'n04U',15316.9,-11361.8,106.873)
set FXE=CreateUnit(p,'n053',-5847.1,-11443.2,356.49)
set BQ[5]=AddSpecialEffectTargetUnitBJ("overhead",FXE,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set u=CreateUnit(p,'n03S',-6562.2,-10904.2,267.605)
set FG=u
call UnitAddItemById(u,'I0LD')
set u=CreateUnit(p,'nvil',9432.3,-8886.4,169.821)
set u=CreateUnit(p,'nhef',-4465.8,-10609.,279.786)
set u=CreateUnit(p,'nhef',10266.6,-10954.,260.351)
set u=CreateUnit(p,'nhef',-8027.5,-11416.,111.6)
set u=CreateUnit(p,'nhef',-389.8,-9658.4,57.164)
set u=CreateUnit(p,'nvil',-252.2,-8667.,38.552)
set u=CreateUnit(p,'nvl2',-7332.5,-10582.8,309.681)
set u=CreateUnit(p,'nvil',10306.4,-9094.2,233.697)
set u=CreateUnit(p,'nvlk',10390.9,-9121.9,167.228)
set u=CreateUnit(p,'nvlw',-1259.4,-10026.7,187.268)
set u=CreateUnit(p,'nvlw',-2690.3,-10516.4,190.652)
set u=CreateUnit(p,'nvlw',8039.4,-11191.9,110.284)
set u=CreateUnit(p,'nvk2',-2902.9,-11521.9,173.875)
set u=CreateUnit(p,'nvlk',-3003.7,-11492.5,61.339)
set u=CreateUnit(p,'nvlk',3030.,-11147.8,104.681)
set u=CreateUnit(p,'nvl2',6377.6,-10108.6,87.333)
set u=CreateUnit(p,'nvl2',-1384.5,-10009.5,231.489)
set u=CreateUnit(p,'nvlw',6490.8,-11361.6,131.48)
set u=CreateUnit(p,'nvil',10305.8,-10357.8,263.944)
set u=CreateUnit(p,'nvil',10262.2,-9977.1,150.254)
set u=CreateUnit(p,'nvk2',-4440.5,-10989.3,6.98)
set u=CreateUnit(p,'n00X',-4873.2,-8502.2,270.)
set DG=u
call UnitAddItemById(u,'I0LC')
set u=CreateUnit(p,'nvl2',8593.5,-9397.5,41.343)
set u=CreateUnit(p,'nvl2',7136.9,-10536.9,350.749)
set u=CreateUnit(p,'nvl2',7521.5,-10571.2,132.675)
set u=CreateUnit(p,'nvl2',-3612.7,-10253.9,195.046)
set u=CreateUnit(p,'nvlw',-8260.8,-11111.3,6.526)
set u=CreateUnit(p,'nvlw',-5959.8,-10844.1,90.926)
set u=CreateUnit(p,'nvlw',-2968.9,-11362.1,88.772)
set u=CreateUnit(p,'nvlw',4939.,-11401.8,185.499)
set u=CreateUnit(p,'nvlk',4824.3,-11425.7,125.918)
set u=CreateUnit(p,'nvk2',4936.9,-11478.,165.053)
set u=CreateUnit(p,'nvk2',-2306.6,-11043.3,149.133)
set u=CreateUnit(p,'nvlk',-2212.6,-11099.1,5.801)
set u=CreateUnit(p,'nvk2',-2143.7,-11162.5,26.731)
set u=CreateUnit(p,'nvk2',4034.4,-10645.6,254.297)
set u=CreateUnit(p,'nvlk',4525.3,-10201.9,242.509)
set u=CreateUnit(p,'nvlk',-6881.9,-10803.2,92.837)
set u=CreateUnit(p,'nvk2',-6140.8,-10218.1,3.076)
set u=CreateUnit(p,'nvil',9684.3,-10937.6,253.748)
set u=CreateUnit(p,'nvil',10226.9,-11227.2,52.604)
set u=CreateUnit(p,'nvil',9934.7,-10486.6,239.147)
set u=CreateUnit(p,'nvil',5631.6,-8678.4,179.017)
set u=CreateUnit(p,'nvlk',5755.3,-8692.5,236.752)
set u=CreateUnit(p,'nvil',5801.2,-9373.2,70.787)
set u=CreateUnit(p,'nvil',-4370.,-11326.6,21.402)
set u=CreateUnit(p,'nvil',1239.,-9251.9,134.477)
set u=CreateUnit(p,'nvk2',1594.7,-9115.9,63.668)
set u=CreateUnit(p,'nhef',1321.3,-9257.2,108.471)
set CZE=CreateUnit(p,'h08Y',-6623.,-11653.,144.2)
set CYE=CreateUnit(p,'uaco',-6642.,-11526.,225.782)
set BQ[7]=AddSpecialEffectTargetUnitBJ("overhead",CYE,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
endfunction
function M6E takes nothing returns nothing
local player p=Player(1)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'unp2',1152.,10560.,270.)
set u=CreateUnit(p,'owtw',3904.,-896.,270.)
set u=CreateUnit(p,'owtw',-2752.,-960.,270.)
set u=CreateUnit(p,'owtw',7168.,-832.,270.)
set u=CreateUnit(p,'owtw',-6400.,-960.,270.)
set u=CreateUnit(p,'owtw',-6912.,1216.,270.)
set u=CreateUnit(p,'owtw',-6656.,1216.,270.)
set u=CreateUnit(p,'owtw',-6144.,1216.,270.)
set u=CreateUnit(p,'owtw',-5888.,1216.,270.)
set u=CreateUnit(p,'owtw',-2880.,1152.,270.)
set u=CreateUnit(p,'owtw',-3072.,1152.,270.)
set u=CreateUnit(p,'owtw',-2496.,1152.,270.)
set u=CreateUnit(p,'owtw',-2304.,1152.,270.)
set u=CreateUnit(p,'owtw',4445.,1761.,270.)
set u=CreateUnit(p,'owtw',3494.,1761.,270.)
set u=CreateUnit(p,'owtw',3790.,1761.,270.)
set u=CreateUnit(p,'owtw',4107.,1761.,270.)
set u=CreateUnit(p,'owtw',6720.,1344.,270.)
set u=CreateUnit(p,'owtw',6976.,1344.,270.)
set u=CreateUnit(p,'owtw',7296.,1344.,270.)
set u=CreateUnit(p,'owtw',7552.,1344.,270.)
set u=CreateUnit(p,'uzg1',7200.,3552.,270.)
set u=CreateUnit(p,'uzg1',3872.,3616.,270.)
set u=CreateUnit(p,'uzg1',-2784.,3680.,270.)
set u=CreateUnit(p,'uzg1',-6304.,3680.,270.)
set u=CreateUnit(p,'uzg1',7008.,5024.,270.)
set u=CreateUnit(p,'uzg1',7328.,5024.,270.)
set u=CreateUnit(p,'uzg1',7648.,5024.,270.)
set u=CreateUnit(p,'uzg1',3616.,5088.,270.)
set u=CreateUnit(p,'uzg1',3936.,5088.,270.)
set u=CreateUnit(p,'uzg1',4256.,5088.,270.)
set u=CreateUnit(p,'uzg1',-3552.,5088.,270.)
set u=CreateUnit(p,'uzg1',-3232.,5088.,270.)
set u=CreateUnit(p,'uzg1',-2912.,5088.,270.)
set u=CreateUnit(p,'uzg1',-6944.,5152.,270.)
set u=CreateUnit(p,'uzg1',-6496.,5152.,270.)
set u=CreateUnit(p,'uzg1',-6048.,5280.,270.)
set u=CreateUnit(p,'uzg2',-5856.,7264.,270.)
set u=CreateUnit(p,'uzg2',-2912.,6880.,270.)
set u=CreateUnit(p,'uzg2',4064.,7712.,270.)
set u=CreateUnit(p,'uzg2',7328.,7072.,270.)
set u=CreateUnit(p,'uslh',-3776.,7680.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J0E)
set u=CreateUnit(p,'uslh',5120.,8192.,270.)
set u=CreateUnit(p,'uaod',-4960.,8288.,270.)
set u=CreateUnit(p,'uzg2',-4768.,8672.,270.)
set u=CreateUnit(p,'uslh',-5312.,8640.,270.)
set u=CreateUnit(p,'uslh',192.,7488.,270.)
set u=CreateUnit(p,'usap',-4480.,9280.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HQE)
set u=CreateUnit(p,'uslh',1920.,8640.,270.)
set u=CreateUnit(p,'uslh',-320.,9344.,270.)
set u=CreateUnit(p,'uzg2',-4896.,10272.,270.)
set u=CreateUnit(p,'uzig',-6112.,8224.,270.)
set u=CreateUnit(p,'uaod',-2976.,8160.,270.)
set u=CreateUnit(p,'uzig',-4896.,7328.,270.)
set u=CreateUnit(p,'uzig',-5600.,9248.,270.)
set u=CreateUnit(p,'uzig',-5472.,10784.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J_E)
set u=CreateUnit(p,'uzig',-3744.,9824.,270.)
set u=CreateUnit(p,'uzg2',-2976.,8608.,270.)
set u=CreateUnit(p,'uzg2',-2656.,10272.,270.)
set u=CreateUnit(p,'uzig',-2208.,7648.,270.)
set u=CreateUnit(p,'uslh',-3648.,10880.,270.)
set u=CreateUnit(p,'ubon',-1664.,8576.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HSE)
set u=CreateUnit(p,'uzig',-2528.,9248.,270.)
set u=CreateUnit(p,'uzig',416.,6816.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JYE)
set u=CreateUnit(p,'uzig',1248.,7904.,270.)
set u=CreateUnit(p,'uzg2',800.,10720.,270.)
set u=CreateUnit(p,'uzg2',1504.,10720.,270.)
set u=CreateUnit(p,'uzg2',992.,10208.,270.)
set u=CreateUnit(p,'uzg2',1376.,10208.,270.)
set u=CreateUnit(p,'usap',-384.,8000.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HTE)
set u=CreateUnit(p,'uaod',4128.,8736.,270.)
set u=CreateUnit(p,'uzg2',4128.,9312.,270.)
set u=CreateUnit(p,'uzig',-1248.,10208.,270.)
set u=CreateUnit(p,'uzig',2080.,9888.,270.)
set u=CreateUnit(p,'usap',4928.,8768.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HWE)
set u=CreateUnit(p,'uzig',5024.,7520.,270.)
set u=CreateUnit(p,'uzg2',4192.,10720.,270.)
set u=CreateUnit(p,'uzig',3360.,8224.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JWE)
set u=CreateUnit(p,'uslh',3200.,10496.,270.)
set u=CreateUnit(p,'uzig',8032.,7584.,270.)
set u=CreateUnit(p,'uzig',7263.,10576.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HUE)
set u=CreateUnit(p,'uzig',5280.,9824.,270.)
set u=CreateUnit(p,'uzig',4320.,10080.,270.)
set u=CreateUnit(p,'uzig',7136.,9504.,270.)
set u=CreateUnit(p,'utod',-4608.,7872.,270.)
set u=CreateUnit(p,'utod',-2176.,7168.,270.)
set u=CreateUnit(p,'utod',2368.,7488.,270.)
set u=CreateUnit(p,'utod',4672.,8384.,270.)
set u=CreateUnit(p,'utod',5888.,6976.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JZE)
set u=CreateUnit(p,'uzg2',7328.,8672.,270.)
set u=CreateUnit(p,'uzg2',6297.,10244.,270.)
set u=CreateUnit(p,'ubon',6498.,10026.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HZE)
set u=CreateUnit(p,'utom',6080.,8064.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H_E)
set u=CreateUnit(p,'uslh',7808.,9984.,270.)
set u=CreateUnit(p,'utod',6784.,7616.,270.)
set u=CreateUnit(p,'utod',7910.,9249.,270.)
set u=CreateUnit(p,'usap',6272.,9280.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H0E)
set u=CreateUnit(p,'utod',5248.,10496.,270.)
set u=CreateUnit(p,'utod',2880.,9152.,270.)
set u=CreateUnit(p,'utod',576.,8640.,270.)
set u=CreateUnit(p,'uaod',7328.,8352.,270.)
set u=CreateUnit(p,'utod',-4160.,10304.,270.)
set u=CreateUnit(p,'utod',-1600.,9408.,270.)
set u=CreateUnit(p,'utod',-128.,10176.,270.)
set u=CreateUnit(p,'uzg2',672.,8160.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JGE)
set u=CreateUnit(p,'ngni',-1440.,6624.,270.)
endfunction
function M7E takes nothing returns nothing
local player p=Player(1)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'uaco',5468.4,-7031.3,88.091)
set FIE=CreateUnit(p,'H089',-12423.9,10457.6,237.78)
call SetHeroLevel(FIE,60,false)
call SetHeroStr(FIE,$EE7,true)
call SetHeroAgi(FIE,$9EA,true)
call SetHeroInt(FIE,$A73,true)
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'A1HW')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AOsh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'AHbh')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'Aamk')
call SelectHeroSkill(FIE,'A1XV')
call SelectHeroSkill(FIE,'A1XV')
call SelectHeroSkill(FIE,'A1XV')
call SelectHeroSkill(FIE,'A1XV')
call IssueImmediateOrder(FIE,"")
call UnitAddItemToSlotById(FIE,'I0DZ',0)
call UnitAddItemToSlotById(FIE,'I0HP',1)
call UnitAddItemToSlotById(FIE,'I0GR',2)
call UnitAddItemToSlotById(FIE,'I0HZ',3)
call UnitAddItemToSlotById(FIE,'I0HY',4)
call UnitAddItemToSlotById(FIE,'I0H9',5)
set u=CreateUnit(p,'h08A',-13983.,9003.8,349.25)
set u=CreateUnit(p,'h08A',-13969.8,8756.1,358.923)
set u=CreateUnit(p,'h08B',-14226.7,8899.4,1.72)
set u=CreateUnit(p,'h08B',-14644.,10078.8,226.717)
set u=CreateUnit(p,'h08B',-15232.7,10527.7,251.717)
set u=CreateUnit(p,'h08B',-14766.6,10504.1,226.717)
set u=CreateUnit(p,'h08A',-13860.5,8879.1,349.25)
set u=CreateUnit(p,'h08A',-12691.5,8905.9,299.25)
set u=CreateUnit(p,'h08A',-12445.5,9028.5,304.25)
endfunction
function M8E takes nothing returns nothing
local player p=Player(2)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1128.3,-10203.6,132.312)
endfunction
function M9E takes nothing returns nothing
local player p=Player(3)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-931.5,-10217.1,274.875)
endfunction
function PVE takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1012.9,-10298.2,32.817)
endfunction
function PEE takes nothing returns nothing
local player p=Player(5)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1124.7,-10306.2,192.97)
endfunction
function PXE takes nothing returns nothing
local player p=Player(6)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1230.6,-10303.9,339.136)
endfunction
function POE takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1221.9,-10206.,321.283)
endfunction
function PRE takes nothing returns nothing
local player p=Player(8)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-937.8,-10282.3,193.189)
endfunction
function PIE takes nothing returns nothing
local player p=Player(9)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nech',-1054.5,-10201.1,127.09)
endfunction
function PAE takes nothing returns nothing
local player p=Player(2)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-1856.,-11648.,270.)
set PG[3]=u
set u=CreateUnit(p,'nbsm',-10752.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10176.,-11136.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PNE takes nothing returns nothing
local player p=Player(3)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-1984.,-11648.,270.)
set PG[4]=u
set u=CreateUnit(p,'nbsm',-10624.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-11456.,-11264.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PBE takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2112.,-11648.,270.)
set PG[5]=u
set u=CreateUnit(p,'nbsm',-11456.,-11520.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10368.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PCE takes nothing returns nothing
local player p=Player(5)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2240.,-11648.,270.)
set PG[6]=u
set u=CreateUnit(p,'nbsm',-10880.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-11456.,-11136.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PDE takes nothing returns nothing
local player p=Player(6)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2368.,-11648.,270.)
set PG[7]=u
set u=CreateUnit(p,'nbsm',-11008.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10176.,-11264.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PFE takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2496.,-11648.,270.)
set PG[8]=u
set u=CreateUnit(p,'nbsm',-11136.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10176.,-11392.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PGE takes nothing returns nothing
local player p=Player(8)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2624.,-11648.,270.)
set PG[9]=u
set u=CreateUnit(p,'nbsm',-11456.,-11392.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10496.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PHE takes nothing returns nothing
local player p=Player(9)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nhcn',-2752.,-11648.,270.)
set PG[$A]=u
set u=CreateUnit(p,'nbsm',-11264.,-10880.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
set u=CreateUnit(p,'nbsm',-10176.,-11520.,270.)
call UnitAddAbilityBJ('A1V5',u)
call UnitAddAbilityBJ('A1VP',u)
call UnitAddAbilityBJ('A1XC',u)
call UnitAddAbilityBJ('A1XO',u)
endfunction
function PJE takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'ugrv',11847.,11007.,270.)
set N1=u
call AddItemToStockBJ('sor1',N1,1,1)
endfunction
function PKE takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nerw',-9039.,4601.4,277.22)
call SetUnitColor(u,ConvertPlayerColor(2))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H1E)
set u=CreateUnit(p,'ngrd',-10723.5,-2436.8,263.01)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H5E)
set u=CreateUnit(p,'ngst',-8552.4,-4769.,159.56)
set u=CreateUnit(p,'nogm',-8828.5,-3023.6,93.87)
set u=CreateUnit(p,'nogm',-8922.6,-3894.8,305.02)
set u=CreateUnit(p,'nomg',-8693.2,-3905.8,236.43)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H2E)
set u=CreateUnit(p,'nogm',-9787.9,-4636.1,176.6)
set u=CreateUnit(p,'nmdr',-10807.5,-4506.3,332.688)
set u=CreateUnit(p,'nhfp',-9360.3,1594.1,249.52)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J2E)
set u=CreateUnit(p,'nmam',-10132.3,-7222.3,45.26)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H3E)
set u=CreateUnit(p,'nogr',-8672.,-6708.5,11.38)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JUE)
set u=CreateUnit(p,'nogr',-8655.5,-7056.5,26.3)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H4E)
set u=CreateUnit(p,'nomg',-8880.7,-6857.7,282.08)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JTE)
set u=CreateUnit(p,'nrog',-9354.6,1037.1,205.46)
set u=CreateUnit(p,'nrog',-7775.8,-6026.8,232.775)
set u=CreateUnit(p,'nrog',-7735.2,-5915.8,176.962)
set u=CreateUnit(p,'nass',-7642.,-6037.3,142.849)
set u=CreateUnit(p,'nwlt',-7562.4,-4575.9,157.56)
set u=CreateUnit(p,'nwlt',-8061.1,-3235.4,220.49)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H6E)
set u=CreateUnit(p,'nwlt',-7608.7,-3274.8,.09)
set u=CreateUnit(p,'nftb',-7850.5,-2055.3,350.74)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H7E)
set u=CreateUnit(p,'nogr',-9035.4,-1653.9,117.414)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H8E)
set u=CreateUnit(p,'nogr',-8861.2,-1636.2,242.816)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function H9E)
set u=CreateUnit(p,'nogr',-8695.2,-1661.7,100.74)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JVE)
set u=CreateUnit(p,'ngrk',-9871.1,-721.8,121.75)
set u=CreateUnit(p,'nmam',-10733.9,-460.,270.12)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JEE)
set u=CreateUnit(p,'nrog',-9264.7,-99.7,310.241)
set u=CreateUnit(p,'nrog',-9179.8,103.,252.078)
set u=CreateUnit(p,'nrog',-9102.7,233.6,5.482)
set u=CreateUnit(p,'nass',-9400.9,147.8,285.203)
set u=CreateUnit(p,'nass',-9306.5,223.6,57.504)
set u=CreateUnit(p,'nhhr',-9571.6,1761.3,245.72)
call SetUnitState(u,UNIT_STATE_MANA,0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JXE)
set u=CreateUnit(p,'nhdc',-9751.8,1873.3,242.8)
call SetUnitState(u,UNIT_STATE_MANA,0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JNE)
set u=CreateUnit(p,'nftb',-5488.8,-6247.2,98.847)
set u=CreateUnit(p,'nssp',288.6,-3796.8,298.332)
set u=CreateUnit(p,'nssp',464.1,-3705.3,340.229)
set u=CreateUnit(p,'nogr',-10813.8,2645.1,105.83)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JBE)
set u=CreateUnit(p,'nssp',-11021.8,3424.,251.836)
set u=CreateUnit(p,'nspr',-10825.2,3434.3,314.109)
set u=CreateUnit(p,'nspr',-11227.4,3465.8,26.335)
set u=CreateUnit(p,'nssp',-11132.8,4684.4,311.4)
set u=CreateUnit(p,'nsgt',-10796.5,6208.8,186.51)
set u=CreateUnit(p,'njgb',-10056.5,10212.3,120.11)
set u=CreateUnit(p,'njgb',-8854.3,7991.7,78.13)
set u=CreateUnit(p,'njgb',-7784.2,9457.2,357.9)
set u=CreateUnit(p,'nsgb',10948.4,3447.3,284.19)
call SetUnitState(u,UNIT_STATE_MANA,0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JCE)
set u=CreateUnit(p,'nsgn',10722.9,3385.3,239.949)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JDE)
set u=CreateUnit(p,'nsgn',11164.9,3404.8,310.78)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JFE)
set u=CreateUnit(p,'n043',2135.6,806.9,95.31)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JJE)
set u=CreateUnit(p,'nlkl',9825.1,3785.4,224.182)
set u=CreateUnit(p,'nlsn',9228.5,1864.7,282.837)
set u=CreateUnit(p,'nlsn',9517.9,1856.6,270.925)
set u=CreateUnit(p,'nlsn',9379.4,1865.9,266.451)
set u=CreateUnit(p,'nlds',9461.7,-1111.7,334.027)
set u=CreateUnit(p,'nlds',9612.1,-1037.5,317.976)
set u=CreateUnit(p,'nlpr',10792.2,-6092.8,247.775)
set u=CreateUnit(p,'nlpr',10980.8,-6191.,230.07)
set u=CreateUnit(p,'nlds',10361.9,-5452.6,265.803)
set u=CreateUnit(p,'nlpr',10655.2,-4495.5,80.961)
set u=CreateUnit(p,'nlds',10811.9,-4522.9,24.775)
set u=CreateUnit(p,'nlds',9370.,-119.5,252.649)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nlpr',10988.7,-4487.6,301.782)
set u=CreateUnit(p,'nlsn',11295.7,-3406.5,195.2)
set u=CreateUnit(p,'nlds',10636.,-2345.,287.246)
set u=CreateUnit(p,'nlds',10807.,-2341.3,287.631)
set u=CreateUnit(p,'nlds',9269.5,-112.1,275.04)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'ntrg',11319.9,-49.,310.329)
set u=CreateUnit(p,'ntrt',11111.1,10.1,326.436)
set u=CreateUnit(p,'ntrt',9983.1,1483.4,264.158)
set u=CreateUnit(p,'ntrg',11320.2,1952.7,236.221)
set u=CreateUnit(p,'nlds',10972.8,-2316.5,272.832)
set u=CreateUnit(p,'nrel',10072.3,1838.5,245.102)
set u=CreateUnit(p,'nrel',10085.,2267.8,319.866)
set u=CreateUnit(p,'nsel',10960.,2303.,138.366)
set u=CreateUnit(p,'nrel',10804.7,2140.,268.712)
set u=CreateUnit(p,'nrel',11160.2,2279.2,7.987)
set u=CreateUnit(p,'nrel',10783.5,2376.6,209.823)
set u=CreateUnit(p,'nrel',11080.8,2458.6,5.01)
set u=CreateUnit(p,'nwlt',10565.7,6704.7,233.38)
set u=CreateUnit(p,'nstl',9971.6,7211.5,164.09)
set u=CreateUnit(p,'uaco',11656.,11169.5,233.529)
set u=CreateUnit(p,'ndmu',11241.,8400.,270.635)
set u=CreateUnit(p,'ndmu',10485.,8133.1,355.)
set u=CreateUnit(p,'ndmu',10590.,8352.,350.)
set u=CreateUnit(p,'ngh1',10785.,9563.,5.208)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JKE)
set u=CreateUnit(p,'ngh1',11677.,9530.1,342.476)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JLE)
set u=CreateUnit(p,'nvde',10721.5,10611.1,264.57)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JME)
set u=CreateUnit(p,'nubw',-5042.9,-1682.2,284.04)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nfpc',932.,-4923.1,13.22)
set u=CreateUnit(p,'ngrk',-4521.7,3785.8,297.233)
set u=CreateUnit(p,'ngrk',-4645.9,3783.5,272.678)
set u=CreateUnit(p,'ngst',-4564.9,3157.5,54.33)
set u=CreateUnit(p,'ngst',-4588.8,1995.7,272.623)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'ngrk',-4752.7,1993.8,96.067)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'ngrk',-4383.5,1990.1,66.118)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'ngst',-4780.9,949.3,92.771)
set u=CreateUnit(p,'ngst',-5051.7,214.7,86.042)
set u=CreateUnit(p,'nrog',-9284.2,842.9,205.46)
set u=CreateUnit(p,'nrog',-9191.9,776.8,205.46)
set u=CreateUnit(p,'nenf',-8213.4,1846.8,2.85)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J1E)
set u=CreateUnit(p,'nass',-8987.5,1152.,205.46)
set u=CreateUnit(p,'nggr',-4883.7,-730.3,69.709)
set u=CreateUnit(p,'nftr',-4305.9,-7304.5,259.395)
set u=CreateUnit(p,'ngst',-4610.8,922.8,103.491)
set u=CreateUnit(p,'nftr',-4252.1,-7373.6,153.758)
set u=CreateUnit(p,'nftb',-4189.7,-6436.8,263.21)
set u=CreateUnit(p,'nftt',-4137.7,-5656.4,89.555)
set u=CreateUnit(p,'ngst',-4878.2,193.7,82.478)
set u=CreateUnit(p,'ngst',-4697.1,171.9,83.327)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nass',-8474.8,626.7,205.46)
set u=CreateUnit(p,'njgb',-7910.1,8374.3,318.69)
set u=CreateUnit(p,'nder',-7201.1,10781.7,239.64)
set u=CreateUnit(p,'nfro',-9325.1,10154.6,118.51)
set u=CreateUnit(p,'nspr',1809.,-5295.3,203.319)
set u=CreateUnit(p,'nspr',-46.4,-5278.4,307.363)
set u=CreateUnit(p,'nspr',-578.,-4647.,272.261)
set u=CreateUnit(p,'nspr',299.9,-4796.9,40.442)
set u=CreateUnit(p,'nspr',-1689.7,-4741.8,349.826)
set u=CreateUnit(p,'nspr',196.2,-3670.1,79.35)
set u=CreateUnit(p,'nspr',-532.4,-2400.1,184.29)
set u=CreateUnit(p,'nssp',329.2,-3631.3,300.422)
set u=CreateUnit(p,'nspr',459.9,-3858.3,102.769)
set u=CreateUnit(p,'nspr',794.,-3233.,209.922)
set u=CreateUnit(p,'nspr',1920.1,-4217.7,225.22)
set u=CreateUnit(p,'nspr',299.,-2258.3,175.523)
set u=CreateUnit(p,'nspr',299.,-2161.,83.136)
set u=CreateUnit(p,'nssp',-608.3,-1767.1,80.027)
set u=CreateUnit(p,'nspr',-685.5,-1905.1,229.511)
set u=CreateUnit(p,'nspr',-445.1,-1684.5,79.379)
set u=CreateUnit(p,'nspr',885.4,-671.6,152.286)
set u=CreateUnit(p,'nspr',932.3,-1039.5,75.929)
set u=CreateUnit(p,'nspr',1077.4,-612.3,257.363)
set u=CreateUnit(p,'nssp',979.7,-797.4,284.972)
set u=CreateUnit(p,'nssp',1103.8,-954.6,116.085)
set u=CreateUnit(p,'nspr',1128.3,-723.4,157.45)
set u=CreateUnit(p,'nspr',1095.5,-1044.7,219.162)
set u=CreateUnit(p,'nspr',995.9,-646.8,83.103)
set u=CreateUnit(p,'nssp',534.2,232.,90.201)
set u=CreateUnit(p,'nssp',-867.1,2402.9,48.726)
set u=CreateUnit(p,'nssp',-740.9,2310.9,252.034)
set u=CreateUnit(p,'nsgt',-889.8,113.7,116.832)
set u=CreateUnit(p,'nepl',144.9,2682.5,273.029)
set u=CreateUnit(p,'nenp',-1840.7,-5344.1,328.05)
call SetUnitState(u,UNIT_STATE_MANA,0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JPE)
set u=CreateUnit(p,'nepl',-619.2,-696.2,297.772)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nepl',137.5,1061.,93.71)
set u=CreateUnit(p,'nepl',115.1,2764.3,202.479)
set u=CreateUnit(p,'nepl',-1072.1,3342.6,275.183)
set u=CreateUnit(p,'nepl',31.3,2863.1,281.822)
set u=CreateUnit(p,'nenp',-217.1,100.2,9.7)
call SetUnitState(u,UNIT_STATE_MANA,0)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JQE)
set u=CreateUnit(p,'nogm',-9859.,-4916.3,17.941)
set u=CreateUnit(p,'nrel',10655.5,-1560.7,271.77)
set u=CreateUnit(p,'ntrt',9558.1,-154.3,327.93)
set u=CreateUnit(p,'nwzd',-339.9,4656.3,323.99)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JSE)
set u=CreateUnit(p,'ndrw',5797.6,2313.4,268.047)
set u=CreateUnit(p,'ndrw',5413.5,2314.3,271.534)
set u=CreateUnit(p,'nsgt',2167.9,2117.7,46.682)
set u=CreateUnit(p,'nfra',-4741.8,-5964.7,92.46)
set u=CreateUnit(p,'nftr',-4562.5,-5190.1,342.707)
set u=CreateUnit(p,'nftr',-4631.1,-5176.,16.744)
set u=CreateUnit(p,'nftb',-5319.2,-6247.9,343.992)
set u=CreateUnit(p,'nftr',-4050.9,-5640.1,94.181)
set u=CreateUnit(p,'nftr',-4373.9,-7267.8,144.134)
set u=CreateUnit(p,'nftr',-4361.,-7338.5,44.199)
set u=CreateUnit(p,'nogm',-4727.1,-6697.6,224.93)
set u=CreateUnit(p,'nrog',-8734.7,836.5,205.46)
set u=CreateUnit(p,'ndrw',5603.2,2314.3,266.101)
set u=CreateUnit(p,'nanw',-10833.1,1703.4,211.57)
set u=CreateUnit(p,'nanw',11187.1,7101.7,162.13)
set u=CreateUnit(p,'nsrv',5606.2,3524.3,284.51)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J3E)
set u=CreateUnit(p,'nepl',1079.7,1522.7,95.529)
set u=CreateUnit(p,'nepl',1199.9,1434.8,135.762)
set u=CreateUnit(p,'nsgt',1523.8,2163.7,264.182)
set u=CreateUnit(p,'nssp',1692.6,-456.5,117.677)
set u=CreateUnit(p,'nssp',1754.6,-438.6,124.061)
set u=CreateUnit(p,'nssp',1818.9,-420.4,131.543)
set u=CreateUnit(p,'nspr',1567.6,-415.7,290.575)
set u=CreateUnit(p,'nspr',1634.4,-385.5,202.748)
set u=CreateUnit(p,'nspr',1706.9,-337.9,320.975)
set u=CreateUnit(p,'nspr',1801.5,-282.2,343.652)
set u=CreateUnit(p,'nspr',1872.8,-238.1,277.776)
set u=CreateUnit(p,'nspr',693.3,737.,53.34)
set u=CreateUnit(p,'nspr',-873.7,1470.9,290.388)
set u=CreateUnit(p,'nspr',-798.6,1398.2,21.852)
set u=CreateUnit(p,'nspr',-725.2,1326.5,263.977)
set u=CreateUnit(p,'nrel',10647.6,-800.1,115.635)
set u=CreateUnit(p,'nrel',10801.4,-808.3,196.782)
set u=CreateUnit(p,'nrel',10932.4,-828.2,165.833)
set u=CreateUnit(p,'ngh1',5537.,-1415.2,191.706)
set u=CreateUnit(p,'ngh1',5472.9,352.3,122.358)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J4E)
set u=CreateUnit(p,'ngh1',5795.5,315.6,313.307)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J5E)
set u=CreateUnit(p,'ngh1',5799.,-1210.,38.893)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J6E)
set u=CreateUnit(p,'n00U',-8592.3,10981.2,251.66)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function HYE)
set u=CreateUnit(p,'ngh1',5828.3,-764.5,104.659)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function J7E)
set u=CreateUnit(p,'nstl',5620.5,1183.6,269.723)
set u=CreateUnit(p,'nstl',5473.3,1170.7,259.439)
set u=CreateUnit(p,'nstl',5712.4,-449.5,159.175)
set u=CreateUnit(p,'nstl',5630.8,420.9,207.835)
set u=CreateUnit(p,'nspr',-71.7,-3395.4,260.384)
set u=CreateUnit(p,'nspr',465.2,-3596.,6.504)
set u=CreateUnit(p,'nogm',-9803.7,-4765.3,74.38)
set u=CreateUnit(p,'nssp',-953.1,2181.3,282.585)
set u=CreateUnit(p,'nssp',-802.6,2182.9,271.299)
set u=CreateUnit(p,'nssp',-644.5,2182.9,272.942)
set u=CreateUnit(p,'nftk',1529.9,3609.9,235.73)
call SetUnitColor(u,ConvertPlayerColor(6))
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function JHE)
set u=CreateUnit(p,'nlsn',12442.8,-6398.7,271.25)
set u=CreateUnit(p,'nlsn',12531.3,-6908.3,267.487)
set u=CreateUnit(p,'nlkl',12398.8,5521.7,191.087)
set u=CreateUnit(p,'nlpr',14294.7,-6315.,173.077)
set u=CreateUnit(p,'nlpr',14079.8,-6503.2,173.077)
set u=CreateUnit(p,'nlpr',14038.8,-6711.2,173.077)
set u=CreateUnit(p,'nlpr',14326.,-6936.8,173.077)
set u=CreateUnit(p,'ntrt',13506.8,-7466.7,343.256)
set u=CreateUnit(p,'ntrt',13537.5,-7701.9,338.959)
set u=CreateUnit(p,'nlsn',15167.2,-7241.4,201.094)
set u=CreateUnit(p,'ntrg',15301.8,-3754.7,200.64)
set u=CreateUnit(p,'ntrt',15337.6,-5210.3,239.656)
set u=CreateUnit(p,'nlds',14806.9,-2448.4,266.614)
set u=CreateUnit(p,'nlds',15102.,-2465.2,266.614)
set u=CreateUnit(p,'nlds',15372.9,-2458.,266.614)
set u=CreateUnit(p,'nlpr',12818.6,-1253.8,271.369)
set u=CreateUnit(p,'nlpr',12692.9,-866.5,271.369)
set u=CreateUnit(p,'nlpr',12515.,-1243.1,271.369)
set u=CreateUnit(p,'nlds',12679.4,1157.7,86.614)
set u=CreateUnit(p,'nlds',12275.3,1138.9,91.614)
set u=CreateUnit(p,'ntrt',13158.8,-7595.4,343.256)
set u=CreateUnit(p,'nlsn',13442.9,1955.3,326.358)
set u=CreateUnit(p,'nlsn',13781.1,2406.5,325.535)
set u=CreateUnit(p,'nlsn',13310.6,2418.4,349.431)
set u=CreateUnit(p,'nlds',12470.7,3359.1,91.614)
set u=CreateUnit(p,'nlsn',12632.1,-2507.1,104.604)
set u=CreateUnit(p,'nlsn',13248.6,-2471.7,252.113)
set u=CreateUnit(p,'nlsn',13780.3,649.4,11.358)
set u=CreateUnit(p,'nlsn',13890.,475.4,206.358)
set u=CreateUnit(p,'ndrw',-12415.2,-8771.2,102.325)
set u=CreateUnit(p,'ndrw',-12459.9,-11133.1,99.99)
set u=CreateUnit(p,'nstl',-13057.,-8244.,337.95)
call UnitAddAbilityBJ('A1VC',u)
set u=CreateUnit(p,'nstl',-13078.9,-8815.8,348.409)
call UnitAddAbilityBJ('A1VC',u)
set u=CreateUnit(p,'nstl',-12272.,-6865.5,160.74)
set u=CreateUnit(p,'nstl',-12274.9,-7173.3,163.763)
set u=CreateUnit(p,'nstl',-12478.7,-6967.1,329.542)
set u=CreateUnit(p,'nstl',-12586.5,-10628.2,243.212)
set u=CreateUnit(p,'nstl',-12249.4,-10690.4,131.873)
set u=CreateUnit(p,'nstl',-14698.,-11333.6,348.047)
set u=CreateUnit(p,'nstl',-14680.4,-11595.8,181.599)
set u=CreateUnit(p,'nssp',-12562.9,182.4,14.755)
set u=CreateUnit(p,'nssp',-12559.6,-390.1,11.261)
set u=CreateUnit(p,'nssp',-12732.3,-74.,359.799)
set u=CreateUnit(p,'nspr',-13885.7,137.3,336.544)
set u=CreateUnit(p,'nspr',-13895.9,-36.6,281.885)
set u=CreateUnit(p,'nogm',-15417.5,-262.3,3.889)
set u=CreateUnit(p,'njgb',-13094.6,6978.3,191.6)
set u=CreateUnit(p,'nmgr',-13046.9,6685.6,180.)
set u=CreateUnit(p,'njgb',-13054.7,6495.5,164.753)
set u=CreateUnit(p,'nspr',-15173.8,-1612.9,98.896)
set u=CreateUnit(p,'nspr',-15430.4,-1649.7,100.353)
set u=CreateUnit(p,'nssp',-14645.,-2799.9,150.325)
set u=CreateUnit(p,'nssp',-14847.9,-2912.9,122.746)
set u=CreateUnit(p,'nssp',-15020.,-3115.1,153.749)
set u=CreateUnit(p,'nsgt',-13276.2,-3543.2,164.207)
set u=CreateUnit(p,'nsgt',-12682.7,-4755.2,107.411)
set u=CreateUnit(p,'nsgt',-12350.4,-4748.7,83.626)
set u=CreateUnit(p,'nsgt',-12352.8,-103.8,4.207)
set u=CreateUnit(p,'n04I',15204.4,-324.6,255.474)
set u=CreateUnit(p,'n04J',15202.5,2524.6,258.22)
set u=CreateUnit(p,'n04K',12920.,-4552.1,96.187)
set u=CreateUnit(p,'n04O',-14854.2,7940.,268.6)
set u=CreateUnit(p,'n04P',-13956.4,-9952.3,231.976)
set u=CreateUnit(p,'ntrt',15161.,-5192.5,229.656)
set u=CreateUnit(p,'nlpr',12289.,3336.1,71.369)
set u=CreateUnit(p,'nlpr',12632.9,3323.4,66.369)
set u=CreateUnit(p,'nlpr',15247.5,-2731.9,271.369)
set u=CreateUnit(p,'nlpr',14943.9,-2721.2,271.369)
set u=CreateUnit(p,'nlsn',14991.4,-7409.,201.094)
set u=CreateUnit(p,'nlsn',12952.2,-2683.5,156.094)
set u=CreateUnit(p,'nlpr',12483.6,978.1,271.369)
set u=CreateUnit(p,'nsgt',-13759.2,-4598.7,247.411)
set u=CreateUnit(p,'nsgt',-14376.6,-5095.5,27.411)
set u=CreateUnit(p,'nsgt',-13639.6,-5359.4,117.411)
set u=CreateUnit(p,'n054',-13719.9,-1367.7,286.946)
set u=CreateUnit(p,'nwwg',5693.,-6270.,90.)
set u=CreateUnit(p,'nwwg',5293.,-6270.,90.)
set u=CreateUnit(p,'nwwg',5697.,-4841.,270.)
set u=CreateUnit(p,'n05E',5697.,-5868.,90.)
set u=CreateUnit(p,'n05E',5547.,-5868.,90.)
set u=CreateUnit(p,'n05E',5397.,-5868.,90.)
set u=CreateUnit(p,'n05E',5247.,-5868.,90.)
set u=CreateUnit(p,'n05E',5106.,-5124.,90.)
set u=CreateUnit(p,'n05E',5306.,-5124.,90.)
set u=CreateUnit(p,'n05E',5115.,-3908.,90.)
set u=CreateUnit(p,'n05F',5435.,-6863.7,90.)
set u=CreateUnit(p,'npfm',-5514.,-7238.7,90.)
set u=CreateUnit(p,'n01H',-13347.,3669.1,$F0)
set u=CreateUnit(p,'n01H',-13790.,3240.1,$82)
set u=CreateUnit(p,'n01G',-14737.,3349.,$B4)
set u=CreateUnit(p,'n01G',-14374.,4163.,90)
set u=CreateUnit(p,'n01G',-13202.,4319.,30)
set u=CreateUnit(p,'n01G',-12659.,2970.,$F0)
set u=CreateUnit(p,'n01G',-13601.,2466.,0)
set u=CreateUnit(p,'nfpc',-$3BE6,5806.,270)
set u=CreateUnit(p,'nftb',-15036.,5379.,$AC)
call SetPlayerTechResearchedSwap('R01V',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set u=CreateUnit(p,'n059',15389.,-8826.,180.)
set HH=u
set u=CreateUnit(p,'n05A',15389.,-9026.,180.)
set JH=u
set u=CreateUnit(p,'n05B',15389.,-9226.,180.)
set KH=u
endfunction
function PLE takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'ngme',64.,-10752.,270.)
set u=CreateUnit(p,'nmrk',-1088.,-11264.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'ngad',64.,-11584.,270.)
set u=CreateUnit(p,'nbse',-10336.,10784.,270.)
set u=CreateUnit(p,'nfh1',181.,-6515.,240.)
set u=CreateUnit(p,'nfh1',1191.,-6470.,340.)
set u=CreateUnit(p,'nfh1',-14816.,5319.,310.)
set u=CreateUnit(p,'nfr2',-15358.,6011.,270.)
endfunction
function PME takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
local integer unitID
local trigger t
local real M1E
set u=CreateUnit(p,'nrac',-150.4,-6296.,37.75)
set u=CreateUnit(p,'necr',893.9,-6062.8,265.33)
set u=CreateUnit(p,'necr',1729.8,-5418.1,291.388)
set u=CreateUnit(p,'nshe',-466.5,-6320.6,86.29)
set u=CreateUnit(p,'nshe',100.6,-6024.8,265.614)
set u=CreateUnit(p,'nshe',933.5,-6272.1,240.57)
set u=CreateUnit(p,'nshe',1838.9,-4972.1,342.311)
set u=CreateUnit(p,'nshe',1406.1,-5068.2,30.763)
set u=CreateUnit(p,'uaco',28.6,3472.2,134.769)
set u=CreateUnit(p,'nshe',2510.5,-11124.9,337.049)
set u=CreateUnit(p,'nshe',2736.4,-11121.4,44.595)
set u=CreateUnit(p,'nshe',2906.6,-10870.4,317.581)
set u=CreateUnit(p,'nshe',2477.1,-10893.2,117.744)
set u=CreateUnit(p,'nshe',2893.4,-11111.,272.447)
set u=CreateUnit(p,'nshe',2605.1,-10949.3,319.086)
set u=CreateUnit(p,'nshe',2521.3,-10804.9,180.445)
set u=CreateUnit(p,'nshe',2832.4,-10993.4,280.852)
set u=CreateUnit(p,'nshe',2599.8,-11186.6,130.796)
set u=CreateUnit(p,'necr',2478.4,-11026.,178.314)
set u=CreateUnit(p,'necr',2884.9,-10986.1,189.454)
set D9E=CreateUnit(p,'n04X',14916.,5532.3,273.702)
call SetUnitInvulnerable(D9E,true)
set FVE=CreateUnit(p,'n04Y',14427.6,3765.1,139.402)
call SetUnitInvulnerable(FVE,true)
set u=CreateUnit(p,'n04Y',14255.4,4066.2,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14271.,3745.4,19.362)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14331.4,4202.2,315.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14457.7,4262.1,315.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14573.,4326.2,325.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14688.5,4406.4,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14692.7,4550.1,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14695.6,4707.2,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14698.4,4867.2,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14703.3,5025.9,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14714.3,5178.2,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Y',14715.,5351.8,30.279)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',14579.8,3753.1,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',14664.5,3874.,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',14771.2,3969.8,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',14934.2,4001.9,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15067.4,4096.5,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15097.7,4252.8,154.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15107.1,4418.1,199.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15120.8,4572.7,199.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15117.4,4732.3,199.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15115.5,4906.,199.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15107.,5085.4,199.266)
call SetUnitInvulnerable(u,true)
set u=CreateUnit(p,'n04Z',15101.4,5305.8,199.266)
call SetUnitInvulnerable(u,true)
set FEE=CreateUnit(p,'n050',15379.,6073.6,228.07)
set u=CreateUnit(p,'n04Z',15043.1,5432.9,249.266)
call SetUnitInvulnerable(FEE,true)
set u=CreateUnit(p,'n04Y',14775.9,5442.2,325.279)
call SetUnitInvulnerable(FEE,true)
set CWE=CreateUnit(p,'h08J',-10617.,-5250.,270)
set BQ[6]=AddSpecialEffectTargetUnitBJ("overhead",CWE,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
endfunction
function PPE takes nothing returns nothing
call M4E()
call M6E()
call PAE()
call PNE()
call PBE()
call PCE()
call PDE()
call PFE()
call PGE()
call PHE()
endfunction
function PQE takes nothing returns nothing
call M5E()
call M7E()
call M8E()
call M9E()
call PVE()
call PEE()
call PXE()
call POE()
call PRE()
call PIE()
endfunction
function PSE takes nothing returns nothing
call PJE()
call PLE()
call PPE()
call PKE()
call PME()
call PQE()
endfunction
function PTE takes nothing returns nothing
local weathereffect we
set H5=Rect(13952.,3648.,15296.,5792.)
set C5E=Rect(12864.,10720.,13248.,11008.)
set C6E=Rect(14368.,7712.,15104.,8128.)
set C7E=Rect(12416.,6240.,13184.,6752.)
set C8E=Rect(13792.,3616.,14048.,4064.)
set C9E=Rect(15232.,3648.,15520.,4032.)
set DVE=Rect(-15064.,8214.,-14653.,7736.)
set DEE=Rect(-14304.,-10240.,-13792.,-9696.)
set DXE=Rect(-14880.,-5600.,-14720.,-5280.)
set DOE=Rect(-15232.,-6848.,-14944.,-6624.)
set DIE=Rect(12800.,-4768.,13120.,-4416.)
set DAE=Rect(14976.,-544.,15328.,-224.)
set DNE=Rect(14976.,2368.,15360.,2624.)
set DBE=Rect(-13952.,-1696.,-13440.,-1152.)
set DCE=Rect(-14432.,-2976.,-12064.,-896.)
set DDE=Rect(11669.,-5929.,14521.,-2926.)
set FNE=Rect(12448.,32.,12896.,416.)
set KIV=Rect(-7168.,-8992.,-6272.,-8160.)
set JPV=Rect(-9920.,10368.,-9600.,10688.)
set KAV=Rect(-3328.,-9056.,-2368.,-8192.)
set KNV=Rect(3584.,-9312.,4320.,-8704.)
set KBV=Rect(6880.,-8960.,7776.,-8128.)
set KCV=Rect(6816.,7104.,7840.,7968.)
set KDV=Rect(3520.,7808.,4448.,8544.)
set KFV=Rect(-3264.,7008.,-2240.,7808.)
set KGV=Rect(-6400.,7424.,-5568.,8128.)
set KHV=Rect(-864.,-11520.,-128.,-10784.)
set KJV=Rect(-11488.,-11744.,-10048.,-10848.)
set KKV=Rect(928.,-11008.,1856.,-10240.)
set KLV=Rect(544.,10336.,1600.,11072.)
set KMV=Rect(-4416.,-4448.,-4160.,-3200.)
set KPV=Rect(5344.,-3072.,5760.,-2368.)
set KQV=Rect(-7584.,-7168.,-7200.,-6688.)
set KSV=Rect(-9760.,-6240.,-9344.,-5824.)
set KTV=Rect(-7648.,-928.,-7200.,128.)
set KUV=Rect(-11360.,-128.,-10912.,320.)
set KRV=Rect(-9303.,298.,-7244.,2451.)
set KXV=Rect(-14688.,-5568.,-14528.,-5248.)
set KOV=Rect(-15072.,-7072.,-14784.,-6848.)
set KWV=Rect(-5184.,-4800.,-4544.,-4384.)
set KYV=Rect(-4960.,-7328.,-4512.,-6944.)
set KZV=Rect(9632.,-7520.,9856.,-6496.)
set K_V=Rect(8768.,-96.,9216.,480.)
set K0V=Rect(9147.,10661.,8653.,11154.)
set K1V=Rect(-11136.,-2560.,-10528.,-2080.)
set K2V=Rect(10547.,10789.,10871.,10458.)
set K3V=Rect(-416.,3072.,-224.,3200.)
set K4V=Rect(-416.,2880.,-256.,3008.)
set K5V=Rect(-448.,3680.,-352.,3872.)
set K6V=Rect(-256.,3680.,-160.,3872.)
set K7V=Rect(5824.,4832.,6048.,4960.)
set K8V=Rect(5728.,4608.,5984.,4736.)
set K9V=Rect(5696.,-1952.,5824.,-1728.)
set LVV=Rect(5504.,-1952.,5632.,-1664.)
set LEV=Rect(5408.,3552.,5760.,3840.)
set LXV=Rect(2112.,-7520.,2496.,-6688.)
set LOV=Rect(-1024.,-7328.,-768.,-7040.)
set LRV=Rect(2240.,-2912.,2528.,-1888.)
set LIV=Rect(576.,-4000.,1248.,-3488.)
set LAV=Rect(5440.,5216.,5696.,5408.)
set LNV=Rect(-8800.,6336.,-7136.,6528.)
set LBV=Rect(-10912.,9344.,-10080.,10400.)
set LCV=Rect(8160.,4800.,8480.,5952.)
set LDV=Rect(10784.,5120.,11264.,5952.)
set LFV=Rect(10560.,3072.,10976.,3392.)
set LGV=Rect(-11488.,8032.,-10336.,8800.)
set LHV=Rect(-10816.,-9408.,-10464.,-8768.)
set LJV=Rect(-9120.,-9408.,-8768.,-8800.)
set LKV=Rect(-7680.,-9280.,-7104.,-8800.)
set LLV=Rect(-9600.,-10880.,-9280.,-10624.)
set LMV=Rect(-7200.,-11776.,-6496.,-11328.)
set LPV=Rect(2400.,-11264.,2976.,-10720.)
set LQV=Rect(-11488.,-9952.,-8160.,-8032.)
set LSV=Rect(-10082.,-7939.,-9160.,-8158)
set LTV=Rect(-2304.,-11776.,-1600.,-11264.)
set LUV=Rect(-11520.,-4288.,-9696.,-1888.)
set LWV=Rect(-5216.,5024.,-4448.,5440.)
set LYV=Rect(-4608.,1600.,-4096.,2464.)
set LZV=Rect(3168.,-9376.,4640.,-8160.)
set L_V=Rect(-9920.,3904.,-8224.,5440.)
set L0V=Rect(10176.,2880.,11200.,4256.)
set L1V=Rect(10624.,2656.,10848.,2784.)
set L2V=Rect(-4832.,-2336.,-4512.,-1344.)
set L3V=Rect(-1760.,-3936.,-1408.,-3072.)
set MZV=Rect(1952.,768.,2176.,928.)
set L4V=Rect(-1240.,-5740.,-921.,-6602.)
set L5V=Rect(-9696.,2208.,-8864.,3136.)
set L6V=Rect(-4800.,-10336.,-4576.,-10144.)
set L7V=Rect(1920.,-11360.,2112.,-11200.)
set L8V=Rect(-4832.,-2592.,-4512.,-2368.)
set L9V=Rect(-6176.,-8096.,-3680.,-7680.)
set MOV=Rect(-11456.,-7968.,-7168.,-7552.)
set MRV=Rect(-2560.,-8032.,2464.,-7648.)
set MIV=Rect(2528.,-8000.,3104.,-7360.)
set MAV=Rect(4608.,-8128.,6784.,-7424.)
set MNV=Rect(8096.,-7968.,11488.,-7424.)
set MBV=Rect(-5152.,3488.,-4352.,3712.)
set MCV=Rect(3520.,-608.,4224.,-32.)
set MDV=Rect(1216.,3328.,1856.,3936.)
set MFV=Rect(9652.,9009.,9412.,9263.)
set MGV=Rect(10688.,416.,11072.,672.)
set MHV=Rect(-11328.,9888.,-10848.,10336.)
set MJV=Rect(-1514.,-3582.,2603.,5183.)
set MKV=Rect(-7520.,9856.,-7392.,9984.)
set MLV=Rect(320.,1600.,448.,2400.)
set MMV=Rect(-1056.,800.,-608.,1248.)
set MPV=Rect(-5280.,-2880.,-3904.,1312.)
set MQV=Rect(-10720.,-7104.,-10144.,-6656.)
set MSV=Rect(-9952.,2208.,-7808.,5888.)
set MTV=Rect(5184.,-2048.,5920.,4032.)
set MUV=Rect(-7584.,10560.,-7168.,10976.)
set MWV=Rect(-8896.,9376.,-7040.,11104.)
set MYV=Rect(-1600.,-1728.,2336.,4832.)
set M_V=Rect(-11520.,3680.,-10336.,3936.)
set M0V=Rect(-8000.,-11680.,-7744.,-11488.)
set M1V=Rect(-9920.,-8032.,-9344.,-7552.)
set M2V=Rect(-11040.,-9728.,-10272.,-9152.)
set M3V=Rect(-9120.,-2432.,-8800.,-2208.)
set M4V=Rect(-11889.,8355,-15588.,11221.)
set M5V=Rect(15530.,-8513.,13892.,-9578.)
set M6V=Rect(15421.,-8710.,15265.,-9486.)
set M7V=Rect(-12011.,-1422.,-9455.,-5010.)
set M8V=Rect(5951.,-3457.,5460.,-3654.)
set M9V=Rect(6118.,-7334.,4804.,-3004.)
set PVV=Rect(14122.,-5901.,11665.,-2284.)
set PEV=Rect(283.,4643.,2421.,2632.)
set PXV=Rect(-11811.,6235.,-6690.,11215.)
set POV=Rect(-10946.,-5225.,-11121.,-5441.)
set PRV=Rect(-11584.,-7614.,-11845.,-7221.)
endfunction
function PUE takes nothing returns nothing
call SetHeroStr(FIE,5815,true)
call SetHeroAgi(FIE,$D6E,true)
call SetHeroInt(FIE,4675,true)
call SetPlayerHandicapBJ(Player(1),150.)
call SetPlayerHandicapBJ(Player(0),150.)
call SetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),150.)
set XVV=GetRectCenter(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,'h076',Player(1),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LW',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),1)
call SetUnitAbilityLevelSwapped('A0LW',GetLastCreatedUnit(),1)
call CreateNUnitsAtLoc(1,'h076',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LX',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0LX',GetLastCreatedUnit(),1)
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),1)
call CreateNUnitsAtLoc(1,'h076',Player(0),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LY',GetLastCreatedUnit())
call AdjustPlayerStateBJ(580,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(580,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerTechResearchedSwap('R04G',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05U',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$B
set FN[2]=9
set FN[3]=$7530
set FN[4]=$3A98
set FN[5]=$61A8
set FN[6]=$AFC8
set FN[7]=$C350
set FN[8]=$4E20
set FN[9]=$61A8
set FN[$A]=70000
set FN[$B]=$D6D8
set FN[$C]=$61A8
set FN[$D]=$5DC
set FN[$E]=6000
set FN[$F]=90000
set FN[16]=$30D400
set FN[17]=$249F00
set FN[18]=$61A8
set FN[19]=$3A98
set FN[20]=$4E20
set FN[21]=5
set FN[22]=$88B8
set FN[23]=$53020
set FN[24]=$898
endfunction
function PWE takes nothing returns nothing
call SetHeroStr(FIE,6815,true)
call SetHeroAgi(FIE,4338,true)
call SetHeroInt(FIE,5675,true)
call SetPlayerHandicapBJ(Player(1),200.)
call SetPlayerHandicapBJ(Player(0),180.)
call SetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),200.)
set XVV=GetRectCenter(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,'h076',Player(1),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LW',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),2)
call SetUnitAbilityLevelSwapped('A0LW',GetLastCreatedUnit(),2)
call CreateNUnitsAtLoc(1,'h076',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LX',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0LX',GetLastCreatedUnit(),2)
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),2)
call CreateNUnitsAtLoc(1,'h076',Player(0),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LY',GetLastCreatedUnit())
call AdjustPlayerStateBJ(880,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(880,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerTechResearchedSwap('R04G',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05U',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$C
set FN[2]=$A
set FN[3]=$88B8
set FN[4]=$4E20
set FN[5]=$88B8
set FN[6]=$EA60
set FN[7]=70000
set FN[8]=$61A8
set FN[9]=$7530
set FN[$A]=90000
set FN[$B]=75000
set FN[$C]=$88B8
set FN[$D]=$9C4
set FN[$E]=9000
set FN[$F]=$186A0
set FN[16]=$401640
set FN[17]=$33E140
set FN[18]=$AFC8
set FN[19]=$445C
set FN[20]=$61A8
set FN[21]=4
set FN[22]=$AFC8
set FN[23]=$57E40
set FN[24]=4200
endfunction
function PYE takes nothing returns nothing
call SetHeroStr(FIE,$2E27,true)
call SetHeroAgi(FIE,6138,true)
call SetHeroInt(FIE,9675,true)
call SetPlayerHandicapBJ(Player(1),300.)
call SetPlayerHandicapBJ(Player(0),280.)
call SetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),300.)
set XVV=GetRectCenter(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,'h076',Player(1),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LW',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),3)
call SetUnitAbilityLevelSwapped('A0LW',GetLastCreatedUnit(),3)
call CreateNUnitsAtLoc(1,'h076',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LX',GetLastCreatedUnit())
call UnitAddAbilityBJ('S018',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0LX',GetLastCreatedUnit(),3)
call SetUnitAbilityLevelSwapped('S018',GetLastCreatedUnit(),3)
call CreateNUnitsAtLoc(1,'h076',Player(0),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A0LY',GetLastCreatedUnit())
call AdjustPlayerStateBJ($49C,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($49C,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerTechResearchedSwap('R04G',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05U',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$D
set FN[2]=$B
set FN[3]=$9C40
set FN[4]=$61A8
set FN[5]=$AFC8
set FN[6]=80000
set FN[7]=90000
set FN[8]=$7530
set FN[9]=$9C40
set FN[$A]=$1D4C0
set FN[$B]=95000
set FN[$C]=$AFC8
set FN[$D]=$DAC
set FN[$E]=$2EE0
set FN[$F]=$1D4C0
set FN[16]=$401640
set FN[17]=$432380
set FN[18]=$FDE8
set FN[19]=$4E20
set FN[20]=$7530
set FN[21]=3
set FN[22]=$C350
set FN[23]=$5CC60
set FN[24]=6800
endfunction
function PZE takes nothing returns nothing
call SetPlayerTechResearchedSwap('R040',1,Player(1))
call SetPlayerTechResearchedSwap('R040',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04G',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$B
set FN[2]=9
set FN[3]=$7530
set FN[4]=$3A98
set FN[5]=$61A8
set FN[6]=$AFC8
set FN[7]=$C350
set FN[8]=$4E20
set FN[9]=$61A8
set FN[$A]=70000
set FN[$B]=$D6D8
set FN[$C]=$61A8
set FN[$D]=$5DC
set FN[$E]=6000
set FN[$F]=90000
set FN[16]=$30D400
set FN[17]=$249F00
set FN[18]=$61A8
set FN[19]=$3A98
set FN[20]=$4E20
set FN[21]=5
set FN[22]=$88B8
set FN[23]=$53020
set FN[24]=$898
call SetHeroStr(FIE,5815,true)
call SetHeroAgi(FIE,$D6E,true)
call SetHeroInt(FIE,4675,true)
endfunction
function P_E takes nothing returns nothing
call SetPlayerTechResearchedSwap('R041',1,Player(1))
call SetPlayerTechResearchedSwap('R041',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04G',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$C
set FN[2]=$A
set FN[3]=$88B8
set FN[4]=$4E20
set FN[5]=$88B8
set FN[6]=$EA60
set FN[7]=70000
set FN[8]=$61A8
set FN[9]=$7530
set FN[$A]=90000
set FN[$B]=75000
set FN[$C]=$88B8
set FN[$D]=$9C4
set FN[$E]=9000
set FN[$F]=$186A0
set FN[16]=$401640
set FN[17]=$33E140
set FN[18]=$AFC8
set FN[19]=$445C
set FN[20]=$61A8
set FN[21]=4
set FN[22]=$AFC8
set FN[23]=$57E40
set FN[24]=4200
call SetHeroStr(FIE,6815,true)
call SetHeroAgi(FIE,4338,true)
call SetHeroInt(FIE,5675,true)
endfunction
function P0E takes nothing returns nothing
call SetPlayerTechResearchedSwap('R042',1,Player(1))
call SetPlayerTechResearchedSwap('R042',1,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04G',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04U',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04V',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04W',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04X',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Y',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Z',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04M',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04N',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04O',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04P',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04Q',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04R',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04S',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R04T',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R050',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R051',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R054',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R055',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R052',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R053',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R05F',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R00S',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R011',3,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set FN[1]=$D
set FN[2]=$B
set FN[3]=$9C40
set FN[4]=$61A8
set FN[5]=$AFC8
set FN[6]=80000
set FN[7]=90000
set FN[8]=$7530
set FN[9]=$9C40
set FN[$A]=$1D4C0
set FN[$B]=95000
set FN[$C]=$AFC8
set FN[$D]=$DAC
set FN[$E]=$2EE0
set FN[$F]=$1D4C0
set FN[16]=$401640
set FN[17]=$432380
set FN[18]=$FDE8
set FN[19]=$4E20
set FN[20]=$7530
set FN[21]=3
set FN[22]=$C350
set FN[23]=$5CC60
set FN[24]=6800
call SetHeroStr(FIE,$2E27,true)
call SetHeroAgi(FIE,6138,true)
call SetHeroInt(FIE,9675,true)
endfunction
function P1E takes nothing returns boolean
return(GetPlayerController(Player(1))==MAP_CONTROL_COMPUTER)
endfunction
function P2E takes nothing returns boolean
return(GetPlayerController(Player(0))==MAP_CONTROL_COMPUTER)
endfunction
function P3E takes nothing returns nothing
call SetDestructableInvulnerableBJ(GetEnumDestructable(),true)
endfunction
function P4E takes nothing returns nothing
set A=1
set NN[0]='Hpb2'
set D[0]='Otch'
set D[1]='Hhkl'
set D[2]='H03B'
set D[3]='H05D'
set D[4]='H065'
set D[5]='Hmkg'
set D[6]='H072'
set D[7]='Eevi'
set D[8]='Hlgr'
set D[9]='Nbst'
set D[$A]='Hapm'
set D[$B]='Harf'
set D[$C]='H05Y'
set D[$D]='Hpal'
set D[$E]='Huth'
set D[$F]='Npbm'
set D[16]='H07L'
set D[17]='Nbbc'
set D[18]='H07A'
set D[19]='N04A'
set D[20]='Hpb2'
set D[21]='H060'
set D[22]='Hvsh'
set D[23]='Naka'
set D[24]='N02Y'
set D[25]='Oshd'
set D[26]='Edem'
set D[27]='E011'
set D[28]='E00X'
set D[29]='E00W'
set D[30]='Obla'
set D[31]='Ewar'
set D[32]='Orkn'
set D[33]='O01E'
set D[34]='Hvwd'
set D[35]='H07G'
set D[36]='H05L'
set D[37]='Efur'
set D[38]='Hkal'
set D[39]='Hdgo'
set D[40]='H062'
set D[41]='Hmgd'
set D[42]='H03N'
set D[43]='Hjai'
set D[44]='Hamg'
set D[45]='H039'
set D[46]='Nfir'
set D[47]='H05M'
set D[48]='H061'
set D[49]='Othr'
set D[50]='Ekee'
set D[51]='Uvng'
set D[52]='H07H'
set D[53]='H086'
set D[54]='H07M'
call DisableTrigger(VQE)
set PJ[1]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Komodo Tail","Silversmith asked you to bring him an artifact called Komodo Tail.","ReplaceableTextures\\CommandButtons\\BTNSnapDragon.blp")
set PJ[2]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Shield of Revenant","Silversmith asked you to bring him an artifact called Shield of Revenant.","ReplaceableTextures\\CommandButtons\\BTNRevenant.blp")
set PJ[3]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Darkweaver's Club","Silversmith asked you to bring him an artifact called Darkweaver's Club.","ReplaceableTextures\\CommandButtons\\BTNUnbroken.blp")
set PJ[4]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Helm of Skeletal King","Silversmith asked you to bring him an artifact called Helm of Skeletal King.","ReplaceableTextures\\CommandButtons\\BTNSkeletalOrcChampion.blp")
set PJ[5]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Claws of Gaia","Silversmith asked you to bring him an artifact called Claws of Gaia.","ReplaceableTextures\\CommandButtons\\BTNJungleBeast.blp")
set PJ[6]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Horn of Minotaur","Silversmith asked you to bring him an artifact called Horn of Minotaur.","ReplaceableTextures\\CommandButtons\\BTNTauren.blp")
set PJ[7]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Knowledge is Power",(I2S(HQ[1])+"/15 Books found."),"ReplaceableTextures\\CommandButtons\\BTNSorceressAdept.blp")
set PJ[8]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Knowledge is Power 2",(I2S(HQ[2])+"/10 Greater Books found."),"ReplaceableTextures\\CommandButtons\\BTNSorceressMaster.blp")
set PJ[9]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Forgotten Village","Village Elder asked for your help to defend the village against undead attack.","ReplaceableTextures\\CommandButtons\\BTNVillagerMan1.blp")
set PJ[$A]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"Little Tommy","Tommy's mother was desperately looking for help to save his son from bandits. Bandits ask for 60000 gold for ransom and Tommy's mother couldn't afford this. You must go and see what these bandits are up for at their hideout located south of Forgotten Village.","ReplaceableTextures\\CommandButtons\\BTNVillagerKid.blp")
set PJ[$B]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"The Traitor","Runemaster gave you a very difficult task to handle. Fighting against one of your own kind... ","ReplaceableTextures\\CommandButtons\\BTNArthas.blp")
set PJ[$C]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"The Tunnel","Help the worker collect his tools and missing supplies. The worker said he lost his tools in the forest above Emily and the Trolls that stole his supplies are below the furbolg that lives in the forest.

Lost Tools  Satus: "+ZA+"
Stolen Supplies     Status: "+VN,"ReplaceableTextures\\CommandButtons\\BTNPeasant.blp")
set PJ[$D]=CreateQuestBJ(bj_QUESTTYPE_OPT_UNDISCOVERED,"The restless Spirits","The acolyte wants to return peace to the graveyard once again. Help him by absorbing the soul of the Elder Voidwalker with the soul stone by killing the Elder Voidwalker.
The Elder Voidwalker is located at the top right.
Charging Soul Stone: |cffff0000Not Completed|r
Return the Charged Soul Stone to the Acolyte: |cffff0000Not Completed|r","ReplaceableTextures\\CommandButtons\\BTNAcolyte.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Modes","Modes:
-ezmod: Gives extra gold to start with.
-easym: Easy Mode: creeps and bosses comes for only one line(not recommended playing too much in this mode)
-bossdiff: Increases boss difficulty
-difficulty: increases difficulty of all hostile units.
-fd: npc quest dialogs will skip instantly.
-camreset: reset camera smooth factor.
-camsmooth: enable camera smooth factor.
-novictory: disable victory from killing dark force's base.
-fastmode: halfs all spawn + respawn timers and doubles gold and exp rewards from bounties and quests
","ReplaceableTextures\\WorldEditUI\\DoodadPlaceholder.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Game Play","You must destroy the main base of the dark forces. for this you need a high level and powerful items. If the castle is destroyed you lose, if one building of the light is destroyed (not towers) the enemy units will become stronger , if you destroy enemy buildings your allied units will get stronger, try not to die because you lose gold and you have to wait until you respawn. there are creeps and bosses in the wild far from the mains paths, you can gain gold, items and experience with them, you can build towers to protect the base.","ReplaceableTextures\\WorldEditUI\\Editor-Force.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Commands","Commands:
-ms: see your current movement speed of your hero.
-camxxx: the xxx is a number between 500 and 4000 to zoom out or in.
-RITE: Move common items dropped from enemies to a shop (does not remove Legendary items, gem fragment and some others).
-RITEL: Move most legendary items dropped from enemies to a shop.
-RPOTS: Removes all health and mana potions on the floor
-RITEALL: Activates both -RITE and -RITEL.
-K: See all your kills you have so far.
-KA: show all players your kills so far, this command has a cooldown shared between all players.
-cl or -clear: Clears your screen of text messages.

Hero related commands:
-CRED: change your hero color to red.(only works one time)
-CBLUE: change your hero color to blue.(only works one time)
-r: picks a random hero
-rs: picks a random strength hero
-ra: picks a random agility hero
-ri: picks a random intelligence hero
-repick: allows you to repick your hero (does not work if you picked a random hero)

","ReplaceableTextures\\WorldEditUI\\DoodadPlaceholder.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Commands 2 & Hero Specific commands","Commands:
-aa: Disables/Enables your attack
-spellpower: Shows your current spellpower

Hero Specific commands:
Infernal:
-flame shows the current amount of infernal flames
-flameoff turns off the consuming of infernal flames on attack
-flameon turn on the consuming of infernal flames on attack

Dragon clan:
-tasks shows all tasks and shows which one you have completed

Archer:
-progress shows the req amount of kills and the amount still need to upgrade the bow

Selene, Thrall, Wraith, Wendigo, Blood Grunt:
-casts Shows how many times you have casted the abilities that deal damage based of times casted, require an amount of casts or health increasing abilities
 
","ReplaceableTextures\\WorldEditUI\\DoodadPlaceholder.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Damage Colors","Damage types are shown in different colors.
Physical damage is shown in |cff643232brown|r color
Spell damage is shown in |cff0a1e64blue|r color
Blocked damage is shown with '|cff323232Blocked!|r'
Pure damage is shown in |cff7d050adark red|r
Increased physical damage is shown in |cffa00a0fred|r with '|cffa00a0f!|r' at the end
Reduced physical damage is shown in |cffff4500orange|r
Reduced spell damage is shown in |cff410a41purple|r
Heals from Divine Skin is shown in |cff05640agreen|r","war3mapImported\\BTNFlame Sword.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Cleave and Splash","Cleave and Splash are custom made in this map and do not follow the wc3 rules of cleave damage being your pre armor calculation damage.
Cleave and Splash in this map will do a % of the original dealt damage regarding armor type and amount of the unit that is cleaved. Damage can't be higher than 15x the targeted units max health.
Cleave items will do splash damage for ranged units. Beware that some cleave items are |cffff0000Melee Only|r (this will be on the tooltip of the item).
Cleave/Splash is also Stackable and the Cleave/Splash AOE will be that of the highest item/ability you have. 
For example if you have an axe with 25% cleave in 300 AOE and have another one with 5% in 750 aoe you will be cleaving 30% of the original damage in 750 AOE.
Illusions can only use cleave/splash if this is part of the hero abilities (or picked from god skill tome).
","ReplaceableTextures\\PassiveButtons\\PASBTNCleavingAttack.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"More Information, bug R.","If you have any questions or you want to see heroes detailed information, report bug, give your ideas, suggestion or download new versions, visit: https://discord.gg/tc56Nu7eUS","ReplaceableTextures\\CommandButtons\\BTNWispSplode.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"MultiShot","MultiShot doesn't work with orb effects except Life Steal, with critical strike it works more or less, when you do a critical hit it only shoots one arrow, but the other times it shoots several, the same with bash items, doesn't work with katar or Ares Sword.","war3mapImported\\BTNMultyArrows.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Orb of Darkness","If you buy this item you no longer have the blessing of the empire so you can't revive infinitely, but you have 5 lives, can revive instantly and you dont lose if the empire is destroyed, to win you have to destroy the other remaining forces.
","ReplaceableTextures\\CommandButtons\\BTNOrbOfDarkness.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Dragon Slayer","Dragon Slayer is not compatible with Excalibur or hero sword if you buy it having excalibur, you will not change your attack type and it wont give you the 5000 hit points. The 5000 base hit points dont stack.","war3mapImported\\BTNDragonBlade.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Excalibur","Excalibur reduces your attack cooldown upon changing to chaos damage (using the item). This can only be done once per hero.
If you have some questions ask in : https://discord.gg/tc56Nu7eUS","war3mapImported\\BTNINV_Sword_25.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Examples of Merge Items","Visit https://docs.google.com/spreadsheets/d/16UVU5bLO3dB13dgTuCVkQqRmND16Oz4S/edit?usp=sharing&ouid=108247979388028848223&rtpof=true&sd=true for the list of merges or join our discord:
https://discord.gg/tc56Nu7eUS for more examples.","war3mapImported\\BTNForge.blp")
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(1))
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(0))
call MeleeStartingVisibility()
call AdjustPlayerStateBJ($7BC,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($A,Player(2),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(3),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(4),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(5),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(6),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(7),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(8),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($A,Player(9),PLAYER_STATE_RESOURCE_LUMBER)
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,true)
call EnableCreepSleepBJ(false)
if(P1E())then
else
call CustomDefeatBJ(Player(1),"...")
endif
if(P2E())then
else
call CustomDefeatBJ(Player(0),"...")
endif
set BGV=5
set B1V=6
set B3V=6
set B5V=6
set B2V=6
set B4V=6
set HGV=3
set DSV=0
set N4V=3
set AUV=RandomItemInRectSimpleBJ(MKV)
set OMV=GroupPickRandomUnit(GetUnitsInRectAll(L_V))
set ON[1]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"
set ON[2]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"
set ON[3]="ReplaceableTextures\\CommandButtons\\BTNPriest.blp"
set ON[4]="ReplaceableTextures\\CommandButtons\\BTNInfernal.blp"
set ON[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"
set ON[6]="ReplaceableTextures\\CommandButtons\\BTNBloodMage2.blp"
set ON[7]="ReplaceableTextures\\CommandButtons\\BTNHeroBlademaster.blp"
set ON[8]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"
set ON[9]="ReplaceableTextures\\CommandButtons\\BTNKeeperOfTheGrove.blp"
set ON[$A]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"
set ON[$B]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"
set ON[$C]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"
set ON[$D]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"
set ON[$E]="war3mapImported\\BTNAdvancedMarine.blp"
set ON[$F]="ReplaceableTextures\\CommandButtons\\BTNHeroPaladin.blp"
set ON[16]="ReplaceableTextures\\CommandButtons\\BTNKelThuzad.blp"
set ON[17]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"
set ON[18]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"
set ON[19]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"
set ON[20]="ReplaceableTextures\\CommandButtons\\BTNChaosGrunt.blp"
set ON[21]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"
set ON[22]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"
set ON[23]="ReplaceableTextures\\CommandButtons\\BTNPeasant.blp"
set ON[24]="ReplaceableTextures\\CommandButtons\\BTNSatyr.blp"
set ON[25]="ReplaceableTextures\\CommandButtons\\BTNMagnataur.blp"
set ON[26]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"
set ON[27]="ReplaceableTextures\\CommandButtons\\BTNHeroAvatarOfFlame.blp"
set ON[28]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"
set ON[29]="ReplaceableTextures\\CommandButtons\\BTNHeroMountainKing.blp"
set ON[30]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"
set ON[31]="ReplaceableTextures\\CommandButtons\\BTNVillagerKid.blp"
set BVV=0
set G9V=0
set HEV=0
set ON[32]="war3mapImported\\BTNValkyrie67.blp"
set ON[33]="ReplaceableTextures\\CommandButtons\\BTNWendigo.blp"
set ON[34]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"
set ON[35]="ReplaceableTextures\\CommandButtons\\BTNGhost.blp"
set ON[36]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"
set ON[37]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"
set ON[38]="ReplaceableTextures\\CommandButtons\\BTNBanditMage.blp"
set ON[39]="ReplaceableTextures\\CommandButtons\\BTNMurlocNightCrawler.blp"
set ON[40]="ReplaceableTextures\\CommandButtons\\BTNCentaurArcher.blp"
set ON[41]="war3mapImported\\BTNHumanAssassine.blp"
set ON[42]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.blp"
set ON[43]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"
set ON[44]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"
set ON[45]="war3mapImported\\BTNDwarven_Hero_Paladin.blp"
set ON[46]="ReplaceableTextures\\CommandButtons\\BTNFootman.blp"
set ON[47]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"
set ON[48]="ReplaceableTextures\\CommandButtons\\BTNpurpleDragonSpawn.blp"
set ON[49]="ReplaceableTextures\\CommandButtons\\BTNEtherealFormOn.blp"
set ON[50]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"
set ON[51]="ReplaceableTextures\\CommandButtons\\BTNMarkOfFire.blp"
set ON[52]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"
set ON[53]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"
set ON[54]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"
set ON[55]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"
call DisableTrigger(Z9V)
call DisableTrigger(SJV)
call DisableTrigger(VXE)
call EnumDestructablesInRectAll(M1V,function P3E)
call DisableTrigger(ANE)
call DisableTrigger(IYE)
call InitHashtableBJ()
set GQ[1]=$C
set GQ[2]=6
set GQ[3]=3
set PU=GetLastCreatedHashtableBJ()
call TriggerSleepAction(1.)
call DisplayTextToForce(GetPlayersAll(),"Player Teal can select game difficulty.")
call DisplayTextToForce(GetPlayersAll(),"-|c00FF0000difficulty|r Increases difficulty of all hostile units.")
call DisplayTextToForce(GetPlayersAll(),"-|cff00ebffbossdiff|r Increases difficulty of only bosses. (all neutrall bosses and Dark Force bosses after Death.)")
call DisplayTextToForce(GetPlayersAll(),"To pick a random hero:")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000-r|r: Selects a random hero   |cffff0000-rs|r: Selects a random STR hero    |cffff0000-ra|r: Selects a random AGI hero    |cffff0000-ri|r: Selects a random INT hero")
call DisplayTextToForce(GetPlayersAll(),"To Repick a hero type: -repick     You are not allowed to repick if you pick a random hero")
call CameraSetSmoothingFactorBJ(50.)
set FN[1]=9
set FN[2]=7
set FN[3]=$59D8
set FN[4]=$2710
set FN[5]=$3E80
set FN[6]=$7148
set FN[7]=$8CA0
set FN[8]=$32C8
set FN[9]=$4650
set FN[$A]=$D6D8
set FN[$B]=$AFC8
set FN[$C]=$4268
set FN[$D]=900
set FN[$E]=$BB8
set FN[$F]=85000
set FN[16]=$2191C0
set FN[17]=$155CC0
set FN[18]=$3A98
set FN[19]=7500
set FN[20]=$2710
set FN[21]=6
set FN[22]=$7148
set FN[23]=$493E0
call SetTimeOfDay($C)
call SetTimeOfDayScalePercentBJ(.0)
call TriggerSleepAction(12.)
call DisableTrigger(UVV)
call DisableTrigger(Z7V)
call DisableTrigger(Z8V)
call DisableTrigger(VEE)
call TriggerSleepAction(12.)
call DisableTrigger(QDV)
call DisableTrigger(CVE)
call EnableTrigger(VQE)
call EnableTrigger(ROE)
call EnableTrigger(TCV)
call DisableTrigger(OSE)
call DisableTrigger(OUE)
call EnableTrigger(QBV)
if FJ==0 and GJ==0 then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Classic Mode:|r Protect the empire and destroy the Dark Forces.")
endif
if FJ==1 then
call DisplayTextToForce(GetPlayersAll(),"Difficulty: |c00FEBA0EHARD MODE - Neutrals And Dark Force units will have 150% hp and bonus 25% damage 25% attack speed! .|r")
call ExecuteFunc("PUE")
endif
if FJ==2 then
call DisplayTextToForce(GetPlayersAll(),"Difficulty: |c00FEBA0EVERY HARD MODE Neutrals And Dark Force units will have 200% hp and bonus 50% damage 50% attack speed!.|r")
call ExecuteFunc("PWE")
endif
if FJ==3 then
call DisplayTextToForce(GetPlayersAll(),"Difficulty: |c00FEBA0EHELL MODE Neutral units will have 300% hp and bonus 100% damage 100% attack speed, Dark Force units will have 300% hp and bonus 50% damage 50% attack speed !.|r")
call ExecuteFunc("PYE")
endif
if GJ==1 then
call DisplayTextToForce(GetPlayersAll(),"Boss Difficulty: |c00FEBA0EHARD MODE - All Neutral Bosses And End game Dark Force Bosses will have 75% hp and 50% attack speed bonus! Also their skills are stronger.|r")
call ExecuteFunc("PZE")
endif
if GJ==2 then
call DisplayTextToForce(GetPlayersAll(),"Boss Difficulty: |c00FEBA0EVERY HARD MODE All Neutral Bosses And End game Dark Force Bosses will have 150% hp and 100% attack speed bonus!.Also their skills are stronger.|r")
call ExecuteFunc("P_E")
endif
if GJ==3 then
call DisplayTextToForce(GetPlayersAll(),"Boss Difficulty: |c00FEBA0EHELL MODE All Neutral Bosses And End game Dark Force Bosses will have 250% hp and 150% attack speed bonus!.Also their skills are stronger.|r")
call ExecuteFunc("P0E")
endif
call DisplayTextToForce(GetPlayersAll(),"|c0000FF00NPC Quests are using dialogs, to be able to see dialogs you must enable subtitles from options menu. To skip dialogs fast teal must type|r -fd")
call PlaySoundBJ(P4V)
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,false)
call DisableTrigger(JJ)
call DisableTrigger(GCE)
call DisableTrigger(GDE)
call DisableTrigger(OSE)
call DisableTrigger(OUE)
set RBV=CreateTimerDialogBJ(B9V,"First boss comes in:")
if JBV==false then
call StartTimerBJ(B9V,false,656.)
endif
if JBV then
call StartTimerBJ(B9V,false,328.)
endif
set GB=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'n05J',-14844.,-8308.,0)
call ExecuteFunc("P5E")
call CreateDestructableLoc('VOfl',Location(-10915.,-5286.),360,1.,0)
call CreateDestructableLoc('VOfs',Location(-10915.,-5286.),270,1.,0)
endfunction
function P6E takes nothing returns nothing
set QVV=CreateTrigger()
call TriggerAddAction(QVV,function P4E)
endfunction
function P7E takes nothing returns nothing
call CustomDefeatBJ(Player(1),"DD")
endfunction
function P8E takes nothing returns nothing
set QEV=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(QEV,Player(1),true)
call TriggerAddAction(QEV,function P7E)
endfunction
function P9E takes nothing returns nothing
call SetTerrainTypeBJ(GetRectCenter(PVV),'Lgrs',-1,$C,1)
call SetTerrainTypeBJ(GetRectCenter(PVV),'Lgrd',-1,2,2)
call SetTerrainTypeBJ(Location(-13703.,10224.),'Nice',-1,$F,2)
endfunction
function QVE takes unit u,unitstate QEE,real QXE returns nothing
local integer QOE
local integer QRE=R2I(QXE)
local integer i=18
local integer QIE
if QEE==UNIT_STATE_MAX_LIFE then
set QOE='A1NJ'
elseif QEE==UNIT_STATE_MAX_MANA then
set QOE='A1NK'
else
call BJDebugMsg("SetUnitMaxState Error: Invalid unitstate")
return
endif
set QRE=QRE-R2I(GetUnitState(u,QEE))
if QRE>0 then
set QIE=18+3
elseif QRE<0 then
set QIE=2
set QRE=-QRE
else
return
endif
loop
exitwhen QRE==0 or i<0
if QRE>=R[i]then
call UnitAddAbility(u,QOE)
call SetUnitAbilityLevel(u,QOE,QIE+i)
call UnitRemoveAbility(u,QOE)
set QRE=QRE-R[i]
else
set i=i-1
endif
endloop
endfunction
function QAE takes nothing returns nothing
local integer i=1
set R[0]=1
loop
set R[i]=R[i-1]*2
set i=i+1
exitwhen i==18+3
endloop
set bj_lastCreatedUnit=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE),'u008',-11234.,8548.,.0)
call UnitAddAbility(bj_lastCreatedUnit,'A1NJ')
call UnitAddAbility(bj_lastCreatedUnit,'A1NK')
call KillUnit(bj_lastCreatedUnit)
endfunction
function QNE takes nothing returns nothing
local integer i
set i=0*17
set I[i+0]='A1NL'
set I[i+1]='A1NM'
set I[i+2]='A1NN'
set I[i+3]='A1NO'
set I[i+4]='A1NP'
set I[i+5]='A1NQ'
set I[i+6]='A1NR'
set I[i+7]='A1NS'
set I[i+8]='A1NT'
set I[i+9]='A1NU'
set I[i+$A]='A1NV'
set I[i+$B]='A1NW'
set I[i+$C]='A1NX'
set I[i+$D]='A1OR'
set I[i+$E]='A1OS'
set I[i+$F]='A1OT'
set I[i+16]='A1YC'
set i=1*17
set I[i+0]='A1OB'
set I[i+1]='A1OC'
set I[i+2]='A1OD'
set I[i+3]='A1OE'
set I[i+4]='A1OF'
set I[i+5]='A1OG'
set I[i+6]='A1OH'
set I[i+7]='A1OI'
set I[i+8]='A1OJ'
set I[i+9]='A1OK'
set I[i+$A]='A1OL'
set I[i+$B]='A1OM'
set I[i+$C]='A1ON'
set I[i+$D]='A1OO'
set I[i+$E]='A1OP'
set I[i+$F]='A1OQ'
set I[i+16]='A1YD'
set i=2*17
set I[i+0]='A1NY'
set I[i+1]='A1NZ'
set I[i+2]='A1O0'
set I[i+3]='A1O1'
set I[i+4]='A1O2'
set I[i+5]='A1O3'
set I[i+6]='A1O4'
set I[i+7]='A1O5'
set I[i+8]='A1O6'
set I[i+9]='A1O7'
set I[i+$A]='A1O8'
set I[i+$B]='A1O9'
set I[i+$C]='A1OA'
set I[i+$D]='A1OU'
set I[i+$E]='A1OV'
set I[i+$F]='A1OW'
set I[i+16]='A1YE'
set i=3*17
set I[i+0]='A1SQ'
set I[i+1]='A1SR'
set I[i+2]='A1SS'
set I[i+3]='A1ST'
set I[i+4]='A1SU'
set I[i+5]='A1SV'
set I[i+6]='A1SW'
set I[i+7]='A1SX'
set I[i+8]='A1SY'
set I[i+9]='A1SZ'
set I[i+$A]='A1T0'
set I[i+$B]='A1T1'
set I[i+$C]='A1T2'
set I[i+$D]='A1T3'
set I[i+$E]='A1T4'
set I[i+$F]='A1T5'
set I[i+16]='A1YB'
set i=4*17
set I[i+0]='A1T6'
set I[i+1]='A1T7'
set I[i+2]='A1T8'
set I[i+3]='A1T9'
set I[i+4]='A1TA'
set I[i+5]='A1TB'
set I[i+6]='A1TC'
set I[i+7]='A1TD'
set I[i+8]='A1TE'
set I[i+9]='A1TF'
set I[i+$A]='A1TG'
set I[i+$B]='A1TH'
set I[i+$C]='A1TI'
set I[i+$D]='A1TJ'
set I[i+$E]='A1TK'
set I[i+$F]='A1TL'
set I[i+16]='A1Y9'
set i=5*17
set I[i+0]='A1TM'
set I[i+1]='A1TN'
set I[i+2]='A1TO'
set I[i+3]='A1TP'
set I[i+4]='A1TQ'
set I[i+5]='A1TR'
set I[i+6]='A1TS'
set I[i+7]='A1TT'
set I[i+8]='A1TU'
set I[i+9]='A1TV'
set I[i+$A]='A1TW'
set I[i+$B]='A1TX'
set I[i+$C]='A1TY'
set I[i+$D]='A1TZ'
set I[i+$E]='A1U0'
set I[i+$F]='A1U1'
set I[i+16]='A1YA'
endfunction
function QBE takes unit u,integer QCE,integer QDE returns boolean
local integer i=17-2
if QDE<C or QDE>B then
debug call BJDebugMsg("Error: Bonus too high or low ("+I2S(QDE)+")")
return false
elseif QCE<0 or QCE>=6 then
debug call BJDebugMsg("Error: Invalid bonus type ("+I2S(QCE)+")")
return false
endif
if QDE<0 then
set QDE=B+QDE+1
call UnitAddAbility(u,I[QCE*17+17-1])
call UnitMakeAbilityPermanent(u,true,I[QCE*17+17-1])
else
call UnitRemoveAbility(u,I[QCE*17+17-1])
endif
loop
if QDE>=N[i]then
call UnitAddAbility(u,I[QCE*17+i])
call UnitMakeAbilityPermanent(u,false,I[QCE*17+i])
set QDE=QDE-N[i]
else
call UnitRemoveAbility(u,I[QCE*17+i])
endif
set i=i-1
exitwhen i<0
endloop
return true
endfunction
function QFE takes unit u,integer QCE returns integer
local integer i=0
local integer QDE=0
if GetUnitAbilityLevel(u,I[QCE*17+17-1])>0 then
set QDE=C
endif
loop
if GetUnitAbilityLevel(u,I[QCE*17+i])>0 then
set QDE=QDE+N[i]
endif
set i=i+1
exitwhen i==17-1
endloop
return QDE
endfunction
function QGE takes nothing returns nothing
local integer i=1
local unit u
set N[0]=1
loop
set N[i]=N[i-1]*2
set i=i+1
exitwhen i==17
endloop
set B=N[17-1]-1
set C=-N[17-1]
call QNE()
if true then
set u=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'hdhw',-11234.,8548.,0)
set i=0
loop
exitwhen i==6*17
call UnitAddAbility(u,I[i])
set i=i+1
endloop
call RemoveUnit(u)
endif
endfunction
function QHE takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function QJE takes nothing returns nothing
set XVV=GetRectCenter(LGV)
set GB=CreateUnitAtLoc(Player(bj_PLAYER_NEUTRAL_EXTRA),'H041',XVV,bj_UNIT_FACING)
call ExecuteFunc("QKE")
call CreateUnitAtLoc(Player(bj_PLAYER_NEUTRAL_EXTRA),'H042',XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H047',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H052',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H053',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H054',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H055',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04S',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateUnitAtLoc(Player(bj_PLAYER_NEUTRAL_EXTRA),'H04T',XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H056',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H057',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H058',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03Q',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H040',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04I',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04J',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04K',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04L',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04X',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04Y',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03R',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03O',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04R',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04V',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03P',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04F',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04G',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04H',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
set XEV=GetUnitsInRectAll(LGV)
call ForGroupBJ(XEV,function QHE)
call DestroyGroup(XEV)
set XVV=GetRectCenter(LGV)
call CreateNUnitsAtLoc(1,'H04U',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H059',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H05B',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H05A',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H045',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04C',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04D',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04E',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H049',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04A',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04B',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04O',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04P',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04Q',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H043',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H044',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H046',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03M',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H051',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04W',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H04Z',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H050',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03S',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03W',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03X',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03Y',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H03Z',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H06S',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H06W',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H06T',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H06U',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'H06V',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'Nalc',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call UnitAddAbilityBJ('A137',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XEV=GetUnitsInRectAll(LGV)
call ForGroupBJ(XEV,function QHE)
call DestroyGroup(XEV)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function QLE takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QME takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QPE takes nothing returns boolean
return(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QQE takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QSE takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QTE takes nothing returns boolean
return(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QUE takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function QWE takes nothing returns nothing
set XKV=3
set XLV=3
set XMV=3
set XPV=3
set XQV=3
set XSV=3
set XTV=3
set QJ[2]=3
set QJ[3]=3
set QJ[4]=3
set QJ[5]=3
set QJ[6]=3
set QJ[7]=3
set QJ[8]=3
set QJ[9]=3
if(QLE())then
set XKV=(XKV+1)
set XLV=(XLV+1)
set XMV=(XMV+1)
set XPV=(XPV+1)
set XQV=(XQV+1)
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[3]=(QJ[3]+1)
set QJ[4]=(QJ[4]+1)
set QJ[5]=(QJ[5]+1)
set QJ[6]=(QJ[6]+1)
set QJ[7]=(QJ[7]+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QME())then
set XLV=(XLV+1)
set XMV=(XMV+1)
set XPV=(XPV+1)
set XQV=(XQV+1)
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[4]=(QJ[4]+1)
set QJ[5]=(QJ[5]+1)
set QJ[6]=(QJ[6]+1)
set QJ[7]=(QJ[7]+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QPE())then
set XMV=(XMV+1)
set XPV=(XPV+1)
set XQV=(XQV+1)
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[5]=(QJ[5]+1)
set QJ[6]=(QJ[6]+1)
set QJ[7]=(QJ[7]+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QQE())then
set XPV=(XPV+1)
set XQV=(XQV+1)
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[6]=(QJ[6]+1)
set QJ[7]=(QJ[7]+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QSE())then
set XQV=(XQV+1)
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[7]=(QJ[7]+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QTE())then
set XSV=(XSV+1)
set XTV=(XTV+1)
set QJ[8]=(QJ[8]+1)
set QJ[9]=(QJ[9]+1)
endif
if(QUE())then
set XTV=(XTV+1)
set QJ[9]=(QJ[9]+1)
endif
endfunction
function QYE takes nothing returns nothing
set QNV=CreateTrigger()
call TriggerAddAction(QNV,function QWE)
endfunction
function QZE takes nothing returns nothing
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|cffff00003000 seconds past, Skull Towers and Black Citadel are stronger|r ")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|cffff00001500 seconds past, Skull Towers and Black Citadel are stronger|r ")
endif
call SetPlayerTechResearchedSwap('R02G',(GetPlayerTechCountSimple('R02G',Player(1))+1),Player(1))
endfunction
function Q_E takes nothing returns nothing
set QBV=CreateTrigger()
call DisableTrigger(QBV)
if JBV==false then
call TriggerRegisterTimerEventPeriodic(QBV,3000.)
endif
if JBV then
call TriggerRegisterTimerEventPeriodic(QBV,1500.)
endif
call TriggerAddAction(QBV,function QZE)
endfunction
function Q0E takes nothing returns nothing
call FogEnableOn()
call FogMaskEnableOn()
endfunction
function Q1E takes nothing returns nothing
set QCV=CreateTrigger()
call TriggerRegisterTimerEventSingle(QCV,.0)
call TriggerAddAction(QCV,function Q0E)
endfunction
function Q2E takes nothing returns boolean
return(CountPlayersInForceBJ(GetPlayersAll())<6)
endfunction
function Q3E takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cffff0000The Teal player choose Easy mode, creeps go for only one line.|r ")
call DisableTrigger(TFV)
call DisableTrigger(TGV)
call DisableTrigger(TDV)
set DB[0]=0
set DB[1]=0
set DB[2]=1
set DB[3]=0
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,2,true,true)
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,2,"ReplaceableTextures\\CommandButtons\\BTNArcaneObservatory.blp")
set ATV=2
endfunction
function Q4E takes nothing returns nothing
set QDV=CreateTrigger()
call TriggerRegisterPlayerChatEvent(QDV,Player(2),"-easym",true)
call TriggerAddCondition(QDV,Condition(function Q2E))
call TriggerAddAction(QDV,function Q3E)
endfunction
function Q5E takes nothing returns boolean
return(GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Q6E takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Q7E takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Q8E takes nothing returns boolean
return(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Q9E takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function SVE takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function SEE takes nothing returns boolean
return(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function SXE takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function SOE takes nothing returns boolean
return(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function SRE takes nothing returns nothing
set XFV=CountPlayersInForceBJ(GetPlayersMatching(Condition(function Q5E)))
call CreateMultiboardBJ(4,(XFV+0),"Darky 0.55b")
set AD=bj_lastCreatedMultiboard
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),1,0,12.)
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),2,0,4.)
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),3,0,4.)
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),4,0,6.)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,1,"|n|n|cffff0000Light Forces|r")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,1,"|n|n|cffff8c00Level|r")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,1,"|n|n|cffff8c00Deaths|r")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,1,"|n|n|cffff8c00Spellpower|r")
set XHV=3
if(Q6E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFF00FFFF"+(GetPlayerName(Player(2))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[3]=true
endif
if(Q7E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFF540081"+(GetPlayerName(Player(3))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[4]=true
endif
if(Q8E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFFFFFF01"+(GetPlayerName(Player(4))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[5]=true
endif
if(Q9E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFFFE8A0E"+(GetPlayerName(Player(5))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[6]=true
endif
if(SVE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFF20C000"+(GetPlayerName(Player(6))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[7]=true
endif
if(SEE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFFE55BB0"+(GetPlayerName(Player(7))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[8]=true
endif
if(SXE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFF959697"+(GetPlayerName(Player(8))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[9]=true
endif
if(SOE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XHV,("|CFF7EBFF1"+(GetPlayerName(Player(9))+"|r")))
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XHV,"0")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XHV,"0")
set XHV=(XHV+1)
set GWV[$A]=true
endif
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,1,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,$B,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,1,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,3,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,4,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,5,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,6,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,7,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,8,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,9,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,$A,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,$B,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,1,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,3,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,4,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,5,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,6,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,7,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,8,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,9,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,$A,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),3,$B,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,1,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,3,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,4,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,5,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,6,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,7,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,8,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,9,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,$A,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),4,$B,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),5,0,true,false)
call MultiboardMinimizeBJ(false,GetLastCreatedMultiboard())
call MultiboardMinimizeBJ(true,GetLastCreatedMultiboard())
endfunction
function SIE takes nothing returns nothing
set QGV=CreateTrigger()
call TriggerRegisterTimerEventSingle(QGV,1.)
call TriggerAddAction(QGV,function SRE)
endfunction
function SAE takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function SNE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(2))
endfunction
function SBE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(2))
endfunction
function SCE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(3))
endfunction
function SDE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(4))
endfunction
function SFE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(5))
endfunction
function SGE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(6))
endfunction
function SHE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(7))
endfunction
function SJE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(8))
endfunction
function SKE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(9))
endfunction
function SLE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(3))
endfunction
function SME takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(4))
endfunction
function SPE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(5))
endfunction
function SQE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(6))
endfunction
function SSE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(7))
endfunction
function STE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(8))
endfunction
function SUE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(9))
endfunction
function SWE takes nothing returns nothing
set EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
if(SNE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,3,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SBE())then
set CCV[3]=(CCV[3]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,3,I2S(CCV[3]))
endif
if(SCE())then
set CCV[4]=(CCV[4]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XKV,I2S(CCV[4]))
endif
if(SDE())then
set CCV[5]=(CCV[5]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XLV,I2S(CCV[5]))
endif
if(SFE())then
set CCV[6]=(CCV[6]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XMV,I2S(CCV[6]))
endif
if(SGE())then
set CCV[7]=(CCV[7]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XPV,I2S(CCV[7]))
endif
if(SHE())then
set CCV[8]=(CCV[8]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XQV,I2S(CCV[8]))
endif
if(SJE())then
set CCV[9]=(CCV[9]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XSV,I2S(CCV[9]))
endif
if(SKE())then
set CCV[$A]=(CCV[$A]+1)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XTV,I2S(CCV[$A]))
endif
if(SLE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XKV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SME())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XLV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SPE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XMV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SQE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XPV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SSE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XQV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(STE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XSV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(SUE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),3,XTV,I2S(EN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
endfunction
function SYE takes nothing returns nothing
set QHV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QHV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(QHV,Condition(function SAE))
call TriggerAddAction(QHV,function SWE)
endfunction
function SZE takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function S_E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(2))
endfunction
function S0E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(3))
endfunction
function S1E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(4))
endfunction
function S2E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(5))
endfunction
function S3E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(6))
endfunction
function S4E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(7))
endfunction
function S5E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(8))
endfunction
function S6E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(9))
endfunction
function S7E takes nothing returns nothing
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetHeroLevel(JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
if(S_E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,3,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S0E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XKV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S1E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XLV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S2E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XMV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S3E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XPV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S4E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XQV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S5E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XSV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
if(S6E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XTV,I2S(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
endfunction
function S8E takes nothing returns nothing
set QJV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QJV,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(QJV,Condition(function SZE))
call TriggerAddAction(QJV,function S7E)
endfunction
function S9E takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TVE takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TEE takes nothing returns boolean
return(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TXE takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TOE takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TRE takes nothing returns boolean
return(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TIE takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TAE takes nothing returns boolean
return(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function TNE takes nothing returns nothing
set IN[1]=(JQV[3]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[3],true)+(GetUnitLevel(JZV[3])*4)))
set IN[2]=(JQV[4]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[4],true)+(GetUnitLevel(JZV[4])*4)))
set IN[3]=(JQV[5]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[5],true)+(GetUnitLevel(JZV[5])*4)))
set IN[4]=(JQV[6]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[6],true)+(GetUnitLevel(JZV[6])*4)))
set IN[5]=(JQV[7]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[7],true)+(GetUnitLevel(JZV[7])*4)))
set IN[6]=(JQV[8]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[8],true)+(GetUnitLevel(JZV[8])*4)))
set IN[7]=(JQV[9]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[9],true)+(GetUnitLevel(JZV[9])*4)))
set IN[8]=(JQV[$A]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[$A],true)+(GetUnitLevel(JZV[$A])*4)))
if(S9E())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,3,I2S(IN[1]))
endif
if(TVE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XKV,I2S(IN[2]))
endif
if(TEE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XLV,I2S(IN[3]))
endif
if(TXE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XMV,I2S(IN[4]))
endif
if(TOE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XPV,I2S(IN[5]))
endif
if(TRE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XQV,I2S(IN[6]))
endif
if(TIE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XSV,I2S(IN[7]))
endif
if(TAE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),4,XTV,I2S(IN[8]))
endif
endfunction
function TBE takes nothing returns nothing
set QKV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(QKV,5.)
call TriggerAddAction(QKV,function TNE)
endfunction
function TCE takes nothing returns boolean
return(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO))!=null
endfunction
function TDE takes nothing returns nothing
call SetPlayerUnitAvailableBJ(GetUnitTypeId(GetSoldUnit()),false,GetEnumPlayer())
endfunction
function TFE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(2))
endfunction
function TGE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(3))
endfunction
function THE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(4))
endfunction
function TJE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(5))
endfunction
function TKE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(6))
endfunction
function TLE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(7))
endfunction
function TME takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(8))
endfunction
function TPE takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(9))
endfunction
function TQE takes nothing returns nothing
call SetPlayerMaxHeroesAllowed(0,GetOwningPlayer(GetSoldUnit()))
call ForForce(GetPlayersAll(),function TDE)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetSoldUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetSoldUnit()))]+1)
if(TFE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,3,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,3,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TGE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XKV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XKV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(THE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XLV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XLV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TJE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XMV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XMV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TKE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XPV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XPV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TLE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XQV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XQV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TME())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XSV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XSV,ON[GetUnitPointValue(GetSoldUnit())])
endif
if(TPE())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,XTV,"1")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,XTV,ON[GetUnitPointValue(GetSoldUnit())])
endif
endfunction
function TSE takes nothing returns nothing
set QLV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QLV,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(QLV,Condition(function TCE))
call TriggerAddAction(QLV,function TQE)
endfunction
function TTE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(9))
endfunction
function TUE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(8))
endfunction
function TWE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(7))
endfunction
function TYE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(6))
endfunction
function TZE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(5))
endfunction
function T_E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(4))
endfunction
function T0E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(3))
endfunction
function T1E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(2))
endfunction
function T2E takes nothing returns boolean
return((GetOwningPlayer(GetTriggerUnit())==Player(1))and(GetUnitLevel(GetTriggerUnit())>9)and(GetUnitTypeId(GetTriggerUnit())!='npfm')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function T3E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(9))
endfunction
function T4E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(8))
endfunction
function T5E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(7))
endfunction
function T6E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(6))
endfunction
function T7E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(5))
endfunction
function T8E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(4))
endfunction
function T9E takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(3))
endfunction
function UVE takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(2))
endfunction
function UEE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>29)and(GetUnitTypeId(GetTriggerUnit())!='nvde')and(GetUnitTypeId(GetTriggerUnit())!='nsgb')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function UXE takes nothing returns nothing
if(T2E())then
if(T1E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFF"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T0E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF540081"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T_E())then
call DisplayTextToForce(GetPlayersAll(),("|CFFFFFF01"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(TZE())then
call DisplayTextToForce(GetPlayersAll(),("|CFFFE8A0E"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(TYE())then
call DisplayTextToForce(GetPlayersAll(),("|CFF20C000"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(TWE())then
call DisplayTextToForce(GetPlayersAll(),("|CFFE55BB0"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(TUE())then
call DisplayTextToForce(GetPlayersAll(),("|CFF959697"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(TTE())then
call DisplayTextToForce(GetPlayersAll(),("|CFF7EBFF1"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed"+(" |CFF0042FF"+(GetUnitName(GetTriggerUnit())+"|r"))))))
endif
endif
endif
endif
endif
endif
endif
endif
endif
if(UEE())then
if(UVE())then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFF"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T9E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF540081"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T8E())then
call DisplayTextToForce(GetPlayersAll(),("|CFFFFFF01"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T7E())then
call DisplayTextToForce(GetPlayersAll(),("|CFFFE8A0E"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T6E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF20C000"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T5E())then
call DisplayTextToForce(GetPlayersAll(),("|CFFE55BB0"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T4E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF959697"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
else
if(T3E())then
call DisplayTextToForce(GetPlayersAll(),("|CFF7EBFF1"+(GetPlayerName(GetOwningPlayer(GetKillingUnitBJ()))+("|r has killed "+("|CFF20C000"+(GetUnitName(GetTriggerUnit())+"|r"))))))
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function UOE takes nothing returns nothing
set QMV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QMV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(QMV,function UXE)
endfunction
function URE takes nothing returns boolean
return(GetRandomInt(1,$A)<4)
endfunction
function UIE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngrd')
endfunction
function UAE takes nothing returns boolean
return(GetRandomInt(1,$A)<7)
endfunction
function UNE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n028')
endfunction
function UBE takes nothing returns boolean
return(GetRandomInt(1,$A)<8)
endfunction
function UCE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n029')
endfunction
function UDE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02A')
endfunction
function UFE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02B')
endfunction
function UGE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02C')
endfunction
function UHE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function UJE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function UKE takes nothing returns boolean
return(GetRandomInt(1,$A)<8)
endfunction
function ULE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nadr')
endfunction
function UME takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbwm')
endfunction
function UPE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrwm')
endfunction
function UQE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbzd')
endfunction
function USE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')
endfunction
function UTE takes nothing returns boolean
return(GetAttacker()==YF)and(GetUnitAbilityLevelSwapped('A1UH',YF)>=1)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(YF)))
endfunction
function UUE takes nothing returns boolean
return(GetAttacker()==YF)and(GetAttackedUnitBJ()==WF)and(GetUnitAbilityLevelSwapped('A1UH',YF)>=1)
endfunction
function UWE takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nubw')
endfunction
function UYE takes nothing returns nothing
if(UIE())then
if(URE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
endif
if(UNE())then
if(UAE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
endif
if(UCE())then
if(UBE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
endif
if(UDE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UFE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UGE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UHE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UJE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(ULE())then
if(UKE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
endif
if(UME())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UPE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UQE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(USE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NWV,false,GetRandomReal(2.,6.))
endif
if(UTE())then
set WF=GetAttackedUnitBJ()
endif
if(UUE())then
call UnitAddAbilityBJ('A028',WF)
call SetUnitAbilityLevelSwapped('A028',WF,$B)
call UnitDamageTargetBJ(YF,WF,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(YF,(GetUnitStateSwap(UNIT_STATE_LIFE,YF)-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,YF))*(.005*GetUnitAbilityLevelSwapped('A1UG',YF))))
set WF=null
endif
if(UWE())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.01),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function UZE takes nothing returns nothing
set QPV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QPV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(QPV,function UYE)
endfunction
function U_E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')
endfunction
function U0E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrw')
endfunction
function U1E takes nothing returns boolean
return(GetRandomInt(1,$A)<7)
endfunction
function U2E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nskg')
endfunction
function U3E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfor')
endfunction
function U4E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsqe')
endfunction
function U5E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n039')
endfunction
function U6E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function U7E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function U8E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbzd')
endfunction
function U9E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfgo')
endfunction
function WVE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function WEE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function WXE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')
endfunction
function WOE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03N')
endfunction
function WRE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Eilm')
endfunction
function WIE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function WAE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h05W')
endfunction
function WNE takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0HR'))
endfunction
function WBE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00U')
endfunction
function WCE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H089')
endfunction
function WDE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n040')
endfunction
function WFE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n058')
endfunction
function WGE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='N05L')
endfunction
function WHE takes nothing returns nothing
if(U_E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
if(U0E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
endif
if(U2E())then
if(U1E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
endif
if(U3E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
if(U4E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
endif
if(U5E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(U6E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
endif
if(U7E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(U8E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(U9E())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WVE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
if(WEE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WXE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WOE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WRE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
if(WIE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
endif
if(WAE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WNE())then
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetTriggerUnit(),true,false)
endif
if(WBE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
endif
if(WCE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
endif
if(WDE())then
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WFE())then
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(WGE())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
if GetUnitLevel(GetTriggerUnit())>=$C then
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
endif
endfunction
function WJE takes nothing returns nothing
set QQV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QQV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(QQV,function WHE)
endfunction
function WKE takes nothing returns nothing
call EnableTrigger(QPV)
endfunction
function WLE takes nothing returns nothing
set QSV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(QSV,NWV)
call TriggerAddAction(QSV,function WKE)
endfunction
function WME takes nothing returns nothing
call UnitRemoveAbilityBJ('A0G8',H3V)
call UnitRemoveAbilityBJ('A0TN',H3V)
call UnitRemoveAbilityBJ('A0G9',H3V)
call UnitRemoveAbilityBJ('A0GD',H3V)
call UnitRemoveAbilityBJ('A0TO',H3V)
call UnitRemoveAbilityBJ('A0U3',X4V)
endfunction
function WPE takes nothing returns nothing
set QTV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(QTV,H2V)
call TriggerAddAction(QTV,function WME)
endfunction
function WQE takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function WSE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngrd')
endfunction
function WTE takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function WUE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n028')
endfunction
function WWE takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function WYE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n029')
endfunction
function WZE takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W_E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02A')
endfunction
function W0E takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W1E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02B')
endfunction
function W2E takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W3E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02C')
endfunction
function W4E takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W5E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function W6E takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W7E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function W8E takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function W9E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrd')
endfunction
function YVE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrd')
endfunction
function YEE takes nothing returns nothing
if(WSE())then
if(WQE())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(WUE())then
if(WTE())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(WYE())then
if(WWE())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W_E())then
if(WZE())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W1E())then
if(W0E())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W3E())then
if(W2E())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W5E())then
if(W4E())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W7E())then
if(W6E())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(W9E())then
if(W8E())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"breathoffrost",XVV)
call RemoveLocation(XVV)
endif
endif
if(YVE())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())-90.))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function YXE takes nothing returns nothing
set QUV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QUV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(QUV,function YEE)
endfunction
function YOE takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function YRE takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnitBJ())=='hmtm')
endfunction
function YIE takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnitBJ())=='nerw')
endfunction
function YAE takes nothing returns boolean
return(GetBooleanOr(YRE(),YIE()))
endfunction
function YNE takes nothing returns nothing
call UnitAddAbilityBJ('A0GQ',X4V)
call UnitAddAbilityBJ('A0GQ',OMV)
if(YAE())then
endif
endfunction
function YBE takes nothing returns nothing
set QWV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QWV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(QWV,Condition(function YOE))
call TriggerAddAction(QWV,function YNE)
endfunction
function YCE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<80.)
endfunction
function YDE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<60.)
endfunction
function YFE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<40.)
endfunction
function YGE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<20.)
endfunction
function YHE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<10.)
endfunction
function YJE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function YKE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<20.)
endfunction
function YLE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function YME takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit()))
endfunction
function YPE takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nerw')
endfunction
function YQE takes nothing returns boolean
return(GetBooleanAnd(YME(),YPE()))
endfunction
function YSE takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nerw')
endfunction
function YTE takes nothing returns nothing
if(YJE())then
if(YCE())then
call UnitAddAbilityBJ('A0G8',GetTriggerUnit())
call StartTimerBJ(H2V,false,30)
set H3V=GetTriggerUnit()
endif
if(YDE())then
call UnitAddAbilityBJ('A0TN',GetTriggerUnit())
endif
if(YFE())then
call UnitAddAbilityBJ('A0G9',GetTriggerUnit())
endif
if(YGE())then
call UnitAddAbilityBJ('A0GD',GetTriggerUnit())
endif
if(YHE())then
call UnitAddAbilityBJ('A0TO',GetTriggerUnit())
endif
endif
if(YLE())then
if(YKE())then
call UnitAddAbilityBJ('A0U3',GetTriggerUnit())
call StartTimerBJ(H2V,false,28.)
endif
endif
if(YQE())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),$E)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endif
if(YSE())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(30.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 300.))))
endif
endfunction
function YUE takes nothing returns nothing
set QYV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QYV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(QYV,function YTE)
endfunction
function YWE takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function YYE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<52.)
endfunction
function YZE takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<18.)
endfunction
function Y_E takes nothing returns boolean
return(GetUnitLifePercent(OMV)<20.)
endfunction
function Y0E takes nothing returns nothing
if(YYE())then
call UnitAddAbilityBJ('A0CS',GetTriggerUnit())
call TriggerSleepAction(180.)
call UnitRemoveAbilityBJ('A0CS',GetTriggerUnit())
endif
if(YZE())then
call UnitAddAbilityBJ('A0CT',GetTriggerUnit())
call UnitAddAbilityBJ('A0E7',GetTriggerUnit())
call UnitAddAbilityBJ('A0VI',GetTriggerUnit())
call UnitAddAbilityBJ('A0H2',GetTriggerUnit())
call TriggerSleepAction(180.)
call UnitRemoveAbilityBJ('A0CT',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0E7',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0H2',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0VI',GetTriggerUnit())
endif
if(Y_E())then
call UnitAddAbilityBJ('A0CT',OMV)
call UnitAddAbilityBJ('A0E7',OMV)
call UnitAddAbilityBJ('A0VI',OMV)
call UnitAddAbilityBJ('A0H2',OMV)
call TriggerSleepAction(180.)
call UnitRemoveAbilityBJ('A0H2',OMV)
call UnitRemoveAbilityBJ('A0CT',OMV)
call UnitRemoveAbilityBJ('A0E7',OMV)
call UnitRemoveAbilityBJ('A0VI',OMV)
endif
endfunction
function Y1E takes nothing returns nothing
set QZV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QZV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(QZV,Condition(function YWE))
call TriggerAddAction(QZV,function Y0E)
endfunction
function Y2E takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_FLYING))!=null
endfunction
function Y3E takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function Y4E takes nothing returns nothing
set Q_V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q_V,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddCondition(Q_V,Condition(function Y2E))
call TriggerAddAction(Q_V,function Y3E)
endfunction
function Y5E takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function Y6E takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<18.)
endfunction
function Y7E takes nothing returns nothing
if(Y6E())then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function Y8E takes nothing returns nothing
set Q0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q0V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Q0V,Condition(function Y5E))
call TriggerAddAction(Q0V,function Y7E)
endfunction
function Y9E takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nerw')
endfunction
function ZVE takes nothing returns boolean
return(GetUnitLifePercent(GetSpellTargetUnit())<20.)
endfunction
function ZEE takes nothing returns nothing
if(ZVE())then
call PlaySoundBJ(PIV)
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function ZXE takes nothing returns nothing
set Q1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q1V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Q1V,Condition(function Y9E))
call TriggerAddAction(Q1V,function ZEE)
endfunction
function ZOE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function ZRE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nfgo')
endfunction
function ZIE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n038')
endfunction
function ZAE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function ZNE takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function ZBE takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function ZCE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nfor')
endfunction
function ZDE takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function ZFE takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function ZGE takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function ZHE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nskm')
endfunction
function ZJE takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function ZKE takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function ZLE takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function ZME takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03V')
endfunction
function ZPE takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function ZQE takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function ZSE takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function ZTE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n040')
endfunction
function ZUE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nenf')
endfunction
function ZWE takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nowb')
endfunction
function ZYE takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function ZZE takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Z_E takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function Z0E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nane')
endfunction
function Z1E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n042')
endfunction
function Z2E takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Z3E takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Z4E takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function Z5E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nwwf')
endfunction
function Z6E takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Z7E takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Z8E takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function Z9E takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n041')
endfunction
function VVX takes nothing returns nothing
if(ZOE())then
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
set ABV=$B
set N6V=1
if JBV==false then
call StartTimerBJ(N5V,false,80.)
endif
if JBV then
call StartTimerBJ(N5V,false,40.)
endif
endif
if(ZRE())then
set N6V=2
if JBV==false then
call StartTimerBJ(N5V,false,80.)
endif
if JBV then
call StartTimerBJ(N5V,false,40.)
endif
endif
if(ZIE())then
set N6V=3
if JBV==false then
call StartTimerBJ(N5V,false,80.)
endif
if JBV then
call StartTimerBJ(N5V,false,40.)
endif
endif
if(ZAE())then
set N6V=4
if JBV==false then
call StartTimerBJ(N5V,false,150.)
endif
if JBV then
call StartTimerBJ(N5V,false,75.)
endif
endif
if(ZCE())then
set XVV=GetRectCenter(M2V)
call CreateNUnitsAtLocFacingLocBJ(1,'nskm',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(2)))
set HMV=GetLastCreatedUnit()
call EnumDestructablesInRectAll(M1V,function ZNE)
call EnumDestructablesInRectAll(LQV,function ZBE)
call CreateDestructableLoc('DTes',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,1))
call CreateDestructableLoc('DTes',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,1))
call CreateDestructableLoc('DTes',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,1))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTsh',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,7))
call CreateDestructableLoc('DTsh',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,7))
call CreateDestructableLoc('DTsh',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,7))
call CreateDestructableLoc('DTsh',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,7))
call CreateDestructableLoc('DTsh',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,7))
call EnumDestructablesInRectAll(LSV,function ZBE)
call SetTerrainTypeBJ(GetRectCenter(LQV),'Gdkr',-1,$D,1)
call RemoveLocation(XVV)
endif
if(ZHE())then
set HLV=2
if JBV==false then
call StartTimerBJ(HKV,false,110.)
endif
if JBV then
call StartTimerBJ(HKV,false,55.)
endif
if(ZGE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HA',XVV)
call CreateItemLoc('I0HN',XVV)
call CreateItemLoc('I0DM',XVV)
call RemoveLocation(XVV)
else
if(ZFE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HL',XVV)
call CreateItemLoc('I02O',XVV)
call CreateItemLoc('I0FC',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
if(ZDE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H3',XVV)
call CreateItemLoc('I0HI',XVV)
call CreateItemLoc('I0HC',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HK',XVV)
call CreateItemLoc('I0HO',XVV)
call CreateItemLoc('I0HD',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(ZME())then
set HLV=4
if JBV==false then
call StartTimerBJ(HKV,false,110.)
endif
if JBV then
call StartTimerBJ(HKV,false,55.)
endif
if(ZLE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I03X',XVV)
call CreateItemLoc('I0HN',XVV)
call CreateItemLoc('I0HG',XVV)
call RemoveLocation(XVV)
else
if(ZKE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H4',XVV)
call CreateItemLoc('I0DN',XVV)
call CreateItemLoc('I0FC',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
if(ZJE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HM',XVV)
call CreateItemLoc('I0DZ',XVV)
call CreateItemLoc('I0FB',XVV)
call CreateItemLoc('I079',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FA',XVV)
call CreateItemLoc('I0CS',XVV)
call CreateItemLoc('I0HO',XVV)
call CreateItemLoc('I0HJ',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(ZTE())then
set HLV=6
if JBV==false then
call StartTimerBJ(HKV,false,150.)
endif
if JBV then
call StartTimerBJ(HKV,false,75.)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0HM',XVV)
call CreateItemLoc('I0DZ',XVV)
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
if(ZSE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HN',XVV)
call CreateItemLoc('I0HG',XVV)
call RemoveLocation(XVV)
else
if(ZQE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call CreateItemLoc('I0H9',XVV)
call RemoveLocation(XVV)
else
if(ZPE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H7',XVV)
call CreateItemLoc('I0CZ',XVV)
call CreateItemLoc('I0E2',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HO',XVV)
call CreateItemLoc('I04N',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(ZUE())then
call ExecuteFunc("VEX")
endif
if(ZWE())then
call ExecuteFunc("VXX")
endif
if(Z0E())then
if(Z_E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HJ',XVV)
call CreateItemLoc('I0HA',XVV)
call CreateItemLoc('I0D1',XVV)
call RemoveLocation(XVV)
else
if(ZZE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HG',XVV)
call CreateItemLoc('I0GG',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
if(ZYE())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call CreateItemLoc('I02O',XVV)
call CreateItemLoc('I0HC',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HK',XVV)
call CreateItemLoc('I0E1',XVV)
call CreateItemLoc('I0HD',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(Z1E())then
set XVV=GetUnitLoc(GetTriggerUnit())
if DJ==0 then
call CreateItemLoc('I0DI',XVV)
endif
call CreateItemLoc('I0H8',XVV)
call RemoveLocation(XVV)
endif
if(Z5E())then
set HYV=3
if JBV==false then
call StartTimerBJ(HZV,false,190.)
endif
if JBV then
call StartTimerBJ(HZV,false,95.)
endif
if(Z4E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HJ',XVV)
call CreateItemLoc('I0HA',XVV)
call CreateItemLoc('I0DO',XVV)
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I0IP',XVV)
call RemoveLocation(XVV)
else
if(Z3E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HL',XVV)
call CreateItemLoc('I0HI',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
if(Z2E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H2',XVV)
call CreateItemLoc('I02O',XVV)
call CreateItemLoc('I0HC',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HK',XVV)
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0HD',XVV)
call CreateItemLoc('I0E2',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(Z9E())then
set HYV=4
if JBV==false then
call StartTimerBJ(HZV,false,190.)
endif
if JBV then
call StartTimerBJ(HZV,false,95.)
endif
if(Z8E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0HB',XVV)
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0HN',XVV)
call CreateItemLoc('I0HG',XVV)
call RemoveLocation(XVV)
else
if(Z7E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I0CX',XVV)
call CreateItemLoc('I0HK',XVV)
call CreateItemLoc('I0IP',XVV)
call RemoveLocation(XVV)
else
if(Z6E())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HJ',XVV)
call CreateItemLoc('I0H5',XVV)
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DQ',XVV)
call CreateItemLoc('I0HO',XVV)
call CreateItemLoc('I0E2',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endfunction
function VOX takes nothing returns nothing
set Q2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q2V,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterAnyUnitEventBJ(Q2V,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddAction(Q2V,function VVX)
endfunction
function VRX takes nothing returns boolean
return(N6V==1)
endfunction
function VIX takes nothing returns boolean
return(N6V==2)
endfunction
function VAX takes nothing returns boolean
return(N6V==3)
endfunction
function VNX takes nothing returns boolean
return(N6V==4)
endfunction
function VBX takes nothing returns nothing
if(VRX())then
set XVV=GetRectCenter(L_V)
set N4V=3
call CreateNUnitsAtLocFacingLocBJ(1,'nfgo',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
set OMV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(VIX())then
set XVV=GetRectCenter(L_V)
call CreateNUnitsAtLocFacingLocBJ(1,'n038',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(1)))
set OMV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(VAX())then
set XVV=GetRectCenter(L_V)
call CreateNUnitsAtLocFacingLocBJ(1,'n03D',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(3)))
set OMV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(VNX())then
set XVV=GetRectCenter(L_V)
call CreateNUnitsAtLocFacingLocBJ(1,'nmyr',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(2)))
set OMV=GetLastCreatedUnit()
set C9V=1
call RemoveLocation(XVV)
endif
endfunction
function VCX takes nothing returns nothing
set Q3V=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Q3V,N5V)
call TriggerAddAction(Q3V,function VBX)
endfunction
function VDX takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function VFX takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function VGX takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function VHX takes nothing returns boolean
return GetBooleanAnd(VFX(),VGX())
endfunction
function VJX takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function VHX)))>=1)
endfunction
function VKX takes nothing returns boolean
return(HLV==2)
endfunction
function VLX takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function VMX takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function VPX takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function VQX takes nothing returns boolean
return GetBooleanAnd(VMX(),VPX())
endfunction
function VSX takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function VQX)))>=1)
endfunction
function VTX takes nothing returns boolean
return(HLV==4)
endfunction
function VUX takes nothing returns nothing
call RemoveDestructable(GetEnumDestructable())
endfunction
function VWX takes nothing returns boolean
return(HLV==6)
endfunction
function VYX takes nothing returns nothing
if(VKX())then
call EnumDestructablesInRectAll(LQV,function VDX)
call CreateDestructableLoc('ZTnc',GetRectCenter(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('ZTw3',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('ZTw1',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtw',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,9))
call CreateDestructableLoc('ZTtc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,2))
call CreateDestructableLoc('ZTtc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,2))
call CreateDestructableLoc('ZTtc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),GetRandomReal(.8,1.2),GetRandomInt(0,2))
call EnumDestructablesInRectAll(LSV,function VDX)
call SetTerrainTypeBJ(GetRectCenter(LQV),'Ztil',-1,$D,1)
set XVV=GetRectCenter(M2V)
call CreateNUnitsAtLocFacingLocBJ(1,'n03V',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(4)))
set HMV=GetLastCreatedUnit()
set HLV=3
call RemoveLocation(XVV)
if(VJX())then
call StartTimerBJ(HHV,false,18.)
endif
endif
if(VTX())then
call EnumDestructablesInRectAll(LQV,function VLX)
call CreateDestructableLoc('XTvt',GetRectCenter(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('XTbd',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call EnumDestructablesInRectAll(LSV,function VLX)
set XVV=GetRectCenter(M2V)
call CreateNUnitsAtLocFacingLocBJ(1,'n040',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(4)))
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call SetTerrainTypeBJ(GetRectCenter(LQV),'Xbtl',-1,$D,1)
set HMV=GetLastCreatedUnit()
set HLV=5
call RemoveLocation(XVV)
if(VSX())then
call StartTimerBJ(HHV,false,18.)
endif
endif
if(VWX())then
call EnumDestructablesInRectAll(LQV,function VUX)
call CreateDestructableLoc('Volc',GetRectCenter(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('OTds',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('OTds',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('OTds',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('OTds',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,1)
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call CreateDestructableLoc('DTrc',GetRandomLocInRect(LQV),GetRandomDirectionDeg(),1.,GetRandomInt(0,5))
call EnumDestructablesInRectAll(LSV,function VLX)
call SetTerrainTypeBJ(GetRectCenter(LQV),'Dlvc',-1,$D,1)
set XVV=GetRectCenter(M2V)
call CreateNUnitsAtLocFacingLocBJ(1,'n042',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(0)))
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
set HMV=GetLastCreatedUnit()
set HLV=6
call RemoveLocation(XVV)
endif
endfunction
function VZX takes nothing returns nothing
set Q4V=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Q4V,HKV)
call TriggerAddAction(Q4V,function VYX)
endfunction
function V_X takes nothing returns boolean
return(HYV==2)
endfunction
function V0X takes nothing returns boolean
return(HYV==3)
endfunction
function V1X takes nothing returns boolean
return(HYV==4)
endfunction
function V2X takes nothing returns nothing
if(V_X())then
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'nwwf',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endif
if(V0X())then
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n041',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(1)))
call RemoveLocation(XVV)
endif
if(V1X())then
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n039',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
set X4V=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
endfunction
function V3X takes nothing returns nothing
set Q5V=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Q5V,HZV)
call TriggerAddAction(Q5V,function V2X)
endfunction
function V4X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05V')
endfunction
function V5X takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<50.)
endfunction
function V6X takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<7.)
endfunction
function V7X takes nothing returns nothing
if(V5X())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[19])))
endif
if(V6X())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[20])))
endif
endfunction
function V8X takes nothing returns nothing
set Q6V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q6V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Q6V,Condition(function V4X))
call TriggerAddAction(Q6V,function V7X)
endfunction
function V9X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05V')
endfunction
function EVX takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<50.)
endfunction
function EEX takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<7.)
endfunction
function EXX takes nothing returns nothing
if(EVX())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[19])))
endif
if(EEX())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[20])))
endif
endfunction
function EOX takes nothing returns nothing
set Q7V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q7V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Q7V,Condition(function V9X))
call TriggerAddAction(Q7V,function EXX)
endfunction
function ERX takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<40.)
endfunction
function EIX takes nothing returns boolean
return(GetSpellAbilityId()=='A0YC')
endfunction
function EAX takes nothing returns boolean
return(GetSpellAbilityId()=='Awrh')
endfunction
function ENX takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=900000.)
endfunction
function EBX takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n039')
endfunction
function ECX takes nothing returns boolean
return(GetSpellAbilityId()=='Awrs')
endfunction
function EDX takes nothing returns boolean
return(GetSpellAbilityId()=='A16V')
endfunction
function EFX takes nothing returns boolean
return(GetSpellAbilityId()=='AOw2')
endfunction
function EGX takes nothing returns boolean
return(GetSpellAbilityId()=='A04N')
endfunction
function EHX takes nothing returns nothing
if(EIX())then
set O8V=GetTriggerUnit()
call StartTimerBJ(RVV,false,3.6)
set O9V=CreateUnitAtLoc(GetOwningPlayer(O8V),'n05I',GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call SetUnitVertexColor(O9V,$FF,$FF,$FF,45)
call PlaySoundBJ(P6V)
if(ERX())then
call StartTimerBJ(ISV,false,3.1)
endif
endif
if(EAX())then
call TriggerSleepAction(.1)
call UnitRemoveBuffBJ('B02J',X4V)
call UnitRemoveBuffBJ('B02J',OMV)
call UnitRemoveBuffBJ('B02J',RNV)
call UnitRemoveBuffBJ('BPSE',X4V)
call UnitRemoveBuffBJ('BPSE',OMV)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B03H',X4V)
call UnitRemoveBuffBJ('B03H',OMV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',X4V)
call UnitRemoveBuffBJ('B00J',OMV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B014',X4V)
call UnitRemoveBuffBJ('B014',OMV)
call UnitRemoveBuffBJ('B014',RNV)
endif
if(EBX())then
call UnitRemoveBuffBJ('BPSE',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B03H',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B00J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B02J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B014',GetSpellTargetUnit())
if(ENX())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[$B])))
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),$F)
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(ECX())then
call TriggerSleepAction(.1)
call UnitRemoveBuffBJ('BPSE',X4V)
call UnitRemoveBuffBJ('BPSE',OMV)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B03H',X4V)
call UnitRemoveBuffBJ('B03H',OMV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',X4V)
call UnitRemoveBuffBJ('B00J',OMV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B014',X4V)
call UnitRemoveBuffBJ('B014',OMV)
call UnitRemoveBuffBJ('B014',RNV)
call UnitRemoveBuffBJ('B02J',X4V)
call UnitRemoveBuffBJ('B02J',OMV)
call UnitRemoveBuffBJ('B02J',RNV)
endif
if(EDX())then
call TriggerSleepAction(.3)
call UnitRemoveBuffBJ('BPSE',X4V)
call UnitRemoveBuffBJ('BPSE',OMV)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B03H',X4V)
call UnitRemoveBuffBJ('B03H',OMV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',X4V)
call UnitRemoveBuffBJ('B00J',OMV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B014',X4V)
call UnitRemoveBuffBJ('B014',OMV)
call UnitRemoveBuffBJ('B014',RNV)
call UnitRemoveBuffBJ('B02J',X4V)
call UnitRemoveBuffBJ('B02J',OMV)
call UnitRemoveBuffBJ('B02J',RNV)
endif
if(EFX())then
call TriggerSleepAction(.9)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B02J',RNV)
call UnitRemoveBuffBJ('B014',RNV)
endif
if(EGX())then
call TriggerSleepAction(.6)
call UnitRemoveBuffBJ('BPSE',X4V)
call UnitRemoveBuffBJ('BPSE',OMV)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B03H',X4V)
call UnitRemoveBuffBJ('B03H',OMV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',X4V)
call UnitRemoveBuffBJ('B00J',OMV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B014',X4V)
call UnitRemoveBuffBJ('B014',OMV)
call UnitRemoveBuffBJ('B014',RNV)
call UnitRemoveBuffBJ('B02J',X4V)
call UnitRemoveBuffBJ('B02J',OMV)
call UnitRemoveBuffBJ('B02J',RNV)
endif
endfunction
function EJX takes nothing returns nothing
set SVV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SVV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(SVV,function EHX)
endfunction
function EKX takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(O8V)))
endfunction
function ELX takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'Bam2')==false)
endfunction
function EMX takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'BHav')==false)
endfunction
function EPX takes nothing returns boolean
return GetBooleanAnd(ELX(),EMX())
endfunction
function EQX takes nothing returns boolean
return GetBooleanAnd(EKX(),EPX())
endfunction
function ESX takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function ETX takes nothing returns boolean
return GetBooleanAnd(EQX(),ESX())
endfunction
function EUX takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())*.33)))
endfunction
function EWX takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-I2R(FN[18])))
endfunction
function EYX takes nothing returns nothing
call UnitDamageTargetBJ(O8V,GetEnumUnit(),$249F0,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function EZX takes nothing returns nothing
set XVV=GetUnitLoc(O9V)
set XEV=GetUnitsInRangeOfLocMatching(760.,XVV,Condition(function ETX))
call ForGroupBJ(XEV,function EUX)
call ForGroupBJ(XEV,function EWX)
call ForGroupBJ(XEV,function EYX)
call DestroyGroup(XEV)
call AddSpecialEffectLocBJ(OffsetLocation(XVV,100.,100.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,200.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-100.,-100.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-200.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,100.,-100.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-200.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-100.,100.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,200.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-160.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-280.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,160.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,280.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,160.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,280.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-160.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-280.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,400.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,320.,320.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,280.,280.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,450.,.0),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-450.,.0),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,450.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-450.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-280.,280.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,280.,-280.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-280.,-280.),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-200.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,-200.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,200.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-400.),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,.0),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,500.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-500.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,500.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-500.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,-400.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,300.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
call RemoveUnit(O9V)
set O9V=null
endfunction
function E_X takes nothing returns nothing
set SEV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SEV,RVV)
call TriggerAddAction(SEV,function EZX)
endfunction
function E0X takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function E1X takes nothing returns nothing
set XVV=GetUnitLoc(O8V)
set XEV=GetUnitsInRangeOfLocMatching(2000.,XVV,Condition(function E0X))
call RemoveLocation(XVV)
set REV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(REV)
call SetUnitPositionLoc(O8V,XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(O8V,"attack",REV)
endfunction
function E2X takes nothing returns nothing
set SXV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SXV,ISV)
call TriggerAddAction(SXV,function E1X)
endfunction
function E3X takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>26)and(GetRandomInt(1,6)==3)
endfunction
function E4X takes nothing returns boolean
return((N0V>=95)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function E5X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='o012')
endfunction
function E6X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05W')
endfunction
function E7X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05W')
endfunction
function E8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06R')
endfunction
function E9X takes nothing returns boolean
return(AEV>=$FA)
endfunction
function XVX takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE))!=null
endfunction
function XEX takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MECHANICAL))!=null
endfunction
function XXX takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function XOX takes nothing returns boolean
return GetBooleanOr(XEX(),XXX())
endfunction
function XRX takes nothing returns boolean
return(GetBooleanOr(XVX(),XOX()))
endfunction
function XIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H042')
endfunction
function XAX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h06R')
endfunction
function XNX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='ufro')
endfunction
function XBX takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=700000.)
endfunction
function XCX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n039')
endfunction
function XDX takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())>I2R(FBV))
endfunction
function XFX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='ndrj')
endfunction
function XGX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n02Q')
endfunction
function XHX takes nothing returns boolean
return(GetBooleanOr(XFX(),XGX()))
endfunction
function XJX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h05V')
endfunction
function XKX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06R')
endfunction
function XLX takes nothing returns nothing
if(E5X())then
call StartTimerBJ(AXV,false,5.)
set N0V=(N0V+1)
if(E3X())then
call IssueImmediateOrderBJ(GetAttacker(),"tranquility")
endif
if(E4X())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"acidbomb",GetTriggerUnit())
call IssueTargetOrderBJ(GetAttacker(),"attack",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(E6X())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(400.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ I2R(FN[21])))))
set AEV=(AEV+1)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(11.*I2R(AEV))))
endif
if(E8X())then
if(E7X())then
call KillUnit(GetAttacker())
endif
set XVV=GetUnitLoc(GetAttacker())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())-(I2R(FN[22])+1.)))
endif
if(XAX())then
set AEV=(AEV+1)
if(E9X())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(23.*I2R(AEV))))
endif
if(XRX())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),18)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(XIX())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),19)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(XNX())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-220.))
endif
if(XCX())then
if(XBX())then
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())-I2R(FN[$E])))
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),21)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(XHX())then
set FBV=(FBV+3)
if(XDX())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FBV)))
else
call SetUnitLifeBJ(GetTriggerUnit(),1.)
endif
endif
if(XJX())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
endif
if(XKX())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
endif
endfunction
function XMX takes nothing returns nothing
set SOV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SOV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(SOV,function XLX)
endfunction
function XPX takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function XQX takes nothing returns nothing
set XVV=GetUnitLoc(O8V)
set XEV=GetUnitsInRangeOfLocMatching(2000.,XVV,Condition(function XPX))
call RemoveLocation(XVV)
set REV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(REV)
call SetUnitPositionLoc(O8V,XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(O8V,"attack",REV)
endfunction
function XSX takes nothing returns nothing
set SRV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(SRV,80.)
call TriggerAddAction(SRV,function XQX)
endfunction
function XTX takes nothing returns nothing
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(O8V,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function XUX takes nothing returns nothing
set SIV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(SIV,55.)
call TriggerAddAction(SIV,function XTX)
endfunction
function XWX takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n01A')
endfunction
function XYX takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n019')
endfunction
function XZX takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n01B')
endfunction
function X_X takes nothing returns boolean
return GetBooleanOr(XYX(),XZX())
endfunction
function X0X takes nothing returns boolean
return GetBooleanOr(XWX(),X_X())
endfunction
function X1X takes nothing returns nothing
set XVV=GetUnitLoc(RNV)
set XEV=GetUnitsInRangeOfLocMatching(2500.,XVV,Condition(function X0X))
call RemoveLocation(XVV)
set IQV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call IssueTargetOrderBJ(RNV,"attack",IQV)
endfunction
function X2X takes nothing returns nothing
set SAV=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(SAV,30.)
call TriggerAddAction(SAV,function X1X)
endfunction
function X3X takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function X4X takes nothing returns nothing
if(X3X())then
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(O8V,"attack",XVV)
call IssuePointOrderLocBJ(RNV,"attack",XVV)
call RemoveLocation(XVV)
endif
endfunction
function X5X takes nothing returns nothing
set SNV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SNV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(SNV,function X4X)
endfunction
function X6X takes nothing returns boolean
return(IsUnit(RNV,GetTriggerUnit()))
endfunction
function X7X takes nothing returns boolean
return(IsUnit(O8V,GetTriggerUnit()))
endfunction
function X8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrj')
endfunction
function X9X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02Q')
endfunction
function OVX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02R')
endfunction
function OEX takes nothing returns nothing
if(X6X())or X7X()then
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(X8X())then
set XVV=GetRectCenter(KKV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
if(X9X())then
set XVV=GetRectCenter(KKV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
if(OVX())then
set XVV=GetRectCenter(KKV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function OXX takes nothing returns nothing
set SBV=CreateTrigger()
call TriggerRegisterEnterRectSimple(SBV,KHV)
call TriggerAddAction(SBV,function OEX)
endfunction
function OOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')
endfunction
function ORX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==GetUnitTypeId(RNV))
endfunction
function OIX takes nothing returns nothing
if(OOX())then
set N7V=5
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(O8V,"attack",XVV)
call RemoveLocation(XVV)
endif
if(ORX())then
set N7V=5
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(RNV,"attack",XVV)
call RemoveLocation(XVV)
endif
endfunction
function OAX takes nothing returns nothing
set SCV=CreateTrigger()
call TriggerRegisterEnterRectSimple(SCV,KNV)
call TriggerAddAction(SCV,function OIX)
endfunction
function ONX takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OBX takes nothing returns boolean
return(GetSpellAbilityId()=='A0EG')
endfunction
function OCX takes nothing returns boolean
return((GetRandomInt(1,4)==3)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function ODX takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='o012')
endfunction
function OFX takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'Bam2')==false)and(UnitHasBuffBJ(GetTriggerUnit(),'B04V')==false)and(UnitHasBuffBJ(GetTriggerUnit(),'BHav')==false)
endfunction
function OGX takes nothing returns boolean
return(GetRandomInt(1,3)<=2)
endfunction
function OHX takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='h05V')
endfunction
function OJX takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='h06R')and(UnitHasBuffBJ(GetTriggerUnit(),'B04V')==false)
endfunction
function OKX takes nothing returns nothing
call UnitRemoveBuffBJ('BPSE',O8V)
call UnitRemoveBuffBJ('B03H',O8V)
call UnitRemoveBuffBJ('B00J',O8V)
call UnitRemoveBuffBJ('B02J',O8V)
call UnitRemoveBuffBJ('B014',O8V)
if(OBX())then
set XVV=GetUnitLoc(O8V)
set XEV=GetUnitsInRangeOfLocMatching(2000.,XVV,Condition(function ONX))
call RemoveLocation(XVV)
set REV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call SetUnitPositionLoc(O8V,GetUnitLoc(REV))
call IssueTargetOrderBJ(O8V,"attack",REV)
call TriggerSleepAction(3.)
call UnitRemoveBuffBJ('BPSE',CNV)
call UnitRemoveBuffBJ('B03H',CNV)
call UnitRemoveBuffBJ('B00J',CNV)
call UnitRemoveBuffBJ('B02J',CNV)
call UnitRemoveBuffBJ('B014',CNV)
endif
if(ODX())then
if(OCX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attack",GetTriggerUnit())
endif
endif
if(OHX())then
if(OGX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,45.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,90.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,135.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,180.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,225.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,270.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,310.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
if(OFX())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(18000.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 2.))))
endif
endif
endif
if(OJX())then
call SetUnitLifeBJ(GetSpellAbilityUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellAbilityUnit())-I2R(FN[23])))
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetSpellAbilityUnit(),100000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endfunction
function OLX takes nothing returns nothing
set SDV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SDV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(SDV,function OKX)
endfunction
function OMX takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function OPX takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<60.)
endfunction
function OQX takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<32.)
endfunction
function OSX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')
endfunction
function OTX takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false)and(GetUnitLevel(GetTriggerUnit())>=60)and(IsUnit(RNV,GetAttacker())==false))!=null
endfunction
function OUX takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>99)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function OWX takes nothing returns boolean
return(IsUnit(RNV,GetAttacker()))
endfunction
function OYX takes nothing returns boolean
return(IsUnit(O8V,GetAttacker()))
endfunction
function OZX takes nothing returns nothing
if(OSX())then
if(OMX())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),70.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(OPX())then
call UnitAddAbilityBJ('A0YA',GetTriggerUnit())
endif
if(OQX())then
call UnitAddAbilityBJ('A0YB',GetTriggerUnit())
endif
endif
if(OWX())or(OYX())then
if(OTX())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.01),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(OUX())then
call UnitAddAbilityBJ('A16G',GetAttacker())
call UnitAddAbilityBJ('A16F',GetAttacker())
call UnitAddAbilityBJ('A0X3',GetAttacker())
set XVV=Location($EEF,-8377)
call SetUnitPositionLoc(GetAttacker(),XVV)
call RemoveLocation(XVV)
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetAttacker(),"attack",XVV)
call RemoveLocation(XVV)
endif
endif
endfunction
function O_X takes nothing returns nothing
set SFV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SFV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(SFV,function OZX)
endfunction
function O0X takes nothing returns nothing
call EnableTrigger(SJV)
call UnitAddAbilityBJ('A1AS',O8V)
call UnitAddAbilityBJ('A1AT',O8V)
call UnitAddAbilityBJ('A0CT',O8V)
call UnitAddAbilityBJ('A0E6',O8V)
call UnitAddAbilityBJ('A0SL',O8V)
call UnitAddAbilityBJ('A092',O8V)
call AddSpecialEffectTargetUnitBJ("origin",O8V,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function O1X takes nothing returns nothing
set SGV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SGV,RFV)
call TriggerAddAction(SGV,function O0X)
endfunction
function O2X takes nothing returns nothing
call UnitAddAbilityBJ('A0WZ',BWV)
call UnitAddAbilityBJ('A0CS',BWV)
call UnitAddAbilityBJ('A0YT',BWV)
call UnitAddAbilityBJ('A1R1',BWV)
call AddSpecialEffectTargetUnitBJ("origin",BWV,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(BWV,"attack",XVV)
call RemoveLocation(XVV)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function O3X takes nothing returns nothing
set SHV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SHV,BYV)
call TriggerAddAction(SHV,function O2X)
endfunction
function O4X takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='o012')
endfunction
function O5X takes nothing returns nothing
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(10.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 40.))))
endfunction
function O6X takes nothing returns nothing
set SJV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SJV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(SJV,Condition(function O4X))
call TriggerAddAction(SJV,function O5X)
endfunction
function O7X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h05V')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function O8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h05W')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function O9X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03N')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function RVX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function REX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06R')and(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function RXX takes nothing returns nothing
local integer ROX
if(O7X())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C8',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Laika will come in 45 seconds|r ")
call StartTimerBJ(RIV,false,45.)
set RBV=CreateTimerDialogBJ(RIV,"Laika comes in:")
endif
if(O8X())then
set ROX=GetRandomInt(1,4)
if ROX==1 then
call CreateItemLoc('I0LI',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==2 and HNV<2 then
call CreateItemLoc('I0GD',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==3 then
call CreateItemLoc('I0E0',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==4 then
call CreateItemLoc('I0DZ',GetUnitLoc(GetTriggerUnit()))
endif
set ROX=0
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Psychic Sheep will come in 45 seconds|r ")
call StartTimerBJ(RIV,false,45.)
set RBV=CreateTimerDialogBJ(RIV,"Psychic Sheep comes in:")
endif
if(O9X())then
call DisplayTextToForce(GetPlayersAll(),"no victory mode had been selected at the start of the game. Victory by killing the dark forces base has been enabled again. 
The base will be respawned if you already destroyed it")
if BF==1 then
set BF=0
endif
if BF==2 then
call CreateUnit(Player(1),'unp2',1152.,10560.,270.)
set BF=0
endif
endif
if(RVX())then
call EnableTrigger(SSV)
call StartTimerBJ(RIV,false,50.)
set RBV=CreateTimerDialogBJ(RIV,"Michael comes in:")
call DisableTrigger(OOE)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000God has decided that you are too strong to live, he send one of his soldiers for you that will descend in 50 seconds|r ")
if(GetRandomInt(1,4)==1)then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C6',XVV)
call RemoveLocation(XVV)
else
if(GetRandomInt(1,3)==1)then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C5',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05E',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(REX())then
set ROX=GetRandomInt(1,4)
if ROX==1 then
call CreateItemLoc('I0FW',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==2 then
call CreateItemLoc('I0DH',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==3 then
call CreateItemLoc('I0HW',GetUnitLoc(GetTriggerUnit()))
endif
if ROX==4 then
call CreateItemLoc('I0LH',GetUnitLoc(GetTriggerUnit()))
endif
set ROX=0
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Gold Bahamut the King will come in 6 minutes|r ")
call StartTimerBJ(RIV,false,360.)
set RBV=CreateTimerDialogBJ(RIV,"Gold Bahamut the King comes in:")
endif
endfunction
function RRX takes nothing returns nothing
set SKV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SKV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(SKV,function RXX)
endfunction
function RIX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05V')
endfunction
function RAX takes nothing returns nothing
set AEV=(AEV+1)
call StartTimerBJ(AXV,false,2.)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(AEV)*23.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function RNX takes nothing returns nothing
set SLV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SLV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(SLV,Condition(function RIX))
call TriggerAddAction(SLV,function RAX)
endfunction
function RBX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h05W')
endfunction
function RCX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h06R')
endfunction
function RDX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03N')
endfunction
function RFX takes nothing returns nothing
if(RBX())then
call StartTimerBJ(AXV,false,2.)
endif
if(RCX())then
call StartTimerBJ(AXV,false,2.)
endif
if(RDX())then
call StartTimerBJ(AXV,false,2.)
endif
endfunction
function RGX takes nothing returns nothing
set SMV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SMV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(SMV,function RFX)
endfunction
function RHX takes nothing returns boolean
return(N7V==5)
endfunction
function RJX takes nothing returns nothing
if(RHX())then
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(RNV,"attack",XVV)
call IssuePointOrderLocBJ(O8V,"attack",XVV)
call RemoveLocation(XVV)
else
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(RNV,"attack",XVV)
call RemoveLocation(XVV)
set XVV=GetRectCenter(KNV)
call IssuePointOrderLocBJ(O8V,"attack",XVV)
call RemoveLocation(XVV)
endif
endfunction
function RKX takes nothing returns nothing
set SPV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SPV,AXV)
call TriggerAddAction(SPV,function RJX)
endfunction
function RLX takes nothing returns nothing
if RAV==3 then
call DestroyTimerDialogBJ(RBV)
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLoc(1,'n03N',Player(1),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_YELLOW)
set RNV=GetLastCreatedUnit()
set BWV=GetLastCreatedUnit()
call StartTimerBJ(BYV,false,600.)
call RemoveLocation(XVV)
endif
if RAV==2 then
call DestroyTimerDialogBJ(RBV)
set RAV=3
set N7V=3
set AEV=0
set XVV=GetRectCenter(KDV)
set G2V=0
call CreateNUnitsAtLocFacingLocBJ(1,'h06R',Player(1),XVV,XVV)
set RNV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if RAV==1 then
call DestroyTimerDialogBJ(RBV)
set RAV=2
set N7V=3
set AEV=0
set XVV=GetRectCenter(KDV)
set G2V=0
call CreateNUnitsAtLocFacingLocBJ(1,'h05W',Player(1),XVV,XVV)
set RNV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if RAV==0 then
call DestroyTimerDialogBJ(RBV)
set RAV=1
set XVV=GetRectCenter(KDV)
set G2V=0
set G1V=4
call CreateNUnitsAtLocFacingLocBJ(1,'h05V',Player(1),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_YELLOW)
call StartTimerBJ(AXV,false,5.)
set N7V=3
set RNV=GetLastCreatedUnit()
call RemoveLocation(XVV)
call DisableTrigger(SSV)
endif
endfunction
function RMX takes nothing returns nothing
set SQV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SQV,RIV)
call TriggerAddAction(SQV,function RLX)
endfunction
function RPX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o012')
endfunction
function RQX takes nothing returns nothing
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",XVV)
call RemoveLocation(XVV)
endfunction
function RSX takes nothing returns nothing
set STV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(STV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(STV,Condition(function RPX))
call TriggerAddAction(STV,function RQX)
endfunction
function RTX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nbwm')
endfunction
function RUX takes nothing returns nothing
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(20.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())/ 80.))))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function RWX takes nothing returns nothing
set SUV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SUV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(SUV,Condition(function RTX))
call TriggerAddAction(SUV,function RUX)
endfunction
function RYX takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nbzd')
endfunction
function RZX takes nothing returns nothing
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(.0+(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())/ 100.))))
endfunction
function R_X takes nothing returns nothing
set SWV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SWV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(SWV,Condition(function RYX))
call TriggerAddAction(SWV,function RZX)
endfunction
function R0X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function R1X takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<50.)
endfunction
function R2X takes nothing returns nothing
if(R1X())then
call IssueTargetOrderBJ(GetTriggerUnit(),"hex",GetAttacker())
endif
endfunction
function R3X takes nothing returns nothing
set SYV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SYV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(SYV,Condition(function R0X))
call TriggerAddAction(SYV,function R2X)
endfunction
function R4X takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nerw')
endfunction
function R5X takes nothing returns boolean
return(GetUnitLifePercent(GetSpellTargetUnit())<50.)
endfunction
function R6X takes nothing returns nothing
if(R5X())then
call IssueTargetOrderBJ(GetSpellTargetUnit(),"hex",GetSpellAbilityUnit())
endif
endfunction
function R7X takes nothing returns nothing
set SZV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SZV,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(SZV,Condition(function R4X))
call TriggerAddAction(SZV,function R6X)
endfunction
function R8X takes nothing returns boolean
return(GetSpellAbilityId()=='A0CR')
endfunction
function R9X takes nothing returns nothing
endfunction
function IVX takes nothing returns nothing
set S_V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S_V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(S_V,Condition(function R8X))
call TriggerAddAction(S_V,function R9X)
endfunction
function IEX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Eilm')
endfunction
function IXX takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<50.)
endfunction
function IOX takes nothing returns nothing
if(IXX())then
call IssueTargetOrderBJ(GetTriggerUnit(),"doom",GetAttacker())
endif
endfunction
function IRX takes nothing returns nothing
set S0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S0V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(S0V,Condition(function IEX))
call TriggerAddAction(S0V,function IOX)
endfunction
function IIX takes nothing returns boolean
return(GetSpellAbilityId()=='A0CR')
endfunction
function IAX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hmtm',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetSpellTargetLoc())
call RemoveLocation(XVV)
endfunction
function INX takes nothing returns nothing
set S1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S1V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(S1V,Condition(function IIX))
call TriggerAddAction(S1V,function IAX)
endfunction
function IBX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00W')
endfunction
function ICX takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<60.)
endfunction
function IDX takes nothing returns nothing
if(ICX())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"locustswarm")
endif
endfunction
function IFX takes nothing returns nothing
set S2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S2V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(S2V,Condition(function IBX))
call TriggerAddAction(S2V,function IDX)
endfunction
function IGX takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==Player(0)
endfunction
function IHX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='hfoo'
endfunction
function IJX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='nhea'
endfunction
function IKX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='hrif'
endfunction
function ILX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='hkni'
endfunction
function IMX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='hmpr'
endfunction
function IPX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='eshd'
endfunction
function IQX takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='hhes'
endfunction
function ISX takes nothing returns boolean
return GetBooleanOr(IHX(),IJX())
endfunction
function ITX takes nothing returns boolean
return GetBooleanOr(IKX(),ILX())
endfunction
function IUX takes nothing returns boolean
return GetBooleanOr(IMX(),IPX())
endfunction
function IWX takes nothing returns boolean
return GetBooleanOr(IQX(),ISX())
endfunction
function IYX takes nothing returns boolean
return GetBooleanOr(IWX(),ITX())
endfunction
function IZX takes nothing returns boolean
return GetBooleanOr(IYX(),IUX())
endfunction
function I_X takes nothing returns boolean
return GetBooleanAnd(IZX(),IGX())
endfunction
function I0X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function I1X takes nothing returns nothing
set XVV=GetRectCenter(KGV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function I2X takes nothing returns nothing
set XEV=GetUnitsInRectMatching(KIV,Condition(function I_X))
call ForGroupBJ(XEV,function I1X)
call DestroyGroup(XEV)
endfunction
function I3X takes nothing returns nothing
set S3V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S3V,KIV)
call TriggerAddCondition(S3V,Condition(function I0X))
call TriggerAddAction(S3V,function I2X)
endfunction
function I4X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function I5X takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(0)))
endfunction
function I6X takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KIV,Player(1))
call ForGroupBJ(XEV,function I5X)
call DestroyGroup(XEV)
endfunction
function I7X takes nothing returns nothing
set S4V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S4V,KIV)
call TriggerAddCondition(S4V,Condition(function I4X))
call TriggerAddAction(S4V,function I6X)
endfunction
function I8X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function I9X takes nothing returns nothing
set XVV=GetRectCenter(KFV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function AVX takes nothing returns nothing
set XEV=GetUnitsInRectMatching(KAV,Condition(function I_X))
call ForGroupBJ(XEV,function I9X)
call DestroyGroup(XEV)
endfunction
function AEX takes nothing returns nothing
set S5V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S5V,KAV)
call TriggerAddCondition(S5V,Condition(function I8X))
call TriggerAddAction(S5V,function AVX)
endfunction
function AXX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function AOX takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(0)))
endfunction
function ARX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KAV,Player(1))
call ForGroupBJ(XEV,function AOX)
call DestroyGroup(XEV)
endfunction
function AIX takes nothing returns nothing
set S6V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S6V,KAV)
call TriggerAddCondition(S6V,Condition(function AXX))
call TriggerAddAction(S6V,function ARX)
endfunction
function AAX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function ANX takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(1)))
endfunction
function ABX takes nothing returns nothing
set XEV=GetUnitsInRectMatching(KNV,Condition(function I_X))
call ForGroupBJ(XEV,function ANX)
call DestroyGroup(XEV)
endfunction
function ACX takes nothing returns nothing
set S7V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S7V,KNV)
call TriggerAddCondition(S7V,Condition(function AAX))
call TriggerAddAction(S7V,function ABX)
endfunction
function ADX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function AFX takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(0)))
endfunction
function AGX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KNV,Player(1))
call ForGroupBJ(XEV,function AFX)
call DestroyGroup(XEV)
endfunction
function AHX takes nothing returns nothing
set S8V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S8V,KNV)
call TriggerAddCondition(S8V,Condition(function ADX))
call TriggerAddAction(S8V,function AGX)
endfunction
function AJX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function AKX takes nothing returns nothing
set XVV=GetRectCenter(KCV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function ALX takes nothing returns nothing
set XEV=GetUnitsInRectMatching(KBV,Condition(function I_X))
call ForGroupBJ(XEV,function AKX)
call DestroyGroup(XEV)
endfunction
function AMX takes nothing returns nothing
set S9V=CreateTrigger()
call TriggerRegisterEnterRectSimple(S9V,KBV)
call TriggerAddCondition(S9V,Condition(function AJX))
call TriggerAddAction(S9V,function ALX)
endfunction
function APX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function AQX takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(0)))
endfunction
function ASX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KBV,Player(1))
call ForGroupBJ(XEV,function AQX)
call DestroyGroup(XEV)
endfunction
function ATX takes nothing returns nothing
set TVV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TVV,KBV)
call TriggerAddCondition(TVV,Condition(function APX))
call TriggerAddAction(TVV,function ASX)
endfunction
function AUX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function AWX takes nothing returns nothing
call GroupPointOrderLocBJ(XEV,"attack",GetPlayerStartLocationLoc(Player(0)))
endfunction
function AYX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(LZV,Player(1))
call ForGroupBJ(XEV,function AWX)
call DestroyGroup(XEV)
endfunction
function AZX takes nothing returns nothing
set TEV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(TEV,KNV)
call TriggerAddCondition(TEV,Condition(function AUX))
call TriggerAddAction(TEV,function AYX)
endfunction
function A_X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function A0X takes nothing returns nothing
set XVV=GetRectCenter(KLV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function A1X takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KCV,Player(0))
call ForGroupBJ(XEV,function A0X)
call DestroyGroup(XEV)
endfunction
function A2X takes nothing returns nothing
set TXV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TXV,KCV)
call TriggerAddCondition(TXV,Condition(function A_X))
call TriggerAddAction(TXV,function A1X)
endfunction
function A3X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function A4X takes nothing returns nothing
set XVV=GetRectCenter(KBV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function A5X takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KCV,Player(1))
call ForGroupBJ(XEV,function A4X)
call DestroyGroup(XEV)
endfunction
function A6X takes nothing returns nothing
set TOV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TOV,KCV)
call TriggerAddCondition(TOV,Condition(function A3X))
call TriggerAddAction(TOV,function A5X)
endfunction
function A7X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function A8X takes nothing returns nothing
set XVV=GetRectCenter(KNV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function A9X takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KDV,Player(1))
call ForGroupBJ(XEV,function A8X)
call DestroyGroup(XEV)
endfunction
function NVX takes nothing returns nothing
set TRV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TRV,KDV)
call TriggerAddCondition(TRV,Condition(function A7X))
call TriggerAddAction(TRV,function A9X)
endfunction
function NEX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function NXX takes nothing returns nothing
set XVV=GetRectCenter(KLV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function NOX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KFV,Player(0))
call ForGroupBJ(XEV,function NXX)
call DestroyGroup(XEV)
endfunction
function NRX takes nothing returns nothing
set TIV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TIV,KFV)
call TriggerAddCondition(TIV,Condition(function NEX))
call TriggerAddAction(TIV,function NOX)
endfunction
function NIX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function NAX takes nothing returns nothing
set XVV=GetRectCenter(KAV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function NNX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KFV,Player(1))
call ForGroupBJ(XEV,function NAX)
call DestroyGroup(XEV)
endfunction
function NBX takes nothing returns nothing
set TAV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TAV,KFV)
call TriggerAddCondition(TAV,Condition(function NIX))
call TriggerAddAction(TAV,function NNX)
endfunction
function NCX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function NDX takes nothing returns nothing
set XVV=GetRectCenter(KLV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function NFX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KGV,Player(0))
call ForGroupBJ(XEV,function NDX)
call DestroyGroup(XEV)
endfunction
function NGX takes nothing returns nothing
set TNV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TNV,KGV)
call TriggerAddCondition(TNV,Condition(function NCX))
call TriggerAddAction(TNV,function NFX)
endfunction
function NHX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function NJX takes nothing returns nothing
set XVV=GetRectCenter(KIV)
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endfunction
function NKX takes nothing returns nothing
set XEV=GetUnitsInRectOfPlayer(KGV,Player(1))
call ForGroupBJ(XEV,function NJX)
call DestroyGroup(XEV)
endfunction
function NLX takes nothing returns nothing
set TBV=CreateTrigger()
call TriggerRegisterEnterRectSimple(TBV,KGV)
call TriggerAddCondition(TBV,Condition(function NHX))
call TriggerAddAction(TBV,function NKX)
endfunction
function NMX takes nothing returns nothing
set B6V=4
call DisplayTextToForce(GetPlayersAll(),"Low Level units do not drop items anymore, player teal can disable this with the command -LL.")
call EnableTrigger(ADE)
endfunction
function NPX takes nothing returns nothing
set TCV=CreateTrigger()
call DisableTrigger(TCV)
if JBV==false then
call TriggerRegisterTimerEventSingle(TCV,6000.)
endif
if JBV then
call TriggerRegisterTimerEventSingle(TCV,3000.)
endif
call TriggerAddAction(TCV,function NMX)
endfunction
function NQX takes nothing returns nothing
if GJ==0 or FJ==0 then
call SetHeroStr(GetLastCreatedUnit(),274,true)
call SetHeroAgi(GetLastCreatedUnit(),'d',true)
call SetHeroInt(GetLastCreatedUnit(),320,true)
endif
if GJ==1 or FJ==1 then
call SetHeroStr(GetLastCreatedUnit(),582,true)
call SetHeroAgi(GetLastCreatedUnit(),$AA,true)
call SetHeroInt(GetLastCreatedUnit(),560,true)
endif
if GJ==2 or FJ==2 then
call SetHeroStr(GetLastCreatedUnit(),$413,true)
call SetHeroAgi(GetLastCreatedUnit(),$FF,true)
call SetHeroInt(GetLastCreatedUnit(),680,true)
endif
if GJ==3 or FJ==3 then
call SetHeroStr(GetLastCreatedUnit(),$68E,true)
call SetHeroAgi(GetLastCreatedUnit(),420,true)
call SetHeroInt(GetLastCreatedUnit(),800,true)
endif
endfunction
function NSX takes nothing returns nothing
if GJ==0 or FJ==0 then
call SetHeroStr(GetLastCreatedUnit(),498,true)
call SetHeroAgi(GetLastCreatedUnit(),'d',true)
call SetHeroInt(GetLastCreatedUnit(),$AC,true)
endif
if GJ==1 or FJ==1 then
call SetHeroStr(GetLastCreatedUnit(),789,true)
call SetHeroAgi(GetLastCreatedUnit(),$A0,true)
call SetHeroInt(GetLastCreatedUnit(),$F6,true)
endif
if GJ==2 or FJ==2 then
call SetHeroStr(GetLastCreatedUnit(),$4BB,true)
call SetHeroAgi(GetLastCreatedUnit(),280,true)
call SetHeroInt(GetLastCreatedUnit(),477,true)
endif
if GJ==3 or FJ==3 then
call SetHeroStr(GetLastCreatedUnit(),$7BE,true)
call SetHeroAgi(GetLastCreatedUnit(),520,true)
call SetHeroInt(GetLastCreatedUnit(),689,true)
endif
endfunction
function NTX takes nothing returns boolean
return(CVV==18)
endfunction
function NUX takes nothing returns boolean
return(CVV==17)
endfunction
function NWX takes nothing returns boolean
return(CVV==16)
endfunction
function NYX takes nothing returns boolean
return(CVV==$E)
endfunction
function NZX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function N_X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function N0X takes nothing returns boolean
return(CVV==$D)
endfunction
function N1X takes nothing returns boolean
return(CVV==$C)
endfunction
function N2X takes nothing returns boolean
return(CVV==$A)
endfunction
function N3X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function N4X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function N5X takes nothing returns boolean
return(CVV==9)
endfunction
function N6X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function N7X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function N8X takes nothing returns boolean
return(CVV==8)
endfunction
function N9X takes nothing returns boolean
return(CVV==6)
endfunction
function BVX takes nothing returns boolean
return(GetRandomInt(1,4)<=3)
endfunction
function BEX takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function BXX takes nothing returns boolean
return(CVV==5)
endfunction
function BOX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function BRX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function BIX takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function BAX takes nothing returns boolean
return(CVV==4)
endfunction
function BNX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function BBX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function BCX takes nothing returns boolean
return(CVV==3)
endfunction
function BDX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function BFX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function BGX takes nothing returns boolean
return(CVV==2)
endfunction
function BHX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function BJX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function BKX takes nothing returns boolean
return(CVV<2)
endfunction
function BLX takes nothing returns nothing
set FCV=GetRectCenter(KCV)
if(BKX())then
if(BJX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnb',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Brute|r come for The Fourth Path")
else
if(BHX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nowe',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Enraged Wildkin|r come for The Fourth Path
")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Bandit Lord|r come for The Fourth Path")
endif
endif
else
if(BGX())then
if(BFX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nvdg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Greater VoidWalker|r come for The Fourth Path")
else
if(BDX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntks',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskar Sorcerer|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nkob',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Kobold|r come for The Fourth Path")
endif
endif
else
if(BCX())then
if(BBX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndrm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Draenei Disciple|r come for The Fourth Path")
else
if(BNX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nith',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll High Priest|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nmmu',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Murloc Mutant|r come for The Fourth Path")
endif
endif
else
if(BAX())then
if(BIX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(3,'nfrl',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(2,'n01F',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Furbolg Stampeder|r come for The Fourth Path")
else
if(BRX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nplg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Giant Polar Bear|r come for The Fourth Path")
else
if(BOX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nfsp',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Troll Mage|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntkw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskarr Warrior|r come for The Fourth Path")
endif
endif
endif
else
if(BXX())then
if(BEX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwiz',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Dark Priest|r come for The Fourth Path")
else
if(BVX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00S',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Blaspheme|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nhrq',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Harpy Queen|r come for The Fourth Path")
endif
endif
else
if(N9X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nogl',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(N8X())then
if(N7X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Lesser Vampire|r come for The Fourth Path")
else
if(N6X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nitw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll Warlord|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nano',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Overlord Arachnathid|r come for The Fourth Path")
endif
endif
else
if(N5X())then
if(N4X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwzr',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Roque Wizzard|r come for The Fourth Path")
else
if(N3X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn5',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn4',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn6',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Team Panda|r come for The Fourth Path

")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Warden|r come for The Fourth Path")
endif
endif
else
if(N2X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(N1X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqs',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(N0X())then
if(N_X())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Overseer|r come for The Fourth Path")
else
if(NZX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nrzg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Razormane Chieftain|r come for The Fourth Path")
else
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00T',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Zatan Priest|r come for The Fourth Path")
endif
endif
else
if(NYX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(NWX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'u00E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(NUX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'nenc',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(NTX())then
set XVV=GetRectCenter(KCV)
call CreateNUnitsAtLocFacingLocBJ(1,'n01E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(FCV)
endfunction
function BMX takes nothing returns nothing
set TDV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TDV,B9V)
call TriggerAddAction(TDV,function BLX)
endfunction
function BPX takes nothing returns boolean
return(CVV==18)
endfunction
function BQX takes nothing returns boolean
return(CVV==17)
endfunction
function BSX takes nothing returns boolean
return(CVV==16)
endfunction
function BTX takes nothing returns boolean
return(CVV==$E)
endfunction
function BUX takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function BWX takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function BYX takes nothing returns boolean
return(CVV==$D)
endfunction
function BZX takes nothing returns boolean
return(CVV==$C)
endfunction
function B_X takes nothing returns boolean
return(CVV==$A)
endfunction
function B0X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function B1X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function B2X takes nothing returns boolean
return(CVV==9)
endfunction
function B3X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function B4X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function B5X takes nothing returns boolean
return(CVV==8)
endfunction
function B6X takes nothing returns boolean
return(CVV==6)
endfunction
function B7X takes nothing returns boolean
return(GetRandomInt(1,4)<=3)
endfunction
function B8X takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function B9X takes nothing returns boolean
return(CVV==5)
endfunction
function CVX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CEX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function CXX takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function COX takes nothing returns boolean
return(CVV==4)
endfunction
function CRX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CIX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function CAX takes nothing returns boolean
return(CVV==3)
endfunction
function CNX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CBX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function CCX takes nothing returns boolean
return(CVV==2)
endfunction
function CDX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CFX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function CGX takes nothing returns boolean
return(CVV<2)
endfunction
function CHX takes nothing returns nothing
if(CGX())then
if(CFX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnb',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Brute|r come for The First Path")
else
if(CDX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nowe',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Enraged Wildkin|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Bandit Lord|r come for The First Path")
endif
endif
else
if(CCX())then
if(CBX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nvdg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Greater VoidWalker|r come for The First Path")
else
if(CNX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntks',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskar Sorcerer|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nkob',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Kobold|r come for The First Path")
endif
endif
else
if(CAX())then
if(CIX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndrm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Draenei Disciple|r come for The First Path")
else
if(CRX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nith',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll High Priest|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nmmu',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Murloc Mutant|r come for The First Path")
endif
endif
else
if(COX())then
if(CXX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(3,'nfrl',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(2,'n01F',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Furbolg Stampeder|r come for The First Path")
else
if(CEX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nplg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Giant Polar Bear|r come for The First Path")
else
if(CVX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nfsp',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Troll Mage|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntkw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskarr Warrior|r come for The First Path")
endif
endif
endif
else
if(B9X())then
if(B8X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwiz',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Dark Priest|r come for The First Path")
else
if(B7X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00S',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Blaspheme|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nhrq',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Harpy Queen|r come for The First Path")
endif
endif
else
if(B6X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nogl',Player(1),XVV,FCV)
call RemoveLocation(FCV)
call RemoveLocation(XVV)
else
if(B5X())then
if(B4X())then
set FCV=GetRectCenter(KGV)
set XVV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Lesser Vampire|r come for The First Path")
else
if(B3X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nitw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll Warlord|r come for The First Path")
else
set FCV=GetRectCenter(KGV)
set XVV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nano',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Overlord Arachnathid|r come for The First Path")
endif
endif
else
if(B2X())then
if(B1X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwzr',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Roque Wizzard|r come for The First Path")
else
if(B0X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn5',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn4',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn6',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Team Panda|r come for The First Path

")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Warden|r come for The First Path")
endif
endif
else
if(B_X())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
else
if(BZX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqs',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
else
if(BYX())then
if(BWX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Overseer|r come for The First Path")
else
if(BUX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nrzg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Razormane Chieftain|r come for The First Path")
else
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00T',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Zatan Priest|r come for The First Path")
endif
endif
else
if(BTX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
else
if(BSX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'u00E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
else
if(BQX())then
set FCV=GetRectCenter(KGV)
set XVV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'nenc',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
else
if(BPX())then
set XVV=GetRectCenter(KGV)
set FCV=GetRectCenter(KGV)
call CreateNUnitsAtLocFacingLocBJ(1,'n01E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function CJX takes nothing returns nothing
set TFV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TFV,B9V)
call TriggerAddAction(TFV,function CHX)
endfunction
function CKX takes nothing returns boolean
return(CVV==18)
endfunction
function CLX takes nothing returns boolean
return(CVV==17)
endfunction
function CMX takes nothing returns boolean
return(CVV==16)
endfunction
function CPX takes nothing returns boolean
return(CVV==$E)
endfunction
function CQX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CSX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function CTX takes nothing returns boolean
return(CVV==$D)
endfunction
function CUX takes nothing returns boolean
return(CVV==$C)
endfunction
function CWX takes nothing returns boolean
return(CVV==$A)
endfunction
function CYX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function CZX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function C_X takes nothing returns boolean
return(CVV==9)
endfunction
function C0X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function C1X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function C2X takes nothing returns boolean
return(CVV==8)
endfunction
function C3X takes nothing returns boolean
return(CVV==6)
endfunction
function C4X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function C5X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function C6X takes nothing returns boolean
return(CVV==5)
endfunction
function C7X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function C8X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function C9X takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function DVX takes nothing returns boolean
return(CVV==4)
endfunction
function DEX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function DXX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function DOX takes nothing returns boolean
return(CVV==3)
endfunction
function DIX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function DAX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function DNX takes nothing returns boolean
return(CVV==2)
endfunction
function DBX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function DCX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function DDX takes nothing returns boolean
return(CVV<2)
endfunction
function DFX takes nothing returns nothing
set FCV=GetRectCenter(KFV)
if(DDX())then
if(DCX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnb',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Brute|r come for The Second Path")
else
if(DBX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nowe',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Enraged Wildkin|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Bandit Lord|r come for The Second Path")
endif
endif
else
if(DNX())then
if(DAX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nvdg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Greater VoidWalker|r come for The Second Path")
else
if(DIX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntks',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskar Sorcerer|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nkob',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Kobold|r come for The Second Path")
endif
endif
else
if(DOX())then
if(DXX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndrm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Draenei Disciple|r come for The Second Path")
else
if(DEX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nith',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll High Priest|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nmmu',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Murloc Mutant|r come for The Second Path")
endif
endif
else
if(DVX())then
if(C9X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(3,'nfrl',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(2,'n01F',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Furbolg Stampeder|r come for The Second Path")
else
if(C8X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nplg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Giant Polar Bear|r come for The Second Path")
else
if(C7X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nfsp',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Troll Mage|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntkw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskarr Warrior|r come for The Second Path")
endif
endif
endif
else
if(C6X())then
if(C5X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwiz',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Dark Priest|r come for The Second Path")
else
if(C4X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00S',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Blaspheme|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nhrq',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Harpy Queen|r come for The Second Path")
endif
endif
else
if(C3X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nogl',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(C2X())then
if(C1X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Lesser Vampire|r come for The Second Path")
else
if(C0X())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nitw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll Warlord|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nano',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Overlord Arachnathid|r come for The Second Path")
endif
endif
else
if(C_X())then
if(CZX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwzr',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Roque Wizzard|r come for The Second Path")
else
if(CYX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn5',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn4',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn6',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Team Panda|r come for The Second Path

")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Warden|r come for The Second Path")
endif
endif
else
if(CWX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(CUX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqs',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(CTX())then
if(CSX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Overseer|r come for The Second Path")
else
if(CQX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nrzg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Razormane Chieftain|r come for The Second Path")
else
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00T',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Zatan Priest|r come for The Second Path")
endif
endif
else
if(CPX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(CMX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'u00E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(CLX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nenc',Player(1),XVV,FCV)
call RemoveLocation(XVV)
else
if(CKX())then
set XVV=GetRectCenter(KFV)
call CreateNUnitsAtLocFacingLocBJ(1,'n01E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(FCV)
endfunction
function DGX takes nothing returns nothing
set TGV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TGV,B9V)
call TriggerAddAction(TGV,function DFX)
endfunction
function DHX takes nothing returns boolean
return(GYV==4)
endfunction
function DJX takes nothing returns boolean
return(CVV==25)
endfunction
function DKX takes nothing returns boolean
return(CVV==24)
endfunction
function DLX takes nothing returns boolean
return(GYV==4)
endfunction
function DMX takes nothing returns boolean
return(CVV==23)
endfunction
function DPX takes nothing returns boolean
return(GYV==4)
endfunction
function DQX takes nothing returns boolean
return(CVV==22)
endfunction
function DSX takes nothing returns boolean
return(CVV==21)
endfunction
function DTX takes nothing returns boolean
return(CVV==20)
endfunction
function DUX takes nothing returns boolean
return(CVV==19)
endfunction
function DWX takes nothing returns boolean
return(CVV==18)
endfunction
function DYX takes nothing returns boolean
return(CVV==17)
endfunction
function DZX takes nothing returns boolean
return(CVV==16)
endfunction
function D_X takes nothing returns boolean
return(CVV==$F)
endfunction
function D0X takes nothing returns boolean
return(CVV==$E)
endfunction
function D1X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function D2X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function D3X takes nothing returns boolean
return(CVV==$D)
endfunction
function D4X takes nothing returns boolean
return(CVV==$C)
endfunction
function D5X takes nothing returns boolean
return(CVV==$B)
endfunction
function D6X takes nothing returns boolean
return(CVV==$A)
endfunction
function D7X takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function D8X takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function D9X takes nothing returns boolean
return(CVV==9)
endfunction
function FVX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FEX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FXX takes nothing returns boolean
return(CVV==8)
endfunction
function FOX takes nothing returns boolean
return(CVV==7)
endfunction
function FRX takes nothing returns boolean
return(CVV==6)
endfunction
function FIX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FAX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FNX takes nothing returns boolean
return(CVV==5)
endfunction
function FBX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FCX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FDX takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function FFX takes nothing returns boolean
return(CVV==4)
endfunction
function FGX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FHX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FJX takes nothing returns boolean
return(CVV==3)
endfunction
function FKX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FLX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FMX takes nothing returns boolean
return(CVV==2)
endfunction
function FPX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FQX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function FSX takes nothing returns boolean
return(CVV<2)
endfunction
function FTX takes nothing returns nothing
set FCV=GetRectCenter(KDV)
if(FSX())then
call DestroyTimerDialogBJ(RBV)
if(FQX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnb',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Brute|r come for The Center Path")
else
if(FPX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nowe',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Enraged Wildkin|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Bandit Lord|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=2
call DisableTrigger(CSE)
call DisplayTextToForce(GetPlayersAll(),"All players are no longer allowed to use -repick")
if JBV==false then
call StartTimerBJ(B9V,false,451.)
endif
if JBV then
call StartTimerBJ(B9V,false,225.)
endif
else
if(FMX())then
call DestroyTimerDialogBJ(RBV)
if(FLX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nvdg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Greater VoidWalker|r come for The Center Path")
else
if(FKX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntks',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskar Sorcerer|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nkob',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Kobold|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=3
if JBV==false then
call StartTimerBJ(B9V,false,451.)
endif
if JBV then
call StartTimerBJ(B9V,false,225.)
endif
else
if(FJX())then
call DestroyTimerDialogBJ(RBV)
if(FHX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndrm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Draenei Disciple|r come for The Center Path")
else
if(FGX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nith',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll High Priest|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nmmu',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Murloc Mutant|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=4
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(FFX())then
call DestroyTimerDialogBJ(RBV)
if(FDX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(3,'nfrl',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(2,'n01F',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Furbolg Stampeder|r come for The Center Path")
else
if(FCX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nplg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Giant Polar Bear|r come for The Center Path")
else
if(FBX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nfsp',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Troll Mage|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ntkw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Tuskarr Warrior|r come for The Center Path")
endif
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=5
if JBV==false then
call StartTimerBJ(B9V,false,369.)
endif
if JBV then
call StartTimerBJ(B9V,false,184.)
endif
else
if(FNX())then
call DestroyTimerDialogBJ(RBV)
if(FAX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwiz',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Dark Priest|r come for The Center Path")
else
if(FIX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00S',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Blaspheme|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nhrq',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Harpy Queen|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Ogre Lord comes in:")
set CVV=6
set KV=1
if JBV==false then
call StartTimerBJ(B9V,false,369.)
endif
if JBV then
call StartTimerBJ(B9V,false,184.)
endif
else
if(FRX())then
call DestroyTimerDialogBJ(RBV)
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nogl',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ogre Lord|r come for all paths")
set RBV=CreateTimerDialogBJ(B9V,"Brood Mother comes in:")
set CVV=7
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(FOX())then
call DestroyTimerDialogBJ(RBV)
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsbm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Brood Mother|r come for The Center Path")
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=8
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(FXX())then
call DestroyTimerDialogBJ(RBV)
if(FEX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Lesser Vampire|r come for The Center Path")
else
if(FVX())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nitw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ice Troll Warlord|r come for The Center Path

")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nano',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Overlord Arachnathid|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=9
if JBV==false then
call StartTimerBJ(B9V,false,369.)
endif
if JBV then
call StartTimerBJ(B9V,false,184.)
endif
else
if(D9X())then
call DestroyTimerDialogBJ(RBV)
if(D8X())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwzr',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Rogue Wizzard|r come for The Center Path")
else
if(D7X())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn5',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn4',Player(1),XVV,FCV)
call CreateNUnitsAtLocFacingLocBJ(1,'npn6',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Team Panda|r come for The Center Path

")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnw',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Warden|r come for the center path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Dire Wolf comes in:")
set CVV=$A
if JBV==false then
call StartTimerBJ(B9V,false,350.)
endif
if JBV then
call StartTimerBJ(B9V,false,175.)
endif
else
if(D6X())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Dire Wolf|r come for all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nwld',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Ancient Hydra comes in:")
set CVV=$B
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(D5X())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Ancient Hydra|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nahy',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=$C
set KV=2
if JBV==false then
call StartTimerBJ(B9V,false,369.)
endif
if JBV then
call StartTimerBJ(B9V,false,184.)
endif
else
if(D4X())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Vampire|r come for all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndqs',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=$D
if JBV==false then
call StartTimerBJ(B9V,false,287.)
endif
if JBV then
call StartTimerBJ(B9V,false,143.)
endif
else
if(D3X())then
call DestroyTimerDialogBJ(RBV)
if(D2X())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ngnv',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Gnoll Overseer|r come for The Center Path")
else
if(D1X())then
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nrzg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Razormane Chieftain|r come for The Center Path")
else
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'n00T',Player(1),XVV,FCV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Zatan Priest|r come for The Center Path")
endif
endif
set RBV=CreateTimerDialogBJ(B9V,"Siege Golem comes in:")
set CVV=$E
if JBV==false then
call StartTimerBJ(B9V,false,260.)
endif
if JBV then
call StartTimerBJ(B9V,false,130.)
endif
else
if(D0X())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Siege Golem|r come for all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgg',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Vampire Lord comes in:")
set CVV=$F
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(D_X())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Vampire Lord|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'Udre',Player(1),XVV,FCV)
call ExecuteFunc("NQX")
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=16
set KV=3
if JBV==false then
call StartTimerBJ(B9V,false,390.)
endif
if JBV then
call StartTimerBJ(B9V,false,195.)
endif
else
if(DZX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Death Knight|r come for all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'u00E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=17
if JBV==false then
call StartTimerBJ(B9V,false,359.)
endif
if JBV then
call StartTimerBJ(B9V,false,178.)
endif
else
if(DYX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff8c00Ancient Corrupted Treand|r come for all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nenc',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set XVV=GetRectCenter(JPV)
call CreateNUnitsAtLocFacingLocBJ(1,'n04C',Player(1),XVV,GetRectCenter(K1V))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Tome Merchant is now available.|r")
call RemoveLocation(XVV)
call AddItemToStock(GetLastCreatedUnit(),'I0K6',3,3)
call AddItemToStock(GetLastCreatedUnit(),'I0K5',3,3)
call AddItemToStock(GetLastCreatedUnit(),'I0IA',3,3)
call AddItemToStock(GetLastCreatedUnit(),'I0I9',3,3)
call AddItemToStock(GetLastCreatedUnit(),'I0I8',3,3)
call AddItemToStock(GetLastCreatedUnit(),'I0I7',3,3)
call SetUnitColor(GetLastCreatedUnit(),ConvertPlayerColor(7))
set RBV=CreateTimerDialogBJ(B9V,"Boss comes in:")
set CVV=18
if JBV==false then
call StartTimerBJ(B9V,false,359.)
endif
if JBV then
call StartTimerBJ(B9V,false,178.)
endif
else
if(DWX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Lich|r come for the all paths")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'n01E',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Nosferatu comes in:")
set CVV=19
if JBV==false then
call StartTimerBJ(B9V,false,500.)
endif
if JBV then
call StartTimerBJ(B9V,false,250.)
endif
else
if(DUX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Nosferatu The First One|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'Ubal',Player(1),XVV,FCV)
call ExecuteFunc("NSX")
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Sapphiron comes in:")
set CVV=20
if JBV==false then
call StartTimerBJ(B9V,false,410.)
endif
if JBV then
call StartTimerBJ(B9V,false,205.)
endif
else
if(DTX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Sapphiron The Blue Dragon|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nadr',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Dark Dragon comes in:")
set CVV=21
if JBV==false then
call StartTimerBJ(B9V,false,369.)
endif
if JBV then
call StartTimerBJ(B9V,false,184.)
endif
else
if(DSX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Dark Dragon|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbwm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Darigaaz comes in:")
set CVV=22
if JBV==false then
call StartTimerBJ(B9V,false,500.)
endif
if JBV then
call StartTimerBJ(B9V,false,250.)
endif
else
if(DQX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Darigaaz The Fire Dragon|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nrwm',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Bahamut comes in:")
set CVV=23
if JBV==false then
call StartTimerBJ(B9V,false,400.)
endif
if JBV then
call StartTimerBJ(B9V,false,200.)
endif
if(DPX())then
call UnitAddAbilityBJ('A1EZ',GetLastCreatedUnit())
endif
else
if(DMX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Bahamut The King of Dragons|r come for the center path")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'nbzd',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Final Disease comes in:")
set CVV=24
set KV=4
if JBV==false then
call StartTimerBJ(B9V,false,500.)
endif
if JBV then
call StartTimerBJ(B9V,false,250.)
endif
if(DLX())then
call UnitAddAbilityBJ('A1EZ',GetLastCreatedUnit())
endif
else
if(DKX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Final Disease|r come for the center path.")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'ndrj',Player(1),XVV,FCV)
call RemoveLocation(XVV)
set RBV=CreateTimerDialogBJ(B9V,"Death comes in:")
set CVV=25
if JBV==false then
call StartTimerBJ(B9V,false,500.)
endif
if JBV then
call StartTimerBJ(B9V,false,250.)
endif
else
if(DJX())then
call DestroyTimerDialogBJ(RBV)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Death|r come for the center path. ")
set XVV=GetRectCenter(KDV)
call CreateNUnitsAtLocFacingLocBJ(1,'o012',Player(1),XVV,FCV)
set O8V=GetLastCreatedUnit()
call RemoveLocation(XVV)
if JBV==false then
call StartTimerBJ(RFV,false,600.)
endif
if JBV then
call StartTimerBJ(RFV,false,300.)
endif
call RemoveItemFromAllStock('sor1')
call RemoveItemFromAllStock('I0K6')
if(DHX())then
call UnitAddAbilityBJ('A1D8',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1D9',GetLastCreatedUnit())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(FCV)
endfunction
function FUX takes nothing returns nothing
set THV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(THV,B9V)
call TriggerAddAction(THV,function FTX)
endfunction
function FWX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbzd')
endfunction
function FYX takes nothing returns nothing
call AdjustPlayerStateBJ($3A98,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function FZX takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Bahamut head Reward: 15000 gold for all.")
call ForForce(GetPlayersAll(),function FYX)
if BF==0 or BF==1 then
call DisplayTextToForce(GetPlayersAll(),"Dark and Light force waves have stopped spawning")
set DB[0]=0
set DB[1]=0
set DB[2]=0
set DB[3]=0
endif
endfunction
function F_X takes nothing returns nothing
set TJV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TJV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TJV,Condition(function FWX))
call TriggerAddAction(TJV,function FZX)
endfunction
function F0X takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function F1X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I018'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function F2X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function F3X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I085'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0F5'))
endfunction
function F4X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02I'))
endfunction
function F5X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I095'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I083'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function F6X takes nothing returns nothing
if(F1X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I018'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AF',GetTriggerUnit())
endif
if(F2X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BV',GetTriggerUnit())
endif
if(F3X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I085'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0F5'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P5V)
call UnitAddItemByIdSwapped('I0BW',GetTriggerUnit())
endif
if(F4X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BU',GetTriggerUnit())
endif
if(F5X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I095'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I083'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I096',GetTriggerUnit())
endif
endfunction
function F7X takes nothing returns nothing
set TKV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TKV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(TKV,Condition(function F0X))
call TriggerAddAction(TKV,function F6X)
endfunction
function F8X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AR'))
endfunction
function F9X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BN'))
endfunction
function GVX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AT'))
endfunction
function GEX takes nothing returns boolean
return GetBooleanOr(F9X(),GVX())
endfunction
function GXX takes nothing returns boolean
return(GetBooleanOr(F8X(),GEX()))
endfunction
function GOX takes nothing returns boolean
return(GetTriggerUnit()==OSV)
endfunction
function GRX takes nothing returns nothing
if(GOX())then
set JG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
call SetPlayerTechResearchedSwap('Rusp',1,GetTriggerPlayer())
endif
endfunction
function GIX takes nothing returns nothing
set TLV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TLV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(TLV,Condition(function GXX))
call TriggerAddAction(TLV,function GRX)
endfunction
function GAX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I026'))
endfunction
function GNX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Q'))
endfunction
function GBX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D8'))
endfunction
function GCX takes nothing returns boolean
return GetBooleanOr(GAX(),GNX())
endfunction
function GDX takes nothing returns boolean
return(GetBooleanOr(GCX(),GBX()))
endfunction
function GFX takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function GGX takes nothing returns nothing
if(GFX())then
set JG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
call SetPlayerTechResearchedSwap('Rusp',1,GetTriggerPlayer())
endif
endfunction
function GHX takes nothing returns nothing
set TMV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TMV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(TMV,Condition(function GDX))
call TriggerAddAction(TMV,function GGX)
endfunction
function P5E takes nothing returns nothing
local unit GJX
local integer GKX
set GJX=GB
set GB=null
set GKX=GetRandomInt(1,3)
if GKX==1 then
call UnitAddAbilityBJ('A04S',GJX)
call UnitAddAbilityBJ('A049',GJX)
call QBE(GJX,0,80)
call UnitAddAbilityBJ('A086',GJX)
else
if GKX==2 then
call UnitAddAbilityBJ('A06J',GJX)
call UnitAddAbilityBJ('A1PZ',GJX)
call QBE(GJX,1,930)
call QBE(GJX,0,20)
call QBE(GJX,2,40)
call UnitAddAbilityBJ('A03D',GJX)
else
if GKX==3 then
call UnitAddAbilityBJ('A04R',GJX)
call UnitAddAbilityBJ('A01G',GJX)
call QVE(GJX,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GJX)+($8C*GetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE))))
call UnitAddAbilityBJ('A1BE',GJX)
call UnitAddAbilityBJ('A0AQ',GJX)
endif
endif
endif
if GetRandomInt(1,2)==1 then
call UnitAddAbilityBJ('A087',GJX)
endif
set GKX=GetRandomInt(1,2)
if GKX==1 then
call UnitAddAbilityBJ('A0I6',GJX)
call UnitAddAbilityBJ('A088',GJX)
call UnitAddAbilityBJ('A0M7',GJX)
call QVE(GJX,UNIT_STATE_MAX_MANA,GetUnitStateSwap(UNIT_STATE_MAX_MANA,GJX)+$4B0)
else
if GKX==2 then
call UnitAddAbilityBJ('A0M8',GJX)
call IssueImmediateOrderById(GJX,$D01EA)
call UnitAddAbilityBJ('A0M5',GJX)
call UnitAddAbilityBJ('A09R',GJX)
call QVE(GJX,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GJX)+(82.5*GetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE))))
call QVE(GJX,UNIT_STATE_MAX_MANA,GetUnitStateSwap(UNIT_STATE_MAX_MANA,GJX)+700)
endif
endif
set GKX=0
set GJX=null
endfunction
function GLX takes nothing returns nothing
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=Location(-14844.,-8306.)
call CreateNUnitsAtLocFacingLocBJ(1,'n05J',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
set GB=GetLastCreatedUnit()
call ExecuteFunc("P5E")
endfunction
function GMX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<53)then
call CreateItemLoc('I049',XVV)
else
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I047',XVV)
else
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('I048',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I02I',XVV)
else
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I07B',XVV)
endif
endif
endif
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('I04N',XVV)
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I0CT',XVV)
endif
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I04U',XVV)
call CreateItemLoc('I05F',XVV)
endif
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I05S',XVV)
else
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('I0CQ',XVV)
endif
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I02E',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I0CJ',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('gemt',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(LEV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsrv',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function GPX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,3)==3)then
call CreateItemLoc('I03X',XVV)
else
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I02H',XVV)
else
call CreateItemLoc('I07B',XVV)
endif
endif
if(GetRandomInt(1,$A)==1)then
call CreateItemLoc('I05S',XVV)
else
if(GetRandomInt(1,$A)==2)then
call CreateItemLoc('I02I',XVV)
endif
endif
if(GetRandomInt(1,3)==2)then
call CreateItemLoc('gemt',XVV)
else
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I048',XVV)
else
call CreateItemLoc('I07A',XVV)
endif
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I05Y',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I0CY',XVV)
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I0CZ',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I0D0',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I0CK',XVV)
endif
if(MA<$9D)then
if(GetRandomInt(1,$A0)<3+MA)then
call CreateItemLoc('clfm',XVV)
set MA=$9D
else
set MA=MA+1
endif
else
if(GetRandomInt(1,$A0)<3)then
call CreateItemLoc('clfm',XVV)
endif
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I079',XVV)
endif
if(GetRandomInt(1,$C8)==34)then
call CreateItemLoc('I0E1',XVV)
else
if(GetRandomInt(1,$C8)==34)then
call CreateItemLoc('I0EV',XVV)
else
if(GetRandomInt(1,$96)==34)then
call CreateItemLoc('I02O',XVV)
endif
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(L8V)
call CreateNUnitsAtLocFacingLocBJ(1,'nubw',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function GQX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)<3)then
call CreateItemLoc('wshs',XVV)
else
if(GetRandomInt(1,8)<=2)then
call CreateItemLoc('lhst',XVV)
else
if(GetRandomInt(1,8)<=3)then
call CreateItemLoc('I02G',XVV)
endif
endif
endif
if(GetRandomInt(1,4)==3)then
call CreateItemLoc('tmsc',XVV)
else
call CreateItemLoc('I00K',XVV)
endif
if(GetRandomInt(1,$E)==3)then
call CreateItemLoc('I049',XVV)
else
if(GetRandomInt(1,7)==3)then
call CreateItemLoc('ofro',XVV)
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=Location(-5514.,-7238.7)
call CreateNUnitsAtLocFacingLocBJ(1,'npfm',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function GSX takes nothing returns nothing
set C_E=null
if UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0IN') or UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0IN') then
set C2E=1
endif
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('I02G',XVV)
endif
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('pspd',XVV)
endif
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('I03W',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I048',XVV)
else
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I0CK',XVV)
endif
endif
if(GetRandomInt(1,'d')<19)then
call CreateItemLoc('I04M',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I04N',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,40)<2)then
call CreateItemLoc('I05S',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('gemt',XVV)
endif
call RemoveLocation(XVV)
if C2E==0 then
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
if C1E==0 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'nvde',XVV,270)
call RemoveLocation(XVV)
endif
if C1E==1 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'N05L',XVV,270)
call RemoveLocation(XVV)
call ExecuteFunc("GTX")
endif
endif
endfunction
function GUX takes nothing returns nothing
set C_E=null
set C3E=C3E+1
set XVV=GetUnitLoc(GetTriggerUnit())
if C3E<8 then
if(GetRandomInt(1,'d')<42)then
call CreateItemLoc('I02D',XVV)
else
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I02H',XVV)
else
call CreateItemLoc('I049',XVV)
endif
endif
if(GetRandomInt(1,'d')<27)then
call CreateItemLoc('I04M',XVV)
endif
if(GetRandomInt(1,'d')<61)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,'d')<36)then
call CreateItemLoc('tin2',XVV)
else
call CreateItemLoc('pspd',XVV)
endif
endif
if(GetRandomInt(1,'d')<3+(.15*C3E))then
call CreateItemLoc('gemt',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I048',XVV)
else
if C3E<$B then
if(GetRandomInt(1,'d')<8+(.5*C3E))then
call CreateItemLoc('I05S',XVV)
else
if(GetRandomInt(1,'d')<3+(.35*C3E))then
call CreateItemLoc('I04N',XVV)
endif
endif
else
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I05S',XVV)
else
if(GetRandomInt(1,'d')<3+(.35*C3E))then
call CreateItemLoc('I04N',XVV)
endif
endif
endif
endif
if C3E>=8 then
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I02D',XVV)
else
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I02H',XVV)
else
call CreateItemLoc('I049',XVV)
endif
endif
if C3E<=$D then
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I09K',XVV)
else
if(GetRandomInt(1,$A)<7)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I02G',XVV)
endif
endif
endif
endif
if C3E>=$E then
if C3E<=16 then
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I0LP',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I0D1',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('I09K',XVV)
else
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I06F',XVV)
endif
endif
if C3E>=17 then
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I0LP',XVV)
else
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('I0D1',XVV)
endif
endif
endif
if C3E>=22 then
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I0GG',XVV)
endif
endif
if C3E>=30 then
if(GetRandomInt(1,'d')<9)and O1V!=2 then
call CreateItemLoc('I0LQ',XVV)
set O1V=O1V+1
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I0H5',XVV)
else
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I0EW',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('I0FE',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I0HM',XVV)
endif
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
if C1E==0 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'nvde',XVV,270)
call RemoveLocation(XVV)
endif
if C1E==1 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'N05L',XVV,270)
call RemoveLocation(XVV)
call ExecuteFunc("GTX")
endif
endfunction
function GTX takes nothing returns nothing
local real GWX=0
local real GYX=0
local real GZX=0
local real hp=0
local real G_X=0
call SetPlayerTechResearchedSwap('R012',(GetPlayerTechCountSimple('R012',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
set GWX=75+(32*C3E)
set GYX=20+(7*C3E)
set GZX=89+(26*C3E)
if C3E<$A then
set hp=hp+$82
call UnitAddAbilityBJ('A0VE',C_E)
endif
if C3E>9 then
set FN[24]=FN[24]+$4B0
call UnitAddAbilityBJ('A12T',C_E)
endif
if C3E>7 then
call UnitAddAbilityBJ('A0TS',C_E)
call UnitAddItemToSlotById(C_E,'clfm',0)
if C3E==8 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R014',(GetPlayerTechCountSimple('R014',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
set GYX=GYX-$82
set GWX=GWX+84
set GYX=GYX+42
set GZX=GZX+67
endif
if C3E>$C then
set hp=hp+$D2
set G_X=G_X+74
call UnitAddAbilityBJ('A1GT',C_E)
endif
if C3E>$D then
call SetUnitAbilityLevelSwapped('A0TS',C_E,2)
call UnitAddItemToSlotById(C_E,'I0LP',1)
set hp=hp+$D2
if C3E==$E then
call SetPlayerTechResearchedSwap('R014',(GetPlayerTechCountSimple('R014',Player(PLAYER_NEUTRAL_AGGRESSIVE))+2),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
endif
if C3E>$F then
set hp=hp+325
endif
if C3E==18 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
if C3E>19 then
set hp=hp+350
if C3E==20 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap('R014',(GetPlayerTechCountSimple('R014',Player(PLAYER_NEUTRAL_AGGRESSIVE))+4),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
call SetUnitAbilityLevelSwapped('A0TV',C_E,2)
call SetUnitAbilityLevelSwapped('A12T',C_E,2)
endif
if C3E>21 then
call UnitAddAbilityBJ('A0H2',C_E)
call SetUnitAbilityLevelSwapped('A0TS',C_E,3)
call UnitAddItemToSlotById(C_E,'I01Z',2)
set GWX=GWX+$F0
set GZX=GZX+324
set hp=hp+$FA
endif
if C3E>26 then
call SetUnitAbilityLevelSwapped('A0TS',C_E,4)
call UnitAddItemToSlotById(C_E,'I04K',3)
call SetUnitAbilityLevelSwapped('A12T',C_E,3)
if C3E==27 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+2),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
set hp=hp+670
endif
if C3E>28 then
set FN[24]=FN[24]+$834
set hp=hp+350
set GZX=GZX+483
endif
if C3E>29 then
call SetUnitAbilityLevelSwapped('A0TS',C_E,5)
call UnitAddItemToSlotById(C_E,'I0HH',4)
set hp=hp+465
set GYX=GYX-57
set GZX=GZX+328
endif
if C3E>32 then
if C3E==33 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
set hp=hp+430
call SetUnitAbilityLevelSwapped('A0TV',C_E,3)
endif
if C3E>33 then
call SetUnitAbilityLevelSwapped('A0TS',C_E,6)
call UnitAddItemToSlotById(C_E,'I0LQ',5)
set G_X=G_X+92
set hp=hp+600
set GYX=GYX-52
endif
if C3E>35 then
set hp=hp+687
set GWX=GWX+742
call SetPlayerTechResearchedSwap('R014',(GetPlayerTechCountSimple('R014',Player(PLAYER_NEUTRAL_AGGRESSIVE))+3),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
if C3E>39 then
if C3E<56 then
call SetPlayerTechResearchedSwap('R013',(GetPlayerTechCountSimple('R013',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
set hp=hp+(532*(C3E-39))
set GZX=GZX+(97*(C3E-39))
set GWX=GWX+($D8*(C3E-39))
endif
if C3E<22 and C3E>9 then
if C3E<$D then
set hp=hp+$82
endif
call UnitAddAbilityBJ('A06J',C_E)
set GWX=GWX+44
set GYX=GYX+8
set GZX=GZX+51
endif
if GJ==1 or FJ==1 then
set GWX=GWX*1.23
set GYX=GYX*1.1
set GZX=GZX*1.15
endif
if GJ==2 or FJ==2 then
set GWX=GWX*1.45
set GYX=GYX*1.16
set GZX=GZX*1.3
endif
if GJ==3 or FJ==3 then
set GWX=GWX*1.63
set GYX=GYX*1.23
set GZX=GZX*1.44
endif
call QVE(C_E,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,C_E)+(hp*GetPlayerHandicapBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE))))
call QBE(C_E,0,R2I(G_X))
call SetHeroStr(C_E,R2I(GWX),true)
call SetHeroAgi(C_E,R2I(GYX),true)
call SetHeroInt(C_E,R2I(GZX),true)
if C3E<61 then
call SetHeroLevel(C_E,C3E,false)
call SuspendHeroXPBJ(false,C_E)
else
call SetHeroLevel(C_E,60,false)
endif
set GWX=0
set GYX=0
set GZX=0
set hp=0
set G_X=0
endfunction
function G0X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('I02C',XVV)
else
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I0HE',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I0HF',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I07A',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I0CJ',XVV)
endif
if(GetRandomInt(1,'d')<60)then
call CreateItemLoc('I02D',XVV)
else
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I03X',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I02E',XVV)
endif
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I05T',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(LFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgb',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function G1X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('I02C',XVV)
else
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I0HE',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I02G',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I048',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I0DP',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I07A',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('gemt',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I03X',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I02E',XVV)
endif
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I04U',XVV)
else
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I0ES',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=Location(5435.,-6863.7)
call CreateNUnitsAtLocFacingLocBJ(1,'n05F',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function G2X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D9',XVV)
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I0D9',XVV)
else
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I093',XVV)
else
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I08X',XVV)
endif
endif
endif
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I0D9',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I0AK',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I09E',XVV)
endif
call RemoveLocation(XVV)
call ExecuteFunc("GLX")
endfunction
function G3X takes nothing returns nothing
set ABV=1
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endfunction
function G4X takes nothing returns nothing
set ABV=2
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,7)<6)then
call CreateItemLoc('iwbr',XVV)
else
call CreateItemLoc('I02E',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I02H',XVV)
else
if(GetRandomInt(1,$A)<2)then
call CreateItemLoc('I07A',XVV)
endif
endif
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I04U',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I049',XVV)
call CreateItemLoc('pnvu',XVV)
else
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('I03T',XVV)
endif
call RemoveLocation(XVV)
endfunction
function G5X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I0CJ',XVV)
call CreateItemLoc('I04U',XVV)
else
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('I03X',XVV)
endif
if(GetRandomInt(1,4)<=3)then
call CreateItemLoc('I0CP',XVV)
call CreateItemLoc('pnvu',XVV)
else
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('I0CU',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I0EK',XVV)
else
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('gemt',XVV)
call CreateItemLoc('I02G',XVV)
else
call CreateItemLoc('I02D',XVV)
endif
endif
set ABV=3
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
call RemoveLocation(XVV)
endfunction
function VXX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I0CP',XVV)
call CreateItemLoc('I0HA',XVV)
else
if(GetRandomInt(1,3)==1)then
call CreateItemLoc('I0HI',XVV)
call CreateItemLoc('I0HB',XVV)
else
if(GetRandomInt(1,3)==1)then
call CreateItemLoc('I0DP',XVV)
call CreateItemLoc('I0HC',XVV)
else
call CreateItemLoc('I0HK',XVV)
call CreateItemLoc('I04U',XVV)
endif
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(340.)
endif
if JBV then
call mj(170.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'nane',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(0)))
call RemoveLocation(XVV)
endfunction
function VEX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,$A)==2)then
call CreateItemLoc('I098',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(220.)
endif
if JBV then
call mj(110.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'nowb',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(0)))
call RemoveLocation(XVV)
endfunction
function G6X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I03T',XVV)
else
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I04M',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HE',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HF',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DIE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04L',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function G7X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I04V',XVV)
else
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('iwbr',XVV)
else
call CreateItemLoc('I09U',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HF',XVV)
endif
if(GetRandomInt(1,9)==2)then
call CreateItemLoc('I06H',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DIE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04M',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function G8X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I02D',XVV)
else
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I00V',XVV)
else
call CreateItemLoc('I01Q',XVV)
endif
if(GetRandomInt(1,$A)==3)then
call CreateItemLoc('I0DM',XVV)
endif
if(GetRandomInt(1,$D)==2)then
call CreateItemLoc('I0CQ',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I05F',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DNE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04J',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function G9X takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('scul',XVV)
else
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I02D',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HE',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HF',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DBE)
call CreateNUnitsAtLocFacingLocBJ(1,'n055',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HVX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I04V',XVV)
else
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I05F',XVV)
else
call CreateItemLoc('I0AA',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('I0AB',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DBE)
call CreateNUnitsAtLocFacingLocBJ(1,'n056',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HEX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I03T',XVV)
else
call CreateItemLoc('scul',XVV)
call CreateItemLoc('I06B',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I04M',XVV)
else
call CreateItemLoc('I09O',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I07A',XVV)
call CreateItemLoc('I09Q',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('amrc',XVV)
call CreateItemLoc('I06B',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0HF',XVV)
endif
if(GetRandomInt(1,5)==2 and(IQ[5]!=1))then
set IQ[5]=1
call CreateItemLoc('I0JH',XVV)
endif
call RemoveLocation(XVV)
endfunction
function HXX takes nothing returns nothing
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DVE)
call CreateNUnitsAtLoc(1,'n04O',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,270)
call RemoveLocation(XVV)
endfunction
function HOX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I04V',XVV)
call CreateItemLoc('I06H',XVV)
else
call CreateItemLoc('I0HF',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I0FC',XVV)
else
call CreateItemLoc('I0AQ',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I02H',XVV)
else
if(GetRandomInt(1,$A)==3)then
call CreateItemLoc('I0DO',XVV)
endif
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('I048',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DIE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04N',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HRX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,6)==2)then
call CreateItemLoc('I0CY',XVV)
else
call CreateItemLoc('I09M',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I0EZ',XVV)
else
call CreateItemLoc('I0CP',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0G1',XVV)
else
if(GetRandomInt(1,$A)==3)then
call CreateItemLoc('I0D1',XVV)
endif
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0FB',XVV)
endif
if(GetRandomInt(1,9)==7)then
call CreateItemLoc('I0L8',XVV)
endif
if(GetRandomInt(1,22)==7)then
call CreateItemLoc('I0LI',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DIE)
call CreateNUnitsAtLocFacingLocBJ(1,'u00X',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
set V1=GetLastCreatedUnit()
call EnableTrigger(KVV)
call RemoveLocation(XVV)
endfunction
function HIX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,$A)==2)then
call CreateItemLoc('I0DZ',XVV)
else
call CreateItemLoc('I0H2',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I0E2',XVV)
else
call CreateItemLoc('I09G',XVV)
endif
if(GetRandomInt(1,20)==2)then
call CreateItemLoc('I0EV',XVV)
endif
if(GetRandomInt(1,7)==2)then
call CreateItemLoc('I0HN',XVV)
endif
if(GetRandomInt(1,17)==2)then
call CreateItemLoc('I0DQ',XVV)
endif
if(GetRandomInt(1,5)==3)then
call CreateItemLoc('I0LI',XVV)
endif
call RemoveLocation(XVV)
endfunction
function HAX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<51)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',XVV)
endif
if(GetRandomInt(1,'d')<62)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I048',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I07A',XVV)
endif
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<23)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,$A)<2)then
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n028',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HNX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',XVV)
endif
if(GetRandomInt(1,'d')<68)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I07A',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<26)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n029',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HBX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',XVV)
endif
if(GetRandomInt(1,'d')<78)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<24)then
call CreateItemLoc('I04N',XVV)
else
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I07B',XVV)
endif
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<80)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<80)then
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<32)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,$A)<7)then
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n02A',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HCX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<70)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',XVV)
endif
if(GetRandomInt(1,'d')<84)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<32)then
call CreateItemLoc('gemt',XVV)
else
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I079',XVV)
endif
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<84)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<36)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,$A)<8)then
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n02B',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HDX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',GetUnitLoc(GetTriggerUnit()))
endif
if(GetRandomInt(1,'d')<89)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('I07B',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<92)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<95)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<70)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,$A)<$A)then
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n02C',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HFX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<90)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('I02L',XVV)
endif
if(GetRandomInt(1,'d')<95)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I02I',XVV)
else
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I0S5',XVV)
else
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I07F',XVV)
else
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I05Y',XVV)
endif
endif
endif
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('I02K',XVV)
endif
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tpow',XVV)
if(GetRandomInt(1,'d')<50)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<86)then
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I0CZ',XVV)
else
if(GetRandomInt(1,'d')<45)then
call CreateItemLoc('I05T',XVV)
else
call CreateItemLoc('I0CQ',XVV)
endif
endif
call CreateItemLoc('I04U',XVV)
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'n02D',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endfunction
function HGX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02J',XVV)
call CreateItemLoc('I02L',XVV)
call CreateItemLoc('I02M',XVV)
call CreateItemLoc('I02K',XVV)
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('I04U',XVV)
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I0CY',XVV)
else
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I0D0',XVV)
endif
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('I079',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I05Y',XVV)
else
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I07F',XVV)
else
if(GetRandomInt(1,'d')<23)then
call CreateItemLoc('I0FY',XVV)
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I0E2',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
endif
endif
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(K1V)
call CreateNUnitsAtLocFacingLocBJ(1,'ufro',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
set X4V=GetLastCreatedUnit()
call RemoveLocation(XVV)
endfunction
function HHX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C4',XVV)
if(GetRandomInt(1,3)==1)then
call CreateItemLoc('I0E1',XVV)
else
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I07F',XVV)
else
call CreateItemLoc('I0E2',XVV)
endif
endif
call RemoveLocation(XVV)
set HYV=2
if JBV==false then
call StartTimerBJ(HZV,false,190.)
endif
if JBV then
call StartTimerBJ(HZV,false,95.)
endif
endfunction
function HJX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I0HE',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I02D',XVV)
else
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I0HF',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n044',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call RemoveLocation(XVV)
endfunction
function HKX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=5)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<=30)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I02M',XVV)
else
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,'d')<=$A)then
call CreateItemLoc('I04N',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=7)then
call CreateItemLoc('I02E',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n045',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call RemoveLocation(XVV)
endfunction
function HLX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I02M',XVV)
else
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<=25)then
call CreateItemLoc('I04N',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<=20)then
call CreateItemLoc('I02K',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n046',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call RemoveLocation(XVV)
endfunction
function HMX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I02M',XVV)
else
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<=30)then
call CreateItemLoc('I0EZ',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<=20)then
call CreateItemLoc('I02K',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n047',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call RemoveLocation(XVV)
endfunction
function HPX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=7)then
call CreateItemLoc('I07F',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<=$F)then
call CreateItemLoc('I02O',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I02K',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n048',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call RemoveLocation(XVV)
endfunction
function HQX takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function HSX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=$B)then
call CreateItemLoc('I07F',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I02J',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<=65)then
call CreateItemLoc('I02O',XVV)
else
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,'d')<=70)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=40)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
call CreateItemLoc('I02K',XVV)
if(GetRandomInt(1,'d')<=25)then
call CreateItemLoc('I0D4',XVV)
else
if(GetRandomInt(1,'d')<=25)then
call CreateItemLoc('I0D5',XVV)
else
if(GetRandomInt(1,'d')<=25)then
call CreateItemLoc('I0D6',XVV)
else
if(GetRandomInt(1,'d')<=25)then
call CreateItemLoc('I0D7',XVV)
else
call CreateItemLoc('I03Z',XVV)
endif
endif
endif
endif
call RemoveLocation(XVV)
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(MZV)
call CreateNUnitsAtLocFacingLocBJ(1,'n049',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(MDV))
call EnumDestructablesInCircleBJ(1200.,GetUnitLoc(GetLastCreatedUnit()),function HQX)
call RemoveLocation(XVV)
endfunction
function HTX takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function HUX takes nothing returns nothing
set XEV=GetUnitsOfTypeIdAll('h08I')
call ForGroupBJ(XEV,function HTX)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(GetTriggerUnit())
if(GetRandomInt(1,'d')<=$F)then
call CreateItemLoc('I0FY',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=7)then
call CreateItemLoc('I0E2',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=7)then
call CreateItemLoc('I0ES',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=60)then
call CreateItemLoc('I07F',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<=$F)then
call CreateItemLoc('I02O',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=5)then
call CreateItemLoc('I0HH',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<=$A)then
call CreateItemLoc('I0FE',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
call CreateItemLoc('I0I2',XVV)
call RemoveLocation(XVV)
endfunction
function HWX takes nothing returns nothing
set MJ=null
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0IJ',XVV)
call RemoveLocation(XVV)
endfunction
function HYX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function HZX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function H_X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nubw')
endfunction
function H0X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='npfm')
endfunction
function H1X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nvde')
endfunction
function H2X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgb')
endfunction
function H3X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05F')
endfunction
function H4X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05J')
endfunction
function H5X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04J')
endfunction
function H6X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04L')
endfunction
function H7X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04K')
endfunction
function H8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n054')
endfunction
function H9X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n055')
endfunction
function JVX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04O')
endfunction
function JEX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04M')
endfunction
function JXX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04N')
endfunction
function JOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00X')
endfunction
function JRX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngrd')
endfunction
function JIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n028')
endfunction
function JAX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n029')
endfunction
function JNX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02A')
endfunction
function JBX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02B')
endfunction
function JCX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02C')
endfunction
function JDX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function JFX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function JGX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='N05L')
endfunction
function JHX takes nothing returns nothing
if(HZX())then
call ExecuteFunc("GMX")
endif
if(H_X())then
call ExecuteFunc("GPX")
endif
if(H0X())then
call ExecuteFunc("GQX")
endif
if(H1X())then
call ExecuteFunc("GSX")
endif
if(H2X())then
call ExecuteFunc("G0X")
endif
if(H3X())then
call ExecuteFunc("G1X")
endif
if(H4X())then
call ExecuteFunc("G2X")
endif
if(H5X())then
call ExecuteFunc("G8X")
endif
if(H6X())then
call ExecuteFunc("G7X")
endif
if(H7X())then
call ExecuteFunc("G6X")
endif
if(H8X())then
call ExecuteFunc("G9X")
endif
if(H9X())then
call ExecuteFunc("HVX")
endif
if(JVX())then
call ExecuteFunc("HEX")
call ExecuteFunc("HXX")
endif
if(JEX())then
call ExecuteFunc("HOX")
endif
if(JXX())then
call ExecuteFunc("HRX")
endif
if(JOX())then
call ExecuteFunc("HIX")
endif
if(JRX())then
call ExecuteFunc("HAX")
endif
if(JIX())then
call ExecuteFunc("HNX")
endif
if(JAX())then
call ExecuteFunc("HBX")
endif
if(JNX())then
call ExecuteFunc("HCX")
endif
if(JBX())then
call ExecuteFunc("HDX")
endif
if(JCX())then
call ExecuteFunc("HFX")
endif
if(JDX())then
call ExecuteFunc("HGX")
endif
if(JFX())then
call ExecuteFunc("HHX")
endif
if(JGX())then
call ExecuteFunc("GUX")
endif
endfunction
function JJX takes nothing returns nothing
set TSV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TSV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TSV,Condition(function HYX))
call TriggerAddAction(TSV,function JHX)
endfunction
function JKX takes nothing returns boolean
return(IsUnitAliveBJ(GetChangingUnit()))and(GetChangingUnitPrevOwner()==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function JLX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n05J')
endfunction
function JMX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n05F')
endfunction
function JPX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n055')
endfunction
function JQX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n054')
endfunction
function JSX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n04J')
endfunction
function JTX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n04L')
endfunction
function JUX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n04K')
endfunction
function JWX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='nowb')
endfunction
function JYX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='nenf')
endfunction
function JZX takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='nvde')
endfunction
function J_X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='nsgb')
endfunction
function J0X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='ntrd')
endfunction
function J1X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n00W')
endfunction
function J2X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='nftk')
endfunction
function J3X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='npfm')
endfunction
function J4X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='n04O')
endfunction
function J5X takes nothing returns boolean
return(GetUnitTypeId(GetChangingUnit())=='o01N')
endfunction
function J6X takes nothing returns nothing
if(J2X())then
call ExecuteFunc("G3X")
else
if(J1X())then
call ExecuteFunc("G4X")
else
if(J0X())then
call ExecuteFunc("G5X")
else
if(J_X())then
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(LFV)
call CreateNUnitsAtLocFacingLocBJ(1,'nsgb',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
else
if(JZX())then
set C_E=null
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
if C1E==0 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'nvde',XVV,270)
call RemoveLocation(XVV)
endif
if C1E==1 and C_E==null then
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'N05L',XVV,270)
call RemoveLocation(XVV)
call ExecuteFunc("GTX")
endif
else
if(JYX())then
call ExecuteFunc("VEX")
else
if(JWX())then
call ExecuteFunc("VXX")
else
if(JUX())then
call ExecuteFunc("G6X")
else
if(JTX())then
call ExecuteFunc("G7X")
else
if(JSX())then
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DNE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04J',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
else
if(JQX())then
call ExecuteFunc("G9X")
else
if(JPX())then
call ExecuteFunc("HVX")
else
if(JMX())then
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=Location(5435.,-6863.7)
call CreateNUnitsAtLocFacingLocBJ(1,'n05F',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
else
if(JLX())then
set XVV=GetUnitLoc(GetChangingUnit())
call CreateItemLoc('I0D9',XVV)
call RemoveLocation(XVV)
call ExecuteFunc("GLX")
else
if(J3X())then
call ExecuteFunc("GQX")
else
if(J4X())then
call ExecuteFunc("HEX")
else
if(J5X())then
call ExecuteFunc("HWX")
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function J7X takes nothing returns nothing
set GFE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GFE,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddCondition(GFE,Condition(function JKX))
call TriggerAddAction(GFE,function J6X)
endfunction
function J8X takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function J9X takes nothing returns boolean
return(IsUnitAliveBJ(GetChangingUnit()))and(GetChangingUnitPrevOwner()==Player(1))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function KVX takes nothing returns boolean
return(GetBooleanOr(J8X(),J9X()))
endfunction
function KEX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngnb')
endfunction
function KXX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfrg')
endfunction
function KOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwiz')
endfunction
function KRX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nvdg')
endfunction
function KIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nogl')
endfunction
function KAX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndqv')
endfunction
function KNX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndqs')
endfunction
function KBX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Udre')
endfunction
function KCX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Ubal')
endfunction
function KDX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nadr')
endfunction
function KFX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbwm')
endfunction
function KGX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrwm')
endfunction
function KHX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbzd')
endfunction
function KJX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nahy')
endfunction
function KKX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwld')
endfunction
function KLX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngnw')
endfunction
function KMX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngnv')
endfunction
function KPX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nhrq')
endfunction
function KQX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nenc')
endfunction
function KSX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00E')
endfunction
function KTX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgg')
endfunction
function KUX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbld')
endfunction
function KWX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nowe')
endfunction
function KYX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntks')
endfunction
function KZX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nith')
endfunction
function K_X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrm')
endfunction
function K0X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nkob')
endfunction
function K1X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmmu')
endfunction
function K2X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00S')
endfunction
function K3X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00T')
endfunction
function K4X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrzg')
endfunction
function K5X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nplg')
endfunction
function K6X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntkw')
endfunction
function K7X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nano')
endfunction
function K8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nitw')
endfunction
function K9X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfrl')
endfunction
function LVX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01F')
endfunction
function LEX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfsp')
endfunction
function LXX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwzr')
endfunction
function LOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='npn6')
endfunction
function LRX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='npn4')
endfunction
function LIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='npn5')
endfunction
function LAX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01E')
endfunction
function LNX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsbm')
endfunction
function LBX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(KEX())then
if(GetRandomInt(1,'d')<73)then
call CreateItemLoc('pghe',XVV)
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('I00X',XVV)
else
call CreateItemLoc('I00Y',XVV)
endif
else
if(GetRandomInt(1,'d')<36)then
call CreateItemLoc('I00Z',XVV)
else
call CreateItemLoc('anfg',XVV)
endif
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('I03V',XVV)
else
call CreateItemLoc('bgst',XVV)
endif
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KXX())then
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('bgst',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('hval',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('phea',XVV)
endif
endif
if(KOX())then
if(GetRandomInt(1,'d')<48)then
call CreateItemLoc('pgma',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('stre',XVV)
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('I013',XVV)
endif
if(GetRandomInt(1,'d')<23)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('tmsc',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
endif
if(KRX())then
if(GetRandomInt(1,'d')<74)then
call CreateItemLoc('pgma',XVV)
else
call CreateItemLoc('tint',XVV)
endif
if(GetRandomInt(1,'d')<24)then
call CreateItemLoc('wshs',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('ciri',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I00K',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('tmsc',XVV)
else
call CreateItemLoc('tint',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KIX())then
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('scul',XVV)
else
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('arsh',XVV)
endif
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('tstr',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KAX())then
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('pspd',XVV)
endif
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I00V',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I01Q',XVV)
endif
endif
if(KNX())then
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('pspd',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('I00V',XVV)
else
call CreateItemLoc('I01Q',XVV)
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('I02D',XVV)
endif
endif
if(KBX())then
call CreateItemLoc('pspd',XVV)
if(GetRandomInt(1,'d')<45)then
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('I00V',XVV)
else
call CreateItemLoc('I01Q',XVV)
endif
if(GetRandomInt(1,'d')<70)then
call CreateItemLoc('I00V',XVV)
endif
if(GetRandomInt(1,'d')<57)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,'d')<37)then
call CreateItemLoc('I04M',XVV)
endif
if(GetRandomInt(1,$A)<9)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I05S',XVV)
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I04N',XVV)
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I07A',XVV)
endif
endif
endif
endif
if(KCX())then
call CreateItemLoc('pspd',XVV)
call CreateItemLoc('I04U',XVV)
call CreateItemLoc('I01Q',XVV)
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I02I',XVV)
else
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('I048',XVV)
else
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I07B',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('gemt',XVV)
else
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I05S',XVV)
else
call CreateItemLoc('I02H',XVV)
endif
endif
if(GetRandomInt(1,'d')<65)then
call CreateItemLoc('I02D',XVV)
else
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('I03X',XVV)
else
call CreateItemLoc('I02E',XVV)
endif
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I04N',XVV)
endif
endif
if(KDX())then
if(GetRandomInt(1,'d')<83)then
call CreateItemLoc('I02M',XVV)
else
call CreateItemLoc('I03Y',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<38)then
call CreateItemLoc('I02H',XVV)
endif
if(GetRandomInt(1,'d')<42)then
call CreateItemLoc('I05F',XVV)
else
if(GetRandomInt(1,'d')<32)then
call CreateItemLoc('I048',XVV)
endif
endif
if(GetRandomInt(1,'d')<42)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('I02J',XVV)
endif
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tin2',XVV)
endif
if(KFX())then
if(GetRandomInt(1,'d')<88)then
call CreateItemLoc('I02M',XVV)
endif
if(GetRandomInt(1,'d')<19)then
call CreateItemLoc('I02K',XVV)
endif
if(GetRandomInt(1,'d')<57)then
call CreateItemLoc('I07A',XVV)
endif
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('I03Y',XVV)
else
call CreateItemLoc('I02J',XVV)
endif
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tdx2',XVV)
endif
if(KGX())then
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('I03Y',XVV)
call CreateItemLoc('I02M',XVV)
if(GetRandomInt(1,'d')<60)then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02K',XVV)
call RemoveLocation(XVV)
else
if(GetRandomInt(1,'d')<$B)then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CZ',XVV)
call RemoveLocation(XVV)
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I0D0',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<77)then
call CreateItemLoc('I02E',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('I047',XVV)
endif
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I02L',XVV)
else
call CreateItemLoc('I02J',XVV)
endif
endif
if(KHX())then
call CreateItemLoc('I02M',XVV)
call CreateItemLoc('I02K',XVV)
if(GetRandomInt(1,2)==1)then
call CreateItemLoc('I02O',XVV)
else
call CreateItemLoc('I0D1',XVV)
endif
if(GetRandomInt(1,'d')<70)then
call CreateItemLoc('I02I',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I07F',XVV)
endif
endif
endif
if(KJX())then
call CreateItemLoc('rej4',XVV)
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,'d')<50)then
call CreateItemLoc('I049',XVV)
else
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<80)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I02H',XVV)
else
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I06H',XVV)
endif
endif
if(GetRandomInt(1,$A)<9)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KKX())then
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,'d')<38)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,'d')<52)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,'d')<44)then
call CreateItemLoc('hbth',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('tdx2',XVV)
endif
endif
if(KLX())then
if(GetRandomInt(1,'d')<53)then
call CreateItemLoc('I012',XVV)
endif
if(GetRandomInt(1,'d')<38)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<44)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KMX())then
if(GetRandomInt(1,'d')<73)then
call CreateItemLoc('I012',XVV)
endif
if(GetRandomInt(1,'d')<48)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<45)then
call CreateItemLoc('hbth',XVV)
endif
if(GetRandomInt(1,'d')<42)then
call CreateItemLoc('tst2',XVV)
endif
endif
if(KPX())then
if(GetRandomInt(1,'d')<73)then
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,'d')<48)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,'d')<45)then
call CreateItemLoc('tdx2',XVV)
endif
if(GetRandomInt(1,'d')<42)then
call CreateItemLoc('tin2',XVV)
endif
endif
if(KQX())then
call CreateItemLoc('tst2',XVV)
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('I02G',XVV)
endif
if(GetRandomInt(1,'d')<70)then
call CreateItemLoc('pnvu',XVV)
else
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I02H',XVV)
endif
endif
if(KSX())then
call CreateItemLoc('tpow',XVV)
if(GetRandomInt(1,'d')<35)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,'d')<55)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('gemt',XVV)
endif
if(GetRandomInt(1,'d')<23)then
call CreateItemLoc('I049',XVV)
endif
endif
if(KTX())then
if(GetRandomInt(1,'d')<45)then
call CreateItemLoc('arsh',XVV)
endif
if(GetRandomInt(1,'d')<51)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I03W',XVV)
endif
if(GetRandomInt(1,'d')<48)then
call CreateItemLoc('tst2',XVV)
endif
endif
if(KUX())then
if(GetRandomInt(1,'d')<48)then
call CreateItemLoc('pghe',XVV)
else
call CreateItemLoc('tstr',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('gold',XVV)
endif
if(GetRandomInt(1,'d')<60)then
call CreateItemLoc('I00Z',XVV)
else
call CreateItemLoc('bgst',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I02B',XVV)
endif
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I07C',XVV)
endif
endif
if(KWX())then
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('pman',XVV)
else
call CreateItemLoc('tint',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('ciri',XVV)
endif
if(GetRandomInt(1,'d')<60)then
call CreateItemLoc('I013',XVV)
else
call CreateItemLoc('I011',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('tmsc',XVV)
endif
if(GetRandomInt(1,$A)<6)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KYX())then
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('rej2',XVV)
else
call CreateItemLoc('tdex',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('sprn',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('anfg',XVV)
else
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I07C',XVV)
endif
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(KZX())then
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('pnvl',XVV)
else
call CreateItemLoc('tdex',XVV)
endif
if(GetRandomInt(1,'d')<23)then
call CreateItemLoc('sprn',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I00K',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('arsc',XVV)
else
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('I07E',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I07D',XVV)
endif
endif
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K_X())then
if(GetRandomInt(1,'d')<85)then
call CreateItemLoc('pgma',XVV)
else
call CreateItemLoc('tin2',XVV)
endif
if(GetRandomInt(1,'d')<28)then
call CreateItemLoc('wshs',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('I00Y',XVV)
endif
if(GetRandomInt(1,'d')<34)then
call CreateItemLoc('ciri',XVV)
else
if(GetRandomInt(1,'d')<34)then
call CreateItemLoc('I07E',XVV)
endif
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K0X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('pghe',XVV)
else
call CreateItemLoc('tstr',XVV)
endif
if(GetRandomInt(1,'d')<56)then
call CreateItemLoc('bgst',XVV)
else
call CreateItemLoc('I03U',XVV)
endif
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('hval',XVV)
else
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('I07C',XVV)
endif
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('I00Y',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K1X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej2',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('hval',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('manh',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K2X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej3',XVV)
else
call CreateItemLoc('tdx2',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I07D',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('hval',XVV)
endif
if(GetRandomInt(1,'d')<47)then
call CreateItemLoc('wshs',XVV)
else
call CreateItemLoc('I07E',XVV)
endif
endif
if(K3X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej4',XVV)
else
call CreateItemLoc('tdx2',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I03W',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('tmmt',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('I04M',XVV)
endif
endif
if(K4X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej4',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<40)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<37)then
call CreateItemLoc('pnvu',XVV)
endif
endif
if(K5X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('pnvl',XVV)
else
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('arsh',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<50)then
call CreateItemLoc('manh',XVV)
else
call CreateItemLoc('tstr',XVV)
endif
if(GetRandomInt(1,$A)<5)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K6X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej3',XVV)
else
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I00K',XVV)
endif
if(GetRandomInt(1,$A)<5)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(K7X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('rej4',XVV)
else
call CreateItemLoc('manh',XVV)
call CreateItemLoc('tst2',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('arsh',XVV)
endif
if(GetRandomInt(1,'d')<28)then
call CreateItemLoc('tmmt',XVV)
endif
endif
if(K8X())then
if(GetRandomInt(1,'d')<75)then
call CreateItemLoc('pnvu',XVV)
else
call CreateItemLoc('tdex',XVV)
call CreateItemLoc('tdx2',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('hbth',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<28)then
call CreateItemLoc('frhg',XVV)
endif
endif
if(K9X())then
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('phea',XVV)
else
if(GetRandomInt(1,'d')<26)then
call CreateItemLoc('pman',XVV)
endif
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I03V',XVV)
endif
endif
if(LVX())then
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('anfg',XVV)
else
if(GetRandomInt(1,'d')<26)then
call CreateItemLoc('I03U',XVV)
endif
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I04U',XVV)
endif
endif
if(LEX())then
if(GetRandomInt(1,'d')<50)then
call CreateItemLoc('pgma',XVV)
else
call CreateItemLoc('rej3',XVV)
endif
if(GetRandomInt(1,$A)<5)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('I011',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('wshs',XVV)
endif
endif
if(LXX())then
if(GetRandomInt(1,'d')<67)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,$A)<5)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,18)<2)then
call CreateItemLoc('I04M',XVV)
endif
endif
if(LOX())then
if(GetRandomInt(1,'d')<34)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,$A)<5)then
call CreateItemLoc('I04U',XVV)
endif
if(GetRandomInt(1,$A)<3)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,22)<4)then
call CreateItemLoc('soul',XVV)
endif
endif
if(LRX())then
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,$A)<2)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,22)<4)then
call CreateItemLoc('lhst',XVV)
endif
endif
if(LIX())then
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,$A)<2)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,22)<4)then
call CreateItemLoc('I00M',XVV)
endif
endif
if(LAX())then
if(GetRandomInt(1,'d')<60)then
call CreateItemLoc('pnvu',XVV)
else
call CreateItemLoc('pspd',XVV)
endif
if(GetRandomInt(1,$A)<4)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,22)<8)then
call CreateItemLoc('I04M',XVV)
endif
if(GetRandomInt(1,22)<8)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,22)<8)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,25)<3)then
call CreateItemLoc('I05F',XVV)
else
if(GetRandomInt(1,22)<2)then
call CreateItemLoc('I048',XVV)
endif
endif
if(GetRandomInt(1,25)<$E)then
call CreateItemLoc('I03T',XVV)
else
call CreateItemLoc('I02G',XVV)
endif
endif
if(LNX())then
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('tmmt',XVV)
else
call CreateItemLoc('stre',XVV)
endif
if(GetRandomInt(1,'d')<25)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('I02G',XVV)
endif
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('tpow',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,$A)<9)then
call CreateItemLoc('I04U',XVV)
endif
endif
call RemoveLocation(XVV)
endfunction
function LCX takes nothing returns nothing
set TQV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TQV,EVENT_PLAYER_UNIT_DEATH)
call TriggerRegisterAnyUnitEventBJ(TQV,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddCondition(TQV,Condition(function KVX))
call TriggerAddAction(TQV,function LBX)
endfunction
function LDX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function LFX takes nothing returns boolean
return(B6V<3)
endfunction
function LGX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nspr')
endfunction
function LHX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nssp')
endfunction
function LJX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='njgb')
endfunction
function LKX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nanb')
endfunction
function LLX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngrk')
endfunction
function LMX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngst')
endfunction
function LPX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nftb')
endfunction
function LQX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwlt')
endfunction
function LSX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nass')
endfunction
function LTX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrog')
endfunction
function LUX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nftr')
endfunction
function LWX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfra')
endfunction
function LYX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nepl')
endfunction
function LZX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlpr')
endfunction
function L_X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlds')
endfunction
function L0X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrt')
endfunction
function L1X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrg')
endfunction
function L2X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrel')
endfunction
function L3X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsel')
endfunction
function L4X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlsn')
endfunction
function L5X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlkl')
endfunction
function L6X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgt')
endfunction
function L7X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmdr')
endfunction
function L8X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nggr')
endfunction
function L9X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwzd')
endfunction
function MVX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwwg')
endfunction
function MEX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05E')
endfunction
function MXX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrw')
endfunction
function MOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nstl')
endfunction
function MRX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmgr')
endfunction
function MIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01G')
endfunction
function MAX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01H')
endfunction
function MNX takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(LFX())then
if(LGX())then
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('sprn',XVV)
endif
if(GetRandomInt(1,$C8)<2)then
call CreateItemLoc('frhg',XVV)
else
if(GetRandomInt(1,50)<2)then
call CreateItemLoc('I03V',XVV)
endif
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('hslv',XVV)
endif
endif
if(LHX())then
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I03V',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('anfg',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I013',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('hval',XVV)
else
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I07E',XVV)
endif
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('gold',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I011',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('ciri',XVV)
endif
endif
if(LJX())then
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('pgma',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('hbth',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('arsh',XVV)
endif
endif
if(LKX())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('shas',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I011',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('pclr',XVV)
endif
endif
if(LLX())then
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('bgst',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('pman',XVV)
endif
endif
if(LMX())then
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('fgrg',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('hval',XVV)
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('arsh',XVV)
endif
endif
if(LMX())then
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('arsh',XVV)
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('scul',XVV)
else
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I07D',XVV)
endif
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('soul',XVV)
endif
endif
if(LPX())then
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('anfg',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('gold',XVV)
endif
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('I03U',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('I03V',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I07E',XVV)
endif
endif
if(LQX())then
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('sprn',XVV)
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('stwp',XVV)
endif
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I00X',XVV)
endif
endif
endif
if(LSX())then
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('phea',XVV)
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I00Y',XVV)
endif
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I02B',XVV)
endif
endif
endif
if(LTX())then
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('phea',XVV)
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('I03U',XVV)
endif
else
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I02B',XVV)
endif
endif
endif
if(LUX())then
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('anfg',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I00Y',XVV)
endif
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('hslv',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('bgst',XVV)
endif
endif
if(LWX())then
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('pghe',XVV)
endif
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('hval',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('scul',XVV)
endif
endif
if(LYX())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<$B)then
call CreateItemLoc('pnvl',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('soul',XVV)
endif
endif
if(LZX())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('phea',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I00Z',XVV)
endif
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I07E',XVV)
endif
endif
if(L_X())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('pghe',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I00X',XVV)
else
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I07C',XVV)
endif
endif
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('I02F',XVV)
endif
endif
if(L0X())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('pnvl',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I02F',XVV)
endif
endif
if(L1X())then
if(GetRandomInt(1,'d')<5)then
call CreateItemLoc('hbth',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I02F',XVV)
endif
endif
if(L2X())then
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('tmsc',XVV)
endif
endif
if(L3X())then
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('stre',XVV)
endif
endif
if(L4X())then
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<7)then
call CreateItemLoc('I07D',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I02F',XVV)
endif
endif
if(L5X())then
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('I010',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I02G',XVV)
endif
endif
if(L6X())then
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('stre',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('rej2',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('arsh',XVV)
endif
endif
if(L7X())then
if(GetRandomInt(1,'d')<9)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('lhst',XVV)
endif
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('rej4',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<17)then
call CreateItemLoc('arsh',XVV)
endif
endif
if(L8X())then
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('scul',XVV)
endif
if(GetRandomInt(1,'d')<4)then
call CreateItemLoc('I03T',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('pnvu',XVV)
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('soul',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('fgrg',XVV)
endif
endif
if(L9X())then
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I02D',XVV)
endif
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('stre',XVV)
endif
if(GetRandomInt(1,'d')<31)then
call CreateItemLoc('I013',XVV)
endif
if(GetRandomInt(1,'d')<26)then
call CreateItemLoc('amrc',XVV)
endif
if(GetRandomInt(1,'d')<22)then
call CreateItemLoc('tmsc',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I04M',XVV)
endif
if(GetRandomInt(1,'d')<16)then
call CreateItemLoc('I099',XVV)
endif
if(GetRandomInt(1,'d')<21)then
call CreateItemLoc('I097',XVV)
endif
endif
if(MVX())then
if(GetRandomInt(1,$F)==2)then
call CreateItemLoc('I0AV',XVV)
endif
if(GetRandomInt(1,20)==3)then
call CreateItemLoc('lhst',XVV)
endif
if(GetRandomInt(1,$C)<3)then
call CreateItemLoc('pghe',XVV)
endif
endif
if(MEX())then
if(GetRandomInt(1,$B)<=3)then
call CreateItemLoc('I09A',XVV)
endif
if(GetRandomInt(1,$C)==2)then
call CreateItemLoc('pman',XVV)
endif
if(GetRandomInt(1,$A)<=2)then
call CreateItemLoc('I03U',XVV)
endif
endif
if(MXX())then
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I02C',XVV)
endif
if(GetRandomInt(1,'d')<18)then
call CreateItemLoc('I02D',XVV)
else
if(GetRandomInt(1,'d')<$E)then
call CreateItemLoc('I02G',XVV)
else
if(GetRandomInt(1,'d')<$F)then
call CreateItemLoc('I0HE',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I03T',XVV)
else
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I049',XVV)
endif
endif
endif
if(MOX())then
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('arsc',XVV)
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I02D',XVV)
else
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I02G',XVV)
else
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I03W',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('pnvl',XVV)
endif
if(GetRandomInt(1,'d')<2)then
call CreateItemLoc('I03T',XVV)
else
if(GetRandomInt(1,'d')<3)then
call CreateItemLoc('I049',XVV)
endif
endif
endif
if(MRX())then
if(GetRandomInt(1,'d')<8)then
call CreateItemLoc('I098',XVV)
else
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I049',XVV)
endif
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('arsh',XVV)
endif
endif
endif
if(MIX())then
if(GetRandomInt(1,'d')<21)then
call CreateItemLoc('frhg',XVV)
endif
if(GetRandomInt(1,'d')<6)then
call CreateItemLoc('I099',XVV)
else
if(GetRandomInt(1,'d')<30)then
call CreateItemLoc('rej2',XVV)
endif
endif
endif
if(MAX())then
if(GetRandomInt(1,'d')<$D)then
call CreateItemLoc('I099',XVV)
else
if(GetRandomInt(1,'d')<$A)then
call CreateItemLoc('rej4',XVV)
else
if(GetRandomInt(1,'d')<20)then
call CreateItemLoc('rej3',XVV)
endif
endif
endif
if(GetRandomInt(1,'d')<26)then
call CreateItemLoc('arcs',XVV)
endif
if(GetRandomInt(1,'d')<$C)then
call CreateItemLoc('I09U',XVV)
endif
endif
endif
call RemoveLocation(XVV)
endfunction
function MBX takes nothing returns nothing
set TPV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TPV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(TPV,Condition(function LDX))
call TriggerAddAction(TPV,function MNX)
endfunction
function MCX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MDX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function MFX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function MGX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MHX takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function MJX takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function MKX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MLX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfgo')
endfunction
function MMX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MPX takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MQX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function MSX takes nothing returns nothing
if(MFX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DE',XVV)
call RemoveLocation(XVV)
if(MDX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E1',XVV)
call CreateItemLoc('I0D1',XVV)
call CreateItemLoc('I0G3',XVV)
call CreateItemLoc('I0HD',XVV)
call RemoveLocation(XVV)
else
if(MCX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E2',XVV)
call CreateItemLoc('I0FE',XVV)
call CreateItemLoc('I0HC',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02O',XVV)
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I07F',XVV)
call CreateItemLoc('I0HA',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(MLX())then
if(MJX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DF',XVV)
call CreateItemLoc('I0G3',XVV)
call RemoveLocation(XVV)
else
if(MHX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0FY',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
if(MGX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EW',XVV)
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I0HA',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0D1',XVV)
call CreateItemLoc('I02O',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(MKX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CS',XVV)
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E2',XVV)
call CreateItemLoc('I0FF',XVV)
call RemoveLocation(XVV)
endif
endif
if(MQX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DH',XVV)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C7',XVV)
call RemoveLocation(XVV)
if(MPX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E0',XVV)
call RemoveLocation(XVV)
else
if(MMX())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H7',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DZ',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endfunction
function MTX takes nothing returns nothing
set TTV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TTV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(TTV,function MSX)
endfunction
function MUX takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function MWX takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function MYX takes nothing returns boolean
return GetBooleanAnd(MUX(),MWX())
endfunction
function MZX takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1KS',GetEnumUnit())==0 then
call UnitAddAbilityBJ('A1KS',GetEnumUnit())
endif
endfunction
function M_X takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function M0X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I014'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I002'))
endfunction
function M1X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I045'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00O'))
endfunction
function M2X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I016'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ofro'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004'))
endfunction
function M3X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I019'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'modt'))
endfunction
function M4X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))
endfunction
function M5X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ofro'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00C'))
endfunction
function M6X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I009'))
endfunction
function M7X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I001'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))
endfunction
function M8X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01R'))
endfunction
function M9X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0II'))
endfunction
function PVX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I001'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I005'))
endfunction
function PEX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01T'))
endfunction
function PXX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0IG'))
endfunction
function POX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I007'))
endfunction
function PRX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hcun'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))
endfunction
function PIX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I034'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))
endfunction
function PAX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I034'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function PNX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EC'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I034'))
endfunction
function PBX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CM'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I060'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CT'))
endfunction
function PCX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I027'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))
endfunction
function PDX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))
endfunction
function PFX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))
endfunction
function PGX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I002'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rugt'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))
endfunction
function PHX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00G'))
endfunction
function PJX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hcun'))
endfunction
function PKX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00O'))
endfunction
function PLX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GZ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function PMX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0H0'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))
endfunction
function PPX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0H1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))
endfunction
function PQX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'modt'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I018'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DC'))
endfunction
function PSX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I032'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I017'))
endfunction
function PTX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CD'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))
endfunction
function PUX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I023'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003'))
endfunction
function PWX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I025'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0KP'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))
endfunction
function PYX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I025'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I000'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))
endfunction
function PZX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I030'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function P_X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I030'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Z'))
endfunction
function P0X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I030'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03A'))
endfunction
function P1X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I028'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function P2X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I029'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0LL'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function P3X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I029'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function P4X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function P5X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004'))
endfunction
function P6X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03F'))
endfunction
function P7X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03I'))
endfunction
function P8X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GI'))
endfunction
function P9X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GK'))
endfunction
function QVX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D7'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I041'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$25D78)
endfunction
function QEX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D7'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0LG'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$25D78)
endfunction
function QXX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01D'))
endfunction
function QOX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I022'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02C'))
endfunction
function QRX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I020'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))
endfunction
function QIX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I006'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))
endfunction
function QAX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I036'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I005'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function QNX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00P'))
endfunction
function QBX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))
endfunction
function QCX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))
endfunction
function QDX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05L'))
endfunction
function QFX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D2'))
endfunction
function QGX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DB'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02P'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I049'))
endfunction
function QHX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))
endfunction
function QJX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function QKX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))
endfunction
function QLX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bspd'))
endfunction
function QMX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03E'))
endfunction
function QPX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bspd'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function QQX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DW'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D4'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H'))
endfunction
function QSX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rst1'))
endfunction
function QTX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03P'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))
endfunction
function QUX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03P'))
endfunction
function QWX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03P'))
endfunction
function QYX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03P'))
endfunction
function QZX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I038'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rugt'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gcel'))
endfunction
function Q_X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gemt'))
endfunction
function Q0X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gemt'))
endfunction
function Q1X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05S'))
endfunction
function Q2X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05T'))
endfunction
function Q3X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CQ'))
endfunction
function Q4X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hcun'))
endfunction
function Q5X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I042'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0KP'))
endfunction
function Q6X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I042'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I000'))
endfunction
function Q7X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01P'))
endfunction
function Q8X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0F5'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Q'))
endfunction
function Q9X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CP'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I060'))
endfunction
function SVX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02O'))
endfunction
function SEX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FM'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02O'))
endfunction
function SXX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DE'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CY'))
endfunction
function SOX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FA'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FD'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FB'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FC'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>80000)
endfunction
function SRX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0E3'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05S'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>$2710)
endfunction
function SIX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I049'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gemt'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>$C350)
endfunction
function SAX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0ED'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>$61A8)
endfunction
function SNX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EI'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I071'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>$55F0)
endfunction
function SBX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))
endfunction
function SCX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function SDX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004'))
endfunction
function SFX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))
endfunction
function SGX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GH'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function SHX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I035'))
endfunction
function SJX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04K'))
endfunction
function SKX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I026'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02E'))
endfunction
function SLX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))
endfunction
function SMX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I002'))
endfunction
function SPX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00H'))
endfunction
function SQX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02G'))
endfunction
function SSX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))
endfunction
function STX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'scul'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H'))
endfunction
function SUX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I022'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03K'))
endfunction
function SWX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))
endfunction
function SYX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))
endfunction
function SZX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06P'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))
endfunction
function S_X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I035'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))
endfunction
function S0X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I077'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I072'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01W'))
endfunction
function S1X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I077'))
endfunction
function S2X takes nothing returns nothing
if(M0X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I002'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I014'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I015',GetTriggerUnit())
endif
if(M1X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I045'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I044',GetTriggerUnit())
endif
if(M2X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ofro'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I016'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I017',GetTriggerUnit())
endif
if(M3X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'modt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I019'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I018',GetTriggerUnit())
endif
if(M4X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01I',GetTriggerUnit())
endif
if(M5X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ofro'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01C'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01D',GetTriggerUnit())
endif
if(M6X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I009'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01E',GetTriggerUnit())
endif
if(M7X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I001'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01R',GetTriggerUnit())
endif
if(M8X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0II',GetTriggerUnit())
endif
if(M9X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0II'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0IH',GetTriggerUnit())
endif
if(PVX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I005'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I001'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01T',GetTriggerUnit())
endif
if(PEX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0IG',GetTriggerUnit())
endif
if(PXX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0IG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0IF',GetTriggerUnit())
endif
if(POX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I007'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01P',GetTriggerUnit())
endif
if(PRX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hcun'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01O',GetTriggerUnit())
endif
if(PIX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I034'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I033',GetTriggerUnit())
endif
if(PAX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I034'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I033'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0EC',GetTriggerUnit())
endif
if(PNX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I034'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EC'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0ED',GetTriggerUnit())
endif
if(PBX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CT'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CM'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0G2',GetTriggerUnit())
endif
if(PCX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I027'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01V',GetTriggerUnit())
endif
if(PDX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01Y'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01W',GetTriggerUnit())
endif
if(PFX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01H'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01G',GetTriggerUnit())
endif
if(PGX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rugt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I002'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01B',GetTriggerUnit())
endif
if(PHX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01L'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01K',GetTriggerUnit())
endif
if(PJX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hcun'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01N'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01M',GetTriggerUnit())
endif
if(PKX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02X',GetTriggerUnit())
endif
if(PLX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GZ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GM',GetTriggerUnit())
endif
if(PMX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0H0'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GS',GetTriggerUnit())
endif
if(PPX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0H1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GP',GetTriggerUnit())
endif
if(PQX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'modt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I018'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DC'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0DD',GetTriggerUnit())
endif
if(PSX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I017'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I032'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I031',GetTriggerUnit())
endif
if(PTX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CD'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0CC',GetTriggerUnit())
endif
if(PUX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I023'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I022',GetTriggerUnit())
endif
if(PYX())or(PWX())then
if(PYX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I000'))
endif
if(PWX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0KP'))
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I025'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I024',GetTriggerUnit())
endif
if(PZX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I030'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02Z',GetTriggerUnit())
endif
if(P_X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I030'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03A',GetTriggerUnit())
endif
if(P0X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I030'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03B',GetTriggerUnit())
endif
if(P1X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I028'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I01Z',GetTriggerUnit())
endif
if(P3X())or(P2X())then
if(P3X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00F'))
endif
if(P2X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0LL'))
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I029'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I026',GetTriggerUnit())
endif
if(P4X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02P',GetTriggerUnit())
endif
if(P5X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03F',GetTriggerUnit())
endif
if(P6X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03F'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03I',GetTriggerUnit())
endif
if(P7X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GI',GetTriggerUnit())
endif
if(P8X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GI'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GK',GetTriggerUnit())
endif
if(P9X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GK'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03G'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GJ',GetTriggerUnit())
endif
if(QVX())or(QEX())then
if(QVX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I041'))
endif
if(QEX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0LG'))
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D7'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CQ'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$25D78))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0IE',GetTriggerUnit())
set XVV=GetRectCenter(GetPlayableMapRect())
call CreateNUnitsAtLocFacingLocBJ(1,'h07S',GetOwningPlayer(GetTriggerUnit()),XVV,XVV)
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call ShowUnitHide(GetLastCreatedUnit())
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A1KS',JZV[3])
call UnitAddAbilityBJ('A1KS',JZV[4])
call UnitAddAbilityBJ('A1KS',JZV[5])
call UnitAddAbilityBJ('A1KS',JZV[6])
call UnitAddAbilityBJ('A1KS',JZV[7])
call UnitAddAbilityBJ('A1KS',JZV[8])
call UnitAddAbilityBJ('A1KS',JZV[9])
call UnitAddAbilityBJ('A1KS',JZV[$A])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function MYX)),function MZX)
set VF=1
endif
if(QXX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02W'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02A',GetTriggerUnit())
endif
if(QOX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I022'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03C',GetTriggerUnit())
endif
if(QRX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I020'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I021',GetTriggerUnit())
endif
if(QIX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I006'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02Q',GetTriggerUnit())
endif
if(QAX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I005'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I036'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I035',GetTriggerUnit())
endif
if(QNX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05K'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05J',GetTriggerUnit())
endif
if(QBX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03H',GetTriggerUnit())
endif
if(QCX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05L',GetTriggerUnit())
endif
if(QDX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05L'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D2',GetTriggerUnit())
endif
if(QFX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D2'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D3',GetTriggerUnit())
endif
if(QGX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DB'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I049'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D8',GetTriggerUnit())
endif
if(QHX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05N',GetTriggerUnit())
endif
if(QJX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03K',GetTriggerUnit())
endif
if(QKX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03K'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I06N',GetTriggerUnit())
endif
if(QLX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bspd'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03D',GetTriggerUnit())
endif
if(QMX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03E'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FU',GetTriggerUnit())
endif
if(QPX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bspd'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03Q',GetTriggerUnit())
endif
if(QQX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DW'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D4'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FZ',GetTriggerUnit())
endif
if(QSX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rst1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03M',GetTriggerUnit())
endif
if(QTX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03O',GetTriggerUnit())
endif
if(QUX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03O'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05G',GetTriggerUnit())
endif
if(QWX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05G'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05H',GetTriggerUnit())
endif
if(QYX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05H'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05I',GetTriggerUnit())
endif
if(QZX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I038'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gcel'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rugt'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I039',GetTriggerUnit())
endif
if(Q_X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gemt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I03Z',GetTriggerUnit())
endif
if(Q0X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gemt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0D4',GetTriggerUnit())
endif
if(Q1X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D6',GetTriggerUnit())
endif
if(Q2X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D5',GetTriggerUnit())
endif
if(Q3X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CQ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0D7',GetTriggerUnit())
endif
if(Q4X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hcun'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00H'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I043',GetTriggerUnit())
endif
if(Q6X())or(Q5X())then
if(Q6X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I000'))
endif
if(Q5X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0KP'))
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I042'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Y'))
if GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02M'))==1 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02M'))
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02M'))>1 then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02M'),GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02M'))-1)
endif
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I041',GetTriggerUnit())
endif
if(Q7X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02T'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I02R',GetTriggerUnit())
endif
if(Q8X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0F5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04R'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FJ',GetTriggerUnit())
endif
if(Q9X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CP'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Z'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FO',GetTriggerUnit())
endif
if(SVX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FM',GetTriggerUnit())
endif
if(SEX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FM'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FL',GetTriggerUnit())
endif
if(SXX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DE'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CY'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0FN',GetTriggerUnit())
endif
if(SOX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FA'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FD'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FB'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FC'))
call ExecuteFunc("M_X")
call AdjustPlayerStateBJ(-80000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped('I0FK',GetTriggerUnit())
endif
if(SRX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0E3'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))
call ExecuteFunc("M_X")
call AdjustPlayerStateBJ(-$2710,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped('I0IQ',GetTriggerUnit())
endif
if(SIX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I049'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gemt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))
call ExecuteFunc("M_X")
call AdjustPlayerStateBJ(-$C350,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped('I0IR',GetTriggerUnit())
endif
if(SAX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0ED'))
call ExecuteFunc("M_X")
call AdjustPlayerStateBJ(-$61A8,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped('I0IS',GetTriggerUnit())
endif
if(SNX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EI'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I071'))
call ExecuteFunc("M_X")
call AdjustPlayerStateBJ(-$55F0,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitAddItemByIdSwapped('I0IT',GetTriggerUnit())
endif
if(SBX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04D'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04B',GetTriggerUnit())
endif
if(SCX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04F'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04C',GetTriggerUnit())
endif
if(SDX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04E'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04A',GetTriggerUnit())
endif
if(SFX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04H'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04G',GetTriggerUnit())
endif
if(SGX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GH'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0GE',GetTriggerUnit())
endif
if(SHX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I035'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04K',GetTriggerUnit())
endif
if(SJX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04K'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I0C2',GetTriggerUnit())
endif
if(SKX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I026'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02E'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04Q',GetTriggerUnit())
endif
if(SLX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04J'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04I',GetTriggerUnit())
endif
if(SMX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I002'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04O'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04T',GetTriggerUnit())
endif
if(SPX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05X'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05W',GetTriggerUnit())
endif
if(SQX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04T'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I04P',GetTriggerUnit())
endif
if(SSX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05U',GetTriggerUnit())
endif
if(STX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'scul'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I060',GetTriggerUnit())
endif
if(SUX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I022'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03K'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I05P',GetTriggerUnit())
endif
if(SWX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I06I',GetTriggerUnit())
endif
if(SYX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I06Y',GetTriggerUnit())
endif
if(SZX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01K'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I06O',GetTriggerUnit())
endif
if(S_X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I035'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I06T',GetTriggerUnit())
endif
if(S0X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I077'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I072'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01V'))
call ExecuteFunc("M_X")
call UnitAddItemByIdSwapped('I076',GetTriggerUnit())
endif
if(S1X())then
endif
endfunction
function S3X takes nothing returns nothing
set TYV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TYV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(TYV,function S2X)
endfunction
function S4X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))
endfunction
function S5X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06K'))
endfunction
function S6X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0IC'))
endfunction
function S7X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I077'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I076'))
endfunction
function S8X takes nothing returns nothing
if(S4X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04B'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I06K',GetTriggerUnit())
endif
if(S5X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0IC',GetTriggerUnit())
endif
if(S6X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0IC'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0IB',GetTriggerUnit())
endif
if(S7X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I077'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I076'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0ID',GetTriggerUnit())
endif
endfunction
function S9X takes nothing returns nothing
set TZV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TZV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(TZV,function S8X)
endfunction
function TVX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function TEX takes nothing returns nothing
if(TVX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I06R',GetTriggerUnit())
endif
endfunction
function TXX takes nothing returns nothing
set T_V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T_V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T_V,function TEX)
endfunction
function TOX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03O'))
endfunction
function TRX takes nothing returns nothing
if(TOX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I06W',GetTriggerUnit())
endif
endfunction
function TIX takes nothing returns nothing
set T0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T0V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T0V,function TRX)
endfunction
function TAX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I039'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))
endfunction
function TNX takes nothing returns nothing
if(TAX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I039'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00C'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I06S',GetTriggerUnit())
endif
endfunction
function TBX takes nothing returns nothing
set T1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T1V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T1V,function TNX)
endfunction
function TCX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I070'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rst1'))
endfunction
function TDX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0D0'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I031'))
endfunction
function TFX takes nothing returns nothing
if(TCX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I070'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rst1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03M'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I071',GetTriggerUnit())
endif
if(TDX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I031'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0D0'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('tcas',GetTriggerUnit())
endif
endfunction
function TGX takes nothing returns nothing
set T2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T2V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T2V,function TFX)
endfunction
function THX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EH'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DT'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function TJX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EF'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))
endfunction
function TKX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06V'))
endfunction
function TLX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EJ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00P'))
endfunction
function TMX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0F6'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))
endfunction
function TPX takes nothing returns nothing
if(THX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EH'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DT'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0EG',GetTriggerUnit())
endif
if(TJX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EF'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0EE',GetTriggerUnit())
endif
if(TKX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06S'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0EI',GetTriggerUnit())
endif
if(TLX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EJ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00P'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0E3',GetTriggerUnit())
endif
if(TMX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0F6'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0F5',GetTriggerUnit())
endif
endfunction
function TQX takes nothing returns nothing
set T3V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T3V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T3V,function TPX)
endfunction
function TSX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C9'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CB'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ckng'))
endfunction
function TTX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CO'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06O'))
endfunction
function TUX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CI'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))
endfunction
function TWX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00P'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))
endfunction
function TYX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CL'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CJ'))
endfunction
function TZX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DX'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bspd'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rst1'))
endfunction
function T_X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EU'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DV'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Q'))
endfunction
function T0X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EY'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function T1X takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I026')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function T2X takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I00F')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function T3X takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I000')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function T4X takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I024')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function T5X takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I041')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function T6X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DY'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DV'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DU'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function T7X takes nothing returns nothing
if(TSX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CB'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C9'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ckng'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0CA',GetTriggerUnit())
endif
if(TTX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CO'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0CN',GetTriggerUnit())
endif
if(TUX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CI'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0CH',GetTriggerUnit())
endif
if(TWX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0CF',GetTriggerUnit())
endif
if(TYX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CJ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CL'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0CM',GetTriggerUnit())
endif
if(TZX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DX'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bspd'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rst1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0DV',GetTriggerUnit())
endif
if(T_X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EU'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DV'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0ER',GetTriggerUnit())
endif
if(T0X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EY'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0EX',GetTriggerUnit())
endif
if(T1X())then
call SetItemDroppableBJ(GetManipulatedItem(),true)
endif
if(T2X())then
call SetItemDroppableBJ(GetManipulatedItem(),true)
endif
if(T3X())then
call SetItemDroppableBJ(GetManipulatedItem(),true)
endif
if(T4X())then
call SetItemDroppableBJ(GetManipulatedItem(),true)
endif
if(T5X())then
call SetItemDroppableBJ(GetManipulatedItem(),true)
endif
if(T6X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DY'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DU'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DV'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0DW',GetTriggerUnit())
endif
endfunction
function T8X takes nothing returns nothing
set T4V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T4V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T4V,function T7X)
endfunction
function T9X takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I075'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00P'))
endfunction
function UVX takes nothing returns nothing
if(T9X())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I075'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00P'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I072',GetTriggerUnit())
endif
endfunction
function UEX takes nothing returns nothing
set T5V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T5V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T5V,function UVX)
endfunction
function UXX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I075'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I072'))
endfunction
function UOX takes nothing returns nothing
if(UXX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I075'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I072'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I073',GetTriggerUnit())
endif
endfunction
function URX takes nothing returns nothing
set T6V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T6V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T6V,function UOX)
endfunction
function UIX takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I075'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I073'))
endfunction
function UAX takes nothing returns nothing
if(UIX())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I075'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I073'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I074',GetTriggerUnit())
endif
endfunction
function UNX takes nothing returns nothing
set T7V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T7V,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(T7V,function UAX)
endfunction
function UBX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04U')
endfunction
function UCX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04V')
endfunction
function UDX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04W')
endfunction
function UFX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04X')
endfunction
function UGX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04Y')
endfunction
function UHX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I04Z')
endfunction
function UJX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I050')
endfunction
function UKX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I051')
endfunction
function ULX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I052')
endfunction
function UMX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I053')
endfunction
function UPX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I054')
endfunction
function UQX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I055')
endfunction
function USX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I056')
endfunction
function UTX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I057')
endfunction
function UUX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I058')
endfunction
function UWX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I059')
endfunction
function UYX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I05B')
endfunction
function UZX takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I05A')
endfunction
function U_X takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I05C')
endfunction
function U0X takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),GetForLoopIndexA()))=='I05D')
endfunction
function U1X takes nothing returns nothing
local integer U2X=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04U'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UBX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04U'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04V'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UCX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04V'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(2*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04W'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UDX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04W'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(3*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04X'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UFX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04X'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(4*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Y'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UGX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04Y'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(5*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04Z'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UHX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04Z'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(6*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I050'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UJX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I050'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(7*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I051'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UKX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I051'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(8*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I052'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(ULX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I052'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(9*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I053'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UMX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I053'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($A*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I054'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UPX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I054'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($B*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I055'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UQX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I055'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($C*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I056'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(USX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I056'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($D*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I057'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UTX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I057'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($E*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UUX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+($F*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I059'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UWX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I059'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(16*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05B'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UYX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05B'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(17*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05A'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(UZX())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05A'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(18*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05C'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(U_X())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05C'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(19*XAV)
set XAV=0
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05D'))then
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(U0X())then
set XAV=(XAV+1)
set U2X=U2X+1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05D'))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set DA=DA+(20*XAV)
set XAV=0
endif
if U2X>1 then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
set U2X=0
endfunction
function U3X takes nothing returns nothing
if FA and DA>=$F then
call UnitAddItemByIdSwapped('I058',GetManipulatingUnit())
set DA=DA-$F
endif
if DA>=21 then
call UnitAddItemByIdSwapped('I05E',GetManipulatingUnit())
set DA=DA-21
endif
if DA>=20 then
call UnitAddItemByIdSwapped('I05D',GetManipulatingUnit())
set DA=DA-20
endif
if DA>=19 then
call UnitAddItemByIdSwapped('I05C',GetManipulatingUnit())
set DA=DA-19
endif
if DA>=18 then
call UnitAddItemByIdSwapped('I05A',GetManipulatingUnit())
set DA=DA-18
endif
if DA>=17 then
call UnitAddItemByIdSwapped('I05B',GetManipulatingUnit())
set DA=DA-17
endif
if DA>=16 then
call UnitAddItemByIdSwapped('I059',GetManipulatingUnit())
set DA=DA-16
endif
if DA>=$F then
call UnitAddItemByIdSwapped('I058',GetManipulatingUnit())
set DA=DA-$F
endif
if DA>=$E then
call UnitAddItemByIdSwapped('I057',GetManipulatingUnit())
set DA=DA-$E
endif
if DA>=$D then
call UnitAddItemByIdSwapped('I056',GetManipulatingUnit())
set DA=DA-$D
endif
if DA>=$C then
call UnitAddItemByIdSwapped('I055',GetManipulatingUnit())
set DA=DA-$C
endif
if DA>=$B then
call UnitAddItemByIdSwapped('I054',GetManipulatingUnit())
set DA=DA-$B
endif
if DA>=$A then
call UnitAddItemByIdSwapped('I053',GetManipulatingUnit())
set DA=DA-$A
endif
if DA>=9 then
call UnitAddItemByIdSwapped('I052',GetManipulatingUnit())
set DA=DA-9
endif
if DA>=8 then
call UnitAddItemByIdSwapped('I051',GetManipulatingUnit())
set DA=DA-8
endif
if DA>=7 then
call UnitAddItemByIdSwapped('I050',GetManipulatingUnit())
set DA=DA-7
endif
if DA>=6 then
call UnitAddItemByIdSwapped('I04Z',GetManipulatingUnit())
set DA=DA-6
endif
if DA>=5 then
call UnitAddItemByIdSwapped('I04Y',GetManipulatingUnit())
set DA=DA-5
endif
if DA>=4 then
call UnitAddItemByIdSwapped('I04X',GetManipulatingUnit())
set DA=DA-4
endif
if DA>=3 then
call UnitAddItemByIdSwapped('I04W',GetManipulatingUnit())
set DA=DA-3
endif
if DA>=2 then
call UnitAddItemByIdSwapped('I04V',GetManipulatingUnit())
set DA=DA-2
endif
if DA>=1 then
call UnitAddItemByIdSwapped('I04U',GetManipulatingUnit())
set DA=DA-1
endif
set DA=0
set FA=false
endfunction
function U4X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04U')
endfunction
function U5X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04V')
endfunction
function U6X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04W')
endfunction
function U7X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04X')
endfunction
function U8X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04Y')
endfunction
function U9X takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04Z')
endfunction
function WVX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I050')
endfunction
function WEX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I051')
endfunction
function WXX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I052')
endfunction
function WOX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I053')
endfunction
function WRX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I054')
endfunction
function WIX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I055')
endfunction
function WAX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I056')
endfunction
function WNX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I057')
endfunction
function WBX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I058')
endfunction
function WCX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I059')
endfunction
function WDX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05A')
endfunction
function WFX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05B')
endfunction
function WGX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05C')
endfunction
function WHX takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05D')
endfunction
function WJX takes nothing returns boolean
return(GetBooleanOr(U4X(),U5X()))
endfunction
function WKX takes nothing returns boolean
return(GetBooleanOr(U6X(),U7X()))
endfunction
function WLX takes nothing returns boolean
return(GetBooleanOr(U8X(),U9X()))
endfunction
function WMX takes nothing returns boolean
return(GetBooleanOr(WVX(),WEX()))
endfunction
function WPX takes nothing returns boolean
return(GetBooleanOr(WXX(),WOX()))
endfunction
function WQX takes nothing returns boolean
return(GetBooleanOr(WRX(),WIX()))
endfunction
function WSX takes nothing returns boolean
return(GetBooleanOr(WAX(),WNX()))
endfunction
function WTX takes nothing returns boolean
return(GetBooleanOr(WBX(),WCX()))
endfunction
function WUX takes nothing returns boolean
return(GetBooleanOr(WDX(),WFX()))
endfunction
function WWX takes nothing returns boolean
return(GetBooleanOr(WGX(),WHX()))
endfunction
function WYX takes nothing returns boolean
return(GetBooleanOr(WWX(),WJX()))
endfunction
function WZX takes nothing returns boolean
return(GetBooleanOr(WYX(),WKX()))
endfunction
function W_X takes nothing returns boolean
return(GetBooleanOr(WZX(),WLX()))
endfunction
function W0X takes nothing returns boolean
return(GetBooleanOr(W_X(),WMX()))
endfunction
function W1X takes nothing returns boolean
return(GetBooleanOr(W0X(),WPX()))
endfunction
function W2X takes nothing returns boolean
return(GetBooleanOr(W1X(),WQX()))
endfunction
function W3X takes nothing returns boolean
return(GetBooleanOr(W2X(),WSX()))
endfunction
function W4X takes nothing returns boolean
return(GetBooleanOr(W3X(),WTX()))
endfunction
function W5X takes nothing returns boolean
return(GetBooleanOr(W4X(),WUX()))
endfunction
function W6X takes nothing returns boolean
return(W5X())
endfunction
function W7X takes nothing returns nothing
call DisableTrigger(KJ)
call ExecuteFunc("U1X")
call ExecuteFunc("U3X")
call EnableTrigger(KJ)
endfunction
function W8X takes nothing returns nothing
set KJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(KJ,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(KJ,Condition(function W6X))
call TriggerAddAction(KJ,function W7X)
endfunction
function W9X takes nothing returns nothing
call DisableTrigger(TFV)
call DisableTrigger(TGV)
call DisableTrigger(THV)
call DisableTrigger(TDV)
call StartTimerBJ(IUV,false,30)
endfunction
function YVX takes nothing returns nothing
set T8V=CreateTrigger()
call TriggerAddAction(T8V,function W9X)
endfunction
function YEX takes nothing returns boolean
return(CBV<2)
endfunction
function YXX takes nothing returns boolean
return(CountPlayersInForceBJ(GetPlayersAll())>=4)and(ATV<2)and(CBV<2)
endfunction
function YOX takes nothing returns boolean
return(CountPlayersInForceBJ(GetPlayersAll())>=5)and(ATV<2)and(CBV<2)
endfunction
function YRX takes nothing returns boolean
return(CountPlayersInForceBJ(GetPlayersAll())>=6)and(ATV<2)and(CBV<2)
endfunction
function YIX takes nothing returns nothing
set DB[2]=1
if(YEX())then
call EnableTrigger(THV)
endif
if(YXX())then
call EnableTrigger(TDV)
set DB[3]=1
endif
if(YOX())then
call EnableTrigger(TGV)
set DB[1]=1
endif
if(YRX())then
call EnableTrigger(TFV)
set DB[0]=1
endif
endfunction
function YAX takes nothing returns nothing
set T9V=CreateTrigger()
call TriggerRegisterTimerEventSingle(T9V,20.)
call TriggerAddAction(T9V,function YIX)
endfunction
function YNX takes nothing returns boolean
return(GetEventPlayerChatString()=="-closeline1")
endfunction
function YBX takes nothing returns boolean
return(GetEventPlayerChatString()=="-closeline2")
endfunction
function YCX takes nothing returns boolean
return(GetEventPlayerChatString()=="-closeline4")
endfunction
function YDX takes nothing returns nothing
if(YNX())then
set DB[0]=0
call DisableTrigger(TFV)
call DisplayTextToForce(GetPlayersAll(),"Line one has been closed")
set HAV=4
call DisableTrigger(GetTriggeringTrigger())
endif
if(YBX())then
set DB[1]=0
call DisableTrigger(TGV)
call DisplayTextToForce(GetPlayersAll(),"Line two has been closed")
set HIV=4
call DisableTrigger(GetTriggeringTrigger())
endif
if(YCX())then
set DB[3]=0
call DisableTrigger(TDV)
call DisplayTextToForce(GetPlayersAll(),"Line four has been closed")
set HRV=4
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function YFX takes nothing returns nothing
set UVV=CreateTrigger()
call TriggerRegisterPlayerChatEvent(UVV,Player(2),"-closeline",false)
call TriggerAddAction(UVV,function YDX)
endfunction
function YGX takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1W9')
endfunction
function YHX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==9)
endfunction
function YJX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==8)
endfunction
function YKX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==7)
endfunction
function YLX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==6)
endfunction
function YMX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==5)
endfunction
function YPX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==4)
endfunction
function YQX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==3)
endfunction
function YSX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==2)
endfunction
function YTX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1W9',GetTriggerUnit())==1)
endfunction
function YUX takes nothing returns nothing
if(YTX())then
call UnitAddAbilityBJ('A02D',GetTriggerUnit())
else
if(YSX())then
call UnitRemoveAbilityBJ('A02D',GetTriggerUnit())
call UnitAddAbilityBJ('A02E',GetTriggerUnit())
else
if(YQX())then
call UnitRemoveAbilityBJ('A02E',GetTriggerUnit())
call UnitAddAbilityBJ('A02F',GetTriggerUnit())
else
if(YPX())then
call UnitRemoveAbilityBJ('A02F',GetTriggerUnit())
call UnitAddAbilityBJ('A02G',GetTriggerUnit())
else
if(YMX())then
call UnitRemoveAbilityBJ('A02G',GetTriggerUnit())
call UnitAddAbilityBJ('A02H',GetTriggerUnit())
else
if(YLX())then
call UnitRemoveAbilityBJ('A02H',GetTriggerUnit())
call UnitAddAbilityBJ('A02K',GetTriggerUnit())
else
if(YKX())then
call UnitRemoveAbilityBJ('A02K',GetTriggerUnit())
call UnitAddAbilityBJ('A02L',GetTriggerUnit())
else
if(YJX())then
call UnitRemoveAbilityBJ('A02L',GetTriggerUnit())
call UnitAddAbilityBJ('A02M',GetTriggerUnit())
else
if(YHX())then
call UnitRemoveAbilityBJ('A02M',GetTriggerUnit())
call UnitAddAbilityBJ('A02N',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function YWX takes nothing returns nothing
set UXV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UXV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(UXV,Condition(function YGX))
call TriggerAddAction(UXV,function YUX)
endfunction
function YYX takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0CD')
endfunction
function YZX takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CD',GetTriggerUnit())==1)
endfunction
function Y_X takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CD',GetTriggerUnit())>=2)
endfunction
function Y0X takes nothing returns nothing
if(YZX())then
call UnitAddAbilityBJ('A089',GetTriggerUnit())
endif
if(Y_X())then
call SetUnitAbilityLevelSwapped('A089',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0CD',GetTriggerUnit()))
endif
endfunction
function Y1X takes nothing returns nothing
set UOV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UOV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(UOV,Condition(function YYX))
call TriggerAddAction(UOV,function Y0X)
endfunction
function Y2X takes nothing returns boolean
return(GetSpellAbilityId()=='A0FP')
endfunction
function Y3X takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B03E'))
endfunction
function Y4X takes nothing returns nothing
if(Y3X())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*I2R(GetUnitAbilityLevelSwapped('A0FP',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set FGV=GetSpellTargetUnit()
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P3V)
call TriggerSleepAction(1.2)
set FGV=null
endif
endfunction
function Y5X takes nothing returns nothing
set URV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(URV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(URV,Condition(function Y2X))
call TriggerAddAction(URV,function Y4X)
endfunction
function Y6X takes nothing returns boolean
return(GetSpellAbilityId()=='AOww')
endfunction
function Y7X takes nothing returns nothing
if(Y6X())then
call TriggerSleepAction(2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'ntor',GetOwningPlayer(GetTriggerUnit()),XVV,XVV)
call UnitApplyTimedLifeBJ((4.*I2R(GetUnitAbilityLevelSwapped('AOww',GetTriggerUnit()))),'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endfunction
function Y8X takes nothing returns nothing
set UIV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UIV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(UIV,function Y7X)
endfunction
function Y9X takes nothing returns nothing
set XVV=GetRectCenter(KHV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call RemoveLocation(XVV)
endfunction
function ZVX takes nothing returns nothing
set UAV=CreateTrigger()
call TriggerRegisterEnterRectSimple(UAV,KJV)
call TriggerAddAction(UAV,function Y9X)
endfunction
function ZEX takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetOwningPlayer(GetTriggerUnit())!=Player(1))and(GetOwningPlayer(GetTriggerUnit())!=Player(0))and(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))and((IsUnitEnemy(GetTriggerUnit(),Player(0)))!=true)and(GetUnitAbilityLevelSwapped('A1XY',GetTriggerUnit())!=1))!=null
endfunction
function ZXX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hpb2')
endfunction
function ZOX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Nalc')
endfunction
function ZRX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H06U')
endfunction
function ZIX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H06W')
endfunction
function ZAX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H06T')
endfunction
function ZNX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H06S')
endfunction
function ZBX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H06V')
endfunction
function ZCX takes nothing returns boolean
return GetBooleanOr(ZNX(),ZBX())
endfunction
function ZDX takes nothing returns boolean
return GetBooleanOr(ZAX(),ZCX())
endfunction
function ZFX takes nothing returns boolean
return GetBooleanOr(ZIX(),ZDX())
endfunction
function ZGX takes nothing returns boolean
return GetBooleanOr(ZRX(),ZFX())
endfunction
function ZHX takes nothing returns boolean
return GetBooleanOr(ZOX(),ZGX())
endfunction
function ZJX takes nothing returns boolean
return(GetBooleanOr(ZXX(),ZHX()))
endfunction
function ZKX takes nothing returns nothing
local timer ZLX=CreateTimer()
local timerdialog ZMX
call AdjustPlayerStateBJ((GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)/-5),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
if JBV==false then
call StartTimerBJ(ZLX,false,(5.+(1.*I2R(GetUnitLevel(GetTriggerUnit())))))
endif
if JBV then
call StartTimerBJ(ZLX,false,(2.5+(.5*I2R(GetUnitLevel(GetTriggerUnit())))))
endif
if(ZJX())then
else
call CreateTimerDialogBJ(ZLX,GetPlayerName(GetOwningPlayer(GetTriggerUnit())))
endif
set ZMX=GetLastCreatedTimerDialogBJ()
if JBV==false then
call TriggerSleepAction((5.+(1.*I2R(GetUnitLevel(GetTriggerUnit())))))
endif
if JBV then
call TriggerSleepAction((2.5+(.5*I2R(GetUnitLevel(GetTriggerUnit())))))
endif
if(ZJX())then
else
call DestroyTimerDialogBJ(ZMX)
call DestroyTimer(ZLX)
set XVV=GetRectCenter(KHV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call RemoveLocation(XVV)
endif
set XVV=GetRectCenter(KHV)
call ReviveHeroLoc(GetTriggerUnit(),XVV,true)
call RemoveLocation(XVV)
if GetUnitAbilityLevelSwapped('ANms',GetTriggerUnit())>0 or GetUnitAbilityLevelSwapped('A1IR',GetTriggerUnit())>0 then
call IssueImmediateOrderBJ(GetTriggerUnit(),"manashieldoff")
endif
endfunction
function ZPX takes nothing returns nothing
local trigger ZQX
set ZQX=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZQX,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ZQX,Condition(function ZEX))
call TriggerAddAction(ZQX,function ZKX)
endfunction
function ZSX takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function ZTX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndqv')
endfunction
function ZUX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgg')
endfunction
function ZWX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrm')
endfunction
function ZYX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nano')
endfunction
function ZZX takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndqs')
endfunction
function Z_X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nhrq')
endfunction
function Z0X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Eilm')
endfunction
function Z1X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Udre')
endfunction
function Z2X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwiz')
endfunction
function Z3X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00T')
endfunction
function Z4X takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwzr')
endfunction
function Z5X takes nothing returns boolean
return GetBooleanOr(ZTX(),ZUX())
endfunction
function Z6X takes nothing returns boolean
return GetBooleanOr(ZWX(),ZYX())
endfunction
function Z7X takes nothing returns boolean
return GetBooleanOr(ZZX(),Z_X())
endfunction
function Z8X takes nothing returns boolean
return GetBooleanOr(Z0X(),Z1X())
endfunction
function Z9X takes nothing returns boolean
return GetBooleanOr(Z2X(),Z3X())
endfunction
function VVO takes nothing returns boolean
return GetBooleanOr(Z4X(),Z5X())
endfunction
function VEO takes nothing returns boolean
return GetBooleanOr(VVO(),Z6X())
endfunction
function VXO takes nothing returns boolean
return GetBooleanOr(VEO(),Z7X())
endfunction
function VOO takes nothing returns boolean
return GetBooleanOr(VXO(),Z8X())
endfunction
function VRO takes nothing returns boolean
return GetBooleanOr(VOO(),Z9X())
endfunction
function VIO takes nothing returns boolean
return GetBooleanAnd(VRO(),ZSX())
endfunction
function VAO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nadr')
endfunction
function VNO takes nothing returns nothing
if(VIO())then
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",XVV)
call RemoveLocation(XVV)
endif
if(VAO())then
set XVV=GetRectCenter(KNV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",XVV)
call RemoveLocation(XVV)
endif
endfunction
function VBO takes nothing returns nothing
set UNV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UNV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(UNV,Condition(function ZSX))
call TriggerAddAction(UNV,function VNO)
endfunction
function VCO takes nothing returns boolean
return(GetSpellAbilityId()=='A05O')
endfunction
function VDO takes nothing returns boolean
return(GetSpellAbilityId()=='ANch')
endfunction
function VFO takes nothing returns boolean
return(GetSpellAbilityId()=='A05J')
endfunction
function VGO takes nothing returns boolean
return(GetOwningPlayer(GetSpellAbilityUnit())==Player(1))
endfunction
function VHO takes nothing returns boolean
return GetBooleanOr(VCO(),VDO())
endfunction
function VJO takes nothing returns boolean
return GetBooleanOr(VFO(),VHO())
endfunction
function VKO takes nothing returns boolean
return(GetBooleanAnd(VJO(),VGO()))
endfunction
function VLO takes nothing returns nothing
local unit GJX
set GJX=GetSpellTargetUnit()
call mj(.5)
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GJX,"attack",XVV)
call RemoveLocation(XVV)
set GJX=null
endfunction
function VMO takes nothing returns nothing
local trigger VPO
set VPO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VPO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VPO,Condition(function VKO))
call TriggerAddAction(VPO,function VLO)
endfunction
function VQO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function VSO takes nothing returns nothing
set XVV=GetRectCenter(KIV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",XVV)
call RemoveLocation(XVV)
endfunction
function VTO takes nothing returns nothing
set UBV=CreateTrigger()
call TriggerRegisterEnterRectSimple(UBV,KMV)
call TriggerAddCondition(UBV,Condition(function VQO))
call TriggerAddAction(UBV,function VSO)
endfunction
function VUO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function VWO takes nothing returns nothing
set XVV=GetRectCenter(KBV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",XVV)
call RemoveLocation(XVV)
endfunction
function VYO takes nothing returns nothing
set UCV=CreateTrigger()
call TriggerRegisterEnterRectSimple(UCV,KPV)
call TriggerAddCondition(UCV,Condition(function VUO))
call TriggerAddAction(UCV,function VWO)
endfunction
function VZO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))
endfunction
function V_O takes nothing returns nothing
if(VZO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I06M',GetTriggerUnit())
endif
endfunction
function V0O takes nothing returns nothing
set UDV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UDV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(UDV,function V_O)
endfunction
function V1O takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())==Player(1)
endfunction
function V2O takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==Player(1)
endfunction
function V3O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='nehy')
endfunction
function V4O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='nhyd')
endfunction
function V5O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='nsgt')
endfunction
function V6O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n02Q')
endfunction
function V7O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n02R')
endfunction
function V8O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n02S')
endfunction
function V9O takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n02T')
endfunction
function EVO takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='n02U')
endfunction
function EEO takes nothing returns boolean
return GetBooleanOr(V3O(),V4O())
endfunction
function EXO takes nothing returns boolean
return GetBooleanOr(EEO(),V5O())
endfunction
function EOO takes nothing returns boolean
return GetBooleanOr(EXO(),V6O())
endfunction
function ERO takes nothing returns boolean
return GetBooleanOr(EOO(),V7O())
endfunction
function EIO takes nothing returns boolean
return GetBooleanOr(ERO(),V8O())
endfunction
function EAO takes nothing returns boolean
return GetBooleanOr(EIO(),V9O())
endfunction
function ENO takes nothing returns boolean
return GetBooleanOr(EAO(),EVO())
endfunction
function EBO takes nothing returns boolean
return GetBooleanAnd(ENO(),V2O())
endfunction
function ECO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='unp2')
endfunction
function EDO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nahy')
endfunction
function EFO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nehy')
endfunction
function EGO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsbm')
endfunction
function EHO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='unp2')
endfunction
function EJO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrj')
endfunction
function EKO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02Q')
endfunction
function ELO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02R')
endfunction
function EMO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02S')
endfunction
function EPO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02T')
endfunction
function EQO takes nothing returns nothing
set XVV=GetRectCenter(KKV)
call GroupPointOrderLocBJ(GetUnitsInRectOfPlayer(KLV,Player(1)),"attack",XVV)
call RemoveLocation(XVV)
endfunction
function ESO takes nothing returns nothing
if GetOwningPlayer(GetEnumUnit())==Player(1)then
set XVV=GetPlayerStartLocationLoc(Player(0))
call GroupPointOrderLocBJ(XEV,"attack",XVV)
call RemoveLocation(XVV)
endif
endfunction
function ETO takes nothing returns nothing
call UnitAddAbilityBJ('A1UV',GetEnumUnit())
call UnitAddAbilityBJ('A10N',GetEnumUnit())
call UnitAddAbilityBJ('A017',GetEnumUnit())
endfunction
function EUO takes nothing returns nothing
local real GWX=0
local real GYX=0
local real GZX=0
if EGO()and FD==false then
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=CreateNUnitsAtLoc(8,'nsgt',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ForGroupBJ(XEV,function ETO)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set FD=true
endif
if(EDO()or EFO()or EGO()or EHO()or EJO()or EKO()or ELO()or EMO()or EPO())then
set XEV=(GetUnitsOfPlayerMatching(Player(1),Condition(function EBO)))
call ForGroupBJ(XEV,function ESO)
call DestroyGroup(XEV)
endif
if(ECO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'Eilm',Player(1),XVV,XVV)
call RemoveLocation(XVV)
if KV==0 then
call SetHeroLevel(GetLastCreatedUnit(),5,false)
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastCreatedUnit())-(4750*GetPlayerHandicapBJ(Player(1))))
call QBE(GetLastCreatedUnit(),0,QFE(GetLastCreatedUnit(),0)-420)
set GWX=623
set GYX=52
set GZX=325
endif
if KV==1 then
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastCreatedUnit())-($E2E*GetPlayerHandicapBJ(Player(1))))
call QBE(GetLastCreatedUnit(),0,QFE(GetLastCreatedUnit(),0)-$E6)
set GWX=$4FA
set GYX=7
set GZX=577
endif
if KV==2 then
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastCreatedUnit())-(1420.76*GetPlayerHandicapBJ(Player(1))))
call QBE(GetLastCreatedUnit(),0,QFE(GetLastCreatedUnit(),0)-80)
set GWX=$750
set GYX='k'
set GZX=842
endif
if KV==3 then
set GWX=$A4A
set GYX=$CB
set GZX=$57D
endif
if KV==4 then
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastCreatedUnit())+(1420.76*GetPlayerHandicapBJ(Player(1))))
call QBE(GetLastCreatedUnit(),0,QFE(GetLastCreatedUnit(),0)+80)
call QBE(GetLastCreatedUnit(),1,QFE(GetLastCreatedUnit(),1)+$834)
set GWX=4134
set GYX=263
set GZX=$774
endif
if GJ==1 or FJ==1 then
set GWX=GWX*1.3
set GYX=GYX*1.55
set GZX=GZX*1.35
endif
if GJ==2 or FJ==2 then
set GWX=GWX*1.6
set GYX=GYX*1.95
set GZX=GZX*1.55
endif
if GJ==3 or FJ==3 then
set GWX=GWX*2.2
set GYX=GYX*2.5
set GZX=GZX*1.7
endif
call SetHeroStr(GetLastCreatedUnit(),R2I(GWX),true)
call SetHeroAgi(GetLastCreatedUnit(),R2I(GYX),true)
call SetHeroInt(GetLastCreatedUnit(),R2I(GZX),true)
call PlaySoundFromOffsetBJ(PJV,'d',0)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectOfPlayer(KLV,Player(1)),function EQO)
set GWX=0
set GYX=0
set GZX=0
endif
endfunction
function EWO takes nothing returns nothing
set UFV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UFV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(UFV,Condition(function V1O))
call TriggerAddAction(UFV,function EUO)
endfunction
function EYO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nef1')
endfunction
function EZO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hhou')
endfunction
function E_O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nefm')
endfunction
function E0O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hbar')
endfunction
function E1O takes nothing returns boolean
return GetBooleanOr(EYO(),EZO())
endfunction
function E2O takes nothing returns boolean
return GetBooleanOr(E_O(),E0O())
endfunction
function E3O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hcas')
endfunction
function E4O takes nothing returns boolean
return GetBooleanOr(E3O(),E1O())
endfunction
function E5O takes nothing returns boolean
return(GetBooleanOr(E4O(),E2O()))
endfunction
function E6O takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"A building of the light has been destroyed, dark forces get stronger.")
if(EYO())then
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==7)then
call SetPlayerTechResearchedSwap('Ruac',1,Player(1))
call SetPlayerTechResearchedSwap('R066',1,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==6)then
call SetPlayerTechResearchedSwap('Ruac',2,Player(1))
call SetPlayerTechResearchedSwap('R066',2,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==5)then
call SetPlayerTechResearchedSwap('Ruac',3,Player(1))
call SetPlayerTechResearchedSwap('R066',3,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==4)then
call SetPlayerTechResearchedSwap('Ruac',4,Player(1))
call SetPlayerTechResearchedSwap('R066',4,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==3)then
call SetPlayerTechResearchedSwap('Ruac',5,Player(1))
call SetPlayerTechResearchedSwap('R066',5,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==2)then
call SetPlayerTechResearchedSwap('Ruac',6,Player(1))
call SetPlayerTechResearchedSwap('R066',6,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==1)then
call SetPlayerTechResearchedSwap('Ruac',7,Player(1))
call SetPlayerTechResearchedSwap('R066',7,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nef1',Player(0))==0)then
call SetPlayerTechResearchedSwap('Ruac',8,Player(1))
call SetPlayerTechResearchedSwap('R066',8,Player(1))
endif
endif
if(EZO())then
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==$E)then
call SetPlayerTechResearchedSwap('Rume',1,Player(1))
call SetPlayerTechResearchedSwap('R063',1,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==$D)then
call SetPlayerTechResearchedSwap('Rume',2,Player(1))
call SetPlayerTechResearchedSwap('R063',2,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==$C)then
call SetPlayerTechResearchedSwap('Rume',3,Player(1))
call SetPlayerTechResearchedSwap('R063',3,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==$B)then
call SetPlayerTechResearchedSwap('Rume',4,Player(1))
call SetPlayerTechResearchedSwap('R063',4,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==$A)then
call SetPlayerTechResearchedSwap('Rume',5,Player(1))
call SetPlayerTechResearchedSwap('R063',5,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==9)then
call SetPlayerTechResearchedSwap('Rume',6,Player(1))
call SetPlayerTechResearchedSwap('R063',6,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==8)then
call SetPlayerTechResearchedSwap('Rume',7,Player(1))
call SetPlayerTechResearchedSwap('R063',7,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==7)then
call SetPlayerTechResearchedSwap('Rume',8,Player(1))
call SetPlayerTechResearchedSwap('R063',8,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==6)then
call SetPlayerTechResearchedSwap('Rume',9,Player(1))
call SetPlayerTechResearchedSwap('R063',9,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==5)then
call SetPlayerTechResearchedSwap('Rume',$A,Player(1))
call SetPlayerTechResearchedSwap('R063',$A,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==4)then
call SetPlayerTechResearchedSwap('Rume',$B,Player(1))
call SetPlayerTechResearchedSwap('R063',$B,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==3)then
call SetPlayerTechResearchedSwap('Rume',$C,Player(1))
call SetPlayerTechResearchedSwap('R063',$C,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==2)then
call SetPlayerTechResearchedSwap('Rume',$D,Player(1))
call SetPlayerTechResearchedSwap('R063',$D,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==1)then
call SetPlayerTechResearchedSwap('Rume',$E,Player(1))
call SetPlayerTechResearchedSwap('R063',$E,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hhou',Player(0))==0)then
call SetPlayerTechResearchedSwap('Rume',$F,Player(1))
call SetPlayerTechResearchedSwap('R063',$F,Player(1))
endif
endif
if(E_O())then
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==$E)then
call SetPlayerTechResearchedSwap('Ruar',1,Player(1))
call SetPlayerTechResearchedSwap('R062',1,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==$D)then
call SetPlayerTechResearchedSwap('Ruar',2,Player(1))
call SetPlayerTechResearchedSwap('R062',2,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==$C)then
call SetPlayerTechResearchedSwap('Ruar',3,Player(1))
call SetPlayerTechResearchedSwap('R062',3,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==$B)then
call SetPlayerTechResearchedSwap('Ruar',4,Player(1))
call SetPlayerTechResearchedSwap('R062',4,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==$A)then
call SetPlayerTechResearchedSwap('Ruar',5,Player(1))
call SetPlayerTechResearchedSwap('R062',5,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==9)then
call SetPlayerTechResearchedSwap('Ruar',6,Player(1))
call SetPlayerTechResearchedSwap('R062',6,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==8)then
call SetPlayerTechResearchedSwap('Ruar',7,Player(1))
call SetPlayerTechResearchedSwap('R062',7,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==7)then
call SetPlayerTechResearchedSwap('Ruar',8,Player(1))
call SetPlayerTechResearchedSwap('R062',8,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==6)then
call SetPlayerTechResearchedSwap('Ruar',9,Player(1))
call SetPlayerTechResearchedSwap('R062',9,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==5)then
call SetPlayerTechResearchedSwap('Ruar',$A,Player(1))
call SetPlayerTechResearchedSwap('R062',$A,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==4)then
call SetPlayerTechResearchedSwap('Ruar',$B,Player(1))
call SetPlayerTechResearchedSwap('R062',$B,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==3)then
call SetPlayerTechResearchedSwap('Ruar',$C,Player(1))
call SetPlayerTechResearchedSwap('R062',$C,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==2)then
call SetPlayerTechResearchedSwap('Ruar',$D,Player(1))
call SetPlayerTechResearchedSwap('R062',$D,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==1)then
call SetPlayerTechResearchedSwap('Ruar',$E,Player(1))
call SetPlayerTechResearchedSwap('R062',$E,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('nefm',Player(0))==0)then
call SetPlayerTechResearchedSwap('Ruar',$F,Player(1))
call SetPlayerTechResearchedSwap('R062',$F,Player(1))
endif
endif
if(E0O())then
if(CountLivingPlayerUnitsOfTypeId('hbar',Player(0))==3)then
call SetPlayerTechResearchedSwap('Rugf',1,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hbar',Player(0))==2)then
call SetPlayerTechResearchedSwap('Rugf',2,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hbar',Player(0))==1)then
call SetPlayerTechResearchedSwap('Rugf',3,Player(1))
endif
if(CountLivingPlayerUnitsOfTypeId('hbar',Player(0))==0)then
call SetPlayerTechResearchedSwap('Rugf',4,Player(1))
endif
endif
if(E3O())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000The forces of Darkness have destroyed the empire, you have lost.|r ")
call mj(10.)
call CustomDefeatBJ(Player(0),"Defeat!")
call CustomVictoryBJ(Player(1),true,true)
call CustomDefeatBJ(Player(2),"Defeat!")
call CustomDefeatBJ(Player(3),"Defeat!")
call CustomDefeatBJ(Player(4),"Defeat!")
call CustomDefeatBJ(Player(5),"Defeat!")
call CustomDefeatBJ(Player(6),"Defeat!")
call CustomDefeatBJ(Player(7),"Defeat!")
call CustomDefeatBJ(Player(8),"Defeat!")
call CustomDefeatBJ(Player(9),"Defeat!")
endif
endfunction
function E7O takes nothing returns nothing
set UGV=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(UGV,Player(0),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(UGV,Condition(function E5O))
call TriggerAddAction(UGV,function E6O)
endfunction
function E8O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uzig')
endfunction
function E9O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='utod')
endfunction
function XVO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uslh')
endfunction
function XEO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uaod')
endfunction
function XXO takes nothing returns boolean
return GetBooleanOr(E8O(),E9O())
endfunction
function XOO takes nothing returns boolean
return GetBooleanOr(XVO(),XEO())
endfunction
function XRO takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='Eilm')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function XIO takes nothing returns boolean
return GetBooleanOr(XXO(),XRO())
endfunction
function XAO takes nothing returns boolean
return(GetBooleanOr(XIO(),XOO()))
endfunction
function XNO takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"A building of the dark has been destroyed, Light forces get stronger.")
if(E8O())then
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==17)then
call SetPlayerTechResearchedSwap('Rhar',1,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==16)then
call SetPlayerTechResearchedSwap('Rhar',2,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$F)then
call SetPlayerTechResearchedSwap('Rhar',3,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$E)then
call SetPlayerTechResearchedSwap('Rhar',4,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$D)then
call SetPlayerTechResearchedSwap('Rhar',5,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$C)then
call SetPlayerTechResearchedSwap('Rhar',6,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$B)then
call SetPlayerTechResearchedSwap('Rhar',7,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==$A)then
call SetPlayerTechResearchedSwap('Rhar',8,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==9)then
call SetPlayerTechResearchedSwap('Rhar',9,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==8)then
call SetPlayerTechResearchedSwap('Rhar',$A,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==7)then
call SetPlayerTechResearchedSwap('Rhar',$B,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==6)then
call SetPlayerTechResearchedSwap('Rhar',$C,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==5)then
call SetPlayerTechResearchedSwap('Rhar',$D,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==4)then
call SetPlayerTechResearchedSwap('Rhar',$E,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==3)then
call SetPlayerTechResearchedSwap('Rhar',$F,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==2)then
call SetPlayerTechResearchedSwap('Rhar',16,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==1)then
call SetPlayerTechResearchedSwap('Rhar',17,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uzig',Player(1))==0)then
call SetPlayerTechResearchedSwap('Rhar',18,Player(0))
endif
endif
if(E9O())then
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==$C)then
call SetPlayerTechResearchedSwap('Rhme',1,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==$B)then
call SetPlayerTechResearchedSwap('Rhme',2,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==$A)then
call SetPlayerTechResearchedSwap('Rhme',3,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==9)then
call SetPlayerTechResearchedSwap('Rhme',4,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==8)then
call SetPlayerTechResearchedSwap('Rhme',5,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==7)then
call SetPlayerTechResearchedSwap('Rhme',6,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==6)then
call SetPlayerTechResearchedSwap('Rhme',7,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==5)then
call SetPlayerTechResearchedSwap('Rhme',8,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==4)then
call SetPlayerTechResearchedSwap('Rhme',9,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==3)then
call SetPlayerTechResearchedSwap('Rhme',$A,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==2)then
call SetPlayerTechResearchedSwap('Rhme',$B,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==1)then
call SetPlayerTechResearchedSwap('Rhme',$C,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('utod',Player(1))==0)then
call SetPlayerTechResearchedSwap('Rhme',$D,Player(0))
endif
endif
if(XVO())then
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==8)then
call SetPlayerTechResearchedSwap('Rhan',1,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==7)then
call SetPlayerTechResearchedSwap('Rhan',2,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==6)then
call SetPlayerTechResearchedSwap('Rhan',3,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==5)then
call SetPlayerTechResearchedSwap('Rhan',4,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==4)then
call SetPlayerTechResearchedSwap('Rhan',5,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==3)then
call SetPlayerTechResearchedSwap('Rhan',6,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==2)then
call SetPlayerTechResearchedSwap('Rhan',7,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==1)then
call SetPlayerTechResearchedSwap('Rhan',8,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uslh',Player(1))==0)then
call SetPlayerTechResearchedSwap('Rhan',9,Player(0))
endif
endif
if(XEO())then
if(CountLivingPlayerUnitsOfTypeId('uaod',Player(1))==3)then
call SetPlayerTechResearchedSwap('Rhst',1,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uaod',Player(1))==2)then
call SetPlayerTechResearchedSwap('Rhst',2,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uaod',Player(1))==1)then
call SetPlayerTechResearchedSwap('Rhst',3,Player(0))
endif
if(CountLivingPlayerUnitsOfTypeId('uaod',Player(1))==0)then
call SetPlayerTechResearchedSwap('Rhst',4,Player(0))
endif
endif
if(XRO())then
if BF==0 then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00You have destroyed the incarnation of the dark, you have achieved victory.|r")
call TriggerSleepAction(20.)
call CustomDefeatBJ(Player(1),"Defeat!")
call CustomVictoryBJ(Player(0),true,true)
call CustomVictoryBJ(Player(2),true,true)
call CustomVictoryBJ(Player(3),true,true)
call CustomVictoryBJ(Player(4),true,true)
call CustomVictoryBJ(Player(5),true,true)
call CustomVictoryBJ(Player(6),true,true)
call CustomVictoryBJ(Player(7),true,true)
call CustomVictoryBJ(Player(8),true,true)
call CustomVictoryBJ(Player(9),true,true)
endif
if BF==1 then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00You have destroyed the incarnation of the dark, Dark and Light forces will no longer send waves of creeps")
set DB[0]=0
set DB[1]=0
set DB[2]=0
set DB[3]=0
set BF=2
endif
endif
endfunction
function XBO takes nothing returns nothing
set UHV=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(UHV,Player(1),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(UHV,Condition(function XAO))
call TriggerAddAction(UHV,function XNO)
endfunction
function XCO takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='hrdh')
endfunction
function XDO takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='hhdl')
endfunction
function XFO takes nothing returns boolean
return GetBooleanAnd(XCO(),XDO())
endfunction
function XGO takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function XHO takes nothing returns boolean
return(CountPlayersInForceBJ(GetPlayersAll())<6)
endfunction
function XJO takes nothing returns boolean
return(GetTriggerPlayer()==Player(2))
endfunction
function XKO takes nothing returns boolean
return(GetTriggerPlayer()==Player(3))
endfunction
function XLO takes nothing returns boolean
return(GetTriggerPlayer()==Player(4))
endfunction
function XMO takes nothing returns boolean
return(GetTriggerPlayer()==Player(5))
endfunction
function XPO takes nothing returns boolean
return(GetTriggerPlayer()==Player(6))
endfunction
function XQO takes nothing returns boolean
return(GetTriggerPlayer()==Player(7))
endfunction
function XSO takes nothing returns boolean
return(GetTriggerPlayer()==Player(8))
endfunction
function XTO takes nothing returns boolean
return(GetTriggerPlayer()==Player(9))
endfunction
function XUO takes nothing returns nothing
call SetPlayerAlliance(GetTriggerPlayer(),Player(2),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(3),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(4),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(5),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(6),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(7),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(8),ALLIANCE_SHARED_CONTROL,true)
call SetPlayerAlliance(GetTriggerPlayer(),Player(9),ALLIANCE_SHARED_CONTROL,true)
set XEV=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function XFO))
call ForGroupBJ(XEV,function XGO)
call DestroyGroup(XEV)
set GWV[GetConvertedPlayerId(GetTriggerPlayer())]=false
if(XHO())then
call EnableTrigger(UVV)
call DisplayTextToForce(GetPlayersAll(),"Player 3(Teal) can close a line if is needed with -closeline(1,2 or 4) comand, lines start counting from left, make sure to not close a line with a tower of one the players.")
endif
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+" Has Left The Game"))
if(XJO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,3,("|cffc3dbff"+(GetPlayerName(Player(2))+"|r")))
endif
if(XKO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XKV,("|cffc3dbff"+(GetPlayerName(Player(3))+"|r")))
endif
if(XLO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XLV,("|cffc3dbff"+(GetPlayerName(Player(4))+"|r")))
endif
if(XMO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XMV,("|cffc3dbff"+(GetPlayerName(Player(5))+"|r")))
endif
if(XPO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XPV,("|cffc3dbff"+(GetPlayerName(Player(6))+"|r")))
endif
if(XQO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XQV,("|cffc3dbff"+(GetPlayerName(Player(7))+"|r")))
endif
if(XSO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XSV,("|cffc3dbff"+(GetPlayerName(Player(8))+"|r")))
endif
if(XTO())then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,XTV,("|cffc3dbff"+(GetPlayerName(Player(9))+"|r")))
endif
endfunction
function XWO takes nothing returns nothing
set UJV=CreateTrigger()
call TriggerRegisterPlayerEventLeave(UJV,Player(2))
call TriggerRegisterPlayerEventLeave(UJV,Player(4))
call TriggerRegisterPlayerEventLeave(UJV,Player(3))
call TriggerRegisterPlayerEventLeave(UJV,Player(5))
call TriggerRegisterPlayerEventLeave(UJV,Player(6))
call TriggerRegisterPlayerEventLeave(UJV,Player(7))
call TriggerRegisterPlayerEventLeave(UJV,Player(8))
call TriggerRegisterPlayerEventLeave(UJV,Player(9))
call TriggerAddAction(UJV,function XUO)
endfunction
function XYO takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function XZO takes nothing returns nothing
call IssueImmediateOrderBJ(GetAttacker(),"stop")
endfunction
function X_O takes nothing returns nothing
set UKV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UKV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(UKV,Condition(function XYO))
call TriggerAddAction(UKV,function XZO)
endfunction
function X0O takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Move Speed : "+R2S(GetUnitMoveSpeed(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))))
endfunction
function X1O takes nothing returns nothing
set ULV=CreateTrigger()
call TriggerRegisterPlayerChatEvent(ULV,Player(2),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(3),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(4),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(5),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(6),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(7),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(8),"-ms",true)
call TriggerRegisterPlayerChatEvent(ULV,Player(9),"-ms",true)
call TriggerAddAction(ULV,function X0O)
endfunction
function X2O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H066')
endfunction
function X3O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H068')
endfunction
function X4O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H067')
endfunction
function X5O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H05Y')
endfunction
function X6O takes nothing returns boolean
return GetBooleanOr(X4O(),X5O())
endfunction
function X7O takes nothing returns boolean
return GetBooleanOr(X3O(),X6O())
endfunction
function X8O takes nothing returns boolean
return((IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetBooleanOr(X2O(),X7O())))!=null
endfunction
function X9O takes nothing returns nothing
if(X8O())then
set RLV=GetTriggerUnit()
endif
endfunction
function OVO takes nothing returns nothing
set UMV=CreateTrigger()
call TriggerRegisterEnterRectSimple(UMV,GetEntireMapRect())
call TriggerAddAction(UMV,function X9O)
endfunction
function OEO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1SE')and(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())==0)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function OXO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1SE')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())>0)
endfunction
function OOO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1W8')and(GetUnitAbilityLevelSwapped('A1W8',GetTriggerUnit())==1)
endfunction
function ORO takes nothing returns nothing
if(OEO())then
set OSV=GetTriggerUnit()
set EF=EF+1
call UnitAddAbilityBJ('A0XO',OSV)
else
if(OXO())then
set EF=EF+1
call IncUnitAbilityLevelSwapped('A0XO',OSV)
endif
endif
if(OOO())then
call UnitAddAbilityBJ('A1W7',GetTriggerUnit())
endif
endfunction
function OIO takes nothing returns nothing
set UPV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UPV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(UPV,function ORO)
endfunction
function OAO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BW')
endfunction
function ONO takes nothing returns nothing
set XVV=GetSpellTargetLoc()
set XYV=GetUnitAbilityLevelSwapped('A0BW',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,50.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,100.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,150.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,200.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,250.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,300.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,350.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,400.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-400.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-350.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-300.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-250.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-200.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-150.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-100.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-50.,0),XVV)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),XYV)
call SetPlayerAbilityAvailableBJ(false,'A0BX',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A0BX',GetOwningPlayer(GetTriggerUnit()))
call RemoveLocation(XVV)
endfunction
function OBO takes nothing returns nothing
set UQV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UQV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(UQV,Condition(function OAO))
call TriggerAddAction(UQV,function ONO)
endfunction
function OCO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BT')
endfunction
function ODO takes nothing returns boolean
return(GetSpellAbilityId()=='A0QN')
endfunction
function OFO takes nothing returns boolean
return(GetSpellAbilityId()=='AOws')
endfunction
function OGO takes nothing returns boolean
return(GetSpellAbilityId()=='A0AK')
endfunction
function OHO takes nothing returns boolean
return(GetSpellAbilityId()=='A12Z')
endfunction
function OJO takes nothing returns boolean
return(GetSpellAbilityId()=='A0AQ')
endfunction
function OKO takes nothing returns boolean
return(GetSpellAbilityId()=='A0AO')
endfunction
function OLO takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function OMO takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(40.*I2R(GetUnitAbilityLevelSwapped('A0BS',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function OPO takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((10.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))+(I2R(GetHeroLevel(GetTriggerUnit()))*(24.*I2R(GetUnitAbilityLevelSwapped('A0BS',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function OQO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BS')
endfunction
function OSO takes nothing returns nothing
if(OCO())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*(4+GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((((4+GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit()))+0)*GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(50*GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit())))),GetSpellTargetLoc(),0,$A,.0,.0,100.,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
endif
if(ODO())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*(GetUnitLevel(GetTriggerUnit())+((GetUnitAbilityLevelSwapped('A0QN',GetTriggerUnit())*18)-18)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S((((((GetUnitAbilityLevelSwapped('A0QN',GetTriggerUnit())*18)+GetUnitLevel(GetTriggerUnit()))-18)*GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(0+0))),XVV,0,$A,.0,.0,100.,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
endif
if(OFO())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.04)))
endif
if(OGO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(1.5*GetUnitAbilityLevelSwapped('A0AK',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(OHO())then
call UnitAddAbilityBJ('A130',GetTriggerUnit())
call SetPlayerTechResearchedSwap('R01U',(GetPlayerTechCountSimple('R01U',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call SetUnitScalePercent(GetTriggerUnit(),200.,200.,200.)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set A1V=GetTriggerUnit()
call StartTimerBJ(A2V,false,(2.+(I2R(GetUnitAbilityLevelSwapped('A12Z',GetTriggerUnit()))*8.)))
endif
if(OJO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddLightningLoc("AFOD",XVV,GetUnitLoc(GetSpellTargetUnit()))
call RemoveLocation(XVV)
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1.,1.,.0,1)
call SetUnitExplodedBJ(GetSpellTargetUnit(),true)
call TriggerSleepAction(.5)
call DestroyLightningBJ(GetLastCreatedLightningBJ())
endif
if(OKO())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,255.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-255.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,220.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-220.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-170.,-170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,170.,-170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,170.,170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-170.,170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,520.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-520.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,460.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-460.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-360.,-360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,360.,-360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,360.,360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-360.,360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(OQO())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(OffsetLocation(XVV,80.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-80.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,80.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-80.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XEV=GetUnitsInRangeOfLocMatching(260.,XVV,Condition(function OLO))
call ForGroupBJ(XEV,function OMO)
call ForGroupBJ(XEV,function OPO)
call DestroyGroup(XEV)
call CreateTextTagLocBJ(I2S(((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*$A)+((40*GetUnitAbilityLevelSwapped('A0BS',GetTriggerUnit()))+(GetUnitAbilityLevelSwapped('A0BS',GetTriggerUnit())*(24*GetHeroLevel(GetTriggerUnit())))))),XVV,0,$A,'d',.0,.0,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
endif
endfunction
function OTO takes nothing returns nothing
set USV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(USV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(USV,function OSO)
endfunction
function OUO takes nothing returns nothing
call UnitRemoveAbilityBJ('A1V1',ASV)
call UnitRemoveAbilityBJ('A10Q',ASV)
call SetUnitScalePercent(ASV,'d','d','d')
endfunction
function OWO takes nothing returns nothing
set UTV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(UTV,AQV)
call TriggerAddAction(UTV,function OUO)
endfunction
function OYO takes nothing returns nothing
call UnitRemoveAbilityBJ('A130',A1V)
call SetUnitScalePercent(A1V,'d','d','d')
endfunction
function OZO takes nothing returns nothing
set UUV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(UUV,A2V)
call TriggerAddAction(UUV,function OYO)
endfunction
function O_O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ncim')
endfunction
function O0O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ncen')
endfunction
function O1O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nhrh')
endfunction
function O2O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nowk')
endfunction
function O3O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndrd')
endfunction
function O4O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nvdw')
endfunction
function O5O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nina')
endfunction
function O6O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfel')
endfunction
function O7O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nbal')
endfunction
function O8O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerd')
endfunction
function O9O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nndk')
endfunction
function RVO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nthl')
endfunction
function REO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nkol')
endfunction
function RXO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsqa')
endfunction
function ROO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsln')
endfunction
function RRO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndtb')
endfunction
function RIO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmrm')
endfunction
function RAO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ndqt')
endfunction
function RNO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsts')
endfunction
function RBO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='efdr')
endfunction
function RCO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nubr')
endfunction
function RDO takes nothing returns nothing
if(O_O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O0O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O1O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O2O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O3O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O4O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O5O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O6O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O7O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O8O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(O9O())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RVO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(REO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RXO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(ROO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RRO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RIO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RAO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RNO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RBO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
if(RCO())then
call UnitApplyTimedLifeBJ(120.,'BTLF',GetTriggerUnit())
endif
endfunction
function RFO takes nothing returns nothing
set UWV=CreateTrigger()
call TriggerRegisterEnterRectSimple(UWV,GetEntireMapRect())
call TriggerAddAction(UWV,function RDO)
endfunction
function RGO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BV')
endfunction
function RHO takes nothing returns nothing
set XYV=((GetUnitAbilityLevelSwapped('A0BV',GetTriggerUnit())*GetUnitLevel(GetSpellTargetUnit()))/ 3)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,XYV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+I2S(XYV)),XVV,50.,$A,.0,.0,'d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),80.,90)
set XZV=GetLastCreatedTextTag()
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2.)
call DestroyTextTagBJ(XZV)
call TriggerSleepAction(15.)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,XYV)
set XYV=0
call EnableTrigger(GetTriggeringTrigger())
endfunction
function RJO takes nothing returns nothing
set UYV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UYV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(UYV,Condition(function RGO))
call TriggerAddAction(UYV,function RHO)
endfunction
function RKO takes nothing returns boolean
return(GetSpellAbilityId()=='A12J')
endfunction
function RLO takes nothing returns nothing
set AFV=((GetUnitAbilityLevelSwapped('A12J',GetTriggerUnit())*GetUnitLevel(GetSpellTargetUnit()))/ 2)
set AHV=GetTriggerUnit()
set AJV=GetSpellTargetUnit()
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,AFV)
call UnitAddAbilityBJ('A12K',AJV)
call SetUnitMoveSpeed(AJV,(GetUnitMoveSpeed(AJV)-150.))
call SetUnitVertexColorBJ(AJV,30.,80.,30.,40.)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(AFV),XVV,10.,13.,10.,100.,10.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(AGV,false,(7.+I2R(GetUnitAbilityLevelSwapped('A12J',GetTriggerUnit()))))
endfunction
function RMO takes nothing returns nothing
set UZV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UZV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(UZV,Condition(function RKO))
call TriggerAddAction(UZV,function RLO)
endfunction
function RPO takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,AHV,bj_MODIFYMETHOD_SUB,AFV)
call EnableTrigger(UZV)
call UnitRemoveAbilityBJ('A12K',AJV)
call SetUnitMoveSpeed(AJV,GetUnitDefaultMoveSpeed(AJV))
call SetUnitVertexColorBJ(AJV,100.,100.,100.,.0)
call AddSpecialEffectTargetUnitBJ("overhead",AHV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function RQO takes nothing returns nothing
set U_V=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(U_V,AGV)
call TriggerAddAction(U_V,function RPO)
endfunction
function RSO takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function RTO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AB'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I089'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function RUO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AA'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function RWO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A9'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I081'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))
endfunction
function RYO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A8'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I080'))
endfunction
function RZO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07K'))
endfunction
function R_O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07M'))
endfunction
function R0O takes nothing returns boolean
return(GetBooleanOr(RZO(),R_O()))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07C'))
endfunction
function R1O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07J'))
endfunction
function R2O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07L'))
endfunction
function R3O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AD'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A1'))
endfunction
function R4O takes nothing returns boolean
return(GetBooleanOr(R1O(),R2O()))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'sprn'))
endfunction
function R5O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AE'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AG'))
endfunction
function R6O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07S'))
endfunction
function R7O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AM'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function R8O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AL'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function R9O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AK'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I089'))
endfunction
function IVO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AJ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'soul'))
endfunction
function IEO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AI'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07C'))
endfunction
function IXO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07O'))
endfunction
function IOO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07N'))
endfunction
function IRO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hcun'))and(GetBooleanOr(IXO(),IOO()))
endfunction
function IIO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function IAO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A0'))
endfunction
function INO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AP'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AJ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A9'))
endfunction
function IBO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AO'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01M'))
endfunction
function ICO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07O'))
endfunction
function IDO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07N'))
endfunction
function IFO takes nothing returns boolean
return(GetBooleanOr(ICO(),IDO()))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hval'))
endfunction
function IGO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AS'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function IHO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AP'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I087'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function IJO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AN'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I060'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CP'))
endfunction
function IKO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FV'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I093'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08Y'))
endfunction
function ILO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09B'))
endfunction
function IMO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AW'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08I'))
endfunction
function IPO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AV'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09I'))
endfunction
function IQO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AU'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08H'))
endfunction
function ISO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Z'))
endfunction
function ITO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B0'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03K'))
endfunction
function IUO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AZ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07W'))
endfunction
function IWO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0AY'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I006'))
endfunction
function IYO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07D'))
endfunction
function IZO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B3'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function I_O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B2'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08F'))
endfunction
function I0O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08D'))
endfunction
function I1O takes nothing returns nothing
if(R0O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A8',GetTriggerUnit())
else
if(RYO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A8'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I080'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A9',GetTriggerUnit())
else
if(RWO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A9'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I081'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AA',GetTriggerUnit())
else
if(RUO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AA'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AB',GetTriggerUnit())
else
if(RTO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AB'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I089'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AC',GetTriggerUnit())
endif
endif
endif
endif
endif
if(R4O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'sprn'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07L'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AD',GetTriggerUnit())
else
if(R3O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AD'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AE',GetTriggerUnit())
endif
endif
if(R6O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07S'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AG',GetTriggerUnit())
else
if(R5O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AE'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AH',GetTriggerUnit())
endif
endif
if(IRO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hcun'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AI',GetTriggerUnit())
else
if(IEO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AI'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AJ',GetTriggerUnit())
else
if(IVO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AJ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'soul'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AK',GetTriggerUnit())
else
if(R9O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AK'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I089'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AL',GetTriggerUnit())
else
if(R8O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AL'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AM',GetTriggerUnit())
else
if(R7O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AM'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AN',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
if(IFO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hval'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AO',GetTriggerUnit())
else
if(IBO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AO'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01M'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AP',GetTriggerUnit())
else
if(INO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AP'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AJ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A9'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AQ',GetTriggerUnit())
else
if(IIO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AQ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AR',GetTriggerUnit())
else
if(IAO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A0'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KC',GetTriggerUnit())
endif
endif
endif
endif
endif
if(IHO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AP'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I087'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AS',GetTriggerUnit())
else
if(IGO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AS'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AT',GetTriggerUnit())
endif
endif
if(ISO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Z'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AU',GetTriggerUnit())
else
if(IQO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AU'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08H'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AV',GetTriggerUnit())
else
if(IPO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AV'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AW',GetTriggerUnit())
else
if(IMO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AW'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AX',GetTriggerUnit())
else
if(ILO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09B'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0FV',GetTriggerUnit())
else
if(IKO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FV'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I093'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KD',GetTriggerUnit())
else
if(IJO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CP'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AN'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I060'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0FW',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
endif
if(IYO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07D'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AY',GetTriggerUnit())
else
if(IWO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AY'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I006'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0AZ',GetTriggerUnit())
else
if(IUO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0AZ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B0',GetTriggerUnit())
else
if(ITO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B0'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B1',GetTriggerUnit())
endif
endif
endif
endif
if(I0O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08D'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B2',GetTriggerUnit())
else
if(I_O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B3',GetTriggerUnit())
else
if(IZO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B3'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0FX',GetTriggerUnit())
endif
endif
endif
endfunction
function I2O takes nothing returns nothing
set U0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(U0V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(U0V,Condition(function RSO))
call TriggerAddAction(U0V,function I1O)
endfunction
function I3O takes nothing returns boolean
return(GetSpellAbilityId()=='A09W')
endfunction
function I4O takes nothing returns nothing
call PlaySoundBJ(PFV)
endfunction
function I5O takes nothing returns nothing
set U1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(U1V,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(U1V,Condition(function I3O))
call TriggerAddAction(U1V,function I4O)
endfunction
function I6O takes nothing returns boolean
return(GetSpellAbilityId()=='A0SO')
endfunction
function I7O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0FR',GetTriggerUnit())>=1)
endfunction
function I8O takes nothing returns boolean
return(GetSpellAbilityId()=='A0FR')
endfunction
function I9O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function AVO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==1)
endfunction
function AEO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==2)
endfunction
function AXO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==3)
endfunction
function AOO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==4)
endfunction
function ARO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==5)
endfunction
function AIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==6)
endfunction
function AAO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==7)
endfunction
function ANO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==8)
endfunction
function ABO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Absk',GetTriggerUnit())==9)
endfunction
function ACO takes nothing returns boolean
return(GetSpellAbilityId()=='Absk')
endfunction
function ADO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FP')
endfunction
function AFO takes nothing returns nothing
if(I6O())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,255.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-255.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,220.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-220.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-170.,-170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,170.,-170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,170.,170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-170.,170.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,520.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-520.,.0),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,460.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-460.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-360.,-360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,360.,-360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,360.,360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-360.,360.),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(I8O())then
call PlaySoundBJ(PNV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPeasant.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodSorceress.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
if(I7O())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),$C)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
if GetUnitAbilityLevelSwapped('A0FR',GetTriggerUnit())<4 then
call CreateTextTagLocBJ((""+I2S(R2I((GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.7)*GetUnitAbilityLevelSwapped('A0FR',GetTriggerUnit()))+400)),XVV,10.,13.,100.,10.,10.,12.)
else
call CreateTextTagLocBJ((""+I2S(R2I((GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*2.7))+400)),XVV,10.,13.,100.,10.,10.,12.)
endif
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),60.,90)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(I2R(GetUnitAbilityLevelSwapped('A0FR',GetTriggerUnit()))*(.06*GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))))
endif
endif
if(ACO())then
if(I9O())then
call PlaySoundBJ(PHV)
else
call PlaySoundBJ(PGV)
endif
if(AVO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),60.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(AEO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),90.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(AXO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),120.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(AOO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),160.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(ARO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(AIO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),270.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(AAO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),350.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(ANO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),460.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(ABO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(ADO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*(.04*I2R(GetUnitAbilityLevelSwapped('A0FP',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ((""+I2S(R2I((GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*(.04*I2R(GetUnitAbilityLevelSwapped('A0FP',GetTriggerUnit()))))))),XVV,10.,11.,100.,10.,10.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),60.,90)
endif
endfunction
function AGO takes nothing returns nothing
set U2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(U2V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(U2V,function AFO)
endfunction
function AHO takes nothing returns boolean
return(GetSpellAbilityId()=='AOs2')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$5DC)
endfunction
function AJO takes nothing returns boolean
return(GetSpellAbilityId()=='ANso')
endfunction
function AKO takes nothing returns boolean
return(GetSpellAbilityId()=='A09X')
endfunction
function ALO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BL')
endfunction
function AMO takes nothing returns boolean
return(GetSpellAbilityId()=='A0G0')
endfunction
function APO takes nothing returns boolean
return(GetSpellAbilityId()=='A0B7')
endfunction
function AQO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function ASO takes nothing returns boolean
return(GetSpellAbilityId()=='A1IJ')
endfunction
function ATO takes nothing returns boolean
return(GetSpellAbilityId()=='A0SP')
endfunction
function AUO takes nothing returns boolean
return(GetSpellAbilityId()=='A04N')
endfunction
function AWO takes nothing returns boolean
return(GetBooleanOr(ATO(),AUO()))
endfunction
function AYO takes nothing returns boolean
return(GetSpellTargetUnit()==C1V)and(C3V==2)
endfunction
function AZO takes nothing returns boolean
return(GetSpellAbilityId()=='A07Z')
endfunction
function A_O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function A0O takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y5')
endfunction
function A1O takes nothing returns boolean
return(GetSpellTargetUnit()==C1V)and(C3V==4)
endfunction
function A2O takes nothing returns boolean
return(GetSpellAbilityId()=='A111')
endfunction
function A3O takes nothing returns boolean
return(GetSpellTargetUnit()==C1V)and(C3V==5)
endfunction
function A4O takes nothing returns boolean
return(GetSpellAbilityId()=='A16H')
endfunction
function A5O takes nothing returns boolean
return(GetSpellAbilityId()=='A1GZ')
endfunction
function A6O takes nothing returns boolean
return(GetSpellAbilityId()=='A1QT')
endfunction
function A7O takes nothing returns boolean
return(GetSpellAbilityId()=='A0MD')
endfunction
function A8O takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),8200,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function A9O takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function NVO takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function NEO takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function NXO takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function NOO takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function NRO takes nothing returns boolean
return GetBooleanAnd(A9O(),NVO())
endfunction
function NIO takes nothing returns boolean
return GetBooleanAnd(NEO(),NXO())
endfunction
function NAO takes nothing returns boolean
return GetBooleanAnd(NRO(),NIO())
endfunction
function NNO takes nothing returns boolean
return GetBooleanAnd(NAO(),NOO())
endfunction
function NBO takes nothing returns nothing
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u015',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"war3mapImported\\FrostNova.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call DestroyEffect(AddSpecialEffectLocBJ(XVV,"war3mapImported\\FrostBlast.mdl"))
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('S01H',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('S01H',GetLastCreatedUnit(),9)
call UnitApplyTimedLifeBJ(9.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(350.,XVV,Condition(function NNO))
call ForGroupBJ(XEV,function A8O)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
endfunction
function NCO takes nothing returns nothing
local unit NDO
if(AHO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AS',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B8',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1B8',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('AOs2',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
if(AJO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hgyr',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
if(AKO())then
call TriggerSleepAction(.01)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
if(ALO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hgyr',GetTriggerPlayer(),XVV,bj_UNIT_FACING)
set NDO=GetLastCreatedUnit()
call ShowUnitHide(NDO)
call IssueTargetOrderBJ(NDO,"firebolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
call TriggerSleepAction(.8)
call RemoveUnit(NDO)
set NDO=null
endif
if(AMO())then
set XVV=GetSpellTargetLoc()
set XBV=AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
call TriggerSleepAction(1.)
call DestroyEffectBJ(XBV)
endif
if(APO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hgyr',GetTriggerPlayer(),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetSpellTargetUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(ASO())then
if(AQO())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+6 Base Intelligence.",XVV,10.,12.,60.,11.,80.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(AWO())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-240.,-240.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,240.,-240.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,240.,240.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-240.,240.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-600.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,520.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-520.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-400.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,-400.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,400.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,400.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(AZO())then
if(AYO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(4.*I2R(GetUnitAbilityLevelSwapped('A07Z',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C1V=GetSpellTargetUnit()
set C3V=3
call StartTimerBJ(C2V,false,.9)
call PlaySoundBJ(P3V)
endif
endif
if(A0O())then
if(A_O())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call UnitApplyTimedLifeBJ(I2R(GetUnitAbilityLevelSwapped('A0Y5',GetTriggerUnit())),'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1EA',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endif
if(A2O())then
if(A1O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*.3),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(4.*I2R(GetUnitAbilityLevelSwapped('A111',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C1V=GetSpellTargetUnit()
set C3V=5
call StartTimerBJ(C2V,false,.6)
call PlaySoundBJ(P3V)
endif
endif
if(A4O())then
if(A3O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.25),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(1.*(13000.*I2R(GetUnitAbilityLevelSwapped('A16H',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C3V=1
call PlaySoundBJ(P5V)
endif
endif
if(A5O())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(((I2R(GetUnitAbilityLevelSwapped('A1GZ',GetTriggerUnit()))*2.)+12.),'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1H0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1H0',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1GZ',GetTriggerUnit()))
call RemoveLocation(XVV)
endif
if(A6O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.11+(950*GetUnitAbilityLevelSwapped('A1QT',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hgyr',GetTriggerPlayer(),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
set NDO=GetLastCreatedUnit()
call IssueTargetOrderBJ(NDO,"firebolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
call TriggerSleepAction(.8)
call RemoveUnit(NDO)
set NDO=null
endif
if(A7O())then
call ExecuteFunc("NBO")
endif
endfunction
function NFO takes nothing returns nothing
set U3V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(U3V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(U3V,function NCO)
endfunction
function NGO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NHO takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<25)
endfunction
function NJO takes nothing returns nothing
if(NHO())then
set XVV=GetRectCenter(KSV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
else
set XVV=GetRectCenter(MQV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function NKO takes nothing returns nothing
set U4V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U4V,KQV)
call TriggerAddCondition(U4V,Condition(function NGO))
call TriggerAddAction(U4V,function NJO)
endfunction
function NLO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NMO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function NPO takes nothing returns nothing
if(NMO())then
set XVV=GetRectCenter(L_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
else
set XVV=GetRectCenter(KUV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
endfunction
function NQO takes nothing returns nothing
set U5V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U5V,KTV)
call TriggerAddCondition(U5V,Condition(function NLO))
call TriggerAddAction(U5V,function NPO)
endfunction
function NSO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NTO takes nothing returns nothing
set XVV=GetRectCenter(KYV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function NUO takes nothing returns nothing
set U6V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U6V,KWV)
call TriggerAddCondition(U6V,Condition(function NSO))
call TriggerAddAction(U6V,function NTO)
endfunction
function NWO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NYO takes nothing returns nothing
set XVV=GetRectCenter(K_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function NZO takes nothing returns nothing
set U7V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U7V,KZV)
call TriggerAddCondition(U7V,Condition(function NWO))
call TriggerAddAction(U7V,function NYO)
endfunction
function N_O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function N0O takes nothing returns nothing
set XVV=GetRectCenter(LOV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function N1O takes nothing returns nothing
set U8V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U8V,LXV)
call TriggerAddCondition(U8V,Condition(function N_O))
call TriggerAddAction(U8V,function N0O)
endfunction
function N2O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<$B)
endfunction
function N3O takes nothing returns nothing
if(N2O())then
set XVV=GetRectCenter(MMV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
endfunction
function N4O takes nothing returns nothing
set U9V=CreateTrigger()
call TriggerRegisterEnterRectSimple(U9V,MLV)
call TriggerAddAction(U9V,function N3O)
endfunction
function N5O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function N6O takes nothing returns nothing
set XVV=GetRectCenter(LOV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function N7O takes nothing returns nothing
set WVV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WVV,LXV)
call TriggerAddCondition(WVV,Condition(function N5O))
call TriggerAddAction(WVV,function N6O)
endfunction
function N8O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<30)
endfunction
function N9O takes nothing returns nothing
if(N8O())then
set XVV=GetRectCenter(LIV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function BVO takes nothing returns nothing
set WEV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WEV,LRV)
call TriggerAddAction(WEV,function N9O)
endfunction
function BEO takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function BXO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BZ'))
endfunction
function BOO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06N'))
endfunction
function BRO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08R'))
endfunction
function BIO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I095'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function BAO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BY'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BF'))
endfunction
function BNO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I098'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I099'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))
endfunction
function BBO takes nothing returns nothing
if(BOO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BQ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BZ',GetTriggerUnit())
else
if(BXO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BZ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0C0',GetTriggerUnit())
endif
endif
if(BRO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08R'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Eidyia has been created",XVV,15.,15.,'d',70.,70.,.0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.)
call UnitAddItemByIdSwapped('I0BX',GetTriggerUnit())
endif
if(BIO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I095'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Hermes has been created",XVV,15.,15.,'d',70.,70.,.0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.)
call UnitAddItemByIdSwapped('I0BY',GetTriggerUnit())
endif
if(BAO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BF'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BY'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KG',GetTriggerUnit())
endif
if(BNO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I098'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I099'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KF',GetTriggerUnit())
endif
endfunction
function BCO takes nothing returns nothing
set WXV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(WXV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(WXV,Condition(function BEO))
call TriggerAddAction(WXV,function BBO)
endfunction
function BDO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BFO takes nothing returns nothing
set XVV=GetRectCenter(K7V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function BGO takes nothing returns nothing
set WOV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WOV,LAV)
call TriggerAddCondition(WOV,Condition(function BDO))
call TriggerAddAction(WOV,function BFO)
endfunction
function BHO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<'d')
endfunction
function BJO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03K')
endfunction
function BKO takes nothing returns nothing
if(BHO())then
set XVV=GetRectCenter(LDV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(BJO())then
set XVV=GetRectCenter(MFV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifePercentBJ(GetTriggerUnit(),'d')
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'n03L',GetOwningPlayer(GetTriggerUnit()),XVV,GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
endfunction
function BLO takes nothing returns nothing
set WRV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WRV,LCV)
call TriggerAddAction(WRV,function BKO)
endfunction
function BMO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BPO takes nothing returns nothing
set XVV=GetRectCenter(LYV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function BQO takes nothing returns nothing
set WIV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WIV,LWV)
call TriggerAddCondition(WIV,Condition(function BMO))
call TriggerAddAction(WIV,function BPO)
endfunction
function BSO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BTO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<30)
endfunction
function BUO takes nothing returns nothing
if(BTO())then
set XVV=GetRectCenter(LIV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function BWO takes nothing returns nothing
set WAV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WAV,L3V)
call TriggerAddCondition(WAV,Condition(function BSO))
call TriggerAddAction(WAV,function BUO)
endfunction
function BYO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BZO takes nothing returns nothing
set XVV=GetRectCenter(LIV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function B_O takes nothing returns nothing
set WNV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WNV,L4V)
call TriggerAddCondition(WNV,Condition(function BYO))
call TriggerAddAction(WNV,function BZO)
endfunction
function B0O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function B1O takes nothing returns nothing
set XVV=GetRectCenter(LIV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function B2O takes nothing returns nothing
set WBV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WBV,L4V)
call TriggerAddCondition(WBV,Condition(function B0O))
call TriggerAddAction(WBV,function B1O)
endfunction
function B3O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function B4O takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<50)
endfunction
function B5O takes nothing returns nothing
if(B4O())then
set XVV=GetRectCenter(LBV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
else
set XVV=GetRectCenter(MUV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
endfunction
function B6O takes nothing returns nothing
set WCV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WCV,LNV)
call TriggerAddCondition(WCV,Condition(function B3O))
call TriggerAddAction(WCV,function B5O)
endfunction
function B7O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function B8O takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>59)
endfunction
function B9O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function CVO takes nothing returns nothing
if(B8O())then
set XVV=GetRectCenter(MUV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(B9O())then
set XVV=GetRectCenter(MUV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function CEO takes nothing returns nothing
set WDV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WDV,PXV)
call TriggerAddCondition(WDV,Condition(function B7O))
call TriggerAddAction(WDV,function CVO)
endfunction
function CXO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nubw')
endfunction
function COO takes nothing returns nothing
set XVV=GetRectCenter(L8V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function CRO takes nothing returns nothing
set WFV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WFV,MBV)
call TriggerAddCondition(WFV,Condition(function CXO))
call TriggerAddAction(WFV,function COO)
endfunction
function CIO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function CAO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ninf')
endfunction
function CNO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03M')
endfunction
function CBO takes nothing returns nothing
if(CIO())then
set XVV=GetRectCenter(MDV)
call SetUnitPositionLoc(DXV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(DXV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV))
endif
if(CAO())then
set XVV=GetRectCenter(MDV)
call SetUnitPositionLoc(DXV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(DXV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV))
endif
if(CNO())then
call TriggerSleepAction(21.)
set XVV=GetRectCenter(MDV)
call SetUnitPositionLoc(DXV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(DXV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV))
endif
endfunction
function CCO takes nothing returns nothing
set WGV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WGV,MYV)
call TriggerAddAction(WGV,function CBO)
endfunction
function CDO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<=28)
endfunction
function CFO takes nothing returns nothing
set XVV=GetRectCenter(LIV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function CGO takes nothing returns nothing
set WHV=CreateTrigger()
call TriggerAddCondition(WHV,Condition(function CDO))
call TriggerAddAction(WHV,function CFO)
endfunction
function CHO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())<=28)and(GetUnitTypeId(GetTriggerUnit())!='nwwd')
endfunction
function CJO takes nothing returns nothing
set XVV=GetRectCenter(KSV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function CKO takes nothing returns nothing
set WJV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WJV,LUV)
call TriggerAddCondition(WJV,Condition(function CHO))
call TriggerAddAction(WJV,function CJO)
endfunction
function CLO takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function CMO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function CPO takes nothing returns nothing
set WKV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WKV,MSV)
call TriggerAddCondition(WKV,Condition(function CLO))
call TriggerAddAction(WKV,function CMO)
endfunction
function CQO takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function CSO takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function CTO takes nothing returns boolean
return GetBooleanAnd(CQO(),CSO())
endfunction
function CUO takes nothing returns boolean
return(FKV>=2)and(CountUnitsInGroup(GetUnitsInRectMatching(MSV,Condition(function CTO)))<1)
endfunction
function CWO takes nothing returns nothing
set FKV=1
set XVV=GetRectCenter(L_V)
call SetUnitPositionLoc(OMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(OMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,OMV))
endfunction
function CYO takes nothing returns nothing
set WLV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WLV,MSV)
call TriggerAddCondition(WLV,Condition(function CUO))
call TriggerAddAction(WLV,function CWO)
endfunction
function CZO takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function C_O takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function C0O takes nothing returns boolean
return GetBooleanAnd(CZO(),C_O())
endfunction
function C1O takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function C2O takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function C3O takes nothing returns boolean
return GetBooleanAnd(C1O(),C2O())
endfunction
function C4O takes nothing returns boolean
return(HLV>1)and(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function C3O)))<1)
endfunction
function C5O takes nothing returns boolean
return(GetTriggerUnit()==HMV)
endfunction
function C6O takes nothing returns nothing
if(C4O())then
set XVV=GetRectCenter(M2V)
call SetUnitPositionLoc(HMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HMV))
call SetUnitManaBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_MANA,HMV))
set H_V=1
set H0V=1
else
set XEV=GetUnitsInRectMatching(LQV,Condition(function C0O))
call IssueTargetOrderBJ(HMV,"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
if(C5O())then
set XVV=GetRectCenter(M2V)
call SetUnitPositionLoc(HMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HMV))
call SetUnitManaBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_MANA,HMV))
set H_V=1
set H0V=1
endif
endfunction
function C7O takes nothing returns nothing
set WMV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WMV,LQV)
call TriggerAddAction(WMV,function C6O)
endfunction
function C8O takes nothing returns boolean
return(HLV>1)and(H_V<3)
endfunction
function C9O takes nothing returns nothing
if(C8O())then
set H_V=4
call StartTimerBJ(HHV,false,18.)
endif
endfunction
function DVO takes nothing returns nothing
set WTV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WTV,LQV)
call TriggerAddAction(WTV,function C9O)
endfunction
function DEO takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))and(GetUnitLevel(GetTriggerUnit())<'t')
endfunction
function DXO takes nothing returns nothing
if(DEO())then
set XVV=GetRectCenter(KSV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function DOO takes nothing returns nothing
set WUV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WUV,M1V)
call TriggerAddAction(WUV,function DXO)
endfunction
function DRO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H'))
endfunction
function DIO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CJ'))
endfunction
function DAO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CK'))
endfunction
function DNO takes nothing returns nothing
if GetUnitTypeId(GetTriggerUnit())!='o01K' and GetUnitTypeId(GetTriggerUnit())!='hrdh' and GetUnitTypeId(GetTriggerUnit())!='hhdl' then
if(DAO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CK'))
call UnitAddAbilityBJ('A1UU',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(CG,'I0LB'))
call UnitRemoveAbilityBJ('A17B',CG)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]=3
endif
else
if(DIO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CJ'))
call UnitAddAbilityBJ('A1UT',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(CG,'I0LB'))
call UnitRemoveAbilityBJ('A17B',CG)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]=2
endif
else
if(DRO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call UnitAddAbilityBJ('A01Q',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(CG,'I0LB'))
call UnitRemoveAbilityBJ('A17B',CG)
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]=1
endif
endif
endif
endif
endif
endfunction
function DBO takes nothing returns nothing
set WWV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WWV,M0V)
call TriggerAddAction(WWV,function DNO)
endfunction
function DCO takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function DDO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function DFO takes nothing returns nothing
set WYV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WYV,MPV)
call TriggerAddCondition(WYV,Condition(function DCO))
call TriggerAddAction(WYV,function DDO)
endfunction
function DGO takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function DHO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function DJO takes nothing returns nothing
set WZV=CreateTrigger()
call TriggerRegisterEnterRectSimple(WZV,MWV)
call TriggerAddCondition(WZV,Condition(function DGO))
call TriggerAddAction(WZV,function DHO)
endfunction
function DKO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function DLO takes nothing returns nothing
if(DKO())then
set XVV=GetRectCenter(MDV)
call SetUnitPositionLoc(DXV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(DXV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV))
endif
endfunction
function DMO takes nothing returns nothing
set W_V=CreateTrigger()
call TriggerRegisterLeaveRectSimple(W_V,MYV)
call TriggerAddAction(W_V,function DLO)
endfunction
function DPO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H089')
endfunction
function DQO takes nothing returns nothing
if(DPO())then
set XVV=Location(-12367.,10168.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function DSO takes nothing returns nothing
set W0V=CreateTrigger()
call TriggerRegisterLeaveRectSimple(W0V,M4V)
call TriggerAddAction(W0V,function DQO)
endfunction
function DTO takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=30)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function DUO takes nothing returns nothing
if(DTO())then
set XVV=Location(1469.,3570.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function DWO takes nothing returns nothing
set W2V=CreateTrigger()
call TriggerRegisterLeaveRectSimple(W2V,MJV)
call TriggerAddAction(W2V,function DUO)
endfunction
function DYO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>90)
endfunction
function DZO takes nothing returns nothing
if(DYO())then
set XVV=Location(-11055.,10009.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function D_O takes nothing returns nothing
set W1V=CreateTrigger()
call TriggerRegisterEnterRectSimple(W1V,M4V)
call TriggerAddAction(W1V,function DZO)
endfunction
function D0O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n059')
endfunction
function D1O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05A')
endfunction
function D2O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05B')
endfunction
function D3O takes nothing returns nothing
if(D0O())then
set XVV=Location(15389.,-8826.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
if(D1O())then
set XVV=Location(15389.,-9026.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
if(D2O())then
set XVV=Location(15389.,-9226.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function D4O takes nothing returns nothing
set W3V=CreateTrigger()
call TriggerRegisterLeaveRectSimple(W3V,M6V)
call TriggerAddAction(W3V,function D3O)
endfunction
function D5O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(0))
endfunction
function D6O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function D7O takes nothing returns nothing
if(D5O())then
set XVV=Location(10048.,-10028.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
if(D6O())then
set XVV=Location(1219.,-11390.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A0VG',GetTriggerUnit())
call UnitAddAbilityBJ('A0V4',GetTriggerUnit())
call UnitAddAbilityBJ('A16G',GetTriggerUnit())
call UnitAddAbilityBJ('ACrk',GetTriggerUnit())
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function D8O takes nothing returns nothing
set W4V=CreateTrigger()
call TriggerRegisterEnterRectSimple(W4V,M5V)
call TriggerAddAction(W4V,function D7O)
endfunction
function D9O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>60)
endfunction
function FVO takes nothing returns nothing
if(D9O())then
set XVV=GetRectCenter(K1V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function FEO takes nothing returns nothing
local trigger FXO
set FXO=CreateTrigger()
call TriggerRegisterLeaveRectSimple(FXO,M7V)
call TriggerAddAction(FXO,function FVO)
endfunction
function FOO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())!='n05F')
endfunction
function FRO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n05F')
endfunction
function FIO takes nothing returns nothing
if(FOO())then
set XVV=Location(5441.,-5596.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+300)
endif
if(FRO())then
set XVV=Location(5435.,-6863.7)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function FAO takes nothing returns nothing
local trigger FNO
set FNO=CreateTrigger()
call TriggerRegisterEnterRectSimple(FNO,M8V)
call TriggerAddAction(FNO,function FIO)
endfunction
function FBO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n05F')
endfunction
function FCO takes nothing returns nothing
if(FBO())then
set XVV=Location(5435.,-6863.7)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function FDO takes nothing returns nothing
local trigger FFO
set FFO=CreateTrigger()
call TriggerRegisterLeaveRectSimple(FFO,M9V)
call TriggerAddAction(FFO,function FCO)
endfunction
function FGO takes nothing returns boolean
return(GetLearnedSkillBJ()=='AUin')
endfunction
function FHO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUin',GetTriggerUnit())==1)
endfunction
function FJO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUin',GetTriggerUnit())==2)
endfunction
function FKO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUin',GetTriggerUnit())==3)
endfunction
function FLO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUin',GetTriggerUnit())==4)
endfunction
function FMO takes nothing returns nothing
if(FHO())then
if GetPlayerTechCountSimple('R058',GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap('R058',1,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R059',1,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FJO())then
if GetPlayerTechCountSimple('R058',GetOwningPlayer(GetTriggerUnit()))==1 then
call SetPlayerTechResearchedSwap('R058',2,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R059',2,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FKO())then
if GetPlayerTechCountSimple('R058',GetOwningPlayer(GetTriggerUnit()))==2 then
call SetPlayerTechResearchedSwap('R058',3,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R059',3,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FLO())then
if GetPlayerTechCountSimple('R058',GetOwningPlayer(GetTriggerUnit()))==3 then
call SetPlayerTechResearchedSwap('R058',4,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R059',4,GetOwningPlayer(GetTriggerUnit()))
endif
endif
endfunction
function FPO takes nothing returns nothing
set W5V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(W5V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(W5V,Condition(function FGO))
call TriggerAddAction(W5V,function FMO)
endfunction
function FQO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1NC')
endfunction
function FSO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==1)
endfunction
function FTO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==2)
endfunction
function FUO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==3)
endfunction
function FWO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==4)
endfunction
function FYO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==5)
endfunction
function FZO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==6)
endfunction
function F_O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==7)
endfunction
function F0O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==8)
endfunction
function F1O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())==9)
endfunction
function F2O takes nothing returns nothing
if(FSO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap('R05A',1,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',1,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',1,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FTO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==1 then
call SetPlayerTechResearchedSwap('R05A',2,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',2,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',2,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FUO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==2 then
call SetPlayerTechResearchedSwap('R05A',3,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',3,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',3,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FWO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==3 then
call SetPlayerTechResearchedSwap('R05A',4,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',4,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05C',1,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05D',1,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',4,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FYO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==4 then
call SetPlayerTechResearchedSwap('R05A',5,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',5,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',5,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(FZO())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==5 then
call SetPlayerTechResearchedSwap('R05A',6,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',6,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',6,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(F_O())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==6 then
call SetPlayerTechResearchedSwap('R05A',7,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',7,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',7,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(F0O())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==7 then
call SetPlayerTechResearchedSwap('R05A',8,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',8,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05C',2,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05D',3,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',8,GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(F1O())then
if GetPlayerTechCountSimple('R05A',GetOwningPlayer(GetTriggerUnit()))==8 then
call SetPlayerTechResearchedSwap('R05A',9,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05B',9,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05C',3,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05D',6,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05E',9,GetOwningPlayer(GetTriggerUnit()))
endif
endif
endfunction
function F3O takes nothing returns nothing
set W6V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(W6V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(W6V,Condition(function FQO))
call TriggerAddAction(W6V,function F2O)
endfunction
function F4O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RD')
endfunction
function F5O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==1)
endfunction
function F6O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==2)
endfunction
function F7O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==3)
endfunction
function F8O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==4)
endfunction
function F9O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==5)
endfunction
function GVO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==6)
endfunction
function GEO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==7)
endfunction
function GXO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==8)
endfunction
function GOO takes nothing returns nothing
if(F5O())then
call SetPlayerTechResearchedSwap('R01E',2,GetOwningPlayer(GetTriggerUnit()))
endif
if(F6O())then
call SetPlayerTechResearchedSwap('R010',1,GetOwningPlayer(GetTriggerUnit()))
endif
if(F7O())then
call SetPlayerTechResearchedSwap('R01E',5,GetOwningPlayer(GetTriggerUnit()))
endif
if(F8O())then
call SetPlayerTechResearchedSwap('R010',2,GetOwningPlayer(GetTriggerUnit()))
endif
if(F9O())then
call SetPlayerTechResearchedSwap('R01E',7,GetOwningPlayer(GetTriggerUnit()))
endif
if(GVO())then
call UnitAddAbilityBJ('A1RE',GetTriggerUnit())
endif
if(GEO())then
call SetPlayerTechResearchedSwap('R010',3,GetOwningPlayer(GetTriggerUnit()))
endif
if(GXO())then
call SetPlayerTechResearchedSwap('R01E',$E,GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function GRO takes nothing returns nothing
set W7V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(W7V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(W7V,Condition(function F4O))
call TriggerAddAction(W7V,function GOO)
endfunction
function GIO takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=96)and(GetUnitPointValue(GetTriggerUnit())!=431)
endfunction
function GAO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n038')
endfunction
function GNO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function GBO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function GCO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function GDO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function GFO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmyr')
endfunction
function GGO takes nothing returns nothing
if(GNO())then
if(GAO())then
set XVV=GetRectCenter(L_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
else
if(GIO())then
set XVV=GetRectCenter(KUV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(GBO())then
set XVV=GetRectCenter(KIV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(GCO())then
set XVV=GetRectCenter(L_V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
if(GDO())then
set XVV=GetRectCenter(L_V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
if(GFO())then
set XVV=GetRectCenter(L_V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
endif
endfunction
function GHO takes nothing returns nothing
set W8V=CreateTrigger()
call TriggerRegisterEnterRectSimple(W8V,L5V)
call TriggerAddAction(W8V,function GGO)
endfunction
function GJO takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=96)and(GetUnitPointValue(GetTriggerUnit())!=431)
endfunction
function GKO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n038')
endfunction
function GLO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function GMO takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function GPO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function GQO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function GSO takes nothing returns nothing
if(GLO())then
if(GKO())then
set XVV=GetRectCenter(L_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
else
if(GJO())then
set XVV=GetRectCenter(KUV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(GMO())then
set XVV=GetRectCenter(KIV)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(GPO())then
set XVV=GetRectCenter(L_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
if(GQO())then
set XVV=GetRectCenter(L_V)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endif
endfunction
function GTO takes nothing returns nothing
set W9V=CreateTrigger()
call TriggerRegisterLeaveRectSimple(W9V,L5V)
call TriggerAddAction(W9V,function GSO)
endfunction
function GUO takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='sor1')
endfunction
function GWO takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetEnumUnit())!='nhcn' and GetUnitTypeId(GetEnumUnit())!='nbsm' then
call KillUnit(GetEnumUnit())
endif
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) then
if GetUnitTypeId(GetEnumUnit())!='N05M' then
set XVV=GetRectCenter(K0V)
call SetUnitPositionLoc(GetEnumUnit(),XVV)
call RemoveLocation(XVV)
endif
endif
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetEnumUnit())!='nhcn' and GetUnitTypeId(GetEnumUnit())!='nbsm' and GetUnitTypeId(GetEnumUnit())!='nech' then
call KillUnit(GetEnumUnit())
endif
endfunction
function GYO takes nothing returns nothing
if XN[GetConvertedPlayerId(GetTriggerPlayer())]>0 then
set XN[GetConvertedPlayerId(GetTriggerPlayer())]=XN[GetConvertedPlayerId(GetTriggerPlayer())]+5
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You have bought 5 more lives and get 25 extra stats. Total Lives: "+I2S(XN[GetConvertedPlayerId(GetTriggerPlayer())]))
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],4,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],4)+25)
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],3,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],3)+25)
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],5,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],5)+25)
endif
if XN[GetConvertedPlayerId(GetTriggerPlayer())]==0 and GetUnitAbilityLevelSwapped('A1XY',JZV[GetConvertedPlayerId(GetTriggerPlayer())])==0 then
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(0),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(2),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(3),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(4),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(5),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(6),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(7),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(8),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(9),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(0),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(2),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(3),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(4),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(5),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(6),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(7),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(8),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(9),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],4,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],4)+50)
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],3,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],3)+50)
call QBE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],5,QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],5)+50)
call UnitAddAbilityBJ('A1XY',JZV[GetConvertedPlayerId(GetTriggerPlayer())])
set XN[GetConvertedPlayerId(GetTriggerPlayer())]=XN[GetConvertedPlayerId(GetTriggerPlayer())]+5
if WC[GetConvertedPlayerId(GetTriggerPlayer())] then
set WC[GetConvertedPlayerId(GetTriggerPlayer())]=false
endif
call UnitRemoveAbilityBJ('A1QP',PG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectOfPlayer(GetEntireMapRect(),GetTriggerPlayer()),function GWO)
set H9V=4
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,2,true,true)
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,2,"ReplaceableTextures\\CommandButtons\\BTNOrbOfDarkness.blp")
call DisplayTextToForce(GetPlayersAll(),"|cffff0000A Hero has betrayed the Empire, you have one more enemy.|r ")
endif
endfunction
function GZO takes nothing returns nothing
set YEV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YEV,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(YEV,Condition(function GUO))
call TriggerAddAction(YEV,function GYO)
endfunction
function G_O takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))and(GetOwningPlayer(GetTriggerUnit())!=Player(1))and(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitAbilityLevelSwapped('A1XY',GetTriggerUnit())==1)
endfunction
function G0O takes nothing returns nothing
if XN[GetConvertedPlayerId(GetTriggerPlayer())]==0 then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0)))
endif
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1)))
endif
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),2)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),2))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),2)))
endif
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),3)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),3))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),3)))
endif
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),4)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),4))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),4)))
endif
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),5)),XVV)
if GetItemCharges(UnitItemInSlot(GetTriggerUnit(),5))>0 then
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetTriggerUnit(),5)))
endif
call DisplayTextToForce(GetPlayersAll(),((("|cffffcc00"+GetPlayerName(GetOwningPlayer(GetTriggerUnit())))+"|r")+" has died. This Player has no revives remaining and will no longer revive. This player may spectate the game."))
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(0),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(1),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(2),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(3),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(4),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(5),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(6),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(7),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(8),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),Player(9),bj_ALLIANCE_ALLIED)
call SetPlayerAlliance(Player(0),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(2),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(3),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(4),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(5),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(6),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(7),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(8),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call SetPlayerAlliance(Player(9),GetTriggerPlayer(),ALLIANCE_SHARED_VISION,true)
call RemoveUnit(GetTriggerUnit())
call RemoveLocation(XVV)
endif
if XN[GetConvertedPlayerId(GetTriggerPlayer())]>0 then
set XN[GetConvertedPlayerId(GetTriggerPlayer())]=XN[GetConvertedPlayerId(GetTriggerPlayer())]-1
set XVV=GetRectCenter(K0V)
call ReviveHeroLoc(GetTriggerUnit(),XVV,false)
call RemoveLocation(XVV)
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
call SetUnitManaPercentBJ(GetTriggerUnit(),'d')
if XN[GetConvertedPlayerId(GetTriggerPlayer())]>0 then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You died and have "+I2S(XN[GetConvertedPlayerId(GetTriggerPlayer())])+" lives left")
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You died and do not have any revives left")
endif
endif
endfunction
function G1O takes nothing returns nothing
set YXV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YXV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YXV,Condition(function G_O))
call TriggerAddAction(YXV,function G0O)
endfunction
function G2O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='owtw')
endfunction
function G3O takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),((("|cffffcc00"+GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())))+"|r")+" Has Destroyed a Tower"))
endfunction
function G4O takes nothing returns nothing
set YOV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YOV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YOV,Condition(function G2O))
call TriggerAddAction(YOV,function G3O)
endfunction
function G5O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uzg1')
endfunction
function G6O takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),((("|cffffcc00"+GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())))+"|r")+" Has Destroyed a Spirit Tower"))
endfunction
function G7O takes nothing returns nothing
set YRV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YRV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YRV,Condition(function G5O))
call TriggerAddAction(YRV,function G6O)
endfunction
function G8O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uzg2')
endfunction
function G9O takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),((("|cffffcc00"+GetPlayerName(GetOwningPlayer(GetKillingUnitBJ())))+"|r")+(" Has Destroyed a"+(" |cffff0000"+("Skull Tower"+"|r")))))
endfunction
function HVO takes nothing returns nothing
set YIV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YIV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YIV,Condition(function G8O))
call TriggerAddAction(YIV,function G9O)
endfunction
function HEO takes nothing returns boolean
return(GetSpellAbilityId()=='A0H9')
endfunction
function HXO takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(8.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*8)),XVV,50.,$A,20.,20.,'d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
set XCV=GetLastCreatedTextTag()
call TriggerSleepAction(2.6)
call DestroyTextTagBJ(XCV)
endfunction
function HOO takes nothing returns nothing
set YNV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YNV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YNV,Condition(function HEO))
call TriggerAddAction(YNV,function HXO)
endfunction
function HRO takes nothing returns boolean
return(GetSpellAbilityId()=='A0YP')
endfunction
function HIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==1)
endfunction
function HAO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==2)
endfunction
function HNO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==3)
endfunction
function HBO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==4)
endfunction
function HCO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==5)
endfunction
function HDO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==6)
endfunction
function HFO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==7)
endfunction
function HGO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==8)
endfunction
function HHO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0YP',GetTriggerUnit())==9)
endfunction
function HJO takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hspt',GetTriggerPlayer(),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
if(HIO())then
call UnitAddAbilityBJ('A0IW',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HAO())then
call UnitAddAbilityBJ('A0J1',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HNO())then
call UnitAddAbilityBJ('A0J2',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HBO())then
call UnitAddAbilityBJ('A0J3',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HCO())then
call UnitAddAbilityBJ('A0J4',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HDO())then
call UnitAddAbilityBJ('A0J5',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HFO())then
call UnitAddAbilityBJ('A0J6',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HGO())then
call UnitAddAbilityBJ('A0J7',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
if(HHO())then
call UnitAddAbilityBJ('A0J8',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"summonfactory",XXV)
endif
endfunction
function HKO takes nothing returns nothing
set YBV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YBV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(YBV,Condition(function HRO))
call TriggerAddAction(YBV,function HJO)
endfunction
function HLO takes nothing returns boolean
return(GetSpellAbilityId()=='A0YP')
endfunction
function HMO takes nothing returns nothing
local effect HPO
set XXV=GetSpellTargetLoc()
set I1=GetSpellAbilityUnit()
set HPO=AddSpecialEffectLocBJ(XXV,"buildings\\human\\HumanBarracks\\HumanBarracks.mdl")
call TriggerSleepAction(6.95)
call DestroyEffectBJ(HPO)
call TriggerSleepAction(1.)
call RemoveLocation(XXV)
endfunction
function HQO takes nothing returns nothing
set YCV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YCV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YCV,Condition(function HLO))
call TriggerAddAction(YCV,function HMO)
endfunction
function HSO takes nothing returns boolean
return(GetSpellAbilityId()=='A0IV')
endfunction
function HTO takes nothing returns nothing
call CreateUnitAtLoc(GetTriggerPlayer(),'h035',XOV,bj_UNIT_FACING)
endfunction
function HUO takes nothing returns nothing
set YDV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YDV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(YDV,Condition(function HSO))
call TriggerAddAction(YDV,function HTO)
endfunction
function HWO takes nothing returns boolean
return(GetSpellAbilityId()=='A0IV')
endfunction
function HYO takes nothing returns nothing
local effect HZO
set XOV=GetSpellTargetLoc()
set HZO=AddSpecialEffectLocBJ(XOV,"buildings\\human\\TownHall\\TownHall.mdl")
call mj(40.)
call DestroyEffectBJ(HZO)
call mj(1.)
call RemoveLocation(XOV)
endfunction
function H_O takes nothing returns nothing
set YFV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YFV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YFV,Condition(function HWO))
call TriggerAddAction(YFV,function HYO)
endfunction
function H0O takes nothing returns boolean
return(GetSpellAbilityId()=='A0JC')
endfunction
function H1O takes nothing returns nothing
call CreateUnitAtLoc(GetTriggerPlayer(),'hwtw',XRV,bj_UNIT_FACING)
endfunction
function H2O takes nothing returns nothing
set YGV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YGV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(YGV,Condition(function H0O))
call TriggerAddAction(YGV,function H1O)
endfunction
function H3O takes nothing returns boolean
return(GetSpellAbilityId()=='A0JC')
endfunction
function H4O takes nothing returns nothing
local effect H5O
set XRV=GetSpellTargetLoc()
set H5O=AddSpecialEffectLocBJ(XRV,"buildings\\human\\HumanTower\\HumanTower.mdl")
call mj(36.)
call DestroyEffectBJ(H5O)
call mj(1.)
call RemoveLocation(XRV)
endfunction
function H6O takes nothing returns nothing
set YHV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YHV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YHV,Condition(function H3O))
call TriggerAddAction(YHV,function H4O)
endfunction
function H7O takes nothing returns boolean
return(GetSpellAbilityId()=='Aclf')
endfunction
function H8O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))and(GetUnitAbilityLevelSwapped('Aclf',GetTriggerUnit())==9)
endfunction
function H9O takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0JB',GetLastCreatedUnit())
if(H8O())then
call SetUnitAbilityLevelSwapped('A0JB',GetLastCreatedUnit(),$A)
else
call SetUnitAbilityLevelSwapped('A0JB',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('Aclf',GetTriggerUnit()))
endif
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"ward",XIV)
call RemoveLocation(XIV)
endfunction
function JVO takes nothing returns nothing
set YJV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YJV,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(YJV,Condition(function H7O))
call TriggerAddAction(YJV,function H9O)
endfunction
function JEO takes nothing returns boolean
return(GetSpellAbilityId()=='Aclf')
endfunction
function JXO takes nothing returns nothing
set XIV=GetSpellTargetLoc()
endfunction
function JOO takes nothing returns nothing
set YKV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YKV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YKV,Condition(function JEO))
call TriggerAddAction(YKV,function JXO)
endfunction
function JRO takes nothing returns boolean
return(GetSpellAbilityId()=='A0I8')
endfunction
function JIO takes nothing returns nothing
call UnitAddAbilityBJ('A0I9',GetTriggerUnit())
call TriggerSleepAction(12.)
call UnitRemoveAbilityBJ('A0I9',GetTriggerUnit())
endfunction
function JAO takes nothing returns nothing
set YLV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YLV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YLV,Condition(function JRO))
call TriggerAddAction(YLV,function JIO)
endfunction
function JNO takes nothing returns boolean
return(GetSpellAbilityId()=='A0H0')
endfunction
function JBO takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,300.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,600.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-600.,-600.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,-600.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,600.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,100.,250.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-100.,-250.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-340.,-150.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-450.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-450.,200.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,700.,550.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-700.,550.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,650.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-650.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
endfunction
function JCO takes nothing returns nothing
set YMV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YMV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YMV,Condition(function JNO))
call TriggerAddAction(YMV,function JBO)
endfunction
function JDO takes nothing returns boolean
return(GetSpellAbilityId()=='A0LO')
endfunction
function JFO takes nothing returns nothing
local unit JGO=GetSpellTargetUnit()
local unit JHO=GetTriggerUnit()
call UnitAddAbilityBJ('A0LQ',JGO)
call SetUnitAbilityLevelSwapped('A0LQ',JGO,GetUnitAbilityLevelSwapped('A0LO',JHO))
call UnitAddAbilityBJ('A0LP',JHO)
call SetUnitAbilityLevelSwapped('A0LP',JHO,GetUnitAbilityLevelSwapped('A0LO',JHO))
call mj($F)
call UnitRemoveAbilityBJ('A0LQ',JGO)
call UnitRemoveAbilityBJ('A0LP',JHO)
set JGO=null
set JHO=null
endfunction
function JJO takes nothing returns nothing
set YPV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YPV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YPV,Condition(function JDO))
call TriggerAddAction(YPV,function JFO)
endfunction
function JKO takes nothing returns boolean
return(GetSpellAbilityId()=='AIpl')
endfunction
function JLO takes nothing returns boolean
return(GetSpellAbilityId()=='A0G2')
endfunction
function JMO takes nothing returns boolean
return(GetSpellAbilityId()=='A0G3')
endfunction
function JPO takes nothing returns boolean
return(GetBooleanOr(JKO(),JLO()))
endfunction
function JQO takes nothing returns boolean
return(GetBooleanOr(JMO(),JPO()))
endfunction
function JSO takes nothing returns nothing
if(JKO())then
set OD[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
call mj(198.)
call UnitRemoveAbilityBJ('AIpl',GetTriggerUnit())
call UnitAddAbilityBJ('A0G2',GetTriggerUnit())
endif
if(JLO())then
set OD[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=2
call mj(198.)
call UnitRemoveAbilityBJ('AIpl',GetTriggerUnit())
call UnitAddAbilityBJ('A0G2',GetTriggerUnit())
endif
if(JMO())then
set OD[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=3
call mj(2.)
call UnitRemoveAbilityBJ('A0G3',GetTriggerUnit())
endif
endfunction
function JTO takes nothing returns nothing
set YAV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YAV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YAV,Condition(function JQO))
call TriggerAddAction(YAV,function JSO)
endfunction
function JUO takes nothing returns boolean
return(GetSpellAbilityId()=='A0LV')
endfunction
function JWO takes nothing returns nothing
local integer JYO
if GetUnitAbilityLevelSwapped('A0LV',GetTriggerUnit())==1 then
set JYO=$A
endif
if GetUnitAbilityLevelSwapped('A0LV',GetTriggerUnit())==2 then
set JYO=$D
endif
if GetUnitAbilityLevelSwapped('A0LV',GetTriggerUnit())==3 then
set JYO=$F
endif
if GetUnitAbilityLevelSwapped('A0LV',GetTriggerUnit())==4 then
set JYO=16
endif
call PlaySoundBJ(PKV)
call UnitAddAbilityBJ('A0LU',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0LU',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0LV',GetTriggerUnit()))
call mj(JYO)
call UnitRemoveAbilityBJ('A0LU',GetTriggerUnit())
set JYO=0
endfunction
function JZO takes nothing returns nothing
set YQV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(YQV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YQV,Condition(function JUO))
call TriggerAddAction(YQV,function JWO)
endfunction
function J_O takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function J0O takes nothing returns nothing
set XVV=GetRectCenter(K6V)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function J1O takes nothing returns nothing
set YSV=CreateTrigger()
call TriggerRegisterEnterRectSimple(YSV,K3V)
call TriggerAddCondition(YSV,Condition(function J_O))
call TriggerAddAction(YSV,function J0O)
endfunction
function J2O takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function J3O takes nothing returns nothing
set XVV=GetRectCenter(K4V)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function J4O takes nothing returns nothing
set YTV=CreateTrigger()
call TriggerRegisterEnterRectSimple(YTV,K5V)
call TriggerAddCondition(YTV,Condition(function J2O))
call TriggerAddAction(YTV,function J3O)
endfunction
function J5O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function J6O takes nothing returns nothing
set XVV=GetRectCenter(LVV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function J7O takes nothing returns nothing
set YUV=CreateTrigger()
call TriggerRegisterEnterRectSimple(YUV,K7V)
call TriggerAddCondition(YUV,Condition(function J5O))
call TriggerAddAction(YUV,function J6O)
endfunction
function J8O takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function J9O takes nothing returns nothing
set XVV=GetRectCenter(K8V)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function KVO takes nothing returns nothing
set YWV=CreateTrigger()
call TriggerRegisterEnterRectSimple(YWV,K9V)
call TriggerAddCondition(YWV,Condition(function J8O))
call TriggerAddAction(YWV,function J9O)
endfunction
function KEO takes nothing returns boolean
return(GetOwningPlayer(GetEnteringUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function KXO takes nothing returns nothing
set XVV=Location(-11992.,-7398.)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function KOO takes nothing returns nothing
set XQE=CreateTrigger()
call DisableTrigger(XQE)
call TriggerRegisterEnterRectSimple(XQE,POV)
call TriggerAddCondition(XQE,Condition(function KEO))
call TriggerAddAction(XQE,function KXO)
endfunction
function KRO takes nothing returns nothing
set XVV=Location(-10749.,-5429.)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function KIO takes nothing returns nothing
set XSE=CreateTrigger()
call DisableTrigger(XSE)
call TriggerRegisterEnterRectSimple(XSE,PRV)
call TriggerAddCondition(XSE,Condition(function KEO))
call TriggerAddAction(XSE,function KRO)
endfunction
function KAO takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function KNO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function KBO takes nothing returns nothing
set YYV=CreateTrigger()
call TriggerRegisterEnterRectSimple(YYV,MYV)
call TriggerAddCondition(YYV,Condition(function KAO))
call TriggerAddAction(YYV,function KNO)
endfunction
function KCO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(CountLivingPlayerUnitsOfTypeId('h02D',GetEnumPlayer()),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02D',GetEnumPlayer())*2),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KDO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02E',GetEnumPlayer())*2),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02E',GetEnumPlayer())*4),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KFO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02F',GetEnumPlayer())*5),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02F',GetEnumPlayer())*$A),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KGO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02G',GetEnumPlayer())*$A),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02G',GetEnumPlayer())*20),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KHO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02H',GetEnumPlayer())*20),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02H',GetEnumPlayer())*40),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KJO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02I',GetEnumPlayer())*30),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02I',GetEnumPlayer())*60),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KKO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02J',GetEnumPlayer())*50),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02J',GetEnumPlayer())*'d'),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KLO takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02K',GetEnumPlayer())*80),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ((CountLivingPlayerUnitsOfTypeId('h02K',GetEnumPlayer())*$A0),GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function KMO takes nothing returns nothing
call ForForce(GetPlayersAll(),function KCO)
call ForForce(GetPlayersAll(),function KDO)
call ForForce(GetPlayersAll(),function KFO)
call ForForce(GetPlayersAll(),function KGO)
call ForForce(GetPlayersAll(),function KHO)
call ForForce(GetPlayersAll(),function KJO)
call ForForce(GetPlayersAll(),function KKO)
call ForForce(GetPlayersAll(),function KLO)
endfunction
function KPO takes nothing returns nothing
set YZV=CreateTrigger()
call DisableTrigger(YZV)
call TriggerRegisterTimerEventPeriodic(YZV,1.)
call TriggerAddAction(YZV,function KMO)
endfunction
function KQO takes nothing returns boolean
return(GetUnitTypeId(GetConstructingStructure())=='h02D')
endfunction
function KSO takes nothing returns boolean
return(GetUnitTypeId(GetConstructingStructure())=='h02Q')
endfunction
function KTO takes nothing returns boolean
return(GetBooleanOr(KQO(),KSO()))
endfunction
function KUO takes nothing returns nothing
if(GetUnitTypeId(GetConstructingStructure())=='h02D')then
call SetPlayerTechMaxAllowedSwap('h02D',0,GetTriggerPlayer())
endif
if(GetUnitTypeId(GetConstructingStructure())=='h02Q')then
call SetPlayerTechMaxAllowedSwap('h02Q',0,GetTriggerPlayer())
endif
endfunction
function KWO takes nothing returns nothing
set Y_V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y_V,EVENT_PLAYER_UNIT_CONSTRUCT_START)
call TriggerAddCondition(Y_V,Condition(function KTO))
call TriggerAddAction(Y_V,function KUO)
endfunction
function KYO takes nothing returns boolean
return(GetSpellAbilityId()=='A030')
endfunction
function KZO takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'Bprg'))
endfunction
function K_O takes nothing returns nothing
if(KZO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(440.*I2R(GetUnitAbilityLevelSwapped('A030',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C1V=GetSpellTargetUnit()
set C3V=2
call StartTimerBJ(C2V,false,1.1)
call PlaySoundBJ(P3V)
endif
endfunction
function K0O takes nothing returns nothing
set Y0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y0V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Y0V,Condition(function KYO))
call TriggerAddAction(Y0V,function K_O)
endfunction
function K1O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0IV')
endfunction
function K2O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IV',GetTriggerUnit())==3)
endfunction
function K3O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IV',GetTriggerUnit())==6)
endfunction
function K4O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IV',GetTriggerUnit())==9)
endfunction
function K5O takes nothing returns nothing
if(K2O())then
call SetPlayerTechResearchedSwap('R00N',1,GetOwningPlayer(GetTriggerUnit()))
endif
if(K3O())then
call SetPlayerTechResearchedSwap('R00O',1,GetOwningPlayer(GetTriggerUnit()))
endif
if(K4O())then
call SetPlayerTechResearchedSwap('R00P',1,GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function K6O takes nothing returns nothing
set Y1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y1V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y1V,Condition(function K1O))
call TriggerAddAction(Y1V,function K5O)
endfunction
function K7O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0JC')
endfunction
function K8O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0JC',GetTriggerUnit())==4)
endfunction
function K9O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0JC',GetTriggerUnit())==9)
endfunction
function LVO takes nothing returns nothing
if(K8O())then
call SetPlayerTechResearchedSwap('R00Q',1,GetOwningPlayer(GetTriggerUnit()))
endif
if(K9O())then
call SetPlayerTechResearchedSwap('R00R',1,GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function LEO takes nothing returns nothing
set Y2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y2V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y2V,Condition(function K7O))
call TriggerAddAction(Y2V,function LVO)
endfunction
function LXO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0LS')
endfunction
function LOO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==1)
endfunction
function LRO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==2)
endfunction
function LIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==3)
endfunction
function LAO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==4)
endfunction
function LNO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==5)
endfunction
function LBO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==6)
endfunction
function LCO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==7)
endfunction
function LDO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==8)
endfunction
function LFO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LS',GetTriggerUnit())==9)
endfunction
function LGO takes nothing returns nothing
if(LOO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
if(LRO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,8)
endif
if(LIO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$C)
endif
if(LAO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,16)
endif
if(LNO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,20)
endif
if(LBO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,25)
endif
if(LCO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,30)
endif
if(LDO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,35)
endif
if(LFO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,40)
endif
endfunction
function LHO takes nothing returns nothing
set Y3V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y3V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y3V,Condition(function LXO))
call TriggerAddAction(Y3V,function LGO)
endfunction
function LJO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A02P')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function LKO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02P',GetTriggerUnit())==1)
endfunction
function LLO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02P',GetTriggerUnit())==2)
endfunction
function LMO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02P',GetTriggerUnit())==3)
endfunction
function LPO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02P',GetTriggerUnit())==4)
endfunction
function LQO takes nothing returns nothing
if(LKO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,20)
endif
if(LLO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,30)
endif
if(LMO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,40)
endif
if(LPO())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,50)
endif
endfunction
function LSO takes nothing returns nothing
set Y4V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y4V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y4V,Condition(function LJO))
call TriggerAddAction(Y4V,function LQO)
endfunction
function LTO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0CP')
endfunction
function LUO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())==1)
endfunction
function LWO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())==2)
endfunction
function LYO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())==3)
endfunction
function LZO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())==4)
endfunction
function L_O takes nothing returns nothing
if(LUO())then
call SetPlayerTechResearchedSwap('R00W',1,GetOwningPlayer(GetTriggerUnit()))
endif
if(LWO())then
call SetPlayerTechResearchedSwap('R00W',2,GetOwningPlayer(GetTriggerUnit()))
endif
if(LYO())then
call SetPlayerTechResearchedSwap('R00W',3,GetOwningPlayer(GetTriggerUnit()))
endif
if(LZO())then
call SetPlayerTechResearchedSwap('R00W',4,GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function L0O takes nothing returns nothing
set Y5V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y5V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y5V,Condition(function LTO))
call TriggerAddAction(Y5V,function L_O)
endfunction
function L1O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0CW')
endfunction
function L2O takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
endfunction
function L3O takes nothing returns nothing
set Y6V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y6V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y6V,Condition(function L1O))
call TriggerAddAction(Y6V,function L2O)
endfunction
function L4O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0EN')
endfunction
function L5O takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endfunction
function L6O takes nothing returns nothing
set Y7V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y7V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y7V,Condition(function L4O))
call TriggerAddAction(Y7V,function L5O)
endfunction
function L7O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0ES')
endfunction
function L8O takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endfunction
function L9O takes nothing returns nothing
set Y8V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y8V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Y8V,Condition(function L7O))
call TriggerAddAction(Y8V,function L8O)
endfunction
function MVO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0P0')
endfunction
function MEO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0OZ')
endfunction
function MXO takes nothing returns boolean
return(GetLearnedSkillBJ()=='Arsw')and(GetUnitAbilityLevelSwapped('Arsw',GetTriggerUnit())==9)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MOO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0F1')
endfunction
function MRO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1S9')
endfunction
function MIO takes nothing returns nothing
if(MVO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
if(MEO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$D)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$D)
endif
if(MXO())then
set OH=GetTriggerUnit()
endif
if(MOO())then
call SetPlayerTechResearchedSwap('R01F',(GetPlayerTechCountSimple('R01F',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(MRO())then
call SetPlayerAbilityAvailableBJ(true,'A1S8',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ('A1S8',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('Asal',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1S9',GetTriggerUnit())+1)
call SetPlayerAbilityAvailableBJ(false,'A1S8',GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbilityBJ('A1S8',GetTriggerUnit())
endif
endfunction
function MAO takes nothing returns nothing
set Y9V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y9V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(Y9V,function MIO)
endfunction
function MNO takes nothing returns nothing
set C3V=1
endfunction
function MBO takes nothing returns nothing
set ZXV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(ZXV,C2V)
call TriggerAddAction(ZXV,function MNO)
endfunction
function MCO takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))!=null
endfunction
function MDO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==1)
endfunction
function MFO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==2)
endfunction
function MGO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==3)
endfunction
function MHO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==4)
endfunction
function MJO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==5)
endfunction
function MKO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==6)
endfunction
function MLO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==7)
endfunction
function MMO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==8)
endfunction
function MPO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==9)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$8CA)
endfunction
function MQO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A6',GetTriggerUnit())==9)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$8CA)
endfunction
function MSO takes nothing returns nothing
if(MDO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),15.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MFO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),32.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MGO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),20.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MHO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),68.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),28.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MJO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),88.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),38.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MKO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),110.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),50.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MLO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*1.25)+130.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*1.25)+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MMO())then
if IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*1.75)+160.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*1.75)+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(MPO())then
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),20)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(MQO())then
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),20)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function MTO takes nothing returns nothing
set ZRV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZRV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZRV,Condition(function MCO))
call TriggerAddAction(ZRV,function MSO)
endfunction
function MUO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0D3')
endfunction
function MWO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00Y',(GetPlayerTechCountSimple('R00Y',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endfunction
function MYO takes nothing returns nothing
set ZIV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZIV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(ZIV,Condition(function MUO))
call TriggerAddAction(ZIV,function MWO)
endfunction
function MZO takes nothing returns boolean
return(GetSpellAbilityId()=='A0T5')
endfunction
function M_O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function M0O takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function M1O takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='o012')
endfunction
function M2O takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function M3O takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function M4O takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function M5O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function M6O takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function M7O takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function M8O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function M9O takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function PVO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function PEO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function PXO takes nothing returns boolean
return(GetRandomInt(1,19)==1)
endfunction
function POO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PRO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function PIO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function PAO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PNO takes nothing returns boolean
return(GetRandomInt(1,17)==1)
endfunction
function PBO takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function PCO takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function PDO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function PFO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<='n')
endfunction
function PGO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PHO takes nothing returns boolean
return(GetRandomInt(1,36)==1)
endfunction
function PJO takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function PKO takes nothing returns boolean
return(GetRandomInt(1,$C)==1)
endfunction
function PLO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function PMO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=98)
endfunction
function PPO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PQO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function PSO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PTO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function PUO takes nothing returns boolean
return(GetRandomInt(1,9)==1)
endfunction
function PWO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=60)
endfunction
function PYO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PZO takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function P_O takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function P0O takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function P1O takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=40)
endfunction
function P2O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function P3O takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function P4O takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function P5O takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function P6O takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=35)
endfunction
function P7O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function P8O takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function P9O takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function QVO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function QEO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=30)
endfunction
function QXO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function QOO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function QRO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function QIO takes nothing returns boolean
return(GetRandomInt(1,$C)==1)
endfunction
function QAO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=25)
endfunction
function QNO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function QBO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function QCO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function QDO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function QFO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=20)
endfunction
function QGO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function QHO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function QJO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function QKO takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function QLO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=$F)
endfunction
function QMO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function QPO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function QQO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function QSO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function QTO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=9)
endfunction
function QUO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function QWO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function QYO takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function QZO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function Q_O takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=7)
endfunction
function Q0O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Q1O takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Q2O takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function Q3O takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function Q4O takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<=3)
endfunction
function Q5O takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nahy')
endfunction
function Q6O takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Q7O takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function Q8O takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function Q9O takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Udre')
endfunction
function SVO takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function SEO takes nothing returns boolean
return(GetRandomInt(1,$B)==1)
endfunction
function SXO takes nothing returns boolean
return(GetRandomInt(1,7)==1)
endfunction
function SOO takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Ubal')
endfunction
function SRO takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nsrv')
endfunction
function SIO takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nerw')
endfunction
function SAO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function SNO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function SBO takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function SCO takes nothing returns boolean
return(GetRandomInt(1,40)==1)
endfunction
function SDO takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function SFO takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())>=99)
endfunction
function SGO takes nothing returns boolean
return(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_ANCIENT))!=null
endfunction
function SHO takes nothing returns boolean
return(GetRandomInt(1,'d')<=(27-(3*GetUnitAbilityLevelSwapped('A0T5',GetTriggerUnit()))))
endfunction
function SJO takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=(.9*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())))
endfunction
function SKO takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
if(SJO())then
if(SHO())then
call CreateTextTagLocBJ("Miss.",XVV,30.,13.,100.,20.,20.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M1O())then
if(M0O())then
call UnitAddItemByIdSwapped('I0C7',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M_O())then
call UnitAddItemByIdSwapped('I05E',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-11000.))
call CreateTextTagLocBJ("Death has countered Steal.",XVV,30.,12.,40.,40.,40.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
if(SGO())then
if(SFO())then
if(SDO())then
call UnitAddItemByIdSwapped('I062',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(SCO())then
call UnitAddItemByIdSwapped('I02O',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(SBO())then
call UnitAddItemByIdSwapped('I058',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I063',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(SNO())then
call UnitAddItemByIdSwapped('I03Y',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(SAO())then
call UnitAddItemByIdSwapped('I02J',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I02M',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(SIO())then
if(M4O())then
call UnitAddItemByIdSwapped('fgdg',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M3O())then
call UnitAddItemByIdSwapped('I06C',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M2O())then
call UnitAddItemByIdSwapped('I06D',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I069',GetTriggerUnit())
endif
endif
endif
else
if(SRO())then
if(M7O())then
call UnitAddItemByIdSwapped('I03X',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M6O())then
call UnitAddItemByIdSwapped('I06E',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M5O())then
call UnitAddItemByIdSwapped('I02E',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I02I',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(SOO())then
if(SXO())then
call UnitAddItemByIdSwapped('I06G',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(SEO())then
call UnitAddItemByIdSwapped('I06F',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(SVO())then
call UnitAddItemByIdSwapped('I047',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('pspd',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(Q9O())then
if(Q8O())then
call UnitAddItemByIdSwapped('I06G',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(Q7O())then
call UnitAddItemByIdSwapped('gemt',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(Q6O())then
call UnitAddItemByIdSwapped('I00V',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('pspd',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(Q5O())then
if(PVO())then
call UnitAddItemByIdSwapped('I02H',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M9O())then
call UnitAddItemByIdSwapped('I06H',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(M8O())then
call UnitAddItemByIdSwapped('I03T',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('rej4',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
else
if(Q4O())then
if(Q3O())then
call UnitAddItemByIdSwapped('phea',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(Q2O())then
call UnitAddItemByIdSwapped('bgst',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(Q1O())then
call UnitAddItemByIdSwapped('sprn',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(Q0O())then
call UnitAddItemByIdSwapped('anfg',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I064',GetTriggerUnit())
endif
endif
endif
endif
else
if(Q_O())then
if(QZO())then
call UnitAddItemByIdSwapped('I03V',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QYO())then
call UnitAddItemByIdSwapped('I03U',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QWO())then
call UnitAddItemByIdSwapped('I02B',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QUO())then
call UnitAddItemByIdSwapped('I011',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I064',GetTriggerUnit())
endif
endif
endif
endif
else
if(QTO())then
if(QSO())then
call UnitAddItemByIdSwapped('I013',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QQO())then
call UnitAddItemByIdSwapped('pghe',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QPO())then
call UnitAddItemByIdSwapped('scul',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QMO())then
call UnitAddItemByIdSwapped('hval',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I065',GetTriggerUnit())
endif
endif
endif
endif
else
if(QLO())then
if(QKO())then
call UnitAddItemByIdSwapped('I02F',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QJO())then
call UnitAddItemByIdSwapped('pgma',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QHO())then
call UnitAddItemByIdSwapped('scul',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QGO())then
call UnitAddItemByIdSwapped('I010',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I066',GetTriggerUnit())
endif
endif
endif
endif
else
if(QFO())then
if(QDO())then
call UnitAddItemByIdSwapped('arsc',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QCO())then
call UnitAddItemByIdSwapped('pnvl',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QBO())then
call UnitAddItemByIdSwapped('lhst',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QNO())then
call UnitAddItemByIdSwapped('soul',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I067',GetTriggerUnit())
endif
endif
endif
endif
else
if(QAO())then
if(QIO())then
call UnitAddItemByIdSwapped('I02D',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QRO())then
call UnitAddItemByIdSwapped('rej3',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QOO())then
call UnitAddItemByIdSwapped('lhst',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(QXO())then
call UnitAddItemByIdSwapped('arsh',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I067',GetTriggerUnit())
endif
endif
endif
endif
else
if(QEO())then
if(QVO())then
call UnitAddItemByIdSwapped('I02D',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P9O())then
call UnitAddItemByIdSwapped('I02C',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P8O())then
call UnitAddItemByIdSwapped('tmmt',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P7O())then
call UnitAddItemByIdSwapped('stre',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I068',GetTriggerUnit())
endif
endif
endif
endif
else
if(P6O())then
if(P5O())then
call UnitAddItemByIdSwapped('I03W',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P4O())then
call UnitAddItemByIdSwapped('I03T',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P3O())then
call UnitAddItemByIdSwapped('I06B',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P2O())then
call UnitAddItemByIdSwapped('I049',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I068',GetTriggerUnit())
endif
endif
endif
endif
else
if(P1O())then
if(P0O())then
call UnitAddItemByIdSwapped('I02H',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(P_O())then
call UnitAddItemByIdSwapped('I03T',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PZO())then
call UnitAddItemByIdSwapped('gemt',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PYO())then
call UnitAddItemByIdSwapped('I06B',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I068',GetTriggerUnit())
endif
endif
endif
endif
else
if(PWO())then
if(PUO())then
call UnitAddItemByIdSwapped('I03X',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PTO())then
call UnitAddItemByIdSwapped('I048',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PSO())then
call UnitAddItemByIdSwapped('I05T',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PQO())then
call UnitAddItemByIdSwapped('I05S',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PPO())then
call UnitAddItemByIdSwapped('I04N',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I069',GetTriggerUnit())
endif
endif
endif
endif
endif
else
if(PMO())then
if(PLO())then
call UnitAddItemByIdSwapped('I02E',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PKO())then
call UnitAddItemByIdSwapped('I047',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PJO())then
call UnitAddItemByIdSwapped('I02I',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PHO())then
call UnitAddItemByIdSwapped('I03Z',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PGO())then
call UnitAddItemByIdSwapped('I05F',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I069',GetTriggerUnit())
endif
endif
endif
endif
endif
else
if(PFO())then
if(PDO())then
call UnitAddItemByIdSwapped('I0CT',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PCO())then
call UnitAddItemByIdSwapped('I05Y',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PBO())then
call UnitAddItemByIdSwapped('I079',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PNO())then
call UnitAddItemByIdSwapped('I07F',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PAO())then
call UnitAddItemByIdSwapped('I0D0',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I0CZ',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
endif
endif
else
if(PIO())then
call UnitAddItemByIdSwapped('I0E1',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PRO())then
call UnitAddItemByIdSwapped('I0D1',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(POO())then
call UnitAddItemByIdSwapped('I02O',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PXO())then
call UnitAddItemByIdSwapped('I0DK',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(PEO())then
call UnitAddItemByIdSwapped('I0E2',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
call UnitAddItemByIdSwapped('I0AN',GetTriggerUnit())
call CreateTextTagLocBJ("Item.",XVV,30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call CreateTextTagLocBJ("Target isnt damaged enough.",XVV,30.,11.,20.,20.,'d',10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
call RemoveLocation(XVV)
endfunction
function SLO takes nothing returns nothing
set ZAV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZAV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZAV,Condition(function MZO))
call TriggerAddAction(ZAV,function SKO)
endfunction
function SMO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0D4')
endfunction
function SPO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==1)
endfunction
function SQO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==2)
endfunction
function SSO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==3)
endfunction
function STO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==4)
endfunction
function SUO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==5)
endfunction
function SWO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==6)
endfunction
function SYO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==7)
endfunction
function SZO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==8)
endfunction
function S_O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0D4',GetTriggerUnit())==9)
endfunction
function S0O takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00Z',(GetPlayerTechCountSimple('R00Z',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
if(SPO())then
call UnitAddAbilityBJ('A0D5',GetTriggerUnit())
call UnitAddAbilityBJ('A0DE',GetTriggerUnit())
set FB=GetTriggerUnit()
endif
if(SQO())then
call UnitAddAbilityBJ('A0D6',GetTriggerUnit())
call UnitAddAbilityBJ('A0DF',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0D5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DE',GetTriggerUnit())
endif
if(SSO())then
call UnitAddAbilityBJ('A0D7',GetTriggerUnit())
call UnitAddAbilityBJ('A0DG',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0D6',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DF',GetTriggerUnit())
endif
if(STO())then
call UnitAddAbilityBJ('A0D8',GetTriggerUnit())
call UnitAddAbilityBJ('A0DH',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0D7',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DG',GetTriggerUnit())
endif
if(SUO())then
call UnitAddAbilityBJ('A0D9',GetTriggerUnit())
call UnitAddAbilityBJ('A0DI',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0D8',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DH',GetTriggerUnit())
endif
if(SWO())then
call UnitAddAbilityBJ('A0DA',GetTriggerUnit())
call UnitAddAbilityBJ('A0DJ',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0D9',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DI',GetTriggerUnit())
endif
if(SYO())then
call UnitAddAbilityBJ('A0DB',GetTriggerUnit())
call UnitAddAbilityBJ('A0DK',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DA',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DJ',GetTriggerUnit())
endif
if(SZO())then
call UnitAddAbilityBJ('A0DC',GetTriggerUnit())
call UnitAddAbilityBJ('A0DL',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DB',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DK',GetTriggerUnit())
endif
if(S_O())then
call UnitAddAbilityBJ('A0DD',GetTriggerUnit())
call UnitAddAbilityBJ('A0DM',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DC',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0DL',GetTriggerUnit())
endif
endfunction
function S1O takes nothing returns nothing
set ZNV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZNV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(ZNV,Condition(function SMO))
call TriggerAddAction(ZNV,function S0O)
endfunction
function S2O takes nothing returns boolean
return(GetSpellAbilityId()=='A0CX')
endfunction
function S3O takes nothing returns boolean
return(GetSpellAbilityId()=='A0CY')
endfunction
function S4O takes nothing returns boolean
return(GetSpellAbilityId()=='A0DN')
endfunction
function S5O takes nothing returns boolean
return(GetSpellAbilityId()=='A0D1')
endfunction
function S6O takes nothing returns boolean
return(GetSpellAbilityId()=='A0IK')and(GetSpellTargetUnit()==FGV)and(C3V<3)
endfunction
function S7O takes nothing returns boolean
return(GetSpellAbilityId()=='AOs2')and(GetSpellTargetUnit()==FGV)and(C3V==3)
endfunction
function S8O takes nothing returns nothing
if(S2O())then
set FGV=GetSpellTargetUnit()
call SetUnitExplodedBJ(GetSpellTargetUnit(),true)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'hmtm',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0D0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0D0',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0CX',GetTriggerUnit()))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",GetSpellTargetLoc())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(S3O())then
call SetPlayerTechResearchedSwap('R00X',(GetPlayerTechCountSimple('R00X',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$F)
endif
if(S4O())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,0,460.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,0,-460.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,460.,.0),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-460.,.0),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,400.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-400.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,-400.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,400.),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(S5O())then
set X_V=GetSpellTargetUnit()
call PlaySoundBJ(PPV)
call TriggerSleepAction(.7)
call UnitDamageTargetBJ(GetTriggerUnit(),X_V,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.17+(I2R(GetUnitAbilityLevelSwapped('A0D1',GetTriggerUnit()))*.03))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(X_V)
call CreateTextTagLocBJ((""+I2S(R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.17+(.03*I2R(GetUnitAbilityLevelSwapped('A0D1',GetTriggerUnit())))))))),XVV,10.,13.,100.,10.,10.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),60.,90)
endif
if(S6O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(6.*I2R(GetUnitAbilityLevelSwapped('A0IK',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C3V=3
call PlaySoundBJ(P3V)
endif
if(S7O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(19.*I2R(GetUnitAbilityLevelSwapped('AOs2',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C3V=1
set FGV=null
call PlaySoundBJ(P5V)
endif
endfunction
function S9O takes nothing returns nothing
set ZBV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZBV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ZBV,function S8O)
endfunction
function TVO takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function TEO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B5'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TXO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B4'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03K'))
endfunction
function TOO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I009'))
endfunction
function TRO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B9'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function TIO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B7'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A3'))
endfunction
function TAO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0B7'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I037'))
endfunction
function TNO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08K'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08M'))
endfunction
function TBO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BC'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EE'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I094'))
endfunction
function TCO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BB'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I086'))
endfunction
function TDO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function TFO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BD'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TGO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BD'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function THO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A3'))
endfunction
function TJO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BI'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TKO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BJ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function TLO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BI'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A9'))
endfunction
function TMO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02F'))
endfunction
function TPO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function TQO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08G'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function TSO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I085'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function TTO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I088'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TUO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0F5'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I085'))
endfunction
function TWO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I082'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TYO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function TZO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I086'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function T_O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function T0O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))
endfunction
function T1O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))
endfunction
function T2O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07W'))
endfunction
function T3O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))
endfunction
function T4O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08Q'))
endfunction
function T5O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08P'))
endfunction
function T6O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07P'))
endfunction
function T7O takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I013'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00N'))
endfunction
function T8O takes nothing returns nothing
if(TOO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I009'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07X'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B4',GetTriggerUnit())
else
if(TXO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B4'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B5',GetTriggerUnit())
else
if(TEO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B6',GetTriggerUnit())
endif
endif
endif
if(TNO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B7',GetTriggerUnit())
else
if(TAO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I037'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B7'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B9',GetTriggerUnit())
else
if(TIO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A3'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B7'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0B8',GetTriggerUnit())
else
if(TRO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0B9'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BA',GetTriggerUnit())
endif
endif
endif
endif
if(TDO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BB',GetTriggerUnit())
else
if(TCO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BB'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I086'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BC',GetTriggerUnit())
else
if(TBO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BC'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EE'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I094'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KB',GetTriggerUnit())
endif
endif
endif
if(THO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A3'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BD',GetTriggerUnit())
else
if(TGO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BD'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BE',GetTriggerUnit())
else
if(TFO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BD'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BF',GetTriggerUnit())
endif
endif
endif
if(TMO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02F'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BI',GetTriggerUnit())
else
if(TLO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BI'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A9'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BJ',GetTriggerUnit())
else
if(TKO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BJ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BK',GetTriggerUnit())
else
if(TJO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BI'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BL',GetTriggerUnit())
endif
endif
endif
endif
if(TPO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08A'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BM',GetTriggerUnit())
endif
if(TQO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08G'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BR',GetTriggerUnit())
endif
if(TSO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I085'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BS',GetTriggerUnit())
endif
if(TTO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I088'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BN',GetTriggerUnit())
endif
if(TWO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I082'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BG',GetTriggerUnit())
else
if(TUO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0F5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I085'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BH',GetTriggerUnit())
endif
endif
if(TYO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08J'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BO',GetTriggerUnit())
endif
if(TZO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I086'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BT',GetTriggerUnit())
endif
if(T_O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BQ'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08C',GetTriggerUnit())
endif
if(T0O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0BP',GetTriggerUnit())
endif
if(T2O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09S',GetTriggerUnit())
else
if(T1O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09T',GetTriggerUnit())
endif
endif
if(T7O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I013'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09U',GetTriggerUnit())
else
if(T6O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09U'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09V',GetTriggerUnit())
else
if(T5O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09V'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09W',GetTriggerUnit())
else
if(T4O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09X',GetTriggerUnit())
else
if(T3O())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09X'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09Y',GetTriggerUnit())
endif
endif
endif
endif
endif
endfunction
function T9O takes nothing returns nothing
set ZCV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZCV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZCV,Condition(function TVO))
call TriggerAddAction(ZCV,function T8O)
endfunction
function UVO takes nothing returns boolean
return(GetSpellAbilityId()=='A0F1')
endfunction
function UEO takes nothing returns nothing
call SetUnitTimeScalePercent(GetTriggerUnit(),45.)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03T',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,0),XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitExplodedBJ(GetLastCreatedUnit(),true)
call SetUnitAbilityLevelSwapped('A0F3',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0F1',GetTriggerUnit()))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"heal",GetTriggerUnit())
call UnitApplyTimedLifeBJ(4.6,'BTLF',GetLastCreatedUnit())
set X0V=GetLastCreatedUnit()
call RemoveLocation(XVV)
call TriggerSleepAction(4.)
call SetUnitTimeScalePercent(GetTriggerUnit(),100.)
endfunction
function UXO takes nothing returns nothing
set ZDV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZDV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZDV,Condition(function UVO))
call TriggerAddAction(ZDV,function UEO)
endfunction
function UOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FA')
endfunction
function URO takes nothing returns nothing
call SetUnitTimeScalePercent(GetTriggerUnit(),45.)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03U',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,0),XVV)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitExplodedBJ(GetLastCreatedUnit(),true)
call SetUnitAbilityLevelSwapped('A0FB',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0FA',GetTriggerUnit()))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"heal",GetTriggerUnit())
call UnitApplyTimedLifeBJ(4.6,'BTLF',GetLastCreatedUnit())
set X0V=GetLastCreatedUnit()
call RemoveLocation(XVV)
call TriggerSleepAction(4.)
call SetUnitTimeScalePercent(GetTriggerUnit(),100.)
endfunction
function UIO takes nothing returns nothing
set ZFV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZFV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZFV,Condition(function UOO))
call TriggerAddAction(ZFV,function URO)
endfunction
function UAO takes nothing returns boolean
return(GetSpellAbilityId()=='A0F1')
endfunction
function UNO takes nothing returns nothing
call KillUnit(X0V)
endfunction
function UBO takes nothing returns nothing
set ZGV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZGV,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(ZGV,Condition(function UAO))
call TriggerAddAction(ZGV,function UNO)
endfunction
function UCO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FA')
endfunction
function UDO takes nothing returns nothing
call KillUnit(X0V)
endfunction
function UFO takes nothing returns nothing
set ZHV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZHV,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(ZHV,Condition(function UCO))
call TriggerAddAction(ZHV,function UDO)
endfunction
function UGO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0EH')
endfunction
function UHO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RP')
endfunction
function UJO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0EI')
endfunction
function UKO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0FL')
endfunction
function ULO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RC')
endfunction
function UMO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RS')
endfunction
function UPO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RI')
endfunction
function UQO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RY')
endfunction
function USO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RF')
endfunction
function UTO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0S5')
endfunction
function UUO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0FM')
endfunction
function UWO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RJ')
endfunction
function UYO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0QY')
endfunction
function UZO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RM')
endfunction
function U_O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0R3')
endfunction
function U0O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0R7')
endfunction
function U1O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0R4')
endfunction
function U2O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0S4')
endfunction
function U3O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0R5')
endfunction
function U4O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0QV')
endfunction
function U5O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0RZ')
endfunction
function U6O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0QZ')
endfunction
function U7O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0R0')
endfunction
function U8O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1VB')and(GetUnitAbilityLevelSwapped('A1VB',GetTriggerUnit())==1)and(FF==0)
endfunction
function U9O takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1VB')and(GetUnitAbilityLevelSwapped('A1VB',GetTriggerUnit())==1)and(FF==1)
endfunction
function WVO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1VB')and(GetUnitAbilityLevelSwapped('A1VB',GetTriggerUnit())>1)
endfunction
function WEO takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1V7')
endfunction
function WXO takes nothing returns nothing
if(UGO())then
call UnitAddAbilityBJ('A0EJ',GetTriggerUnit())
endif
if(UHO())then
call UnitAddAbilityBJ('A0S1',GetTriggerUnit())
endif
if(UJO())then
call UnitAddAbilityBJ('A0FK',GetTriggerUnit())
endif
if(UKO())then
call UnitAddAbilityBJ('A0FJ',GetTriggerUnit())
endif
if(ULO())then
call UnitAddAbilityBJ('A0RH',GetTriggerUnit())
endif
if(UMO())then
call UnitAddAbilityBJ('A0RV',GetTriggerUnit())
endif
if(UPO())then
call UnitAddAbilityBJ('A0QX',GetTriggerUnit())
endif
if(UQO())then
call UnitAddAbilityBJ('A0RW',GetTriggerUnit())
endif
if(USO())then
call UnitAddAbilityBJ('A0QX',GetTriggerUnit())
endif
if(UTO())then
call UnitAddAbilityBJ('A0S2',GetTriggerUnit())
endif
if(UUO())then
call UnitAddAbilityBJ('A0R1',GetTriggerUnit())
endif
if(UWO())then
call UnitAddAbilityBJ('A0RL',GetTriggerUnit())
endif
if(UYO())then
call UnitAddAbilityBJ('A0RQ',GetTriggerUnit())
endif
if(UZO())then
call UnitAddAbilityBJ('A0RL',GetTriggerUnit())
endif
if(U_O())then
call UnitAddAbilityBJ('A0RO',GetTriggerUnit())
endif
if(U0O())then
call UnitAddAbilityBJ('A0RB',GetTriggerUnit())
endif
if(U1O())then
call UnitAddAbilityBJ('A0R6',GetTriggerUnit())
endif
if(U2O())then
call UnitAddAbilityBJ('A0S3',GetTriggerUnit())
endif
if(U3O())then
call UnitAddAbilityBJ('A0R9',GetTriggerUnit())
endif
if(U4O())then
call UnitAddAbilityBJ('A0S9',GetTriggerUnit())
endif
if(U5O())then
call UnitAddAbilityBJ('A0S0',GetTriggerUnit())
endif
if(U6O())then
call UnitAddAbilityBJ('A0RE',GetTriggerUnit())
endif
if(U7O())then
call UnitAddAbilityBJ('A0RR',GetTriggerUnit())
endif
if(U8O())then
call UnitAddAbilityBJ('AHfa',GetTriggerUnit())
endif
if(U9O())then
call UnitAddAbilityBJ('A1V9',GetTriggerUnit())
call UnitAddAbilityBJ('A021',GetTriggerUnit())
endif
if(WVO())then
call IncUnitAbilityLevel(GetTriggerUnit(),'A1V9')
call IncUnitAbilityLevel(GetTriggerUnit(),'A021')
call IncUnitAbilityLevel(GetTriggerUnit(),'AHfa')
endif
if(WEO())then
if GetUnitAbilityLevelSwapped('A1V7',GetTriggerUnit())==1 then
call UnitAddAbilityBJ('A1IQ',GetTriggerUnit())
set CD=true
endif
call SetUnitAbilityLevelSwapped('A1IQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1V7',GetTriggerUnit()))
endif
endfunction
function WOO takes nothing returns nothing
set ZJV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZJV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(ZJV,function WXO)
endfunction
function WRO takes nothing returns boolean
return(GetSpellAbilityId()=='AOsh')and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))
endfunction
function WIO takes nothing returns nothing
set OCV=GetSpellTargetUnit()
if OCV!=null then
set XVV=GetUnitLoc(OCV)
call CreateNUnitsAtLoc(1,'hspt',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0UC',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",OCV)
call UnitDamageTargetBJ(GetTriggerUnit(),OCV,((3.+GetUnitAbilityLevelSwapped('A0sh',GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",OCV,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set OCV=null
endif
set OCV=null
endfunction
function WAO takes nothing returns nothing
set ZKV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZKV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZKV,Condition(function WRO))
call TriggerAddAction(ZKV,function WIO)
endfunction
function WNO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FG')
endfunction
function WBO takes nothing returns nothing
call UnitAddAbilityBJ('A0FF',GetTriggerUnit())
call TriggerSleepAction((.4+(.8*I2R(GetUnitAbilityLevelSwapped('A0FG',GetTriggerUnit())))))
call UnitRemoveAbilityBJ('A0FF',GetTriggerUnit())
endfunction
function WCO takes nothing returns nothing
set ZLV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZLV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZLV,Condition(function WNO))
call TriggerAddAction(ZLV,function WBO)
endfunction
function WDO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FH')
endfunction
function WFO takes nothing returns nothing
call UnitAddAbilityBJ('A0FI',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0FI',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0FH',GetTriggerUnit()))
call TriggerSleepAction(5.)
call UnitRemoveAbilityBJ('A0FI',GetTriggerUnit())
endfunction
function WGO takes nothing returns nothing
set ZMV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZMV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZMV,Condition(function WDO))
call TriggerAddAction(ZMV,function WFO)
endfunction
function WHO takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y5')
endfunction
function WJO takes nothing returns nothing
local effect WKO
set B1=GetTriggerUnit()
call EnableTrigger(ZYV)
set WKO=AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilMissile.mdl")
call TriggerSleepAction(8.)
call DestroyEffect(WKO)
set WKO=null
endfunction
function WLO takes nothing returns nothing
set ZPV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZPV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZPV,Condition(function WHO))
call TriggerAddAction(ZPV,function WJO)
endfunction
function WMO takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(B1)))
endfunction
function WPO takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function WQO takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function WSO takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function WTO takes nothing returns boolean
return GetBooleanAnd(WQO(),WSO())
endfunction
function WUO takes nothing returns boolean
return GetBooleanAnd(WPO(),WTO())
endfunction
function WWO takes nothing returns boolean
return GetBooleanAnd(WMO(),WUO())
endfunction
function WYO takes nothing returns boolean
return GetUnitState(B1,UNIT_STATE_LIFE)>=1
endfunction
function WZO takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function W_O takes nothing returns boolean
return GetBooleanAnd(WWO(),WYO())
endfunction
function W0O takes nothing returns boolean
return GetBooleanAnd(W_O(),WZO())
endfunction
function W1O takes nothing returns boolean
return(UnitHasBuffBJ(GH,'B09H'))
endfunction
function W2O takes nothing returns nothing
set TH=TH+1
set XVV=GetUnitLoc(B1)
set XEV=GetUnitsInRangeOfLocMatching(800.,XVV,Condition(function W0O))
call RemoveLocation(XVV)
set GH=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call AddSpecialEffectTargetUnitBJ("origin",GH,"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if W1O()then
set SH=((GetHeroStatBJ(bj_HEROSTAT_INT,B1,true))*(GetUnitAbilityLevelSwapped('A0Y5',B1)))/3
endif
call UnitDamageTargetBJ(B1,GH,((JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,B1,true)+(GetUnitLevel(B1)*4)))*(GetUnitAbilityLevelSwapped('A0Y5',B1)))/3+SH,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set GH=null
set SH=0
if TH==25 then
set TH=0
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function W3O takes nothing returns nothing
set ZYV=CreateTrigger()
call DisableTrigger(ZYV)
call TriggerRegisterTimerEventPeriodic(ZYV,.32)
call TriggerAddAction(ZYV,function W2O)
endfunction
function W4O takes nothing returns boolean
return(GetSpellAbilityId()=='A0NY')
endfunction
function W5O takes nothing returns nothing
call PlaySoundBJ(PUV)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),(250.*I2R(GetUnitAbilityLevelSwapped('A0NY',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call UnitAddAbilityBJ('A0NZ',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0NZ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0NY',GetTriggerUnit()))
call TriggerSleepAction(11.)
call UnitRemoveAbilityBJ('A0NZ',GetTriggerUnit())
endfunction
function W6O takes nothing returns nothing
set ZQV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZQV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZQV,Condition(function W4O))
call TriggerAddAction(ZQV,function W5O)
endfunction
function W7O takes nothing returns boolean
return(GetSpellAbilityId()=='A0PN')
endfunction
function W8O takes nothing returns boolean
return(GetSpellAbilityId()=='A12N')
endfunction
function W9O takes nothing returns boolean
return(GetSpellAbilityId()=='A12O')
endfunction
function YVO takes nothing returns boolean
return(GetSpellAbilityId()=='A0NW')
endfunction
function YEO takes nothing returns boolean
return(GetSpellAbilityId()=='A0PS')
endfunction
function YXO takes nothing returns boolean
return(GetSpellAbilityId()=='A0NU')
endfunction
function YOO takes nothing returns boolean
return(YG==2)
endfunction
function YRO takes nothing returns boolean
return(GetSpellAbilityId()=='A0PX')
endfunction
function YIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0PY')
endfunction
function YAO takes nothing returns boolean
return(GetSpellAbilityId()=='A0PZ')
endfunction
function YNO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1P3',GetSpellTargetUnit())>0)
endfunction
function YBO takes nothing returns boolean
return(ZG==4)
endfunction
function YCO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1R1',GetSpellTargetUnit())>0)
endfunction
function YDO takes nothing returns boolean
return(ZG==3)
endfunction
function YFO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QZ',GetSpellTargetUnit())>0)
endfunction
function YGO takes nothing returns boolean
return(ZG==2)
endfunction
function YHO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QY',GetSpellTargetUnit())>0)
endfunction
function YJO takes nothing returns boolean
return(ZG==1)
endfunction
function YKO takes nothing returns boolean
return(GetSpellAbilityId()=='A0Q8')
endfunction
function YLO takes nothing returns boolean
return(GetSpellAbilityId()=='A0Q9')
endfunction
function YMO takes nothing returns boolean
return(GetSpellAbilityId()=='A0Q1')and(GetRandomInt(1,3)==3)and(GetUnitAbilityLevelSwapped('A0Q1',GetTriggerUnit())>=5)
endfunction
function YPO takes nothing returns boolean
return(GetSpellAbilityId()=='A0QO')and(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())==9)
endfunction
function YQO takes nothing returns boolean
return(GetSpellAbilityId()=='A1RF')
endfunction
function YSO takes nothing returns boolean
return(IH==null)
endfunction
function YTO takes nothing returns boolean
return(GetSpellAbilityId()=='A1RG')
endfunction
function YUO takes nothing returns boolean
return(GetSpellAbilityId()=='A1RJ')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B093'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))==9)
endfunction
function YWO takes nothing returns boolean
return(BXV==null)
endfunction
function YYO takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function YZO takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((GetUnitAbilityLevelSwapped('A1RI',GetTriggerUnit())+(GetUnitAbilityLevelSwapped('A1RK',GetTriggerUnit())))*((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))+(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))/2),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Y_O takes nothing returns nothing
call UnitRemoveBuffBJ('B093',GetEnumUnit())
endfunction
function Y0O takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),22)
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Y1O takes nothing returns boolean
return(GetSpellAbilityId()=='A1RI')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B093'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=3)and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))<=4)
endfunction
function Y2O takes nothing returns boolean
return(GetSpellAbilityId()=='A1RI')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B093'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=5)
endfunction
function Y3O takes nothing returns boolean
return(GetSpellAbilityId()=='A1RK')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B049'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=6)
endfunction
function Y4O takes nothing returns boolean
return(GetSpellAbilityId()=='A1RK')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B096'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=6)
endfunction
function Y5O takes nothing returns boolean
return(GetSpellAbilityId()=='A0OM')
endfunction
function Y6O takes nothing returns boolean
return(GetSpellAbilityId()=='A1RO')
endfunction
function Y7O takes nothing returns boolean
return(JAV==0)
endfunction
function Y8O takes nothing returns boolean
return(JAV==1)
endfunction
function Y9O takes nothing returns boolean
return(GetSpellAbilityId()=='A0O3')and((GetUnitAbilityLevelSwapped('A0O3',GetTriggerUnit()))==9)
endfunction
function ZVO takes nothing returns nothing
local unit ZEO
if(W7O())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),24)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetPlayerTechResearchedSwap('R00V',(GetPlayerTechCountSimple('R00V',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(W8O())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A12L',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A12L',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A12N',GetTriggerUnit()))
call UnitApplyTimedLifeBJ((10.+(2.*I2R(GetUnitAbilityLevelSwapped('A12N',GetTriggerUnit())))),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A12M',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A12M',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A12N',GetTriggerUnit()))
call UnitApplyTimedLifeBJ((10.+(2.*I2R(GetUnitAbilityLevelSwapped('A12N',GetTriggerUnit())))),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(W9O())then
set AKV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A12P',AKV)
call UnitAddAbilityBJ('A12R',AKV)
call UnitAddAbilityBJ('A12Q',AKV)
call StartTimerBJ(ALV,false,(2.+(6.*I2R(GetUnitAbilityLevelSwapped('A12O',GetTriggerUnit())))))
call SetUnitVertexColorBJ(AKV,60.,50.,50.,70.)
endif
if(YVO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(7.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(YEO())then
call SetUnitExplodedBJ(GetSpellTargetUnit(),true)
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(18.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(.08*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateNUnitsAtLoc(1,'hmtm',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0PV',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",GetSpellTargetLoc())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(YXO())then
set YG=GetRandomInt(1,2)
if(YOO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+4 Strength",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+3 Intelligence",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(YRO())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(GetUnitAbilityLevelSwapped('A0PX',GetTriggerUnit())*.5)))
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0PX',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))))/2),GetUnitLoc(GetSpellTargetUnit()),10.,14.,100.,92.,3.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(YIO())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(GetUnitAbilityLevelSwapped('A0PY',GetTriggerUnit()))))
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0PY',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))))),GetUnitLoc(GetSpellTargetUnit()),10.,14.,100.,92.,3.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(YAO())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(GetUnitAbilityLevelSwapped('A0PZ',GetTriggerUnit()))))
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0PZ',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))))),GetUnitLoc(GetSpellTargetUnit()),10.,14.,100.,92.,3.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set ZG=GetRandomInt(1,4)
if(YJO())then
if(YHO())then
set FFV=GetRandomInt(1,$C)
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV)+" Strength",XVV,100.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1QY',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("All stats + 64",XVV,100.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YGO())then
if(YFO())then
set FFV=GetRandomInt(1,$A)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV)+" Agility",XVV,100.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1QZ',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1R0',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+1000 Damage and +52 Armor",XVV,100.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YDO())then
if(YCO())then
set FFV=GetRandomInt(2,9)
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV)+" Intelligence",XVV,100.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1R1',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1R2',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+2200 Hitpoints and 650 Mana",XVV,100.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YBO())then
if(YNO())then
set FFV=GetRandomInt(1,5)
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,FFV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV)+" All Stats",XVV,100.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1P3',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+60% Attack Speed",XVV,100.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
endif
endif
endif
if(YKO())then
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),false,true)
endif
if(YLO())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))))
endif
if(YMO())then
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetSpellTargetUnit()))+1),GetOwningPlayer(GetSpellTargetUnit()))
endif
if(YPO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(18.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*18),GetUnitLoc(GetSpellTargetUnit()),10.,13.,139.,.0,.0,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(YQO())then
if(YSO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((3+GetUnitAbilityLevelSwapped('A1RF',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((3+GetUnitAbilityLevelSwapped('A1RF',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))))),GetUnitLoc(GetSpellTargetUnit()),10.,13.,.0,255.,.0,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set IH=GetSpellTargetUnit()
set NH=GetTriggerUnit()
call EnableTrigger(ZTV)
set VJ=0
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((3+GetUnitAbilityLevelSwapped('A1RF',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((3+GetUnitAbilityLevelSwapped('A1RF',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))))),GetUnitLoc(GetSpellTargetUnit()),10.,13.,.0,255.,.0,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set BH=GetTriggerUnit()
set AH=GetSpellTargetUnit()
call EnableTrigger(ZTV)
set EJ=0
endif
endif
if(YTO())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,4+GetUnitAbilityLevelSwapped('A1RG',GetTriggerUnit()))
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2+GetUnitAbilityLevelSwapped('A1RG',GetTriggerUnit()))
endif
if(YUO())then
if(YWO())then
set BEV=GetTriggerUnit()
set BOV=GetSpellTargetUnit()
call EnableTrigger(ZUV)
set OJ=0
else
set BEV=GetTriggerUnit()
set BXV=GetSpellTargetUnit()
call EnableTrigger(ZUV)
set XJ=0
endif
endif
if(Y1O())then
set BEV=GetTriggerUnit()
set XVV=GetSpellTargetLoc()
set XEV=GetUnitsInRangeOfLocMatching(350.,XVV,Condition(function YYO))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,BEV,true)+(GetHeroStatBJ(bj_HEROSTAT_STR,BEV,true)+(GetHeroStatBJ(bj_HEROSTAT_INT,BEV,true))))*((GetUnitAbilityLevelSwapped('A1RI',BEV))+GetUnitAbilityLevelSwapped('A1RK',BEV))/2),XVV,10.,13.,10.,255.,10.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call ForGroupBJ(XEV,function YZO)
call ForGroupBJ(XEV,function Y_O)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(Y2O())then
set BEV=GetTriggerUnit()
set XVV=GetSpellTargetLoc()
set XEV=GetUnitsInRangeOfLocMatching(350.,XVV,Condition(function YYO))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,BEV,true)+(GetHeroStatBJ(bj_HEROSTAT_STR,BEV,true)+(GetHeroStatBJ(bj_HEROSTAT_INT,BEV,true))))*((GetUnitAbilityLevelSwapped('A1RI',BEV))+GetUnitAbilityLevelSwapped('A1RK',BEV))/2),XVV,10.,13.,10.,255.,10.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call ForGroupBJ(XEV,function Y0O)
call ForGroupBJ(XEV,function Y_O)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(Y3O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(.15*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitRemoveBuffBJ('B049',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B093',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(Y4O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(.15*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitRemoveBuffBJ('B096',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B093',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(Y6O())then
if(Y7O())then
set JCV=GetTriggerUnit()
set JAV=1
set JEV=(GetUnitAbilityLevelSwapped('A09X',JCV))
set JXV=(GetUnitAbilityLevelSwapped('A1RQ',JCV))
set JOV=(GetUnitAbilityLevelSwapped('A1RW',JCV))
set JRV=(GetUnitAbilityLevelSwapped('A1S0',JCV))
set JIV=(GetUnitAbilityLevelSwapped('A09W',JCV))
call SetUnitVertexColor(JCV,0,0,0,$FF)
call UnitAddAbilityBJ('A1RP',JCV)
if(Y8O())and JEV>0 then
call UnitRemoveAbilityBJ('A09X',JCV)
call UnitAddAbilityBJ('A1WM',JCV)
call SetUnitAbilityLevelSwapped('A1WM',JCV,JEV)
endif
if(Y8O())and JXV>0 then
call UnitRemoveAbilityBJ('A1RQ',JCV)
call UnitAddAbilityBJ('A1RS',JCV)
call SetUnitAbilityLevelSwapped('A1RS',JCV,JXV)
endif
if(Y8O())and JOV>0 then
call UnitRemoveAbilityBJ('A1RW',JCV)
call UnitAddAbilityBJ('AOcr',JCV)
call SetUnitAbilityLevelSwapped('AOcr',JCV,JOV)
endif
if(Y8O())and JRV>0 then
call UnitRemoveAbilityBJ('A1S0',JCV)
call UnitAddAbilityBJ('A1RZ',JCV)
call SetUnitAbilityLevelSwapped('A1RZ',JCV,JRV)
endif
if(Y8O())and JIV>0 then
call UnitRemoveAbilityBJ('A09W',JCV)
call UnitRemoveAbilityBJ('S00H',JCV)
call UnitAddAbilityBJ('A1GZ',JCV)
call SetUnitAbilityLevelSwapped('A1GZ',JCV,JIV)
endif
else
set JCV=GetTriggerUnit()
set JAV=0
call SetUnitVertexColor(GetTriggerUnit(),$FF,$FF,$FF,$FF)
set JEV=(GetUnitAbilityLevelSwapped('A1WM',JCV))
set JXV=(GetUnitAbilityLevelSwapped('A1RS',JCV))
set JOV=(GetUnitAbilityLevelSwapped('AOcr',JCV))
set JRV=(GetUnitAbilityLevelSwapped('A1RZ',JCV))
set JIV=(GetUnitAbilityLevelSwapped('A1GZ',JCV))
call UnitRemoveAbilityBJ('A1RP',JCV)
if(Y7O())and JEV>0 then
call UnitRemoveAbilityBJ('A1WM',JCV)
call UnitRemoveAbilityBJ('A1RV',JCV)
call UnitAddAbilityBJ('A09X',JCV)
call SetUnitAbilityLevelSwapped('A09X',JCV,JEV)
endif
if(Y7O())and JXV>0 then
call UnitRemoveAbilityBJ('A1RS',JCV)
call UnitAddAbilityBJ('A1RQ',JCV)
call SetUnitAbilityLevelSwapped('A1RQ',JCV,JXV)
endif
if(Y7O())and JOV>0 then
call UnitRemoveAbilityBJ('AOcr',JCV)
call UnitAddAbilityBJ('A1RW',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1RW',GetTriggerUnit(),JOV)
endif
if(Y7O())and JRV>0 then
call UnitRemoveAbilityBJ('A1RZ',JCV)
call UnitAddAbilityBJ('A1S0',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1S0',GetTriggerUnit(),JRV)
endif
if(Y7O())and JIV>0 then
call UnitRemoveAbilityBJ('A1GZ',JCV)
call UnitAddAbilityBJ('A09W',JCV)
call SetUnitAbilityLevelSwapped('A09W',JCV,JIV)
endif
endif
endif
if(Y9O())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(Y5O())then
set ZEO=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0TX',ZEO)
call SetUnitAbilityLevelSwapped('A0TX',ZEO,GetUnitAbilityLevelSwapped('A0OM',GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',ZEO)
call SetUnitAbilityLevelSwapped('A028',ZEO,59)
call UnitDamageTargetBJ(GetTriggerUnit(),ZEO,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call mj(8.)
call UnitRemoveAbilityBJ('A0TX',ZEO)
set ZEO=null
endif
endfunction
function ZXO takes nothing returns nothing
set ZSV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZSV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ZSV,function ZVO)
endfunction
function ZOO takes nothing returns nothing
if((VJ<5)and(IsUnitAliveBJ(IH)and(IH!=null)))then
set VJ=VJ+1
call UnitDamageTargetBJ(NH,IH,(GetUnitAbilityLevelSwapped('A1RF',NH))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,NH,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(GetHeroStatBJ(bj_HEROSTAT_INT,NH,true)*(GetUnitAbilityLevelSwapped('A1RF',NH))),GetUnitLoc(IH),10.,13.,.0,255.,.0,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set IH=null
set NH=null
endif
if((EJ<5)and(IsUnitAliveBJ(AH)and(AH!=null)))then
set EJ=EJ+1
call UnitDamageTargetBJ(BH,AH,(GetUnitAbilityLevelSwapped('A1RF',BH))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,BH,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(GetHeroStatBJ(bj_HEROSTAT_INT,BH,true)*(GetUnitAbilityLevelSwapped('A1RF',BH))),GetUnitLoc(AH),10.,13.,.0,255.,.0,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set AH=null
set BH=null
endif
if(AH==null)and(IH==null)then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function ZRO takes nothing returns nothing
set ZTV=CreateTrigger()
call DisableTrigger(ZTV)
call TriggerRegisterTimerEventPeriodic(ZTV,3.)
call TriggerAddAction(ZTV,function ZOO)
endfunction
function ZIO takes nothing returns nothing
call UnitRemoveAbilityBJ('A12P',AKV)
call UnitRemoveAbilityBJ('A12Q',AKV)
call UnitRemoveAbilityBJ('A12R',AKV)
call SetUnitVertexColorBJ(AKV,'d','d','d',0)
endfunction
function ZAO takes nothing returns nothing
set Z_V=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Z_V,ALV)
call TriggerAddAction(Z_V,function ZIO)
endfunction
function ZNO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0O2',GetKillingUnitBJ())==5)
endfunction
function ZBO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0O2',GetKillingUnitBJ())>2)
endfunction
function ZCO takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnitBJ())=='H042')and(GetUnitAbilityLevelSwapped('A0O2',GetKillingUnitBJ())>0)
endfunction
function ZDO takes nothing returns nothing
if(ZCO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,2)
if(ZBO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,2)
if(ZNO())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,2)
endif
endif
endif
endfunction
function ZFO takes nothing returns nothing
set Z0V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z0V,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(Z0V,function ZDO)
endfunction
function ZGO takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function ZHO takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C0'))
endfunction
function ZJO takes nothing returns nothing
if(ZHO())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C0'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Ares has been created",XVV,15.,15.,'d',70.,70.,.0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.)
call UnitAddItemByIdSwapped('I0C1',GetTriggerUnit())
endif
endfunction
function ZKO takes nothing returns nothing
set Z1V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z1V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Z1V,Condition(function ZGO))
call TriggerAddAction(Z1V,function ZJO)
endfunction
function ZLO takes nothing returns boolean
return(GetSpellAbilityId()=='A0QR')
endfunction
function ZMO takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))<=(5000+(5000*GetUnitAbilityLevelSwapped('A0QR',GetTriggerUnit()))))
endfunction
function ZPO takes nothing returns nothing
if(ZMO())then
call SetUnitExplodedBJ(GetSpellTargetUnit(),true)
call SetUnitLifeBJ(GetSpellTargetUnit(),1)
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),25)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call PlaySoundBJ(PWV)
call TriggerSleepAction(2.3)
call StopSoundBJ(PWV,false)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*(.1+(.04*I2R(GetUnitAbilityLevelSwapped('A0QR',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function ZQO takes nothing returns nothing
set Z2V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z2V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Z2V,Condition(function ZLO))
call TriggerAddAction(Z2V,function ZPO)
endfunction
function ZSO takes nothing returns boolean
return(GetSpellAbilityId()=='A0SG')
endfunction
function ZTO takes nothing returns boolean
return(GetSpellAbilityId()=='A0SE')
endfunction
function ZUO takes nothing returns boolean
return(GetSpellAbilityId()=='A0NX')
endfunction
function ZWO takes nothing returns boolean
return(GetSpellAbilityId()=='A0P5')
endfunction
function ZYO takes nothing returns boolean
return(GetSpellAbilityId()=='A0P7')
endfunction
function ZZO takes nothing returns boolean
return(GetSpellAbilityId()=='A0P6')
endfunction
function Z_O takes nothing returns boolean
return(GetSpellAbilityId()=='A0OX')
endfunction
function Z0O takes nothing returns boolean
return(GetSpellAbilityId()=='A0OY')
endfunction
function Z1O takes nothing returns boolean
return(GetSpellAbilityId()=='A1P4')
endfunction
function Z2O takes nothing returns nothing
if(ZSO())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(16000.+(4000.*I2R(GetUnitAbilityLevelSwapped('A0SG',GetTriggerUnit()))))))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2*(GetUnitAbilityLevelSwapped('A0SG',GetTriggerUnit())))
call UnitAddItemByIdSwapped('I0FH',GetTriggerUnit())
endif
if(ZTO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(.13*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(ZUO())then
call PlaySoundBJ(PTV)
endif
if(ZWO())then
call SetPlayerTechResearchedSwap('R00T',(GetPlayerTechCountSimple('R00T',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call AddUnitAnimationPropertiesBJ(true,"defend",GetTriggerUnit())
call TriggerSleepAction(10.)
call AddUnitAnimationPropertiesBJ(false,"defend",GetTriggerUnit())
endif
if(ZYO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),($F+GetUnitAbilityLevelSwapped('A0P7',GetTriggerUnit()))*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(ZZO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(4+GetUnitAbilityLevelSwapped('A0P6',GetTriggerUnit()))*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(Z_O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(2+GetUnitAbilityLevelSwapped('A0OX',GetTriggerUnit()))*(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))+500,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(Z0O())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),2*(GetUnitAbilityLevelSwapped('A0OY',GetTriggerUnit())*((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)+(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))))+$7D0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(Z1O())then
call SetPlayerTechResearchedSwap('R00T',(GetPlayerTechCountSimple('R00T',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
call UnitAddItemByIdSwapped('I0GX',GetTriggerUnit())
call RemoveItem(GetLastCreatedItem())
call AddUnitAnimationPropertiesBJ(true,"defend",GetTriggerUnit())
call TriggerSleepAction(10.)
call AddUnitAnimationPropertiesBJ(false,"defend",GetTriggerUnit())
endif
endfunction
function Z3O takes nothing returns nothing
set Z3V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z3V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(Z3V,function Z2O)
endfunction
function Z4O takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Z5O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P8',GetTriggerUnit())>0)
endfunction
function Z6O takes nothing returns nothing
if(Z5O())then
if(Z4O())then
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodPeasant.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(20.+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(1.+I2R(GetUnitAbilityLevelSwapped('A0P8',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
endfunction
function Z7O takes nothing returns nothing
set Z4V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z4V,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(Z4V,function Z6O)
endfunction
function Z8O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H04V')
endfunction
function Z9O takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endfunction
function VVR takes nothing returns nothing
set Z5V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z5V,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Z5V,Condition(function Z8O))
call TriggerAddAction(Z5V,function Z9O)
endfunction
function VER takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function VXR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I058'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I06W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))
endfunction
function VOR takes nothing returns nothing
if(VXR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I058'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I06W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Kratos has been created",XVV,15.,15.,'d',70.,70.,.0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.)
call UnitAddItemByIdSwapped('I090',GetTriggerUnit())
endif
endfunction
function VRR takes nothing returns nothing
set Z6V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z6V,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Z6V,Condition(function VER))
call TriggerAddAction(Z6V,function VOR)
endfunction
function VIR takes nothing returns boolean
return(GetSpellAbilityId()=='A0AL')
endfunction
function VAR takes nothing returns nothing
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
endfunction
function VNR takes nothing returns nothing
set Z7V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z7V,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(Z7V,Condition(function VIR))
call TriggerAddAction(Z7V,function VAR)
endfunction
function VBR takes nothing returns boolean
return(GetSpellAbilityId()=='A096')
endfunction
function VCR takes nothing returns nothing
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
endfunction
function VDR takes nothing returns nothing
set Z8V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z8V,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(Z8V,Condition(function VBR))
call TriggerAddAction(Z8V,function VCR)
endfunction
function VFR takes nothing returns boolean
return(GetSpellAbilityId()=='AIpl')
endfunction
function VGR takes nothing returns nothing
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
endfunction
function VHR takes nothing returns nothing
set Z9V=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Z9V,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(Z9V,Condition(function VFR))
call TriggerAddAction(Z9V,function VGR)
endfunction
function VJR takes nothing returns nothing
call UnitAddAbilityBJ('A0U9',GetEnumUnit())
endfunction
function VKR takes nothing returns nothing
call UnitAddAbilityBJ('A0U9',GetEnumUnit())
endfunction
function VLR takes nothing returns nothing
set XEV=GetUnitsOfPlayerAndTypeId(Player(0),'hgtw')
call ForGroupBJ(XEV,function VJR)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerAndTypeId(Player(1),'owtw')
call ForGroupBJ(XEV,function VKR)
call DestroyGroup(XEV)
endfunction
function VMR takes nothing returns nothing
set VVE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(VVE,X5V)
call TriggerAddAction(VVE,function VLR)
endfunction
function VPR takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function VQR takes nothing returns nothing
call IssueImmediateOrderBJ(GetAttacker(),"stop")
endfunction
function VSR takes nothing returns nothing
set VEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VEE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(VEE,Condition(function VPR))
call TriggerAddAction(VEE,function VQR)
endfunction
function VTR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Obla')
endfunction
function VUR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I03O')
endfunction
function VWR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05G')
endfunction
function VYR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05I')
endfunction
function VZR takes nothing returns nothing
if(VUR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDropItemPointLoc(GetTriggerUnit(),GetManipulatedItem(),XVV)
call RemoveLocation(XVV)
endif
if(VWR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDropItemPointLoc(GetTriggerUnit(),GetManipulatedItem(),XVV)
call RemoveLocation(XVV)
endif
if(VYR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDropItemPointLoc(GetTriggerUnit(),GetManipulatedItem(),XVV)
call RemoveLocation(XVV)
endif
endfunction
function V_R takes nothing returns nothing
set VXE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VXE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(VXE,Condition(function VTR))
call TriggerAddAction(VXE,function VZR)
endfunction
function V0R takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function V1R takes nothing returns nothing
call UnitAddAbilityBJ('A0GQ',X4V)
call TriggerSleepAction(80.)
call UnitRemoveAbilityBJ('A0GQ',X4V)
endfunction
function V2R takes nothing returns nothing
set VOE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(VOE,LUV)
call TriggerAddCondition(VOE,Condition(function V0R))
call TriggerAddAction(VOE,function V1R)
endfunction
function V3R takes nothing returns nothing
call UnitAddAbilityBJ('A0GQ',OMV)
call TriggerSleepAction(50.)
call UnitRemoveAbilityBJ('A0GQ',OMV)
endfunction
function V4R takes nothing returns nothing
set VBE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(VBE,L_V)
call TriggerAddAction(VBE,function V3R)
endfunction
function V5R takes nothing returns nothing
call UnitAddAbilityBJ('A0GQ',OMV)
call TriggerSleepAction(50.)
call UnitRemoveAbilityBJ('A0GQ',OMV)
endfunction
function V6R takes nothing returns nothing
set VCE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(VCE,L5V)
call TriggerAddAction(VCE,function V5R)
endfunction
function V7R takes nothing returns boolean
return(GetTriggerUnit()==X4V)
endfunction
function V8R takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function V9R takes nothing returns nothing
if(V8R())then
call UnitRemoveAbilityBJ('A0GQ',X4V)
endif
endfunction
function EVR takes nothing returns nothing
set VDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VDE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(VDE,Condition(function V7R))
call TriggerAddAction(VDE,function V9R)
endfunction
function EER takes nothing returns boolean
return(GetTriggerUnit()==OMV)
endfunction
function EXR takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function EOR takes nothing returns nothing
if(EXR())then
call UnitRemoveAbilityBJ('A0GQ',OMV)
endif
endfunction
function ERR takes nothing returns nothing
set VFE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VFE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(VFE,Condition(function EER))
call TriggerAddAction(VFE,function EOR)
endfunction
function EIR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I061'))and(IsUnitIdType(GetUnitTypeId(GetTriggerUnit()),UNIT_TYPE_HERO))
endfunction
function EAR takes nothing returns nothing
if(EIR())then
call UnitAddAbilityBJ('A0EG',GetTriggerUnit())
endif
endfunction
function ENR takes nothing returns nothing
set VGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VGE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(VGE,function EAR)
endfunction
function EBR takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit()))
endfunction
function ECR takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nsrv')
endfunction
function EDR takes nothing returns boolean
return(GetBooleanAnd(EBR(),ECR()))
endfunction
function EFR takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),3000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function EGR takes nothing returns nothing
set VHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VHE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(VHE,Condition(function EDR))
call TriggerAddAction(VHE,function EFR)
endfunction
function EHR takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit()))
endfunction
function EJR takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='Udre')
endfunction
function EKR takes nothing returns boolean
return(GetBooleanAnd(EHR(),EJR()))
endfunction
function ELR takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),700.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function EMR takes nothing returns nothing
set VJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VJE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(VJE,Condition(function EKR))
call TriggerAddAction(VJE,function ELR)
endfunction
function EPR takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())=='n00E')and(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())>6)
endfunction
function EQR takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())=='u008')and(GetUnitAbilityLevelSwapped('A1NC',GetTriggerUnit())>6)
endfunction
function ESR takes nothing returns nothing
if(EPR())then
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())*.05)))
call PingMinimapForPlayer(GetOwningPlayer(GetEnumUnit()),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),3)
endif
if(EQR())then
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())*.05)))
call PingMinimapForPlayer(GetOwningPlayer(GetEnumUnit()),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),3)
endif
endfunction
function ETR takes nothing returns boolean
return(GetSpellAbilityId()=='A1NC')
endfunction
function EUR takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateCorpseLocBJ('hfoo',Player(0),XVV)
call CreateCorpseLocBJ('hfoo',Player(0),XVV)
call CreateCorpseLocBJ('hfoo',Player(0),XVV)
call RemoveLocation(XVV)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function ESR)
endfunction
function EWR takes nothing returns nothing
set VKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VKE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VKE,Condition(function ETR))
call TriggerAddAction(VKE,function EUR)
endfunction
function EYR takes nothing returns boolean
return(GetSpellAbilityId()=='A0SZ')
endfunction
function EZR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function E_R takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function E0R takes nothing returns boolean
return GetBooleanAnd(EZR(),E_R())
endfunction
function E1R takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
set X8V=GetTriggerUnit()
set X7V=CountUnitsInGroup(GetUnitsInRangeOfLocMatching(410.,GetUnitLoc(GetTriggerUnit()),Condition(function E0R)))
call ModifyHeroStat(bj_HEROSTAT_AGI,X8V,bj_MODIFYMETHOD_ADD,(X7V*(GetUnitAbilityLevelSwapped('A0SZ',GetTriggerUnit())*2)))
call CreateTextTagLocBJ(("+"+I2S((X7V*(GetUnitAbilityLevelSwapped('A0SZ',X8V)*2)))),XVV,30.,15.,100.,.0,'d',10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction((3.+I2R(GetUnitAbilityLevelSwapped('A0SZ',GetTriggerUnit()))))
call ModifyHeroStat(bj_HEROSTAT_AGI,X8V,bj_MODIFYMETHOD_SUB,(X7V*(GetUnitAbilityLevelSwapped('A0SZ',GetTriggerUnit())*2)))
call AddSpecialEffectTargetUnitBJ("overhead",X8V,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(GetTriggeringTrigger())
call RemoveLocation(XVV)
endfunction
function E2R takes nothing returns nothing
set VLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VLE,Condition(function EYR))
call TriggerAddAction(VLE,function E1R)
endfunction
function E3R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IU',GetAttacker())==1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function E4R takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function E5R takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function E6R takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function E7R takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function E8R takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function E9R takes nothing returns boolean
return(HTV>=60)
endfunction
function XVR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Aamk',GetAttacker())>=9)and(GetUnitLevel(GetTriggerUnit())>=18)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function XER takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=2600000.)
endfunction
function XXR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n042')and(H0V<=5)
endfunction
function XOR takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=1200000.)
endfunction
function XRR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n040')and(H0V<=1)
endfunction
function XIR takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=2600000.)
endfunction
function XAR takes nothing returns boolean
return(H8V>=40)
endfunction
function XNR takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n042')and(H0V<=5)
endfunction
function XBR takes nothing returns nothing
if(E3R())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*4.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*4))),XVV,10.,8.,'d',100.,.0,20.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
call RemoveLocation(XVV)
endif
if(XVR())then
set HTV=(HTV+1)
if(E9R())then
set HTV=0
if(E8R())then
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+7000.))
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("Heal!",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
call StartTimerBJ(HWV,false,35.)
else
if(E7R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateCorpseLocBJ('h05N',GetOwningPlayer(GetAttacker()),XVV)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1G2',GetLastCreatedUnit())
call RemoveLocation(XVV)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(HWV,false,35.)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("Armor Bonus, last 30 seconds.",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
else
if(E6R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateCorpseLocBJ('h05N',GetOwningPlayer(GetAttacker()),XVV)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1G3',GetLastCreatedUnit())
call StartTimerBJ(HWV,false,35.)
call RemoveLocation(XVV)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("Damage Bonus, last 30 seconds.",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
set HTV=0
else
if(E5R())then
call UnitRemoveAbilityBJ('A1G4',HUV)
set HUV=GetTriggerUnit()
call StartTimerBJ(HWV,false,35.)
call UnitAddAbilityBJ('A1G4',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("-900 Damage, last 35 seconds.",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
else
if(E4R())then
call UnitRemoveAbilityBJ('A1G5',HUV)
set HUV=GetTriggerUnit()
call StartTimerBJ(HWV,false,35.)
call UnitAddAbilityBJ('A1G5',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("-74 Armor, last 35 seconds.",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
else
call UnitRemoveAbilityBJ('A1G6',HUV)
set HUV=GetTriggerUnit()
call StartTimerBJ(HWV,false,35.)
call UnitAddAbilityBJ('A1G6',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ("-65 Attack Speed, last 35 seconds.",XVV,10.,13.,100.,10.,70.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
endif
endif
endif
endif
endif
endif
endif
if(XXR())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
if(XER())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+2400000.))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateCorpseLocBJ('h05N',GetOwningPlayer(GetTriggerUnit()),XVV)
call UnitApplyTimedLifeBJ(1.3,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1GC',GetLastCreatedUnit())
set H0V=(H0V+1)
call RemoveLocation(XVV)
endif
endif
if(XRR())then
if(XOR())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+2200000.))
set XVV=GetUnitLoc(HMV)
call CreateTextTagLocBJ("Giga Heal!",XVV,10.,15.,100.,100.,2.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set H0V=(H0V+1)
endif
endif
if(XNR())then
set H8V=(H8V+1)
if(XIR())then
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+2400000.))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateCorpseLocBJ('h05N',GetOwningPlayer(GetAttacker()),XVV)
call UnitApplyTimedLifeBJ(1.3,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1GC',GetLastCreatedUnit())
set H0V=(H0V+1)
call RemoveLocation(XVV)
endif
if(XAR())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.55)))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-60000.))
set H8V=1
endif
endif
endfunction
function XCR takes nothing returns nothing
set VME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VME,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(VME,function XBR)
endfunction
function XDR takes nothing returns nothing
call UnitRemoveAbilityBJ('A1G6',HUV)
call UnitRemoveAbilityBJ('A1G5',HUV)
call UnitRemoveAbilityBJ('A1G4',HUV)
endfunction
function XFR takes nothing returns nothing
set VPE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(VPE,HWV)
call TriggerAddAction(VPE,function XDR)
endfunction
function XGR takes nothing returns nothing
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
endfunction
function XHR takes nothing returns nothing
set VQE=CreateTrigger()
call TriggerRegisterPlayerStateEvent(VQE,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerRegisterPlayerStateEvent(VQE,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,5.)
call TriggerAddAction(VQE,function XGR)
endfunction
function XJR takes nothing returns boolean
return(GetSpellAbilityId()=='A0TH')
endfunction
function XKR takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())!='u00R')and(GetUnitTypeId(GetSpellTargetUnit())!='u00Y')and(GetUnitLevel(GetSpellTargetUnit())<$B4)
endfunction
function XLR takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03D')
endfunction
function XMR takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nfgo')
endfunction
function XPR takes nothing returns nothing
if(XLR())then
set OEV=GetTriggerUnit()
set X9V=(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.5)
call SetUnitLifeBJ(OEV,(GetUnitStateSwap(UNIT_STATE_LIFE,OEV)-X9V))
call StartTimerBJ(OVV,false,(4.+(2.*I2R(GetUnitAbilityLevelSwapped('A0TH',GetTriggerUnit())))))
call DisableTrigger(GetTriggeringTrigger())
else
if(XKR())then
set OEV=GetSpellTargetUnit()
set X9V=(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*.5)
call SetUnitLifeBJ(OEV,(GetUnitStateSwap(UNIT_STATE_LIFE,OEV)-X9V))
call StartTimerBJ(OVV,false,(4.+(2.*I2R(GetUnitAbilityLevelSwapped('A0TH',GetTriggerUnit())))))
call DisableTrigger(GetTriggeringTrigger())
endif
endif
if(XMR())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A15B',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"stomp")
call RemoveLocation(XVV)
endif
endfunction
function XQR takes nothing returns nothing
set VSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VSE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VSE,Condition(function XJR))
call TriggerAddAction(VSE,function XPR)
endfunction
function XSR takes nothing returns nothing
call SetUnitLifeBJ(OEV,(GetUnitStateSwap(UNIT_STATE_LIFE,OEV)+X9V))
call EnableTrigger(VSE)
endfunction
function XTR takes nothing returns nothing
set VTE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(VTE,OVV)
call TriggerAddAction(VTE,function XSR)
endfunction
function XUR takes nothing returns boolean
return(GetSpellAbilityId()=='A0TI')
endfunction
function XWR takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endfunction
function XYR takes nothing returns nothing
set VUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VUE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VUE,Condition(function XUR))
call TriggerAddAction(VUE,function XWR)
endfunction
function XZR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==1)
endfunction
function X_R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==2)
endfunction
function X0R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==3)
endfunction
function X1R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==4)
endfunction
function X2R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==5)
endfunction
function X3R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==6)
endfunction
function X4R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==7)
endfunction
function X5R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==8)
endfunction
function X6R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TJ',GetKillingUnitBJ())==9)
endfunction
function X7R takes nothing returns nothing
if(XZR())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+3
endif
if(X_R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+6
endif
if(X0R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+9
endif
if(X1R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+$D
endif
if(X2R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+17
endif
if(X3R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+21
endif
if(X4R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+24
endif
if(X5R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+30
endif
if(X6R())then
set VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=VD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+36
endif
endfunction
function X8R takes nothing returns nothing
set VWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VWE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(VWE,function X7R)
endfunction
function X9R takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0TK')
endfunction
function OVR takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endfunction
function OER takes nothing returns nothing
set VYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VYE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(VYE,Condition(function X9R))
call TriggerAddAction(VYE,function OVR)
endfunction
function OXR takes nothing returns boolean
return(GetSpellAbilityId()=='A0TL')
endfunction
function OOR takes nothing returns boolean
return(GetSpellAbilityId()=='A0CN')and(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit())==4)
endfunction
function ORR takes nothing returns nothing
if(OXR())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(.08*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(OOR())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetPlayerTechResearchedSwap('R02U',(GetPlayerTechCountSimple('R02U',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R02V',(GetPlayerTechCountSimple('R02V',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
endfunction
function OIR takes nothing returns nothing
set VZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VZE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(VZE,function ORR)
endfunction
function OAR takes nothing returns boolean
return(GetSpellAbilityId()=='A0TM')
endfunction
function ONR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function OBR takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.2+(.6*I2R(GetUnitAbilityLevelSwapped('A0TM',GetTriggerUnit())))))+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(2+(4.*I2R(GetUnitAbilityLevelSwapped('A0TM',GetTriggerUnit())))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function OCR takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5+GetUnitAbilityLevelSwapped('A0TM',GetTriggerUnit()))
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(800.,XVV,Condition(function ONR))
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function OBR)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-600.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,520.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-520.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-450.,-380.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-380.,-450.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,450.,-380.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,380.,-450.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,450.,380.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,380.,450.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-450.,380.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-380.,450.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,260.,200.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-260.,200.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-260.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal2.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,260.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal3.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-260.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal5.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-400.,-400.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal5.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,400.,400.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal5.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,300.,-150.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal5.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-500.,-400.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,550.,-340.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,600.,100.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,300.,600.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-360.,400.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-600.,550.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,300.,-550.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,400.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,460.,.0),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-560.,.0),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endfunction
function ODR takes nothing returns nothing
set V_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V_E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(V_E,Condition(function OAR))
call TriggerAddAction(V_E,function OCR)
endfunction
function OFR takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),I2S(GetPlayerScore(GetTriggerPlayer(),PLAYER_SCORE_UNITS_KILLED)))
endfunction
function OGR takes nothing returns nothing
set V0E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(V0E,Player(2),"-KN",true)
call TriggerAddAction(V0E,function OFR)
endfunction
function OHR takes nothing returns boolean
return(GetSpellAbilityId()=='Auhf')
endfunction
function OJR takes nothing returns boolean
return(GetSpellAbilityId()=='A1MA')
endfunction
function OKR takes nothing returns boolean
return(GetBooleanOr(OHR(),OJR()))
endfunction
function OLR takes nothing returns nothing
set OOV=GetSpellTargetUnit()
call StartTimerBJ(OXV,false,15.)
call UnitAddAbilityBJ('A0U4',OOV)
if(OJR())then
call SetUnitAbilityLevelSwapped('A0U4',OOV,3)
endif
endfunction
function OMR takes nothing returns nothing
set V1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V1E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(V1E,Condition(function OKR))
call TriggerAddAction(V1E,function OLR)
endfunction
function OPR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0U4',OOV)
set OOV=null
endfunction
function OQR takes nothing returns nothing
set V2E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(V2E,OXV)
call TriggerAddAction(V2E,function OPR)
endfunction
function OSR takes nothing returns boolean
return(GetSpellAbilityId()=='A0U7')
endfunction
function OTR takes nothing returns nothing
set ORV=GetSpellTargetUnit()
call StartTimerBJ(OIV,false,(6.*I2R(GetUnitAbilityLevelSwapped('A0U7',GetTriggerUnit()))))
call UnitAddAbilityBJ('A0U8',ORV)
endfunction
function OUR takes nothing returns nothing
set V3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V3E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(V3E,Condition(function OSR))
call TriggerAddAction(V3E,function OTR)
endfunction
function OWR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0U8',ORV)
endfunction
function OYR takes nothing returns nothing
set V4E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(V4E,OIV)
call TriggerAddAction(V4E,function OWR)
endfunction
function OZR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Eevi')
endfunction
function O_R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E004')
endfunction
function O0R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E00E')
endfunction
function O1R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E005')
endfunction
function O2R takes nothing returns boolean
return GetBooleanOr(O0R(),O1R())
endfunction
function O3R takes nothing returns boolean
return GetBooleanOr(O_R(),O2R())
endfunction
function O4R takes nothing returns boolean
return(GetBooleanOr(OZR(),O3R()))
endfunction
function O5R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function O6R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E009')
endfunction
function O7R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E008')
endfunction
function O8R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E00B')
endfunction
function O9R takes nothing returns boolean
return GetBooleanOr(O7R(),O8R())
endfunction
function RVR takes nothing returns boolean
return GetBooleanOr(O6R(),O9R())
endfunction
function RER takes nothing returns boolean
return(GetBooleanOr(O5R(),RVR()))
endfunction
function RXR takes nothing returns nothing
if(O4R())then
call PlaySoundBJ(PIV)
call StartTimerBJ(ONV,false,200.)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(V7E)
endif
if(RER())then
call PlaySoundBJ(PIV)
call StartTimerBJ(ONV,false,200.)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(V7E)
endif
endfunction
function ROR takes nothing returns nothing
set V5E=CreateTrigger()
call TriggerRegisterEnterRectSimple(V5E,L_V)
call TriggerAddAction(V5E,function RXR)
endfunction
function RRR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Harf')
endfunction
function RIR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H001')
endfunction
function RAR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H002')
endfunction
function RNR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H019')
endfunction
function RBR takes nothing returns boolean
return GetBooleanOr(RAR(),RNR())
endfunction
function RCR takes nothing returns boolean
return GetBooleanOr(RIR(),RBR())
endfunction
function RDR takes nothing returns boolean
return(GetBooleanOr(RRR(),RCR()))
endfunction
function RFR takes nothing returns nothing
if(RDR())then
call PlaySoundBJ(PIV)
call StartTimerBJ(ONV,false,200.)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(V7E)
endif
endfunction
function RGR takes nothing returns nothing
set V6E=CreateTrigger()
call TriggerRegisterEnterRectSimple(V6E,L_V)
call TriggerAddAction(V6E,function RFR)
endfunction
function RHR takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetUnitTypeId(GetTriggerUnit())!='Harf')and(GetUnitTypeId(GetTriggerUnit())!='H002')and(GetUnitTypeId(GetTriggerUnit())!='H019')and(GetUnitTypeId(GetTriggerUnit())!='H001')and(GetUnitTypeId(GetTriggerUnit())!='Edem')and(GetUnitTypeId(GetTriggerUnit())!='Eevi')and(GetUnitTypeId(GetTriggerUnit())!='E004')and(GetUnitTypeId(GetTriggerUnit())!='E00E')and(GetUnitTypeId(GetTriggerUnit())!='E005')and(GetUnitTypeId(GetTriggerUnit())!='E00B')and(GetUnitTypeId(GetTriggerUnit())!='E008')and(GetUnitTypeId(GetTriggerUnit())!='E009'))!=null
endfunction
function RJR takes nothing returns nothing
if(RHR())then
call PlaySoundBJ(PIV)
call StartTimerBJ(ONV,false,200.)
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function RKR takes nothing returns nothing
set V7E=CreateTrigger()
call TriggerRegisterEnterRectSimple(V7E,L_V)
call TriggerAddAction(V7E,function RJR)
endfunction
function RLR takes nothing returns nothing
call EnableTrigger(V5E)
call EnableTrigger(V6E)
call EnableTrigger(V7E)
endfunction
function RMR takes nothing returns nothing
set V8E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(V8E,ONV)
call TriggerAddAction(V8E,function RLR)
endfunction
function RPR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetSummoningUnit(),'I06R'))
endfunction
function RQR takes nothing returns nothing
call UnitAddAbilityBJ('A0UF',GetSummonedUnit())
endfunction
function RSR takes nothing returns nothing
set V9E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V9E,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(V9E,Condition(function RPR))
call TriggerAddAction(V9E,function RQR)
endfunction
function RTR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetSummoningUnit(),'I0CN'))
endfunction
function RUR takes nothing returns nothing
call UnitAddAbilityBJ('A0SX',GetSummonedUnit())
call UnitAddAbilityBJ('A0B8',GetSummonedUnit())
call UnitAddAbilityBJ('A08P',GetSummonedUnit())
endfunction
function RWR takes nothing returns nothing
set EVE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EVE,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(EVE,Condition(function RTR))
call TriggerAddAction(EVE,function RUR)
endfunction
function RYR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I06R')
endfunction
function RZR takes nothing returns nothing
call UnitAddAbilityBJ('A0UF',GetEnumUnit())
endfunction
function R_R takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function R0R takes nothing returns nothing
if(R_R())then
set XEV=GetUnitsOfPlayerAll(GetOwningPlayer(GetTriggerUnit()))
call ForGroupBJ(XEV,function RZR)
call DestroyGroup(XEV)
endif
endfunction
function R1R takes nothing returns nothing
set EEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EEE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(EEE,Condition(function RYR))
call TriggerAddAction(EEE,function R0R)
endfunction
function R2R takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CN')
endfunction
function R3R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function R4R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function R5R takes nothing returns boolean
return GetBooleanAnd(R3R(),R4R())
endfunction
function R6R takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function R7R takes nothing returns boolean
return GetBooleanAnd(R5R(),R6R())
endfunction
function R8R takes nothing returns nothing
call UnitAddAbilityBJ('A0SX',GetEnumUnit())
endfunction
function R9R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function IVR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function IER takes nothing returns boolean
return GetBooleanAnd(R9R(),IVR())
endfunction
function IXR takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function IOR takes nothing returns boolean
return GetBooleanAnd(IER(),IXR())
endfunction
function IRR takes nothing returns nothing
call UnitAddAbilityBJ('A08P',GetEnumUnit())
endfunction
function IIR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function IAR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function INR takes nothing returns boolean
return GetBooleanAnd(IIR(),IAR())
endfunction
function IBR takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function ICR takes nothing returns boolean
return GetBooleanAnd(INR(),IBR())
endfunction
function IDR takes nothing returns nothing
call UnitAddAbilityBJ('A0B8',GetEnumUnit())
endfunction
function IFR takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function IGR takes nothing returns nothing
if(IFR())then
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function R7R))
call ForGroupBJ(XEV,function R8R)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function IOR))
call ForGroupBJ(XEV,function IRR)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function ICR))
call ForGroupBJ(XEV,function IDR)
call DestroyGroup(XEV)
endif
endfunction
function IHR takes nothing returns nothing
set EXE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EXE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(EXE,Condition(function R2R))
call TriggerAddAction(EXE,function IGR)
endfunction
function IJR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I06R')
endfunction
function IKR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UF',GetEnumUnit())
endfunction
function ILR takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function IMR takes nothing returns nothing
if(ILR())then
set XEV=GetUnitsOfPlayerAll(GetOwningPlayer(GetTriggerUnit()))
call ForGroupBJ(XEV,function IKR)
call DestroyGroup(XEV)
endif
endfunction
function IPR takes nothing returns nothing
set EOE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EOE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(EOE,Condition(function IJR))
call TriggerAddAction(EOE,function IMR)
endfunction
function IQR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CN')
endfunction
function ISR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function ITR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function IUR takes nothing returns boolean
return GetBooleanAnd(ISR(),ITR())
endfunction
function IWR takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function IYR takes nothing returns boolean
return GetBooleanAnd(IUR(),IWR())
endfunction
function IZR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0SX',GetEnumUnit())
endfunction
function I_R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function I0R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function I1R takes nothing returns boolean
return GetBooleanAnd(I_R(),I0R())
endfunction
function I3R takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function I4R takes nothing returns boolean
return GetBooleanAnd(I1R(),I3R())
endfunction
function I5R takes nothing returns nothing
call UnitRemoveAbilityBJ('A08P',GetEnumUnit())
endfunction
function I6R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function I7R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function I8R takes nothing returns boolean
return GetBooleanAnd(I6R(),I7R())
endfunction
function I9R takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function AVR takes nothing returns boolean
return GetBooleanAnd(I8R(),I9R())
endfunction
function AER takes nothing returns nothing
call UnitRemoveAbilityBJ('A0B8',GetEnumUnit())
endfunction
function AXR takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function AOR takes nothing returns nothing
if(AXR())then
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function IYR))
call ForGroupBJ(XEV,function IZR)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function I4R))
call ForGroupBJ(XEV,function I5R)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function AVR))
call ForGroupBJ(XEV,function AER)
call DestroyGroup(XEV)
endif
endfunction
function ARR takes nothing returns nothing
set ERE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ERE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(ERE,Condition(function IQR))
call TriggerAddAction(ERE,function AOR)
endfunction
function AIR takes nothing returns boolean
return(GetSpellAbilityId()=='A0UH')
endfunction
function AAR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set ODV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
call UnitAddAbilityBJ('A0UI',GetTriggerUnit())
call StartTimerBJ(OFV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,14.)
endfunction
function ANR takes nothing returns nothing
set EIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EIE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(EIE,Condition(function AIR))
call TriggerAddAction(EIE,function AAR)
endfunction
function ABR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[3])
endfunction
function ACR takes nothing returns nothing
set EAE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EAE,OFV[3])
call TriggerAddAction(EAE,function ABR)
endfunction
function ADR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[4])
endfunction
function AFR takes nothing returns nothing
set ENE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(ENE,OFV[4])
call TriggerAddAction(ENE,function ADR)
endfunction
function AGR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[5])
endfunction
function AHR takes nothing returns nothing
set EBE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EBE,OFV[5])
call TriggerAddAction(EBE,function AGR)
endfunction
function AJR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[6])
endfunction
function AKR takes nothing returns nothing
set ECE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(ECE,OFV[6])
call TriggerAddAction(ECE,function AJR)
endfunction
function ALR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[7])
endfunction
function AMR takes nothing returns nothing
set EDE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EDE,OFV[7])
call TriggerAddAction(EDE,function ALR)
endfunction
function APR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[8])
endfunction
function AQR takes nothing returns nothing
set EFE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EFE,OFV[8])
call TriggerAddAction(EFE,function APR)
endfunction
function ASR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[9])
endfunction
function ATR takes nothing returns nothing
set EGE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EGE,OFV[9])
call TriggerAddAction(EGE,function ASR)
endfunction
function AUR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0UI',ODV[$A])
endfunction
function AWR takes nothing returns nothing
set EHE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EHE,OFV[$A])
call TriggerAddAction(EHE,function AUR)
endfunction
function AYR takes nothing returns boolean
return(GetSpellAbilityId()=='A1N3')
endfunction
function AZR takes nothing returns boolean
return(GetSpellAbilityId()=='A0UJ')
endfunction
function A_R takes nothing returns boolean
return(GetBooleanOr(AYR(),AZR()))
endfunction
function A0R takes nothing returns nothing
call UnitResetCooldown(GetTriggerUnit())
endfunction
function A1R takes nothing returns nothing
set EJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EJE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(EJE,Condition(function A_R))
call TriggerAddAction(EJE,function A0R)
endfunction
function A2R takes nothing returns boolean
return(GetSpellAbilityId()=='ACr1')
endfunction
function A3R takes nothing returns nothing
call PlaySoundBJ(P4V)
endfunction
function A4R takes nothing returns nothing
set EKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EKE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(EKE,Condition(function A2R))
call TriggerAddAction(EKE,function A3R)
endfunction
function A5R takes nothing returns boolean
return(GetSpellAbilityId()=='A0UQ')
endfunction
function A6R takes nothing returns boolean
return(GetSpellAbilityId()=='A0M3')
endfunction
function A7R takes nothing returns nothing
if(A5R())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*I2R(GetUnitLevel(GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((GetUnitLevel(GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))+8000)),XVV,10.,12.,70.,31.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
if(GetUnitTypeId(GetSpellTargetUnit())!='n05B')and(GetUnitTypeId(GetSpellTargetUnit())!='n05A')and(GetUnitTypeId(GetSpellTargetUnit())!='n059')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,8)
endif
call RemoveLocation(XVV)
endif
if(A6R())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-340.,.0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-300.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,-200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,-270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-270.,200.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-200.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*I2R(GetUnitLevel(GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((GetUnitLevel(GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))+$3A98)),XVV,10.,13.,70.,31.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
if(GetUnitTypeId(GetSpellTargetUnit())!='n05B')and(GetUnitTypeId(GetSpellTargetUnit())!='n05A')and(GetUnitTypeId(GetSpellTargetUnit())!='n059')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,7)
endif
call RemoveLocation(XVV)
endif
endfunction
function A8R takes nothing returns nothing
set ELE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ELE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ELE,function A7R)
endfunction
function A9R takes nothing returns boolean
return(GetRandomInt(1,20)==7)
endfunction
function NVR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I07B'))
endfunction
function NER takes nothing returns boolean
return(GetRandomInt(1,16)==7)
endfunction
function NXR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0G1'))
endfunction
function NOR takes nothing returns boolean
return(GetRandomInt(1,8)==7)
endfunction
function NRR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0HP'))
endfunction
function NIR takes nothing returns boolean
return(GetRandomInt(1,25)==7)
endfunction
function NAR takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nubr')
endfunction
function NNR takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false)and(GetUnitTypeId(GetTriggerUnit())!='u00Y')and(GetUnitTypeId(GetTriggerUnit())!='nmyr')and(GetUnitTypeId(GetTriggerUnit())!='n039')and(IsUnitIllusionBJ(GetAttacker())==false)and(GetUnitLevel(GetTriggerUnit())<$C8)
endfunction
function NBR takes nothing returns nothing
if(NNR())then
if(NVR())then
if(A9R())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())/ I2R(FN[1])),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(NXR())then
if(NER())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())/ I2R(FN[1])),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(NRR())then
if(NOR())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())/ I2R(FN[2])),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(NAR())then
if(NIR())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())/ I2R(FN[1])),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodMortarTeam.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,.0),"Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
endif
endfunction
function NCR takes nothing returns nothing
set EME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EME,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(EME,function NBR)
endfunction
function NDR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I07F')
endfunction
function NFR takes nothing returns nothing
call UnitAddAbilityBJ('A041',GetTriggerUnit())
call UnitAddAbilityBJ('A0UX',GetTriggerUnit())
endfunction
function NGR takes nothing returns nothing
set EPE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EPE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(EPE,Condition(function NDR))
call TriggerAddAction(EPE,function NFR)
endfunction
function NHR takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I07F')
endfunction
function NJR takes nothing returns nothing
call UnitRemoveAbilityBJ('A041',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0UX',GetTriggerUnit())
endfunction
function NKR takes nothing returns nothing
set EQE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EQE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(EQE,Condition(function NHR))
call TriggerAddAction(EQE,function NJR)
endfunction
function NLR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function NMR takes nothing returns nothing
set XVV=GetRectCenter(L1V)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function NPR takes nothing returns nothing
set ESE=CreateTrigger()
call TriggerRegisterEnterRectSimple(ESE,L0V)
call TriggerAddCondition(ESE,Condition(function NLR))
call TriggerAddAction(ESE,function NMR)
endfunction
function NQR takes nothing returns boolean
return(GetSpellAbilityId()=='A0V0')
endfunction
function NSR takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function NTR takes nothing returns nothing
call EnumDestructablesInRectAll(L2V,function NSR)
endfunction
function NUR takes nothing returns nothing
set ETE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ETE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ETE,Condition(function NQR))
call TriggerAddAction(ETE,function NTR)
endfunction
function NWR takes nothing returns nothing
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'hspt',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddItemByIdSwapped('I0CE',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitUseItemTarget(GetLastCreatedUnit(),GetItemOfTypeFromUnitBJ(GetLastCreatedUnit(),'I0CE'),GetAttacker())
call RemoveLocation(XVV)
call StartTimerBJ(IWV,false,1.1)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function NYR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'clfm'))
endfunction
function NZR takes nothing returns boolean
return(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function N_R takes nothing returns boolean
return(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ())))
endfunction
function N0R takes nothing returns boolean
return(GetBooleanAnd(NYR(),NZR()))
endfunction
function N1R takes nothing returns boolean
return(GetBooleanAnd(N_R(),N0R()))
endfunction
function N2R takes nothing returns boolean
return(GetRandomInt(1,$C)==3)
endfunction
function N3R takes nothing returns nothing
if(N2R())then
if(GetUnitTypeId(GetAttacker())=='N05L')and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))then
if C0E[0]==null then
call ExecuteFunc("NWR")
else
if C0E[1]==null and C3E>17 then
call ExecuteFunc("NWR")
else
if C0E[2]==null and C3E>28 then
call ExecuteFunc("NWR")
endif
endif
endif
endif
if(GetUnitTypeId(GetAttacker())!='N05L')and(GetOwningPlayer(GetAttacker())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))then
call ExecuteFunc("NWR")
endif
endif
endfunction
function N4R takes nothing returns nothing
set EUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EUE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(EUE,Condition(function N1R))
call TriggerAddAction(EUE,function N3R)
endfunction
function N5R takes nothing returns nothing
call EnableTrigger(EUE)
endfunction
function N6R takes nothing returns nothing
set EWE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EWE,IWV)
call TriggerAddAction(EWE,function N5R)
endfunction
function N7R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUts',GetTriggerUnit())>0)and(GetSpellAbilityId()!='A010')and(GetSpellAbilityId()!='A00Z')
endfunction
function N8R takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function N9R takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.06*(.6*GetUnitAbilityLevelSwapped('AUts',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function BVR takes nothing returns boolean
return(GetRandomInt(1,9)<=GetUnitAbilityLevelSwapped('AUts',GetTriggerUnit()))
endfunction
function BER takes nothing returns nothing
if(BVR())then
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.06)))
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(400.,XVV,Condition(function N8R))
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function N9R)
call DestroyGroup(XEV)
endif
endfunction
function BXR takes nothing returns nothing
set E_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(E_E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(E_E,Condition(function N7R))
call TriggerAddAction(E_E,function BER)
endfunction
function BOR takes nothing returns boolean
return(GetSpellAbilityId()=='A09W')
endfunction
function BRR takes nothing returns nothing
set OLV=GetTriggerUnit()
call UnitAddAbilityBJ('S00H',GetTriggerUnit())
call StartTimerBJ(OKV,false,(11.+(2.*I2R(GetUnitAbilityLevelSwapped('A09W',GetTriggerUnit())))))
endfunction
function BIR takes nothing returns nothing
set E0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(E0E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(E0E,Condition(function BOR))
call TriggerAddAction(E0E,function BRR)
endfunction
function BAR takes nothing returns nothing
call SetItemUserData(GetEnumItem(),17)
endfunction
function BNR takes nothing returns nothing
call EnumItemsInRectBJ(GetEntireMapRect(),function BAR)
endfunction
function BBR takes nothing returns nothing
set E1E=CreateTrigger()
call TriggerAddAction(E1E,function BNR)
endfunction
function BCR takes nothing returns nothing
call UnitRemoveAbilityBJ('S00H',OLV)
endfunction
function BDR takes nothing returns nothing
set E2E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(E2E,OKV)
call TriggerAddAction(E2E,function BCR)
endfunction
function BFR takes nothing returns boolean
return(GetOwningPlayer(OSV)==GetTriggerPlayer())
endfunction
function BGR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FSW")
endfunction
function BHR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FSC")
endfunction
function BJR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FAX")
endfunction
function BKR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FAR")
endfunction
function BLR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FSH")
endfunction
function BMR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FHE")
endfunction
function BPR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FBO")
endfunction
function BQR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FGL")
endfunction
function BSR takes nothing returns boolean
return(GetEventPlayerChatString()=="-FMA")
endfunction
function BTR takes nothing returns nothing
if(BGR())then
set OQV=1
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Sword|r")
endif
if(BHR())then
set OQV=2
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Scimitar|r")
endif
if(BJR())then
set OQV=3
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Axe|r")
endif
if(BKR())then
set OQV=4
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Armor|r")
endif
if(BLR())then
set OQV=5
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Shield|r")
endif
if(BMR())then
set OQV=6
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Helm|r")
endif
if(BPR())then
set OQV=7
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Boots|r")
endif
if(BQR())then
set OQV=8
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Gloves|r")
endif
if(BSR())then
set OQV=9
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Forge has been set to Mana Talisman|r")
endif
endfunction
function BUR takes nothing returns nothing
set E3E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(E3E,Player(2),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(3),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(4),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(5),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(6),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(7),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(8),"-F",false)
call TriggerRegisterPlayerChatEvent(E3E,Player(9),"-F",false)
call TriggerAddCondition(E3E,Condition(function BFR))
call TriggerAddAction(E3E,function BTR)
endfunction
function BWR takes nothing returns boolean
return(GetOwningPlayer(OSV)==GetTriggerPlayer())
endfunction
function BYR takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Axes: "+I2S(OUV)))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Poisonous Spears: "+I2S(OYV)))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Halberd: "+I2S(OWV)))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Hammer: "+I2S(OZV)))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Light Spear: "+I2S(O_V)))
endfunction
function BZR takes nothing returns nothing
set E5E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(E5E,Player(2),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(3),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(4),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(5),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(6),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(7),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(8),"-QTW",true)
call TriggerRegisterPlayerChatEvent(E5E,Player(9),"-QTW",true)
call TriggerAddCondition(E5E,Condition(function BWR))
call TriggerAddAction(E5E,function BYR)
endfunction
function B_R takes nothing returns boolean
return(GetOwningPlayer(OSV)==GetTriggerPlayer())
endfunction
function B0R takes nothing returns boolean
return(GetEventPlayerChatString()=="-FL1")and(EF>=1)
endfunction
function B1R takes nothing returns boolean
return(GetEventPlayerChatString()=="-FL2")and(EF>=2)
endfunction
function B2R takes nothing returns boolean
return(GetEventPlayerChatString()=="-FL3")and(EF>=3)
endfunction
function B3R takes nothing returns boolean
return(GetEventPlayerChatString()=="-FL4")and(EF>=4)
endfunction
function B4R takes nothing returns nothing
if(B0R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Forge Level has been Set to 1 (1/"+I2S(EF)+")"))
call SetUnitAbilityLevelSwapped('A0XO',OSV,1)
endif
if(B1R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Forge Level has been Set to 2 (2/"+I2S(EF)+")"))
call SetUnitAbilityLevelSwapped('A0XO',OSV,2)
endif
if(B2R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Forge Level has been Set to 3 (3/"+I2S(EF)+")"))
call SetUnitAbilityLevelSwapped('A0XO',OSV,3)
endif
if(B3R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Forge Level has been Set to 4 (4/"+I2S(EF)+")"))
call SetUnitAbilityLevelSwapped('A0XO',OSV,4)
endif
endfunction
function B5R takes nothing returns nothing
set E4E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(E4E,Player(2),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(3),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(4),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(5),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(6),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(7),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(8),"-FL",false)
call TriggerRegisterPlayerChatEvent(E4E,Player(9),"-FL",false)
call TriggerAddCondition(E4E,Condition(function B_R))
call TriggerAddAction(E4E,function B4R)
endfunction
function B6R takes nothing returns boolean
return(GetOwningPlayer(OSV)==GetTriggerPlayer())
endfunction
function B7R takes nothing returns boolean
return(GetEventPlayerChatString()=="-TWA")
endfunction
function B8R takes nothing returns boolean
return(GetEventPlayerChatString()=="-TWH")
endfunction
function B9R takes nothing returns boolean
return(GetEventPlayerChatString()=="-TWP")
endfunction
function CVR takes nothing returns boolean
return(GetEventPlayerChatString()=="-TWM")
endfunction
function CER takes nothing returns boolean
return(GetEventPlayerChatString()=="-TWL")
endfunction
function CXR takes nothing returns nothing
if(B7R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Selected Throwing Weapon crafting: Axes"))
set OTV=1
endif
if(B8R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Selected Throwing Weapon crafting: Halberd"))
set OTV=2
endif
if(B9R())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Selected Throwing Weapon crafting: Poison Spear"))
set OTV=3
endif
if(CVR())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Selected Throwing Weapon crafting: Hammer"))
set OTV=4
endif
if(CER())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Selected Throwing Weapon crafting: Light Spear"))
set OTV=5
endif
endfunction
function COR takes nothing returns nothing
set E6E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(E6E,Player(2),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(3),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(4),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(5),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(6),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(7),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(8),"-TW",false)
call TriggerRegisterPlayerChatEvent(E6E,Player(9),"-TW",false)
call TriggerAddCondition(E6E,Condition(function B6R))
call TriggerAddAction(E6E,function CXR)
endfunction
function CRR takes nothing returns boolean
return(GetSpellAbilityId()=='A0XO')
endfunction
function CIR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function CAR takes nothing returns boolean
return(OQV==1)
endfunction
function CNR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function CBR takes nothing returns boolean
return(OQV==2)
endfunction
function CCR takes nothing returns boolean
return(OQV==3)
endfunction
function CDR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function CFR takes nothing returns boolean
return(OQV==4)
endfunction
function CGR takes nothing returns boolean
return(OQV==5)
endfunction
function CHR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function CJR takes nothing returns boolean
return(OQV==6)
endfunction
function CKR takes nothing returns boolean
return(OQV==7)
endfunction
function CLR takes nothing returns boolean
return(OQV==8)
endfunction
function CMR takes nothing returns boolean
return(OQV==9)
endfunction
function CPR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())==1)
endfunction
function CQR takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function CSR takes nothing returns boolean
return(OQV==1)
endfunction
function CTR takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function CUR takes nothing returns boolean
return(OQV==2)
endfunction
function CWR takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function CYR takes nothing returns boolean
return(OQV==3)
endfunction
function CZR takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function C_R takes nothing returns boolean
return(OQV==4)
endfunction
function C0R takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function C1R takes nothing returns boolean
return(OQV==5)
endfunction
function C2R takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function C3R takes nothing returns boolean
return(OQV==6)
endfunction
function C4R takes nothing returns boolean
return(GetRandomInt(1,$A)<=9)
endfunction
function C5R takes nothing returns boolean
return(OQV==7)
endfunction
function C6R takes nothing returns boolean
return(GetRandomInt(1,$A)<=7)
endfunction
function C7R takes nothing returns boolean
return(OQV==8)
endfunction
function C8R takes nothing returns boolean
return(OQV==9)
endfunction
function C9R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())==2)
endfunction
function DVR takes nothing returns boolean
return(GetRandomInt(1,$A)<=4)
endfunction
function DER takes nothing returns boolean
return(OQV==1)
endfunction
function DXR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DOR takes nothing returns boolean
return(OQV==2)
endfunction
function DRR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DIR takes nothing returns boolean
return(OQV==3)
endfunction
function DAR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DNR takes nothing returns boolean
return(OQV==4)
endfunction
function DBR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DCR takes nothing returns boolean
return(OQV==5)
endfunction
function DDR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DFR takes nothing returns boolean
return(OQV==6)
endfunction
function DGR takes nothing returns boolean
return(OQV==7)
endfunction
function DHR takes nothing returns boolean
return(GetRandomInt(1,$A)<=6)
endfunction
function DJR takes nothing returns boolean
return(OQV==8)
endfunction
function DKR takes nothing returns boolean
return(OQV==9)
endfunction
function DLR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())==3)
endfunction
function DMR takes nothing returns boolean
return(OQV==1)
endfunction
function DPR takes nothing returns boolean
return(OQV==2)
endfunction
function DQR takes nothing returns boolean
return(OQV==3)
endfunction
function DSR takes nothing returns boolean
return(OQV==4)
endfunction
function DTR takes nothing returns boolean
return(OQV==5)
endfunction
function DUR takes nothing returns boolean
return(OQV==6)
endfunction
function DWR takes nothing returns boolean
return(OQV==7)
endfunction
function DYR takes nothing returns boolean
return(OQV==8)
endfunction
function DZR takes nothing returns boolean
return(OQV==9)
endfunction
function D_R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0XO',GetTriggerUnit())==4)
endfunction
function D0R takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(CPR())then
if(CAR())then
if(CIR())then
call UnitAddItemByIdSwapped('I07I',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07G',GetTriggerUnit())
endif
endif
if(CBR())then
if(CNR())then
call UnitAddItemByIdSwapped('I07L',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07J',GetTriggerUnit())
endif
endif
if(CCR())then
call UnitAddItemByIdSwapped('I07H',GetTriggerUnit())
endif
if(CFR())then
if(CDR())then
call UnitAddItemByIdSwapped('I07O',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07N',GetTriggerUnit())
endif
endif
if(CGR())then
call UnitAddItemByIdSwapped('I08K',GetTriggerUnit())
endif
if(CJR())then
if(CHR())then
call UnitAddItemByIdSwapped('I07M',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07K',GetTriggerUnit())
endif
endif
if(CKR())then
call UnitAddItemByIdSwapped('I07Q',GetTriggerUnit())
endif
if(CLR())then
call UnitAddItemByIdSwapped('I07R',GetTriggerUnit())
endif
if(CMR())then
call UnitAddItemByIdSwapped('I07P',GetTriggerUnit())
endif
endif
if(C9R())then
if(CSR())then
if(CQR())then
call UnitAddItemByIdSwapped('I07S',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07T',GetTriggerUnit())
endif
endif
if(CUR())then
if(CTR())then
call UnitAddItemByIdSwapped('I07V',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07U',GetTriggerUnit())
endif
endif
if(CYR())then
if(CWR())then
call UnitAddItemByIdSwapped('I07W',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07X',GetTriggerUnit())
endif
endif
if(C_R())then
if(CZR())then
call UnitAddItemByIdSwapped('I07Z',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07Y',GetTriggerUnit())
endif
endif
if(C1R())then
if(C0R())then
call UnitAddItemByIdSwapped('I08M',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I08L',GetTriggerUnit())
endif
endif
if(C3R())then
if(C2R())then
call UnitAddItemByIdSwapped('I080',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I081',GetTriggerUnit())
endif
endif
if(C5R())then
if(C4R())then
call UnitAddItemByIdSwapped('I08H',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I08I',GetTriggerUnit())
endif
endif
if(C7R())then
if(C6R())then
call UnitAddItemByIdSwapped('I08D',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I08E',GetTriggerUnit())
endif
endif
if(C8R())then
call UnitAddItemByIdSwapped('I08P',GetTriggerUnit())
endif
endif
if(DLR())then
if(DER())then
if(DVR())then
call UnitAddItemByIdSwapped('I07T',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I082',GetTriggerUnit())
endif
endif
if(DOR())then
if(DXR())then
call UnitAddItemByIdSwapped('I083',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07U',GetTriggerUnit())
endif
endif
if(DIR())then
if(DRR())then
call UnitAddItemByIdSwapped('I08B',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07X',GetTriggerUnit())
endif
endif
if(DNR())then
if(DAR())then
call UnitAddItemByIdSwapped('I087',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I07Y',GetTriggerUnit())
endif
endif
if(DCR())then
if(DBR())then
call UnitAddItemByIdSwapped('I08N',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I08L',GetTriggerUnit())
endif
endif
if(DFR())then
if(DDR())then
call UnitAddItemByIdSwapped('I089',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I081',GetTriggerUnit())
endif
endif
if(DGR())then
call UnitAddItemByIdSwapped('I08I',GetTriggerUnit())
endif
if(DJR())then
if(DHR())then
call UnitAddItemByIdSwapped('I08F',GetTriggerUnit())
else
call UnitAddItemByIdSwapped('I08E',GetTriggerUnit())
endif
endif
if(DKR())then
call UnitAddItemByIdSwapped('I08Q',GetTriggerUnit())
endif
endif
if(D_R())then
if(DMR())then
call UnitAddItemByIdSwapped('I085',GetTriggerUnit())
endif
if(DPR())then
call UnitAddItemByIdSwapped('I086',GetTriggerUnit())
endif
if(DQR())then
call UnitAddItemByIdSwapped('I0BQ',GetTriggerUnit())
endif
if(DSR())then
call UnitAddItemByIdSwapped('I088',GetTriggerUnit())
endif
if(DTR())then
call UnitAddItemByIdSwapped('I08O',GetTriggerUnit())
endif
if(DUR())then
call UnitAddItemByIdSwapped('I08A',GetTriggerUnit())
endif
if(DWR())then
call UnitAddItemByIdSwapped('I08J',GetTriggerUnit())
endif
if(DYR())then
call UnitAddItemByIdSwapped('I08G',GetTriggerUnit())
endif
if(DZR())then
call UnitAddItemByIdSwapped('I08R',GetTriggerUnit())
endif
endif
set OQV=GetRandomInt(1,9)
endfunction
function D1R takes nothing returns nothing
set E7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(E7E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(E7E,Condition(function CRR))
call TriggerAddAction(E7E,function D0R)
endfunction
function D2R takes nothing returns boolean
return(GetSpellAbilityId()=='A0XQ')
endfunction
function D3R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))
endfunction
function D4R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03U'))
endfunction
function D5R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I084'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))
endfunction
function D6R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'anfg'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03V'))
endfunction
function D7R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08Y'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))
endfunction
function D8R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08X'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04B'))
endfunction
function D9R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08W'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'scul'))
endfunction
function FVR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08V'))
endfunction
function FER takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bgst'))
endfunction
function FXR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I094'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04G'))
endfunction
function FOR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I093'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04A'))
endfunction
function FRR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I092'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'arsc'))
endfunction
function FIR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I091'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))
endfunction
function FAR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'sprn'))
endfunction
function FNR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I097'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I091'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08V'))
endfunction
function FBR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hval'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'sprn'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bgst'))
endfunction
function FCR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09A'))
endfunction
function FDR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00X'))
endfunction
function FFR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X'))
endfunction
function FGR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09E'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02D'))
endfunction
function FHR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00R'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))
endfunction
function FJR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07O'))
endfunction
function FKR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07N'))
endfunction
function FLR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07P'))and(GetBooleanOr(FJR(),FKR()))
endfunction
function FMR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I011'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ciri'))
endfunction
function FPR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09L'))
endfunction
function FQR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gemt'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09K'))
endfunction
function FSR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09J'))
endfunction
function FTR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09I'))
endfunction
function FUR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09H'))
endfunction
function FWR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03V'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'cnob'))
endfunction
function FYR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09Q'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05I'))
endfunction
function FZR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09P'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I089'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))
endfunction
function F_R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07D'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O'))
endfunction
function F0R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))
endfunction
function F1R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02B'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03U'))
endfunction
function F2R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'tmsc'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'crys'))
endfunction
function F3R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09Z'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09W'))
endfunction
function F4R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A7'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BT'))
endfunction
function F5R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A6'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0C2'))
endfunction
function F6R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A5'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03W'))
endfunction
function F7R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A4'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I'))
endfunction
function F8R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A3'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I003'))
endfunction
function F9R takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A2'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I005'))
endfunction
function GVR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0A1'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008'))
endfunction
function GER takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07G'))
endfunction
function GXR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I07I'))
endfunction
function GOR takes nothing returns boolean
return(GetBooleanOr(GER(),GXR()))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03U'))
endfunction
function GRR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I090'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I04C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DF'))
endfunction
function GIR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BX'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0HY'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08R'))
endfunction
function GAR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'hval'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'frhg'))
endfunction
function GNR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I08C'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JV'))
endfunction
function GBR takes nothing returns nothing
if(D6R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'anfg'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I084',GetTriggerUnit())
else
if(D5R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I084'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08T',GetTriggerUnit())
else
if(D4R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08S',GetTriggerUnit())
else
if(D3R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08U',GetTriggerUnit())
endif
endif
endif
endif
if(FER())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bgst'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08V',GetTriggerUnit())
else
if(FVR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08V'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08W',GetTriggerUnit())
else
if(D9R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'scul'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08X',GetTriggerUnit())
else
if(D8R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04B'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08Y',GetTriggerUnit())
else
if(D7R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I08Z',GetTriggerUnit())
endif
endif
endif
endif
endif
if(FAR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'sprn'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03V'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I091',GetTriggerUnit())
else
if(FIR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I091'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I092',GetTriggerUnit())
else
if(FRR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I092'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'arsc'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I093',GetTriggerUnit())
else
if(FOR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I093'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04A'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I094',GetTriggerUnit())
else
if(FXR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I094'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04G'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I095',GetTriggerUnit())
endif
endif
endif
endif
endif
if(FBR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'sprn'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hval'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bgst'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I097',GetTriggerUnit())
else
if(FNR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I091'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I097'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08V'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I098',GetTriggerUnit())
endif
endif
if(FDR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03U'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09A',GetTriggerUnit())
else
if(FCR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02C'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09B',GetTriggerUnit())
endif
endif
if(FMR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ciri'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I011'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09C',GetTriggerUnit())
else
if(FLR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09D',GetTriggerUnit())
else
if(FHR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09E',GetTriggerUnit())
else
if(FGR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02D'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09F',GetTriggerUnit())
else
if(FFR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09G',GetTriggerUnit())
endif
endif
endif
endif
endif
if(FWR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'cnob'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09H',GetTriggerUnit())
else
if(FUR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09H'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09I',GetTriggerUnit())
else
if(FTR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09J',GetTriggerUnit())
else
if(FSR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09J'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09K',GetTriggerUnit())
else
if(FQR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gemt'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09K'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09L',GetTriggerUnit())
else
if(FPR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09L'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09M',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
if(F1R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02B'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03U'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09N',GetTriggerUnit())
else
if(F0R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09O',GetTriggerUnit())
else
if(F_R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07D'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09P',GetTriggerUnit())
else
if(FZR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I089'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09Q',GetTriggerUnit())
else
if(FYR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09R',GetTriggerUnit())
endif
endif
endif
endif
endif
if(F2R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'tmsc'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'crys'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I09Z',GetTriggerUnit())
endif
if(F3R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I09W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A0',GetTriggerUnit())
endif
if(GOR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I07I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03U'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A1',GetTriggerUnit())
else
if(GVR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A2',GetTriggerUnit())
else
if(F9R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A2'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I005'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A3',GetTriggerUnit())
else
if(F8R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A3'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I003'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A4',GetTriggerUnit())
else
if(F7R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A4'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A5',GetTriggerUnit())
else
if(F6R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03W'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A6',GetTriggerUnit())
else
if(F5R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A6'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0C2'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0A7',GetTriggerUnit())
else
if(F4R())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0A7'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BT'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04T'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KE',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
endif
endif
if(GRR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I04C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0DF'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I090'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0K8',GetTriggerUnit())
endif
if(GIR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HY'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0BX'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0K9',GetTriggerUnit())
endif
if(GAR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'hval'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'frhg'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I099',GetTriggerUnit())
endif
if(GNR())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I08C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JV'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I0KA',GetTriggerUnit())
endif
endfunction
function GCR takes nothing returns nothing
set E8E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(E8E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(E8E,Condition(function D2R))
call TriggerAddAction(E8E,function GBR)
endfunction
function GDR takes nothing returns boolean
return(GetSpellAbilityId()=='A0XS')
endfunction
function GFR takes nothing returns boolean
return(OTV==1)
endfunction
function GGR takes nothing returns boolean
return(OTV==2)
endfunction
function GHR takes nothing returns boolean
return(OTV==3)
endfunction
function GJR takes nothing returns boolean
return(OTV==4)and(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)>3)
endfunction
function GKR takes nothing returns boolean
return(OTV==5)
endfunction
function GLR takes nothing returns boolean
return(OTV==4)and(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)<=3)
endfunction
function GMR takes nothing returns nothing
if(GFR())then
set OUV=(OUV+2)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Two axes has been created|r")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(GGR())then
set OWV=(OWV+1)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Halberd has been created|r")
call SetPlayerTechResearchedSwap('R01H',(GetPlayerTechCountSimple('R01H',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(GHR())then
set OYV=(OYV+1)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Poisonous Spear has been created|r")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
if(GJR())then
set OZV=(OZV+1)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Hammer has been created|r")
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,3)
endif
if(GKR())then
set O_V=(O_V+1)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Light Spear has been created|r")
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(GLR())then
set OZV=(OZV+1)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(OSV)),"|CFF20C000Hammer has been created|r")
endif
endfunction
function GPR takes nothing returns nothing
set E9E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(E9E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(E9E,Condition(function GDR))
call TriggerAddAction(E9E,function GMR)
endfunction
function GQR takes nothing returns boolean
return(GetSpellAbilityId()=='A0XT')
endfunction
function GSR takes nothing returns boolean
return(OUV<0)
endfunction
function GTR takes nothing returns boolean
return(OYV<0)
endfunction
function GUR takes nothing returns boolean
return(OWV<0)
endfunction
function GWR takes nothing returns boolean
return(OZV<0)
endfunction
function GYR takes nothing returns boolean
return(O_V<0)
endfunction
function GZR takes nothing returns nothing
call UnitAddAbilityBJ('A0XU',OSV)
call SetUnitAbilityLevelSwapped('A0XU',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())+GetUnitAbilityLevelSwapped('A0XT',GetTriggerUnit())))
call UnitAddAbilityBJ('A0XX',OSV)
call SetUnitAbilityLevelSwapped('A0XX',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())+GetUnitAbilityLevelSwapped('A0XT',GetTriggerUnit())))
call UnitAddAbilityBJ('A0XY',OSV)
call SetUnitAbilityLevelSwapped('A0XY',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())+GetUnitAbilityLevelSwapped('A0XT',GetTriggerUnit())))
call UnitAddAbilityBJ('A0XW',OSV)
call SetUnitAbilityLevelSwapped('A0XW',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())+GetUnitAbilityLevelSwapped('A0XT',GetTriggerUnit())))
call UnitAddAbilityBJ('A0XV',OSV)
call SetUnitAbilityLevelSwapped('A0XV',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())+GetUnitAbilityLevelSwapped('A0XT',GetTriggerUnit())))
call StartTimerBJ(O2V,false,(I2R(OUV)*.2))
call StartTimerBJ(O3V,false,(I2R(OWV)*1.))
call StartTimerBJ(O4V,false,(I2R(OYV)*.35))
call StartTimerBJ(O6V,false,(I2R(O_V)*.4))
call StartTimerBJ(O5V,false,(I2R(OZV)*.6))
set OUV=(OUV-GetRandomInt((18-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())),(22-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit()))))
set OYV=(OYV-GetRandomInt(($A-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())),(16-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit()))))
set OWV=(OWV-GetRandomInt(($A-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())),(16-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit()))))
set OZV=(OZV-GetRandomInt(($A-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())),(16-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit()))))
set O_V=(O_V-GetRandomInt(($A-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit())),(16-GetUnitAbilityLevelSwapped('A0XS',GetTriggerUnit()))))
if(GSR())then
set OUV=0
endif
if(GTR())then
set OYV=0
endif
if(GUR())then
set OWV=0
endif
if(GWR())then
set OZV=0
endif
if(GYR())then
set O_V=0
endif
endfunction
function G_R takes nothing returns nothing
set XVE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XVE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XVE,Condition(function GQR))
call TriggerAddAction(XVE,function GZR)
endfunction
function G0R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0XU',OSV)
endfunction
function G1R takes nothing returns nothing
set XEE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XEE,O2V)
call TriggerAddAction(XEE,function G0R)
endfunction
function G2R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0XW',OSV)
endfunction
function G3R takes nothing returns nothing
set XXE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XXE,O3V)
call TriggerAddAction(XXE,function G2R)
endfunction
function G4R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0XY',OSV)
endfunction
function G5R takes nothing returns nothing
set XOE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XOE,O4V)
call TriggerAddAction(XOE,function G4R)
endfunction
function G6R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0XX',OSV)
endfunction
function G7R takes nothing returns nothing
set XRE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XRE,O5V)
call TriggerAddAction(XRE,function G6R)
endfunction
function G8R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0XV',OSV)
endfunction
function G9R takes nothing returns nothing
set XIE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XIE,O6V)
call TriggerAddAction(XIE,function G8R)
endfunction
function HVR takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function HER takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0BF'))
endfunction
function HXR takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function HOR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0BD'))
endfunction
function HRR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function HIR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0BE'))
endfunction
function HAR takes nothing returns nothing
if(HER())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*1.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*1))),XVV,10.,8.,'d',100.,.0,20.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
call RemoveLocation(XVV)
endif
if(HOR())then
if(HXR())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*5.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*5))),XVV,10.,10.,'d',100.,.0,20.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),100.,90)
call RemoveLocation(XVV)
endif
endif
if(HIR())then
if(HRR())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*8.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*8))),XVV,10.,12.,'d',100.,.0,20.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),80.,90)
call RemoveLocation(XVV)
endif
endif
endfunction
function HNR takes nothing returns nothing
set XAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XAE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XAE,Condition(function HVR))
call TriggerAddAction(XAE,function HAR)
endfunction
function HBR takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function HCR takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function HDR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BL'))
endfunction
function HFR takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B03S'))
endfunction
function HGR takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function HHR takes nothing returns boolean
return(GetUnitLevel(GetAttacker())>16)
endfunction
function HJR takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function HKR takes nothing returns boolean
return(GetBooleanOr(HGR(),HHR()))and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.4))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function HLR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BN'))
endfunction
function HMR takes nothing returns boolean
return(GetRandomInt(1,$A)<=3)
endfunction
function HPR takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()))>=300)
endfunction
function HQR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I09G'))
endfunction
function HSR takes nothing returns nothing
if(HDR())then
if(HCR())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))+I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(HFR())then
call UnitAddAbilityBJ('A0AB',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0AB',GetTriggerUnit(),4)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(HLR())then
if(HKR())then
if(HJR())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+600.))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(HQR())then
if(HPR())then
if(HMR())then
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-300.))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+2000.))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endfunction
function HTR takes nothing returns nothing
set XNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XNE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XNE,Condition(function HBR))
call TriggerAddAction(XNE,function HSR)
endfunction
function HUR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y7')
endfunction
function HWR takes nothing returns boolean
return(GetSpellAbilityId()=='A0XR')
endfunction
function HYR takes nothing returns boolean
return(GetRandomInt(GetUnitAbilityLevelSwapped('A0XR',GetTriggerUnit()),$A)==GetUnitAbilityLevelSwapped('A0XR',GetTriggerUnit()))
endfunction
function HZR takes nothing returns nothing
if(HUR())then
set O7V=GetTriggerUnit()
endif
if(HWR())then
if(HYR())then
call SetPlayerTechResearchedSwap('R01I',(GetPlayerTechCountSimple('R01I',GetOwningPlayer(GetTriggerUnit()))+3),GetOwningPlayer(GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Bonus!",GetUnitLoc(GetTriggerUnit()),10.,13.,100.,10.,70.,3.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),240.,90)
else
call SetPlayerTechResearchedSwap('R01I',(GetPlayerTechCountSimple('R01I',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endfunction
function H_R takes nothing returns nothing
set XBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XBE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(XBE,function HZR)
endfunction
function H0R takes nothing returns boolean
return(GetSpellAbilityId()=='A04N')
endfunction
function H1R takes nothing returns nothing
call TriggerSleepAction(1.)
call UnitRemoveBuffBJ('B014',X4V)
call UnitRemoveBuffBJ('B014',OMV)
call UnitRemoveBuffBJ('B00J',X4V)
call UnitRemoveBuffBJ('B00J',OMV)
call UnitRemoveBuffBJ('B02J',X4V)
call UnitRemoveBuffBJ('B02J',OMV)
call UnitRemoveBuffBJ('B03H',X4V)
call UnitRemoveBuffBJ('BPSE',X4V)
call UnitRemoveBuffBJ('B03H',OMV)
call UnitRemoveBuffBJ('BPSE',OMV)
endfunction
function H2R takes nothing returns nothing
set XCE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XCE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XCE,Condition(function H0R))
call TriggerAddAction(XCE,function H1R)
endfunction
function H3R takes nothing returns boolean
return(GetSpellAbilityId()=='A0XZ')
endfunction
function H4R takes nothing returns boolean
return(GetSpellAbilityId()=='A0YQ')
endfunction
function Trig_Rain_of_Fire_Func001002003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(DH)))
endfunction
function Trig_Rain_of_Fire_Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Rain_of_Fire_Func001002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Rain_of_Fire_Func001002003002002002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function Trig_Rain_of_Fire_Func001002003002002 takes nothing returns boolean
return GetBooleanAnd(WQO(),WSO())
endfunction
function Trig_Rain_of_Fire_Func001002003002 takes nothing returns boolean
return GetBooleanAnd(WPO(),WTO())
endfunction
function Trig_Rain_of_Fire_Func001002003 takes nothing returns boolean
return GetBooleanAnd(WMO(),WUO())
endfunction
function Trig_Rain_of_Fire_Func001002004 takes nothing returns boolean
return GetUnitState(B1,UNIT_STATE_LIFE)>=1
endfunction
function H5R takes nothing returns boolean
return GetBooleanAnd(WWO(),WYO())
endfunction
function H6R takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),26)
call UnitDamageTargetBJ(B1,GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function H7R takes nothing returns boolean
return(GetSpellAbilityId()=='A1UB')
endfunction
function H8R takes nothing returns nothing
call UnitDamageTargetBJ(B1,GetEnumUnit(),((JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*(1.5*GetUnitAbilityLevelSwapped('A1UB',B1)))+(((GetHeroStatBJ(bj_HEROSTAT_INT,B1,true))+(GetHeroStatBJ(bj_HEROSTAT_AGI,B1,true))+(GetHeroStatBJ(bj_HEROSTAT_STR,B1,true)))*(.5*GetUnitAbilityLevelSwapped('A1UB',B1))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function H9R takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(B1)))
endfunction
function Trig_Rain_of_Fire_Func002002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function JVR takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function JER takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function JXR takes nothing returns boolean
return GetBooleanAnd(JVR(),JER())
endfunction
function JOR takes nothing returns boolean
return GetBooleanAnd(WPO(),JXR())
endfunction
function JRR takes nothing returns boolean
return GetBooleanAnd(H9R(),JOR())
endfunction
function JIR takes nothing returns nothing
if(H3R())then
set B1=GetTriggerUnit()
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellAbilityUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0Y1',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0Y1',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0XZ',GetTriggerUnit()))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",GetSpellTargetLoc())
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set AF=AF+1
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(B1)),"|CFF20C000Cast "+I2S(AF)+"/5|r")
if AF==5 then
set XVV=GetSpellTargetLoc()
set XEV=GetUnitsInRangeOfLocMatching(400.,XVV,Condition(function H5R))
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function H6R)
call DestroyGroup(XEV)
set AF=0
endif
endif
if(H4R())then
set RCV=GetTriggerUnit()
call UnitAddAbilityBJ('A0YR',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0YR',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0YQ',GetTriggerUnit()))
call UnitAddAbilityBJ('A0YS',GetTriggerUnit())
call StartTimerBJ(RDV,false,22.)
endif
if(H7R())then
set B1=GetTriggerUnit()
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u015',GetOwningPlayer(B1),XVV,bj_UNIT_FACING)
set PH=GetLastCreatedUnit()
call AddSpecialEffectLocBJ(GetUnitLoc(PH),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(PH),"war3mapImported\\FrostNova.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ShowUnitHide(PH)
call UnitAddAbilityBJ('A1UJ',PH)
call SetUnitAbilityLevelSwapped('A1UJ',PH,GetUnitAbilityLevelSwapped('A1UB',B1))
call UnitAddAbilityBJ('S01H',PH)
call SetUnitAbilityLevelSwapped('S01H',PH,GetUnitAbilityLevelSwapped('A1UB',B1))
call UnitApplyTimedLifeBJ(4.+GetUnitAbilityLevelSwapped('A1UB',B1),'BTLF',PH)
call IssueImmediateOrderById(PH,$D009F)
set XEV=GetUnitsInRangeOfLocMatching(250.+(50*GetUnitAbilityLevelSwapped('A1UB',B1)),XVV,Condition(function JRR))
call ForGroupBJ(XEV,function H8R)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set PH=null
endif
endfunction
function JAR takes nothing returns nothing
set XDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XDE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(XDE,function JIR)
endfunction
function JNR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0YR',RCV)
call UnitRemoveAbilityBJ('A0YS',RCV)
endfunction
function JBR takes nothing returns nothing
set XFE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XFE,RDV)
call TriggerAddAction(XFE,function JNR)
endfunction
function JCR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0C3'))
endfunction
function JDR takes nothing returns boolean
return(RXV==24)
endfunction
function JFR takes nothing returns boolean
return(RXV==23)
endfunction
function JGR takes nothing returns boolean
return(RXV==22)
endfunction
function JHR takes nothing returns boolean
return(RXV==21)
endfunction
function JJR takes nothing returns boolean
return(RXV==20)
endfunction
function JKR takes nothing returns boolean
return(RXV==19)
endfunction
function JLR takes nothing returns boolean
return(RXV==18)
endfunction
function JMR takes nothing returns boolean
return(RXV==17)
endfunction
function JPR takes nothing returns boolean
return(RXV==16)
endfunction
function JQR takes nothing returns boolean
return(RXV==$F)
endfunction
function JSR takes nothing returns boolean
return(RXV==$E)
endfunction
function JTR takes nothing returns boolean
return(RXV==$D)
endfunction
function JUR takes nothing returns boolean
return(RXV==$C)
endfunction
function JWR takes nothing returns boolean
return(RXV==$B)
endfunction
function JYR takes nothing returns boolean
return(RXV==$A)
endfunction
function JZR takes nothing returns boolean
return(RXV==9)
endfunction
function J_R takes nothing returns boolean
return(RXV==8)
endfunction
function J0R takes nothing returns boolean
return(RXV==7)
endfunction
function J1R takes nothing returns boolean
return(RXV==6)
endfunction
function J2R takes nothing returns boolean
return(RXV==5)
endfunction
function J3R takes nothing returns boolean
return(RXV==4)
endfunction
function J4R takes nothing returns boolean
return(RXV==3)
endfunction
function J5R takes nothing returns boolean
return(RXV==2)
endfunction
function J6R takes nothing returns boolean
return(GetTriggerUnit()==ROV)
endfunction
function J7R takes nothing returns nothing
if(J6R())then
set RXV=(RXV+1)
if(J5R())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A10M',IYV)
else
if(J4R())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(J3R())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10M',IYV)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
else
if(J2R())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitAddAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A10O',IYV)
else
if(J1R())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10M',IYV)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
else
if(J0R())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitAddAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(J_R())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10M',IYV)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
else
if(JZR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A0YG',GetTriggerUnit())
call UnitAddAbilityBJ('A10P',IYV)
else
if(JYR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A0YG',GetTriggerUnit())
else
if(JWR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A10M',IYV)
else
if(JUR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(JTR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A10M',IYV)
else
if(JSR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
call UnitAddAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A10O',IYV)
else
if(JQR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A0YD',GetTriggerUnit())
call UnitAddAbilityBJ('A10M',IYV)
else
if(JPR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(JMR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A10P',IYV)
call UnitRemoveAbilityBJ('A0YD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YF',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YG',GetTriggerUnit())
call UnitAddAbilityBJ('A10Q',IYV)
call UnitAddAbilityBJ('A0YH',GetTriggerUnit())
else
if(JLR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(JKR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A10O',IYV)
else
if(JJR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(JHR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A0YF',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitAddAbilityBJ('A0YG',GetTriggerUnit())
call UnitAddAbilityBJ('A10P',IYV)
else
if(JGR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
else
if(JFR())then
call StartTimerBJ(RRV,false,15.)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A0YE',GetTriggerUnit())
call UnitAddAbilityBJ('A0YF',GetTriggerUnit())
call UnitAddAbilityBJ('A10O',IYV)
else
if(JDR())then
call StartTimerBJ(RRV,false,15.)
call UnitAddAbilityBJ('A10N',IYV)
call UnitAddAbilityBJ('A0YE',GetTriggerUnit())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call UnitRemoveAbilityBJ('A0YD',ROV)
call UnitRemoveAbilityBJ('A0YE',ROV)
call UnitRemoveAbilityBJ('A0YF',ROV)
call UnitRemoveAbilityBJ('A0YG',ROV)
call UnitRemoveAbilityBJ('A0YH',ROV)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A10P',IYV)
call UnitRemoveAbilityBJ('A10Q',IYV)
set ROV=GetTriggerUnit()
set IYV=GetAttacker()
set RXV=1
endif
endfunction
function J8R takes nothing returns nothing
set XGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XGE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XGE,Condition(function JCR))
call TriggerAddAction(XGE,function J7R)
endfunction
function J9R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0YD',ROV)
call UnitRemoveAbilityBJ('A0YE',ROV)
call UnitRemoveAbilityBJ('A0YF',ROV)
call UnitRemoveAbilityBJ('A0YG',ROV)
call UnitRemoveAbilityBJ('A0YH',ROV)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A10P',IYV)
call UnitRemoveAbilityBJ('A10Q',IYV)
set RXV=1
endfunction
function KVR takes nothing returns nothing
set XHE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(XHE,RRV)
call TriggerAddAction(XHE,function J9R)
endfunction
function KER takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0C3')
endfunction
function KXR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0YD',ROV)
call UnitRemoveAbilityBJ('A0YE',ROV)
call UnitRemoveAbilityBJ('A0YF',ROV)
call UnitRemoveAbilityBJ('A0YG',ROV)
call UnitRemoveAbilityBJ('A0YH',ROV)
call UnitRemoveAbilityBJ('A10M',IYV)
call UnitRemoveAbilityBJ('A10N',IYV)
call UnitRemoveAbilityBJ('A10O',IYV)
call UnitRemoveAbilityBJ('A10P',IYV)
call UnitRemoveAbilityBJ('A10Q',IYV)
set RXV=1
endfunction
function KOR takes nothing returns nothing
set XJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XJE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(XJE,Condition(function KER))
call TriggerAddAction(XJE,function KXR)
endfunction
function KRR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0C6'))
endfunction
function KIR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<='d')
endfunction
function KAR takes nothing returns nothing
if(KIR())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),200000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function KNR takes nothing returns nothing
set XKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XKE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XKE,Condition(function KRR))
call TriggerAddAction(XKE,function KAR)
endfunction
function KBR takes nothing returns boolean
return(GetSpellAbilityId()=='A0YY')
endfunction
function KCR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function KDR takes nothing returns nothing
set HG=GetRandomInt(1,'d')
if HG<=70 then
set RLV=GetTriggerUnit()
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
endif
if HG<=90 and HG>70 then
set RLV=GetTriggerUnit()
set RGV=(RGV+2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+2 Souls.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
endif
if HG<='d' and HG>90 then
set RLV=GetTriggerUnit()
set RGV=(RGV+4)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+4 Souls.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
endif
if(KCR())then
if HG<=70 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
if HG<=90 and HG>70 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
if HG<='d' and HG>90 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
endif
set HG=0
endfunction
function KFR takes nothing returns nothing
set XLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XLE,Condition(function KBR))
call TriggerAddAction(XLE,function KDR)
endfunction
function KGR takes nothing returns boolean
return(GetRandomInt(1,$82)<=(N2V+2))
endfunction
function KHR takes nothing returns boolean
return(GetRandomInt(1,'x')<=(N2V+2))
endfunction
function KJR takes nothing returns boolean
return(GetRandomInt(1,'x')<=N2V)
endfunction
function KKR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=98)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function KLR takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='n04O')and(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitIllusionBJ(GetTriggerUnit())==false))!=null
endfunction
function KMR takes nothing returns nothing
if(KKR())then
if(KJR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HP',XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
else
if(KHR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DI',XVV)
call RemoveLocation(XVV)
set DJ=1
call DisableTrigger(GetTriggeringTrigger())
else
if(KGR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DG',XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
set N2V=(N2V+1)
endif
if(KLR())then
call ExecuteFunc("HXX")
endif
endfunction
function KPR takes nothing returns nothing
set XME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XME,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(XME,function KMR)
endfunction
function KQR takes nothing returns boolean
return(GetOwningPlayer(RLV)==GetTriggerPlayer())
endfunction
function KSR takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("You have "+(I2S(RGV)+" Souls")))
endfunction
function KTR takes nothing returns nothing
set XPE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(XPE,Player(2),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(3),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(4),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(5),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(6),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(7),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(8),"-QS",true)
call TriggerRegisterPlayerChatEvent(XPE,Player(9),"-QS",true)
call TriggerAddCondition(XPE,Condition(function KQR))
call TriggerAddAction(XPE,function KSR)
endfunction
function KUR takes nothing returns boolean
return(GetSpellAbilityId()=='A0YZ')
endfunction
function KWR takes nothing returns boolean
return(RGV-CJ<1)
endfunction
function KYR takes nothing returns nothing
if(KWR())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Souls.",XVV,10.,10.,40.,40.,80.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
call RemoveLocation(XVV)
endif
endfunction
function KZR takes nothing returns nothing
set RME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RME,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(RME,Condition(function KUR))
call TriggerAddAction(RME,function KYR)
endfunction
function K_R takes nothing returns boolean
return(GetSpellAbilityId()=='A0YZ')
endfunction
function K0R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function K1R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function K2R takes nothing returns boolean
return(IsUnitDeadBJ(GetSpellTargetUnit()))
endfunction
function K3R takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(RGV)*32.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped('A0YZ',GetTriggerUnit()))+1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S(((RGV*32)+((GetUnitAbilityLevelSwapped('A0YZ',GetTriggerUnit())+1)*GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)))),XVV,10.,13.,20.,20.,90.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
set RGV=(RGV-1)
if(K0R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,1)
endif
if(K2R())then
set RGV=(RGV+1)
if(K1R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
endif
endfunction
function K4R takes nothing returns nothing
set RPE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RPE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RPE,Condition(function K_R))
call TriggerAddAction(RPE,function K3R)
endfunction
function K5R takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z0')
endfunction
function K6R takes nothing returns boolean
return(RGV-CJ<3)
endfunction
function K7R takes nothing returns nothing
if(K6R())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Souls.",XVV,10.,10.,40.,40.,80.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
call RemoveLocation(XVV)
endif
endfunction
function K8R takes nothing returns nothing
set RQE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RQE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(RQE,Condition(function K5R))
call TriggerAddAction(RQE,function K7R)
endfunction
function K9R takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z0')
endfunction
function LVR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function LER takes nothing returns boolean
return(RGV-CJ>=3)
endfunction
function LXR takes nothing returns nothing
if(LER())then
set RHV=(RGV*3)
set RKV=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,RHV)
call SetUnitVertexColorBJ(GetTriggerUnit(),10.,10.,10.,0)
call StartTimerBJ(RJV,false,(3.+(3.*I2R(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())))))
call StartTimerBJ(AMV,false,(.0+(3.*I2R(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())))))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(RHV),XVV,10.,16.,90.,10.,10.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set RGV=(RGV-3)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
if(LVR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,3)
endif
endif
endfunction
function LOR takes nothing returns nothing
set RSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RSE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RSE,Condition(function K9R))
call TriggerAddAction(RSE,function LXR)
endfunction
function LRR takes nothing returns nothing
set XVV=GetUnitLoc(RKV)
call CreateTextTagLocBJ("Sinister Pact effect will end in 3 seconds.",XVV,10.,10.,55.,55.,90.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endfunction
function LIR takes nothing returns nothing
set RTE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(RTE,AMV)
call TriggerAddAction(RTE,function LRR)
endfunction
function LAR takes nothing returns nothing
call EnableTrigger(RSE)
call ModifyHeroStat(bj_HEROSTAT_STR,RKV,bj_MODIFYMETHOD_SUB,RHV)
call SetUnitLifeBJ(RKV,(GetUnitStateSwap(UNIT_STATE_LIFE,RKV)+(RHV*5)))
call SetUnitVertexColorBJ(RKV,100.,100.,100.,0)
endfunction
function LNR takes nothing returns nothing
set RUE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(RUE,RJV)
call TriggerAddAction(RUE,function LAR)
endfunction
function LBR takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0Z0')
endfunction
function LCR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())==5)
endfunction
function LDR takes nothing returns nothing
if(LCR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,RGV)
endif
endfunction
function LFR takes nothing returns nothing
set RWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RWE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(RWE,Condition(function LBR))
call TriggerAddAction(RWE,function LDR)
endfunction
function LGR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z1')
endfunction
function LHR takes nothing returns boolean
return(RGV-CJ<4)
endfunction
function LJR takes nothing returns nothing
if(LHR())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Souls.",XVV,10.,10.,40.,40.,80.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
call RemoveLocation(XVV)
endif
endfunction
function LKR takes nothing returns nothing
set RYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RYE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(RYE,Condition(function LGR))
call TriggerAddAction(RYE,function LJR)
endfunction
function LLR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z1')
endfunction
function LMR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function LPR takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(15.*(I2R(GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit()))*I2R(RGV))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function LQR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function LSR takes nothing returns nothing
set XVV=GetSpellTargetLoc()
set XEV=GetUnitsInRangeOfLocMatching(530.,XVV,Condition(function LMR))
call ForGroupBJ(XEV,function LPR)
call DestroyGroup(XEV)
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())*($F*RGV))+400)),XVV,10.,15.,10.,10.,98.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set RGV=(RGV-4)
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,22.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,68.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,112.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,158.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,202.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,247.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,293.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,338.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,338.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,293.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,247.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,202.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,158.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,112.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,68.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,22.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
if(LQR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,4)
endif
endfunction
function LTR takes nothing returns nothing
set RZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RZE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RZE,Condition(function LLR))
call TriggerAddAction(RZE,function LSR)
endfunction
function LUR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())>0)
endfunction
function LWR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function LYR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function LZR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==1)
endfunction
function L_R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function L0R takes nothing returns boolean
return(GetRandomInt(1,$A)==9)
endfunction
function L1R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function L2R takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function L3R takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function L4R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==2)
endfunction
function L5R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function L6R takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function L7R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function L8R takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function L9R takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function MVR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==3)
endfunction
function MER takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MXR takes nothing returns boolean
return(GetRandomInt(1,5)==4)
endfunction
function MOR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MRR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function MIR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function MAR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==4)
endfunction
function MNR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MBR takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function MCR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MDR takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function MFR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<6)
endfunction
function MGR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MHR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function MJR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function MKR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==5)
endfunction
function MLR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MMR takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function MPR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MQR takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function MSR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<6)
endfunction
function MTR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function MUR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function MWR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function MYR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==6)
endfunction
function MZR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function M_R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function M0R takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function M1R takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<17)
endfunction
function M2R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function M3R takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function M4R takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<6)
endfunction
function M5R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function M6R takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function M7R takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function M8R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==7)
endfunction
function M9R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PVR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PER takes nothing returns boolean
return(GetRandomInt(1,6)<=3)
endfunction
function PXR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<17)
endfunction
function POR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PRR takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PIR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<6)
endfunction
function PAR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PNR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function PBR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function PCR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==8)
endfunction
function PDR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PFR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PGR takes nothing returns boolean
return(GetRandomInt(1,7)<=4)
endfunction
function PHR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<17)
endfunction
function PJR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PKR takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PLR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<6)
endfunction
function PMR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetKillingUnitBJ())>=5)
endfunction
function PPR takes nothing returns boolean
return(GetRandomInt(1,$F)==9)
endfunction
function PQR takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<2)
endfunction
function PSR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z2',GetKillingUnitBJ())==9)
endfunction
function PTR takes nothing returns nothing
if(LZR())then
if(LYR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(LWR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
if(L4R())then
if(L3R())then
if(L2R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(L1R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(L0R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(L_R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
if(MVR())then
if(L9R())then
if(L8R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(L7R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(L6R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(L5R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
if(MAR())then
if(MIR())then
if(MRR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MOR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(MXR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MER())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
if(MKR())then
if(MJR())then
if(MHR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MGR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(MFR())then
if(MDR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MCR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(MBR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MNR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
endif
if(MYR())then
if(MWR())then
if(MUR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MTR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(MSR())then
if(MQR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MPR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(MMR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MLR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
endif
if(M8R())then
if(M7R())then
if(M6R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(M5R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(M4R())then
if(M3R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(M2R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(M1R())then
if(M0R())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(M_R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(MZR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
endif
if(PCR())then
if(PBR())then
if(PNR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PAR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(PIR())then
if(PRR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(POR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(PXR())then
if(PER())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PVR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(M9R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
endif
if(PSR())then
if(PQR())then
if(PPR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PMR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(PLR())then
if(PKR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PJR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
if(PHR())then
if(PGR())then
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PFR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
else
set RGV=(RGV+1)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ("+1 Soul.",XVV,10.,10.,10.,100.,10.,5.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call RemoveLocation(XVV)
if(PDR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
endif
endif
endif
endfunction
function PUR takes nothing returns nothing
set R_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R_E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(R_E,Condition(function LUR))
call TriggerAddAction(R_E,function PTR)
endfunction
function PWR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z2')
endfunction
function PYR takes nothing returns boolean
return(RGV-CJ<1)
endfunction
function PZR takes nothing returns nothing
if(PYR())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Souls.",XVV,10.,10.,40.,40.,80.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
call RemoveLocation(XVV)
endif
endfunction
function P_R takes nothing returns nothing
set R0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R0E,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(R0E,Condition(function PWR))
call TriggerAddAction(R0E,function PZR)
endfunction
function P0R takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z2')
endfunction
function P1R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function P2R takes nothing returns boolean
return(RGV-CJ>=2)
endfunction
function P3R takes nothing returns nothing
if(P2R())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25)+(I2R(GetUnitAbilityLevelSwapped('A0Z2',GetTriggerUnit()))*(5.*I2R(RGV))))))
set RGV=(RGV-2)
if(P1R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,2)
endif
endif
endfunction
function P4R takes nothing returns nothing
set R1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R1E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(R1E,Condition(function P0R))
call TriggerAddAction(R1E,function P3R)
endfunction
function P5R takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function P6R takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function P7R takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function P8R takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function P9R takes nothing returns boolean
return GetBooleanAnd(P7R(),P8R())
endfunction
function QVR takes nothing returns boolean
return GetBooleanAnd(P6R(),P9R())
endfunction
function QER takes nothing returns boolean
return GetBooleanAnd(P5R(),QVR())
endfunction
function QXR takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function QOR takes nothing returns boolean
return GetBooleanAnd(QER(),QXR())
endfunction
function QRR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),90*GetUnitAbilityLevelSwapped('S01J',GetAttacker()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QIR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),300,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QAR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),420,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QNR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),500,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QBR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),500+(3*RGV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QCR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),600+(6*RGV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QDR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),800+(6*RGV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QFR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),$5DC+(40*RGV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QGR takes nothing returns boolean
return UnitDamageTargetBJ(GetAttacker(),GetEnumUnit(),$5DC+(70*RGV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QHR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==1)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QJR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==2)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QKR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==3)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QLR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==4)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QMR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==5)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QPR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==6)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QQR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==7)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QSR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==8)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QTR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==9)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetUnitLevel(GetAttacker())<28)and(GetRandomInt(1,40)<6)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QUR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S01J',GetAttacker())==9)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetUnitLevel(GetAttacker())>=28)and(GetRandomInt(1,40)<6)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function QWR takes nothing returns nothing
set XVV=GetUnitLoc(QF)
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,120.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,22.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,68.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,112.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,158.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,202.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,247.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,293.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,250.,338.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,338.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,315.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,293.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,270.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,247.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,225.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,202.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,180.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,158.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,135.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,112.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,90.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,68.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,45.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,22.),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,390.,.0),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
set QF=null
endfunction
function QYR takes nothing returns nothing
if(QHR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(400.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QRR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QJR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(400.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QRR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QKR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(400.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QIR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QLR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(450.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QAR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QMR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(450.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QNR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QPR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(450.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QBR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QQR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(500.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QCR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QSR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(500.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QDR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QTR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(500.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QFR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
if(QUR())then
set XVV=GetUnitLoc(GetAttacker())
set QF=GetAttacker()
set XEV=GetUnitsInRangeOfLocMatching(500.,XVV,Condition(function QOR))
call RemoveLocation(XVV)
call ForGroup(XEV,function QGR)
call DestroyGroup(XEV)
call ExecuteFunc("QWR")
endif
endfunction
function QZR takes nothing returns nothing
local trigger Q_R
set Q_R=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Q_R,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(Q_R,function QYR)
endfunction
function Q0R takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1VN')
endfunction
function Q1R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function Q2R takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function Q3R takes nothing returns nothing
if(Q2R())then
set RGV=(RGV+25)
if(Q1R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,25)
endif
endif
endfunction
function Q4R takes nothing returns nothing
set R2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R2E,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(R2E,Condition(function Q0R))
call TriggerAddAction(R2E,function Q3R)
endfunction
function Q5R takes nothing returns boolean
return(GetSpellAbilityId()=='A1VN')and(CJ==0)
endfunction
function Q6R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function Q7R takes nothing returns boolean
return(RGV<20)
endfunction
function Q8R takes nothing returns boolean
return(RGV>=20)
endfunction
function Q9R takes nothing returns nothing
if(Q7R())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Souls.",XVV,10.,10.,40.,40.,80.,15.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
call RemoveLocation(XVV)
endif
if(Q8R())then
set RGV=RGV-20
set RKV=GetTriggerUnit()
set CJ=RGV
set RGV=RGV+CJ
call StartTimerBJ(RMV,false,(6+(2*GetUnitAbilityLevelSwapped('A1VN',GetTriggerUnit()))))
if(Q6R())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,20)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,CJ)
endif
endif
endfunction
function SVR takes nothing returns nothing
local trigger SER
set SER=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SER,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(SER,Condition(function Q5R))
call TriggerAddAction(SER,function Q9R)
endfunction
function SXR takes nothing returns nothing
call UnitRemoveAbilityBJ('A0Z4',RLV)
set RGV=RGV-CJ
if GetUnitAbilityLevelSwapped('A0Z0',RKV)>=5then
call ModifyHeroStat(bj_HEROSTAT_STR,RKV,bj_MODIFYMETHOD_SUB,CJ)
endif
set CJ=0
endfunction
function SOR takes nothing returns nothing
set R3E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(R3E,RMV)
call TriggerAddAction(R3E,function SXR)
endfunction
function SRR takes nothing returns boolean
return(GetTriggerUnit()==RLV)
endfunction
function SIR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function SAR takes nothing returns nothing
if(SIR())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endfunction
function SNR takes nothing returns nothing
set R4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R4E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(R4E,Condition(function SRR))
call TriggerAddAction(R4E,function SAR)
endfunction
function SBR takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,RPV,bj_MODIFYMETHOD_SUB,RSV)
call AddSpecialEffectTargetUnitBJ("overhead",RPV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitScalePercent(RPV,100.,100.,100.)
set JVV=2
endfunction
function SCR takes nothing returns nothing
set R5E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(R5E,RQV)
call TriggerAddAction(R5E,function SBR)
endfunction
function SDR takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,JDV,bj_MODIFYMETHOD_SUB,JGV)
call AddSpecialEffectTargetUnitBJ("overhead",JDV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set JHV=2
endfunction
function SFR takes nothing returns nothing
set R6E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(R6E,JJV)
call TriggerAddAction(R6E,function SDR)
endfunction
function SGR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z9',GetTriggerUnit())>=1)
endfunction
function SHR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function SJR takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function SKR takes nothing returns boolean
return GetBooleanAnd(SHR(),SJR())
endfunction
function SLR takes nothing returns boolean
return(GetRandomInt(1,'d')<=(2+(GetUnitAbilityLevelSwapped('A0Z9',GetTriggerUnit())*6)))
endfunction
function SMR takes nothing returns nothing
if(SLR())then
set XVV=GetUnitLoc(GetTriggerUnit())
set RTV=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(260.,XVV,Condition(function SKR)))
call RemoveLocation(XVV)
set XVV=GetUnitLoc(RTV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',RTV)
call SetUnitAbilityLevelSwapped('A028',RTV,27)
call UnitDamageTargetBJ(GetTriggerUnit(),RTV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call StartTimerBJ(RUV,false,(5.4-(I2R(GetUnitAbilityLevelSwapped('A0Z9',GetTriggerUnit()))*.5)))
call DisableTrigger(GetTriggeringTrigger())
call RemoveLocation(XVV)
endif
endfunction
function SPR takes nothing returns nothing
set R7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(R7E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(R7E,Condition(function SGR))
call TriggerAddAction(R7E,function SMR)
endfunction
function SQR takes nothing returns nothing
call EnableTrigger(R7E)
endfunction
function SSR takes nothing returns nothing
set R8E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(R8E,RUV)
call TriggerAddAction(R8E,function SQR)
endfunction
function STR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(BCV)))
endfunction
function SUR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function SWR takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function SYR takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function SZR takes nothing returns boolean
return GetBooleanAnd(SWR(),SYR())
endfunction
function S_R takes nothing returns boolean
return GetBooleanAnd(SUR(),SZR())
endfunction
function S0R takes nothing returns boolean
return GetBooleanAnd(STR(),S_R())
endfunction
function S1R takes nothing returns boolean
return GetUnitState(BCV,UNIT_STATE_LIFE)>=1
endfunction
function S3R takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function S4R takes nothing returns boolean
return GetBooleanAnd(S0R(),S1R())
endfunction
function S5R takes nothing returns boolean
return GetBooleanAnd(S4R(),S3R())
endfunction
function S6R takes nothing returns nothing
set XVV=GetUnitLoc(BCV)
set XEV=GetUnitsInRangeOfLocMatching(700.,XVV,Condition(function S5R))
call RemoveLocation(XVV)
set BDV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call UnitDamageTargetBJ(BCV,BDV,(400.+(GetHeroStatBJ(bj_HEROSTAT_STR,BCV,true)*(7*I2R(GetUnitAbilityLevelSwapped('A1WX',BCV))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(BDV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function S7R takes nothing returns nothing
set R9E=CreateTrigger()
call DisableTrigger(R9E)
call TriggerRegisterTimerEventPeriodic(R9E,6.)
call TriggerAddAction(R9E,function S6R)
endfunction
function S8R takes nothing returns nothing
if VD[GetConvertedPlayerId(GetOwningPlayer(PA))]>0 and IsUnitAliveBJ(PA)then
call QVE(PA,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,PA)+VD[GetConvertedPlayerId(GetOwningPlayer(PA))])
set ZC[GetConvertedPlayerId(GetOwningPlayer(PA))]=ZC[GetConvertedPlayerId(GetOwningPlayer(PA))]+VD[GetConvertedPlayerId(GetOwningPlayer(PA))]
set VD[GetConvertedPlayerId(GetOwningPlayer(PA))+8]=VD[GetConvertedPlayerId(GetOwningPlayer(PA))+8]+VD[GetConvertedPlayerId(GetOwningPlayer(PA))]
set VD[GetConvertedPlayerId(GetOwningPlayer(PA))]=0
endif
endfunction
function S9R takes nothing returns nothing
set Q8V=CreateTrigger()
call DisableTrigger(Q8V)
call TriggerRegisterTimerEventPeriodic(Q8V,10.)
call TriggerAddAction(Q8V,function S8R)
endfunction
function TVR takes nothing returns nothing
if ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]>0 and IsUnitAliveBJ(GNV)then
call QVE(GNV,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GNV)+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))])
set ZC[GetConvertedPlayerId(GetOwningPlayer(GNV))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GNV))]+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]
set ED[GetConvertedPlayerId(GetOwningPlayer(GNV))+8]=ED[GetConvertedPlayerId(GetOwningPlayer(GNV))+8]+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]
set ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]=0
endif
endfunction
function TER takes nothing returns nothing
set Q9V=CreateTrigger()
call DisableTrigger(Q9V)
call TriggerRegisterTimerEventPeriodic(Q9V,10.)
call TriggerAddAction(Q9V,function TVR)
endfunction
function TXR takes nothing returns boolean
return(GetSpellAbilityId()=='A0OC')
endfunction
function TOR takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nvde')
endfunction
function TRR takes nothing returns nothing
if(TOR())then
call TriggerSleepAction(.8)
call SetUnitOwner(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()),true)
call UnitAddAbilityBJ('A1P8',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P8',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1P9',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P9',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1PA',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1PA',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1PB',GetSpellTargetUnit())
else
call UnitAddAbilityBJ('A1P8',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P8',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1P9',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P9',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1PA',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1PA',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A0OC',GetTriggerUnit()))
call UnitAddAbilityBJ('A1PB',GetSpellTargetUnit())
endif
endfunction
function TIR takes nothing returns nothing
set IVE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IVE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(IVE,Condition(function TXR))
call TriggerAddAction(IVE,function TRR)
endfunction
function TAR takes nothing returns boolean
return(GetRandomInt(1,'d')<=(4*GetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit())))
endfunction
function TNR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZC')
endfunction
function TBR takes nothing returns boolean
return(GetRandomInt(1,20)<=($B+GetUnitAbilityLevelSwapped('A0ZI',GetTriggerUnit())))
endfunction
function TCR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit())>=1)
endfunction
function TDR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZI')
endfunction
function TFR takes nothing returns boolean
return(GetRandomInt(1,20)<=($B+GetUnitAbilityLevelSwapped('A1WJ',GetTriggerUnit())))
endfunction
function TGR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZD',GetTriggerUnit())>=1)
endfunction
function THR takes nothing returns boolean
return(GetSpellAbilityId()=='A1WJ')
endfunction
function TJR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z6')
endfunction
function TKR takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z8')and(JVV!=4)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$6D6)and(GetUnitLevel(GetTriggerUnit())<35)
endfunction
function TLR takes nothing returns boolean
return(GetSpellAbilityId()=='A09X')and(JHV!=4)
endfunction
function TMR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZN')
endfunction
function TPR takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function TQR takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function TSR takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function TTR takes nothing returns boolean
return GetBooleanAnd(TQR(),TSR())
endfunction
function TUR takes nothing returns boolean
return GetBooleanAnd(TPR(),TTR())
endfunction
function TWR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit())>=9)
endfunction
function TYR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit())>=6)
endfunction
function TZR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZP')
endfunction
function T_R takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z8')and(JVV!=4)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$6D6)and(GetUnitLevel(GetTriggerUnit())>=35)
endfunction
function T0R takes nothing returns nothing
if(TNR())then
if(TAR())then
call TriggerSleepAction(.5)
set RWV=GetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0ZC',GetTriggerUnit())
call UnitAddAbilityBJ('A0ZC',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit(),RWV)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(TDR())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetUnitAbilityLevelSwapped('A0ZI',GetTriggerUnit()))*(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((GetUnitAbilityLevelSwapped('A0ZI',GetTriggerUnit())*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)+GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)))),XVV,10.,13.,100.,20.,20.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
if(TCR())then
if(TBR())then
set RWV=GetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0ZC',GetTriggerUnit())
call UnitAddAbilityBJ('A0ZC',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0ZC',GetTriggerUnit(),RWV)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(THR())then
set RZV=GetTriggerUnit()
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1WK',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1WK',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1WJ',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetTriggerUnit())
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A0ZG',GetTriggerUnit())
call StartTimerBJ(R_V,false,(3.+(I2R(GetUnitAbilityLevelSwapped('A1WJ',GetTriggerUnit()))*2.)))
if(TGR())then
if(TFR())then
set RWV=GetUnitAbilityLevelSwapped('A0ZD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0ZD',GetTriggerUnit())
call UnitAddAbilityBJ('A0ZD',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0ZD',GetTriggerUnit(),RWV)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(TJR())then
set RPV=GetTriggerUnit()
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*(.03+(.02*I2R(GetUnitAbilityLevelSwapped('A0Z6',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitAddAbilityBJ('A0Z7',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call TriggerSleepAction(3.)
call UnitRemoveAbilityBJ('A0Z7',RPV)
endif
if(TKR())then
set RPV=GetTriggerUnit()
set RSV=(GetUnitLevel(GetTriggerUnit())*$B)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,($B*GetUnitLevel(GetTriggerUnit())))
call SetUnitScalePercent(RPV,(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))))
call StartTimerBJ(RQV,false,(8.+I2R(GetUnitAbilityLevelSwapped('A0Z8',GetTriggerUnit()))))
set JVV=4
endif
if(TLR())then
set JDV=GetTriggerUnit()
set JGV=(GetUnitLevel(GetTriggerUnit())*(GetUnitAbilityLevelSwapped('A09X',GetTriggerUnit())*3))
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,JGV)
call StartTimerBJ(JJV,false,5.)
set JHV=4
endif
if(TMR())then
call UnitAddAbilityBJ('A0ZO',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0ZO',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0ZN',GetTriggerUnit()))
set R2V=GetTriggerUnit()
call StartTimerBJ(R3V,false,8.)
call PlaySoundBJ(P7V)
endif
if(TZR())then
set R5V=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(240.,GetSpellTargetLoc(),Condition(function TUR)))
call SetUnitExplodedBJ(R5V,true)
call UnitDamageTargetBJ(GetTriggerUnit(),R5V,((600.*I2R(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit())))+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit()))*.8))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(R5V)
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,0),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,45.),"Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHellScream.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,90.),"Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodWolfrider.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,135.),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,180.),"Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHellScream.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,225.),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,270.),"Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodHellScream.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,310.),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Objects\\Spawnmodels\\Orc\\Orcblood\\OrcBloodWolfrider.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
if(TYR())then
call UnitDamageTargetBJ(GetTriggerUnit(),R5V,(I2R(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit()))*150.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if(TWR())then
call UnitDamageTargetBJ(GetTriggerUnit(),R5V,(I2R(GetUnitAbilityLevelSwapped('A0ZP',GetTriggerUnit()))*250.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
endif
if(T_R())then
set RPV=GetTriggerUnit()
set RSV=(GetUnitLevel(GetTriggerUnit())*25)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(25*GetUnitLevel(GetTriggerUnit())))
call SetUnitScalePercent(RPV,(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))))
call StartTimerBJ(RQV,false,(8.+I2R(GetUnitAbilityLevelSwapped('A0Z8',GetTriggerUnit()))))
set JVV=4
endif
endfunction
function T1R takes nothing returns nothing
set IEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IEE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(IEE,function T0R)
endfunction
function T2R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0ZG',RZV)
endfunction
function T3R takes nothing returns nothing
set IXE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IXE,R_V)
call TriggerAddAction(IXE,function T2R)
endfunction
function T4R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZH',GetAttacker())>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetUnitTypeId(GetTriggerUnit())!='n05A')and(GetUnitTypeId(GetTriggerUnit())!='n05B')and(GetUnitTypeId(GetTriggerUnit())!='n059')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function T5R takes nothing returns nothing
set RZV=GetAttacker()
call StartTimerBJ(ITV,false,.8)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function T6R takes nothing returns nothing
set IOE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(IOE,Condition(function T4R))
call TriggerAddAction(IOE,function T5R)
endfunction
function T7R takes nothing returns boolean
return(GetRandomInt(1,27)<=2)
endfunction
function T8R takes nothing returns nothing
if(T7R())then
call UnitResetCooldown(RZV)
call AddSpecialEffectTargetUnitBJ("origin",RZV,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction((26.-(6.*I2R(GetUnitAbilityLevelSwapped('A0ZH',RZV)))))
call EnableTrigger(IOE)
call EnableTrigger(GetTriggeringTrigger())
else
call EnableTrigger(IOE)
endif
endfunction
function T9R takes nothing returns nothing
set IRE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IRE,ITV)
call TriggerAddAction(IRE,function T8R)
endfunction
function UVR takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B040'))
endfunction
function UER takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(7.*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*7)),XVV,10.,13.,20.,100.,20.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitRemoveBuffBJ('B040',GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0ZL',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0ZL',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0ZM',GetAttacker()))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endfunction
function UXR takes nothing returns nothing
set INE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(INE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(INE,Condition(function UVR))
call TriggerAddAction(INE,function UER)
endfunction
function UOR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZO',GetAttacker())>=1)
endfunction
function URR takes nothing returns boolean
return(R4V==2)
endfunction
function UIR takes nothing returns nothing
set R4V=(R4V+1)
if(URR())then
call UnitRemoveAbilityBJ('A0ZO',R2V)
set R4V=0
endif
endfunction
function UAR takes nothing returns nothing
set IBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IBE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(IBE,Condition(function UOR))
call TriggerAddAction(IBE,function UIR)
endfunction
function UNR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZR')
endfunction
function UBR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZV')
endfunction
function UCR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZX')
endfunction
function UDR takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=I2R((GetUnitAbilityLevelSwapped('A0ZX',IOV)*(IRV*450))))
endfunction
function UFR takes nothing returns boolean
return(GetSpellTargetUnit()==IXV)and(DMV==3)
endfunction
function UGR takes nothing returns boolean
return(GetSpellTargetUnit()==IAV)
endfunction
function UHR takes nothing returns boolean
return(GetSpellAbilityId()=='A0ZY')
endfunction
function UJR takes nothing returns boolean
return(GetSpellTargetUnit()==C1V)and(C3V==3)
endfunction
function UKR takes nothing returns boolean
return(GetSpellAbilityId()=='Afak')
endfunction
function ULR takes nothing returns boolean
return(GetSpellAbilityId()=='A10R')
endfunction
function UMR takes nothing returns boolean
return(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetSpellAbilityId()!='ANms')and(GetSpellAbilityId()!='A0Q9')and(GetSpellAbilityId()!='A0LN')and(GetSpellAbilityId()!='A1JR')
endfunction
function UPR takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetSpellAbilityId()!='Afak')and(GetSpellAbilityId()!='ACch')and(GetSpellAbilityId()!='A0OB')and(GetSpellAbilityId()!='A0OC')
endfunction
function UQR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0IL'))
endfunction
function USR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CH'))
endfunction
function UTR takes nothing returns boolean
return(GetBooleanOr(UQR(),USR()))
endfunction
function UUR takes nothing returns nothing
if(UNR())then
set R6V=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0ZU',R6V)
call UnitAddAbilityBJ('A0ZS',R6V)
call SetUnitMoveSpeed(R6V,(GetUnitMoveSpeed(R6V)-280.))
call StartTimerBJ(R7V,false,(1+(2.*I2R(GetUnitAbilityLevelSwapped('A0ZR',GetTriggerUnit())))))
call SetUnitVertexColorBJ(R6V,60.,60.,40.,40.)
endif
if(UBR())then
set R8V=GetSpellTargetUnit()
set IVV=GetTriggerUnit()
call StartTimerBJ(R9V,false,3.)
endif
if(UCR())then
set IRV=0
set DMV=3
set IXV=GetSpellTargetUnit()
set IOV=GetTriggerUnit()
call StartTimerBJ(IIV,false,(23.+(3.*I2R(GetUnitAbilityLevelSwapped('A0ZX',GetTriggerUnit())))))
endif
if(UFR())then
set IRV=(IRV+1)
set XVV=GetUnitLoc(IXV)
call CreateTextTagLocBJ(I2S(IRV),XVV,15.,13.,70.,70.,70.,8.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(UDR())then
call SetUnitLifeBJ(IXV,1.)
call UnitAddAbilityBJ('A028',IXV)
call SetUnitAbilityLevelSwapped('A028',IXV,28)
call UnitDamageTargetBJ(IOV,IXV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call PauseTimerBJ(true,IIV)
set XVV=GetUnitLoc(IXV)
call CreateTextTagLocBJ(I2S((GetUnitAbilityLevelSwapped('A0ZX',IOV)*('s'*IRV))),XVV,10.,15.,6.,15.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",IXV,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set DMV=1
set IRV=0
set IXV=null
endif
endif
if(UHR())then
if(UGR())then
set IFV=(IFV+1)
call UnitDamageTargetBJ(GetTriggerUnit(),IAV,(800.*(I2R(IFV)*I2R(IFV))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(IAV)
call CreateTextTagLocBJ(("+"+I2S((IFV*(800*IFV)))),XVV,10.,12.,40.,40.,50.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call StartTimerBJ(IGV,false,26.)
else
set IAV=GetSpellTargetUnit()
set IFV=0
set IFV=(IFV+1)
endif
endif
if(UKR())then
if(UJR())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(3.*I2R(GetUnitAbilityLevelSwapped('A07Z',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C1V=GetSpellTargetUnit()
set C3V=4
call StartTimerBJ(C2V,false,.9)
call PlaySoundBJ(P3V)
endif
endif
if(ULR())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),29)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+1400.))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(UTR())then
if(UPR())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*3.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*3))),XVV,17.,10.,90.,6.,90.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(UMR())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*3.)))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*3))),XVV,17.,10.,90.,90.,10.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endfunction
function UWR takes nothing returns nothing
set ICE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ICE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ICE,function UUR)
endfunction
function UYR takes nothing returns nothing
set XVV=GetUnitLoc(R8V)
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(IVV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0ZW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0ZW',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0ZV',IVV))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",R8V)
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call StartTimerBJ(IEV,false,3.)
call RemoveLocation(XVV)
endfunction
function UZR takes nothing returns nothing
set IDE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IDE,R9V)
call TriggerAddAction(IDE,function UYR)
endfunction
function U_R takes nothing returns nothing
set XVV=GetUnitLoc(R8V)
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(IVV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0ZW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0ZW',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0ZV',IVV))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",R8V)
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endfunction
function U0R takes nothing returns nothing
set IFE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IFE,IEV)
call TriggerAddAction(IFE,function U_R)
endfunction
function U1R takes nothing returns nothing
call UnitRemoveAbilityBJ('A0ZU',R6V)
call UnitRemoveAbilityBJ('A0ZS',R6V)
call SetUnitMoveSpeed(R6V,GetUnitDefaultMoveSpeed(R6V))
call SetUnitVertexColorBJ(R6V,100.,100.,100.,.0)
endfunction
function U2R takes nothing returns nothing
set IGE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IGE,R7V)
call TriggerAddAction(IGE,function U1R)
endfunction
function U3R takes nothing returns nothing
call UnitDamageTargetBJ(IOV,IXV,(450.*(I2R(IRV)*I2R(GetUnitAbilityLevelSwapped('A0ZX',IOV)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(IXV)
call CreateTextTagLocBJ(I2S((GetUnitAbilityLevelSwapped('A0ZX',IOV)*('s'*IRV))),XVV,10.,15.,6.,15.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",IXV,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set DMV=1
set IRV=0
set IXV=null
endfunction
function U4R takes nothing returns nothing
set IHE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IHE,IIV)
call TriggerAddAction(IHE,function U3R)
endfunction
function U5R takes nothing returns nothing
set IAV=null
set IFV=0
endfunction
function U6R takes nothing returns nothing
set IJE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IJE,IGV)
call TriggerAddAction(IJE,function U5R)
endfunction
function U7R takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()))>=(4*(IKV*IKV)))
endfunction
function U8R takes nothing returns boolean
return(GetSpellAbilityId()=='A100')
endfunction
function U9R takes nothing returns nothing
if(U8R())then
if(U7R())then
else
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
endif
endif
endfunction
function WVR takes nothing returns nothing
set IKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IKE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(IKE,function U9R)
endfunction
function WER takes nothing returns boolean
return(GetSpellTargetUnit()==IHV)
endfunction
function WXR takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()))>=(4*(IKV*IKV)))
endfunction
function WOR takes nothing returns boolean
return(GetSpellAbilityId()=='A100')
endfunction
function WRR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function WIR takes nothing returns boolean
return(GetSpellAbilityId()=='A101')
endfunction
function WAR takes nothing returns boolean
return(GetSpellAbilityId()=='A103')
endfunction
function WNR takes nothing returns nothing
if(WOR())then
if(WXR())then
if(WER())then
set IHV=GetSpellTargetUnit()
set IKV=(IKV+1)
call ModifyHeroStat(bj_HEROSTAT_STR,IHV,bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,IHV,bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,IHV,bj_MODIFYMETHOD_ADD,20)
call SetUnitManaBJ(IJV,(GetUnitStateSwap(UNIT_STATE_MANA,IJV)-(I2R(IKV)*(1.*(3.*I2R(IKV))))))
call StartTimerBJ(ILV,false,(42.+(2.*I2R(GetUnitAbilityLevelSwapped('A100',IJV)))))
call StartTimerBJ(APV,false,(37.+(2.*I2R(GetUnitAbilityLevelSwapped('A100',IJV)))))
else
call ModifyHeroStat(bj_HEROSTAT_STR,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_AGI,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_INT,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
call AddSpecialEffectTargetUnitBJ("overhead",IHV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set IHV=GetSpellTargetUnit()
set IKV=(IKV+1)
call ModifyHeroStat(bj_HEROSTAT_STR,IHV,bj_MODIFYMETHOD_ADD,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_AGI,IHV,bj_MODIFYMETHOD_ADD,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_INT,IHV,bj_MODIFYMETHOD_ADD,(IKV*20))
call StartTimerBJ(ILV,false,(42.+(2.*I2R(GetUnitAbilityLevelSwapped('A100',IJV)))))
endif
endif
endif
if(WIR())then
call UnitRemoveAbilityBJ('A102',IMV)
set IMV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A102',IMV)
call SetUnitLifeBJ(IMV,GetUnitStateSwap(UNIT_STATE_LIFE,IMV)+($C8*I2R(GetUnitAbilityLevelSwapped('A101',IJV))))
call StartTimerBJ(IPV,false,(3.5+(.5*I2R(GetUnitAbilityLevelSwapped('A101',IJV)))))
if(WRR())then
call SetPlayerTechResearchedSwap('R01L',(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GetSpellTargetUnit()))+1),GetOwningPlayer(GetSpellTargetUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GetSpellTargetUnit()))),XVV,10.,10.,90.,90.,90.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),10.,90)
endif
endif
if(WAR())then
call SetPlayerTechResearchedSwap('R01L',(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GetSpellTargetUnit()))+1),GetOwningPlayer(GetSpellTargetUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GetSpellTargetUnit()))),XVV,10.,10.,90.,90.,90.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),10.,90)
endif
endfunction
function WBR takes nothing returns nothing
set ILE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ILE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ILE,function WNR)
endfunction
function WCR takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_AGI,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
call ModifyHeroStat(bj_HEROSTAT_INT,IHV,bj_MODIFYMETHOD_SUB,(IKV*20))
set IKV=0
set IHV=null
call AddSpecialEffectTargetUnitBJ("overhead",IHV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function WDR takes nothing returns nothing
set IME=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IME,ILV)
call TriggerAddAction(IME,function WCR)
endfunction
function WFR takes nothing returns nothing
if ID==false then
set XVV=GetUnitLoc(IHV)
call CreateTextTagLocBJ("Anfibius Growth effect will end in 5 seconds.",XVV,10.,10.,60.,60.,90.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if ID then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a41Anfibius Growth effect will end in 5 seconds.|r"))
call mj(1)
if TimerGetRemaining(ILV)<=4 then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a414..|r"))
call mj(1)
endif
if TimerGetRemaining(ILV)<=3 then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a413..|r"))
call mj(1)
endif
if TimerGetRemaining(ILV)<=2 then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a412..|r"))
call mj(1)
endif
if TimerGetRemaining(ILV)<=1 then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a411..|r"))
call mj(1)
endif
if TimerGetRemaining(ILV)==0 then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(IJV)),("|cff410a41Effect ended..|r"))
endif
endif
endfunction
function WGR takes nothing returns nothing
set IPE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IPE,APV)
call TriggerAddAction(IPE,function WFR)
endfunction
function WHR takes nothing returns boolean
return(GetOwningPlayer(IJV)==GetTriggerPlayer())
endfunction
function WJR takes nothing returns nothing
local boolean WKR=false
if ID==false and WKR==false then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Ability End Text has been Toggled to show on screen"))
set ID=true
set WKR=true
endif
if ID and WKR==false then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Ability End Text has been Toggled to show at the location of your Hero"))
set ID=false
endif
set WKR=false
endfunction
function WLR takes nothing returns nothing
local trigger WMR
set WMR=CreateTrigger()
call TriggerRegisterPlayerChatEvent(WMR,Player(2),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(3),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(4),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(5),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(6),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(7),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(8),"-toggletext",false)
call TriggerRegisterPlayerChatEvent(WMR,Player(9),"-toggletext",false)
call TriggerAddCondition(WMR,Condition(function WHR))
call TriggerAddAction(WMR,function WJR)
endfunction
function WPR takes nothing returns nothing
call UnitRemoveAbilityBJ('A102',IMV)
call SetUnitLifeBJ(IMV,(GetUnitStateSwap(UNIT_STATE_LIFE,IMV)+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,IMV)*(.03*I2R(GetUnitAbilityLevelSwapped('A101',IJV))))))
call AddSpecialEffectTargetUnitBJ("overhead",IMV,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set IMV=null
endfunction
function WQR takes nothing returns nothing
set IQE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IQE,IPV)
call TriggerAddAction(IQE,function WPR)
endfunction
function WSR takes nothing returns nothing
call RemoveItemFromStock(A1,'I0IW')
call RemoveItemFromStock(A1,'I0IU')
call RemoveItemFromStock(A1,'I0IY')
call RemoveItemFromStock(A1,'I0J1')
call RemoveItemFromStock(A1,'I0IZ')
call RemoveItemFromStock(A1,'I0J2')
call RemoveItemFromStock(A1,'I0IV')
call RemoveItemFromStock(A1,'I0J0')
call RemoveItemFromStock(A1,'I0K3')
call RemoveItemFromStock(A1,'I0K1')
call RemoveItemFromStock(A1,'I0JZ')
call RemoveItemFromStock(A1,'I0L6')
call RemoveItemFromStock(A1,'I0JX')
call RemoveItemFromStock(A1,'I0K2')
call RemoveItemFromStock(A1,'I0LK')
if QG[0]==1 then
call AddItemToStock(A1,'I0IW',1,1)
endif
if QG[1]==1 then
call AddItemToStock(A1,'I0IU',1,1)
endif
if QG[2]==1 then
call AddItemToStock(A1,'I0IY',1,1)
endif
if QG[3]==1 then
call AddItemToStock(A1,'I0J1',1,1)
endif
if QG[4]==1 then
call AddItemToStock(A1,'I0IZ',1,1)
endif
if QG[5]==1 then
call AddItemToStock(A1,'I0J2',1,1)
endif
if QG[6]==1 then
call AddItemToStock(A1,'I0IV',1,1)
endif
if QG[7]==1 then
call AddItemToStock(A1,'I0J0',1,1)
endif
if QG[8]==1 then
call AddItemToStock(A1,'I0K3',1,1)
endif
if QG[9]==1 then
call AddItemToStock(A1,'I0K1',1,1)
endif
if QG[$A]==1 then
call AddItemToStock(A1,'I0JZ',1,1)
endif
if QG[$B]==1 then
call AddItemToStock(A1,'I0L6',1,1)
endif
if QG[$C]==1 then
call AddItemToStock(A1,'I0JX',1,1)
endif
if QG[$D]==1 then
call AddItemToStock(A1,'I0K2',1,1)
endif
if QG[$E]==1 then
call AddItemToStock(A1,'I0LK',1,1)
endif
endfunction
function WTR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nftk')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function WUR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00W')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function WWR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrd')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function WYR takes nothing returns boolean
return(GetRandomInt(1,$A)<5)
endfunction
function WZR takes nothing returns boolean
return(GetRandomInt(1,$A)<3)
endfunction
function W_R takes nothing returns boolean
return(GetRandomInt(1,$B)<5)
endfunction
function W0R takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function W1R takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function W2R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrw')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function W3R takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function W4R takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function W5R takes nothing returns boolean
return(GetRandomInt(1,$A)<7)
endfunction
function W6R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmbg')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function W7R takes nothing returns boolean
return(GetRandomInt(1,$A)<4)
endfunction
function W8R takes nothing returns boolean
return(GetRandomInt(1,$A)<4)
endfunction
function W9R takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function YVR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nskg')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function YER takes nothing returns boolean
return(GetRandomInt(1,$A)<4)
endfunction
function YXR takes nothing returns boolean
return(GetRandomInt(1,$C)==3)
endfunction
function YOR takes nothing returns boolean
return(GetRandomInt(1,$A)<5)
endfunction
function YRR takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function YIR takes nothing returns boolean
return(GetRandomInt(1,$A)<5)
endfunction
function YAR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function YNR takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function YBR takes nothing returns boolean
return(GetRandomInt(1,$A)<8)
endfunction
function YCR takes nothing returns boolean
return(GetRandomInt(1,$A)<6)
endfunction
function YDR takes nothing returns boolean
return(GetRandomInt(1,4)==4)
endfunction
function YFR takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function YGR takes nothing returns boolean
return(GetRandomInt(1,5)==2)
endfunction
function YHR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsqe')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function YJR takes nothing returns boolean
return(GetRandomInt(1,$C)<3)
endfunction
function YKR takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function YLR takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function YMR takes nothing returns boolean
return(GetRandomInt(1,4)==2)
endfunction
function YPR takes nothing returns boolean
return(GetRandomInt(1,8)==2)
endfunction
function YQR takes nothing returns boolean
return(GetRandomInt(1,26)==2)
endfunction
function YSR takes nothing returns boolean
return(GetRandomInt(1,26)==2)
endfunction
function YTR takes nothing returns boolean
return(GetRandomInt(1,$B)<2)
endfunction
function YUR takes nothing returns boolean
return(GetRandomInt(1,$B)<2)
endfunction
function YWR takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n036')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function YYR takes nothing returns boolean
return(GetRandomInt(1,$A)<5)
endfunction
function YZR takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function Y_R takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function Y0R takes nothing returns boolean
return(GetRandomInt(1,4)==2)
endfunction
function Y1R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfor')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Y2R takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function Y3R takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function Y4R takes nothing returns boolean
return(GetRandomInt(1,4)==2)
endfunction
function Y5R takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function Y6R takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n038')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Y7R takes nothing returns nothing
if(WTR())then
call ExecuteFunc("G3X")
endif
if(WUR())then
call ExecuteFunc("G4X")
endif
if(WWR())then
call ExecuteFunc("G5X")
endif
if(W2R())then
if(WZR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CS',XVV)
call CreateItemLoc('rej4',XVV)
call RemoveLocation(XVV)
else
if(WYR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CV',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('I0CU',XVV)
call RemoveLocation(XVV)
endif
endif
if(W0R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04N',XVV)
call CreateItemLoc('tin2',XVV)
call RemoveLocation(XVV)
else
if(W_R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04M',XVV)
call CreateItemLoc('I04U',XVV)
call RemoveLocation(XVV)
endif
endif
if(W1R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05Y',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05S',XVV)
call RemoveLocation(XVV)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04U',XVV)
call RemoveLocation(XVV)
set ABV=4
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
if(W6R())then
if(W3R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CV',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('I0CU',XVV)
call RemoveLocation(XVV)
endif
if(W4R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CR',XVV)
call CreateItemLoc('I0CP',XVV)
call CreateItemLoc('I03W',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('oflg',XVV)
call RemoveLocation(XVV)
endif
if(W5R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02E',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('I05T',XVV)
call RemoveLocation(XVV)
endif
set ABV=5
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
if(YVR())then
if(W7R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CY',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('tdx2',XVV)
call CreateItemLoc('I0CR',XVV)
call RemoveLocation(XVV)
endif
if(W8R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05Y',XVV)
call CreateItemLoc('I04V',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('I0ES',XVV)
call RemoveLocation(XVV)
endif
if(W9R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('oflg',XVV)
call CreateItemLoc('pnvu',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('I048',XVV)
call RemoveLocation(XVV)
endif
set ABV=6
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
if(YAR())then
if(YER())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D0',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('I0CP',XVV)
call RemoveLocation(XVV)
endif
if(YRR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call CreateItemLoc('I04U',XVV)
call RemoveLocation(XVV)
else
if(YOR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04N',XVV)
call CreateItemLoc('I04V',XVV)
call RemoveLocation(XVV)
else
if(YXR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HG',XVV)
call CreateItemLoc('I0HB',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CZ',XVV)
call CreateItemLoc('I0HD',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(YIR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('rej4',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('I05S',XVV)
call CreateItemLoc('I0ET',XVV)
call RemoveLocation(XVV)
endif
set ABV=7
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
call RemoveItemFromStock(A1,'I0IZ')
set QG[4]=0
call AddItemToStock(A1,'I0K1',1,1)
set QG[9]=1
call ExecuteFunc("WSR")
endif
if(YHR())then
if(YNR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CJ',XVV)
call CreateItemLoc('I02H',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('iwbr',XVV)
call CreateItemLoc('I0DL',XVV)
call RemoveLocation(XVV)
endif
if(YCR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call CreateItemLoc('I05T',XVV)
call RemoveLocation(XVV)
else
if(YBR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I07B',XVV)
call CreateItemLoc('I0ES',XVV)
call CreateItemLoc('I079',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E1',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
endif
endif
if(YGR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
else
if(YFR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FB',XVV)
call RemoveLocation(XVV)
else
if(YDR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
endif
endif
endif
set ABV=8
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
if(YWR())then
if(YJR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CW',XVV)
call CreateItemLoc('gemt',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05Y',XVV)
call CreateItemLoc('I02I',XVV)
call RemoveLocation(XVV)
endif
if(YMR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CK',XVV)
call CreateItemLoc('I0CY',XVV)
call CreateItemLoc('pspd',XVV)
call RemoveLocation(XVV)
else
if(YLR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('oflg',XVV)
call CreateItemLoc('I079',XVV)
call RemoveLocation(XVV)
else
if(YKR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FC',XVV)
call CreateItemLoc('I0HK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I06G',XVV)
call CreateItemLoc('pspd',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(YUR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E1',XVV)
call RemoveLocation(XVV)
else
if(YTR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D1',XVV)
call RemoveLocation(XVV)
else
if(YSR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
else
if(YQR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FF',XVV)
call RemoveLocation(XVV)
else
if(YPR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
set ABV=9
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
call RemoveItemFromStock(A1,'I0J0')
set QG[7]=0
call AddItemToStock(A1,'I0LK',1,1)
set QG[$E]=1
call ExecuteFunc("WSR")
endif
if(Y1R())then
if(YYR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0ET',XVV)
call CreateItemLoc('I02E',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02E',XVV)
call CreateItemLoc('oflg',XVV)
call RemoveLocation(XVV)
endif
if(Y0R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I07F',XVV)
call CreateItemLoc('I04V',XVV)
call CreateItemLoc('I05S',XVV)
call RemoveLocation(XVV)
else
if(Y_R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call CreateItemLoc('I0HK',XVV)
call RemoveLocation(XVV)
else
if(YZR())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FF',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EV',XVV)
call RemoveLocation(XVV)
endif
endif
endif
set ABV=$A
call EnableTrigger(IYE)
if(AG==1)then
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
endif
if(Y6R())then
if(Y5R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call CreateItemLoc('I0E1',XVV)
call RemoveLocation(XVV)
else
if(Y4R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DF',XVV)
call CreateItemLoc('I0EV',XVV)
call CreateItemLoc('I0G0',XVV)
call RemoveLocation(XVV)
else
if(Y3R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0FF',XVV)
call CreateItemLoc('I0G1',XVV)
call RemoveLocation(XVV)
else
if(Y2R())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0FE',XVV)
call CreateItemLoc('I0HO',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EW',XVV)
call CreateItemLoc('I0E2',XVV)
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endfunction
function Y8R takes nothing returns nothing
set IUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IUE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(IUE,function Y7R)
endfunction
function Y9R takes nothing returns boolean
return(ABV==1)
endfunction
function ZVR takes nothing returns boolean
return(ABV==2)
endfunction
function ZER takes nothing returns boolean
return(ABV==3)
endfunction
function ZXR takes nothing returns boolean
return(ABV==4)
endfunction
function ZOR takes nothing returns boolean
return(ABV==5)
endfunction
function ZRR takes nothing returns boolean
return(ABV==6)
endfunction
function ZIR takes nothing returns boolean
return(ABV==7)
endfunction
function ZAR takes nothing returns boolean
return(ABV==8)
endfunction
function ZNR takes nothing returns boolean
return(ABV==9)
endfunction
function ZBR takes nothing returns nothing
if(Y9R())then
set XVV=GetRectCenter(MDV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFAncient of Woods|r has appeared.")
call CreateNUnitsAtLoc(1,'n00W',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_GREEN)
call RemoveLocation(XVV)
endif
if(ZVR())then
set XVV=GetRectCenter(MGV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFDragon Turtle|r has appeared.")
call CreateNUnitsAtLoc(1,'ntrd',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_RED)
call RemoveLocation(XVV)
endif
if(ZER())then
set XVV=GetRectCenter(MDV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFHidromancer|r has appeared.")
call CreateNUnitsAtLoc(1,'nsrw',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_BLUE)
call RemoveLocation(XVV)
endif
if(ZXR())then
set XVV=GetRectCenter(MGV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFMurloc Overlord|r has appeared.")
call CreateNUnitsAtLoc(1,'nmbg',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_ORANGE)
call RemoveLocation(XVV)
endif
if(ZOR())then
set XVV=GetRectCenter(MFV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFNightmare|r has appeared.")
call CreateNUnitsAtLoc(1,'nskg',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endif
if(ZRR())then
set XVV=GetRectCenter(MDV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFPiromancer|r has appeared.")
call CreateNUnitsAtLoc(1,'odkt',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_RED)
call RemoveLocation(XVV)
endif
if(ZIR())then
set XVV=GetRectCenter(MHV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFTyphos|r has appeared.")
call CreateNUnitsAtLoc(1,'nsqe',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_ORANGE)
call RemoveLocation(XVV)
endif
if(ZAR())then
set XVV=GetRectCenter(MDV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFVrykolaklaus|r has appeared.")
call CreateNUnitsAtLoc(1,'n036',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_RED)
call RemoveLocation(XVV)
endif
if(ZNR())then
set XVV=GetRectCenter(MDV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFFaceless Deathbringer|r has appeared.")
call CreateNUnitsAtLoc(1,'nfor',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_PURPLE)
call RemoveLocation(XVV)
endif
endfunction
function ZCR takes nothing returns nothing
set IWE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IWE,ANV)
call TriggerAddAction(IWE,function ZBR)
endfunction
function ZDR takes nothing returns boolean
return(ABV==$A)and(AG==1)
endfunction
function ZFR takes nothing returns nothing
if(ZDR())then
set N4V=350
set XVV=GetRectCenter(L_V)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFByatis|r has appeared.")
call CreateNUnitsAtLoc(1,'n03C',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
set OMV=GetLastCreatedUnit()
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_CYAN)
call RemoveLocation(XVV)
endif
endfunction
function ZGR takes nothing returns nothing
set IYE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(IYE,ANV)
call TriggerAddAction(IYE,function ZFR)
endfunction
function ZHR takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function ZJR takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function ZKR takes nothing returns nothing
set IZE=CreateTrigger()
call TriggerRegisterEnterRectSimple(IZE,L9V)
call TriggerRegisterEnterRectSimple(IZE,MOV)
call TriggerRegisterEnterRectSimple(IZE,MRV)
call TriggerRegisterEnterRectSimple(IZE,MIV)
call TriggerRegisterEnterRectSimple(IZE,MAV)
call TriggerRegisterEnterRectSimple(IZE,MNV)
call TriggerAddCondition(IZE,Condition(function ZHR))
call TriggerAddAction(IZE,function ZJR)
endfunction
function ZLR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0C9'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function ZMR takes nothing returns nothing
if(ZLR())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+12.))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(.7)
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function ZPR takes nothing returns nothing
set I_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I_E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(I_E,function ZMR)
endfunction
function ZQR takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0CA'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function ZSR takes nothing returns nothing
if(ZQR())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+80.))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function ZTR takes nothing returns nothing
set I0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I0E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(I0E,function ZSR)
endfunction
function ZUR takes nothing returns boolean
return(GetSpellAbilityId()=='A108')
endfunction
function ZWR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A10G',GetSpellTargetUnit())==1)
endfunction
function ZYR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A10F',GetSpellTargetUnit())==1)
endfunction
function ZZR takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A10E',GetSpellTargetUnit())==1)
endfunction
function Z_R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A10D',GetSpellTargetUnit())==1)
endfunction
function Z0R takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BG',GetSpellTargetUnit())==1)
endfunction
function Z1R takes nothing returns nothing
if(Z0R())then
if(Z_R())then
if(ZZR())then
if(ZYR())then
if(ZWR())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("This unit has already reached the maximum.",XVV,10.,15.,6.,15.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("5th time.",XVV,10.,15.,6.,15.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A10G',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10C',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10K',GetSpellTargetUnit())
endif
else
call UnitAddAbilityBJ('A10F',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10J',GetSpellTargetUnit())
endif
else
call UnitAddAbilityBJ('A10E',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10I',GetSpellTargetUnit())
endif
else
call UnitAddAbilityBJ('A10D',GetSpellTargetUnit())
call UnitAddAbilityBJ('A109',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10H',GetSpellTargetUnit())
endif
else
call UnitAddAbilityBJ('A1BG',GetSpellTargetUnit())
call UnitAddAbilityBJ('A04A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1BF',GetSpellTargetUnit())
endif
endfunction
function Z2R takes nothing returns nothing
set I1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1E,Condition(function ZUR))
call TriggerAddAction(I1E,function Z1R)
endfunction
function Z3R takes nothing returns boolean
return(GetSpellAbilityId()=='A1P6')and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false)
endfunction
function Z4R takes nothing returns nothing
if(Z3R())then
call UnitRemoveAbilityBJ('A10F',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10B',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10J',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10E',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10A',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10I',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10D',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A109',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10H',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A1BG',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A04A',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A1BF',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10G',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10C',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10K',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10F',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10J',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10E',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10I',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10D',GetSpellTargetUnit())
call UnitAddAbilityBJ('A109',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10H',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1BG',GetSpellTargetUnit())
call UnitAddAbilityBJ('A04A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1BF',GetSpellTargetUnit())
endif
endfunction
function Z5R takes nothing returns nothing
set I2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I2E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I2E,Condition(function Z3R))
call TriggerAddAction(I2E,function Z4R)
endfunction
function Z6R takes nothing returns boolean
return(GetSpellAbilityId()=='A082')
endfunction
function Z7R takes nothing returns boolean
return(GetSpellAbilityId()=='A10Z')
endfunction
function Z8R takes nothing returns boolean
return(GetSpellAbilityId()=='A1WC')
endfunction
function Z9R takes nothing returns boolean
return(GetSpellAbilityId()=='A111')
endfunction
function VVI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function VEI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(8.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VXI takes nothing returns boolean
return((GetUnitLevel(GetSpellTargetUnit())*$F)<=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped('A115',GetTriggerUnit())))
endfunction
function VOI takes nothing returns boolean
return((GetUnitLevel(GetSpellTargetUnit())*40)<=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped('A115',GetTriggerUnit())))
endfunction
function VRI takes nothing returns boolean
return((GetUnitLevel(GetSpellTargetUnit())*$B4)<=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped('A115',GetTriggerUnit())))
endfunction
function VII takes nothing returns boolean
return((GetUnitLevel(GetSpellTargetUnit())*400)<=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped('A115',GetTriggerUnit())))
endfunction
function VAI takes nothing returns boolean
return(GetSpellAbilityId()=='A115')
endfunction
function VNI takes nothing returns boolean
return(GetSpellAbilityId()=='A113')
endfunction
function VBI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function VCI takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),6)
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VDI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function VFI takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),6)
set GD=true
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VGI takes nothing returns boolean
return(GetRandomInt(1,50)<=(3+GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())))
endfunction
function VHI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())>0)
endfunction
function VJI takes nothing returns boolean
return(GetSpellAbilityId()=='A118')
endfunction
function VKI takes nothing returns boolean
return(GetRandomInt(1,50)<=(3+GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())))
endfunction
function VLI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())>0)
endfunction
function VMI takes nothing returns boolean
return(GetSpellAbilityId()=='A119')
endfunction
function VPI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function VQI takes nothing returns boolean
return(GetRandomInt(1,50)<=(3+GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())))
endfunction
function VSI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit())>0)
endfunction
function VTI takes nothing returns boolean
return(GetSpellAbilityId()=='A11A')
endfunction
function VUI takes nothing returns boolean
return(GetSpellAbilityId()=='A11E')
endfunction
function VWI takes nothing returns boolean
return(GetSpellAbilityId()=='A11J')
endfunction
function VYI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function VZI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function V_I takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function V0I takes nothing returns boolean
return GetBooleanAnd(VZI(),V_I())
endfunction
function V1I takes nothing returns boolean
return(GetSpellAbilityId()=='A11Y')
endfunction
function V2I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function V3I takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function V4I takes nothing returns boolean
return GetBooleanAnd(V2I(),V3I())
endfunction
function V5I takes nothing returns boolean
return(GetSpellAbilityId()=='A15M')
endfunction
function V6I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function V7I takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function V8I takes nothing returns boolean
return GetBooleanAnd(V6I(),V7I())
endfunction
function V9I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function EVI takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function EEI takes nothing returns boolean
return GetBooleanAnd(V9I(),EVI())
endfunction
function EXI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function EOI takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function ERI takes nothing returns boolean
return GetBooleanAnd(EXI(),EOI())
endfunction
function EII takes nothing returns boolean
return(GetSpellAbilityId()=='A15A')
endfunction
function EAI takes nothing returns boolean
return(GetSpellAbilityId()=='A124')
endfunction
function ENI takes nothing returns boolean
return(GetSpellAbilityId()=='A0EG')
endfunction
function EBI takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function ECI takes nothing returns boolean
return(GetSpellAbilityId()=='A125')
endfunction
function EDI takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())<'d')
endfunction
function EFI takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function EGI takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function EHI takes nothing returns boolean
return(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))
endfunction
function EJI takes nothing returns boolean
return(GetSpellAbilityId()=='A1BJ')
endfunction
function EKI takes nothing returns boolean
return(GetSpellAbilityId()=='A11T')
endfunction
function ELI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function EMI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n036')
endfunction
function EPI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function EQI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function ESI takes nothing returns boolean
return GetBooleanAnd(EPI(),EQI())
endfunction
function ETI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function EUI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n038')
endfunction
function EWI takes nothing returns boolean
return(GetUnitLifePercent(GetSpellTargetUnit())<60.)
endfunction
function EYI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n038')
endfunction
function EZI takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function E_I takes nothing returns boolean
return(AIV>5)
endfunction
function E0I takes nothing returns boolean
return((GetUnitTypeId(GetSpellTargetUnit())=='n039')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function E1I takes nothing returns boolean
return(GetSpellAbilityId()=='A11U')
endfunction
function E2I takes nothing returns boolean
return(GetSpellAbilityId()=='ANcs')
endfunction
function E3I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function E4I takes nothing returns boolean
return(GetSpellAbilityId()=='A11F')
endfunction
function E5I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function E6I takes nothing returns boolean
return(GetSpellAbilityId()=='A11I')
endfunction
function E7I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function E8I takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function E9I takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function XVI takes nothing returns boolean
return GetBooleanAnd(E8I(),E9I())
endfunction
function XEI takes nothing returns boolean
return GetBooleanAnd(E7I(),XVI())
endfunction
function XXI takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function XOI takes nothing returns boolean
return GetBooleanAnd(XEI(),XXI())
endfunction
function XRI takes nothing returns boolean
return(GetSpellAbilityId()=='A11C')
endfunction
function XII takes nothing returns boolean
return(GetSpellAbilityId()=='A1Y2')
endfunction
function XAI takes nothing returns boolean
return(GetSpellAbilityId()=='A1MU')
endfunction
function XNI takes nothing returns boolean
return(GetSpellAbilityId()=='A1WF')
endfunction
function XBI takes nothing returns boolean
return(GetSpellAbilityId()=='A11Z')
endfunction
function XCI takes nothing returns nothing
local unit XDI
local unit JHO
if(Z6R())then
call UnitAddAbilityBJ('A0M9',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A0M9',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A082',GetTriggerUnit()))
set XDI=GetSpellTargetUnit()
call mj(6.)
call UnitRemoveAbilityBJ('A0M9',XDI)
set XDI=null
endif
if(Z7R())then
set IZV=GetTriggerUnit()
set I0V=GetSpellTargetUnit()
call EnableTrigger(ANE)
call StartTimerBJ(I1V,false,(2.5+(.5*I2R(GetUnitAbilityLevelSwapped('A10Z',GetTriggerUnit())))))
endif
if(Z8R())then
set I_V=GetTriggerUnit()
call UnitAddAbilityBJ('A1S7',I_V)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetUnitAbilityLevelSwapped('A1WC',GetTriggerUnit())*7))
call StartTimerBJ(I3V,false,(11.+(6.*I2R(GetUnitAbilityLevelSwapped('A1WC',GetTriggerUnit())))))
endif
if(Z9R())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(2.+I2R(GetUnitAbilityLevelSwapped('A111',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped('A111',GetTriggerUnit()))+2.))))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A111',GetTriggerUnit())+2)*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)+0))),XVV,10.,10.,100.,20.,20.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(VAI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(380.,XVV,Condition(function VVI))
call RemoveLocation(XVV)
set I8V=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)/(32-GetUnitAbilityLevelSwapped('A115',GetTriggerUnit())))
call ForGroupBJ(XEV,function VEI)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A114',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
if(VII())then
call SetUnitAbilityLevelSwapped('A114',GetLastCreatedUnit(),5)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(40),XVV,10.,12.,3.,3.,100.,5.)
call RemoveLocation(XVV)
else
if(VRI())then
call SetUnitAbilityLevelSwapped('A114',GetLastCreatedUnit(),4)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(25),XVV,10.,12.,3.,3.,100.,5.)
call RemoveLocation(XVV)
else
if(VOI())then
call SetUnitAbilityLevelSwapped('A114',GetLastCreatedUnit(),3)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S($F),XVV,10.,12.,3.,3.,100.,5.)
call RemoveLocation(XVV)
else
if(VXI())then
call SetUnitAbilityLevelSwapped('A114',GetLastCreatedUnit(),2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(8),XVV,10.,12.,3.,3.,100.,5.)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(3),XVV,10.,12.,3.,3.,100.,5.)
call RemoveLocation(XVV)
endif
endif
endif
endif
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(VNI())then
set I4V=0
endif
if(VJI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(380.,XVV,Condition(function VBI))
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function VCI)
call DestroyGroup(XEV)
if(VHI())then
if(VGI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(380.,XVV,Condition(function VDI))
call ForGroupBJ(XEV,function VFI)
call DestroyGroup(XEV)
call CreateTextTagLocBJ((I2S(R2I(((I2R(GetUnitAbilityLevelSwapped('A118',GetTriggerUnit()))*80.)*((I2R(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit()))*.1)+1.5))))+"!"),XVV,14.,14.,100.,10.,10.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(VMI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),3)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
if(VLI())then
if(VKI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),3)
set GD=true
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ((I2S(R2I(((((I2R(GetUnitAbilityLevelSwapped('A119',GetTriggerUnit()))*1.)+1.)*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))*((I2R(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit()))*.1)+1.5))))+"!"),XVV,14.,15.,100.,3.,3.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(VTI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),2)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set I9V=(I9V+1)
if(VPI())then
set I9V=(I9V+2)
endif
if(VSI())then
if(VQI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),2)
set GD=true
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ((I2S(R2I(((((I2R(GetUnitAbilityLevelSwapped('A11A',GetTriggerUnit()))*250.)+250.)+I2R((I9V*57)))*((I2R(GetUnitAbilityLevelSwapped('A11B',GetTriggerUnit()))*.1)+1.5))))+"!"),XVV,14.,15.,100.,3.,3.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(VUI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),4000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(VWI())then
set AAV=GetTriggerUnit()
set ACV=GetSpellTargetUnit()
call TriggerSleepAction(.01)
call IssueTargetOrderBJ(AAV,"attack",ACV)
endif
if(VYI())then
set AAV=GetTriggerUnit()
set ACV=GetSpellTargetUnit()
call TriggerSleepAction(.01)
call IssueTargetOrderBJ(AAV,"attack",ACV)
endif
if(V1I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h06G',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(12.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(5000.,XVV,Condition(function V0I))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(XEV))
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(V5I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,'h06Z',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(12.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(5000.,XVV,Condition(function V4I))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
call RemoveLocation(XVV)
endif
if(EII())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h06Y',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(14.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(5000.,XVV,Condition(function V8I))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h06Y',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(14.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(5000.,XVV,Condition(function EEI))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h06Y',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(14.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(5000.,XVV,Condition(function ERI))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
call RemoveLocation(XVV)
endif
if(EAI())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,30)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,30)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,30)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CS'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(ENI())then
call TriggerSleepAction(16.)
call UnitRemoveBuffBJ('BUdd',OMV)
call UnitRemoveBuffBJ('BUdd',X4V)
call TriggerSleepAction(16.)
call UnitRemoveBuffBJ('BUdd',OMV)
call UnitRemoveBuffBJ('BUdd',X4V)
endif
if(ECI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,45.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,90.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,135.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,180.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,225.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,270.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,310.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*30)),XVV,10.,12.,100.,100.,10.,5.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(EBI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(30.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(30.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))))
endif
endif
if(EJI())then
if(EHI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,.0,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,0),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,45.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,90.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,135.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,180.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,225.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,270.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,310.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,70.,340.),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*60)),XVV,10.,12.,100.,100.,10.,5.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(EGI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(60.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(60.*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))))
endif
else
if(EFI())then
if(EDI())then
call UnitAddAbilityBJ('A0WX',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A0WX',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
call ModifyHeroStat(bj_HEROSTAT_STR,FLV,bj_MODIFYMETHOD_SUB,$A28)
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,$A28)
set FLV=GetSpellTargetUnit()
call StartTimerBJ(F_V,false,30)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(EKI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'ucs3',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
if(EMI())then
if(ELI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attack",GetTriggerUnit())
endif
endif
if(EUI())then
if(ETI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11X',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(1800.,XVV,Condition(function ESI))
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"impale",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
endif
if(EYI())then
if(EWI())then
call IssueImmediateOrderBJ(GetSpellTargetUnit(),"creepthunderclap")
endif
endif
if(E0I())then
set AIV=(AIV+1)
if(E_I())then
if(EZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call KillUnit(GetTriggerUnit())
set AIV=(AIV-4)
endif
endif
endif
if(E1I())then
set XVV=GetUnitLoc(GetTriggerUnit())
set AAV=GetTriggerUnit()
set ACV=GetSpellTargetUnit()
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11W',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"unholyfrenzy",GetTriggerUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(ACV)
call TriggerSleepAction(.01)
call SetUnitPositionLoc(AAV,XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(AAV,"attack",ACV)
endif
if(E2I())then
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$578)then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A12Y',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A12Y',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('ANcs',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",GetSpellTargetLoc())
call RemoveLocation(XVV)
endif
if(E4I())then
if(E3I())then
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'nelb',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'nelb',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
else
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n035',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n035',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(E6I())then
set COV=GetTriggerUnit()
if(E5I())then
call StartTimerBJ(CXV,false,17.)
call SetUnitVertexColorBJ(GetTriggerUnit(),10.,10.,10.,0)
call UnitAddAbilityBJ('A0XB',GetTriggerUnit())
else
call StartTimerBJ(CXV,false,17.)
call UnitAddAbilityBJ('A1U7',GetTriggerUnit())
set CAV=3
call SetUnitVertexColorBJ(GetTriggerUnit(),100.,100.,5.,0)
endif
endif
if(XRI()or XII())then
set XEV=GetUnitsInRangeOfLocMatching(420.,GetSpellTargetLoc(),Condition(function XOI))
set AVV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call AddSpecialEffectTargetUnitBJ("origin",AVV,"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(XRI())then
call UnitAddAbilityBJ('A028',AVV)
call SetUnitAbilityLevelSwapped('A028',AVV,4)
call UnitDamageTargetBJ(GetTriggerUnit(),AVV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(XII())then
call UnitAddAbilityBJ('A028',AVV)
call SetUnitAbilityLevelSwapped('A028',AVV,5)
call UnitDamageTargetBJ(GetTriggerUnit(),AVV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
set AVV=null
endif
if(XAI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),30)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ((""+I2S(R2I((I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))*(2.+(2.*I2R(GetUnitAbilityLevelSwapped('A1MU',GetTriggerUnit())))))))),XVV,10.,12.,4.,4.,99.,8.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(XNI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0PG',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0PG',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1WF',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"innerfire",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(XBI())then
set XDI=GetSpellTargetUnit()
set JHO=GetTriggerUnit()
call TriggerSleepAction(.1)
call IssueTargetOrderBJ(JHO,"attack",XDI)
set JHO=null
set XDI=null
endif
endfunction
function XFI takes nothing returns nothing
set I3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I3E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(I3E,function XCI)
endfunction
function XGI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function XHI takes nothing returns boolean
return(GetSpellAbilityId()=='A11N')
endfunction
function XJI takes nothing returns nothing
if(XHI())then
if(XGI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,50.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,100.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,150.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,200.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,250.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,300.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-300.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-250.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-200.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-150.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-100.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,-50.,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call SetPlayerAbilityAvailableBJ(false,'A0BX',Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerAbilityAvailableBJ(true,'A0BX',Player(PLAYER_NEUTRAL_AGGRESSIVE))
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,0),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,50.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,100.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,150.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,200.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,250.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,300.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-300.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-250.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-200.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-150.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-100.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocFacingLocBJ(1,'h03A',GetOwningPlayer(GetTriggerUnit()),OffsetLocation(XVV,.0,-50.),XVV)
call SetUnitAbilityLevelSwapped('A0BX',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(35.,'BTLF',GetLastCreatedUnit())
call SetPlayerAbilityAvailableBJ(false,'A0BX',Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerAbilityAvailableBJ(true,'A0BX',Player(PLAYER_NEUTRAL_AGGRESSIVE))
call RemoveLocation(XVV)
endif
endif
endfunction
function XKI takes nothing returns nothing
set I4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I4E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(I4E,function XJI)
endfunction
function XLI takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Command to remove normal items on the floor (items to find) has been activated, items will removed in 20 seconds, any player can input the command again to delay it if you needed.")
call StartTimerBJ(AYV,false,20.)
endfunction
function XMI takes nothing returns nothing
set I5E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(I5E,Player(2),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(3),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(4),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(5),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(6),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(7),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(8),"-RITE",true)
call TriggerRegisterPlayerChatEvent(I5E,Player(9),"-RITE",true)
call TriggerAddAction(I5E,function XLI)
endfunction
function XPI takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Command to remove legendary items on the floor (Legendary items that can be farmed) has been activated, items will be removed in 20 seconds, any player can input the command again to delay it if you needed.")
call StartTimerBJ(AZV,false,20.)
endfunction
function XQI takes nothing returns nothing
local trigger XSI
set XSI=CreateTrigger()
call TriggerRegisterPlayerChatEvent(XSI,Player(2),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(3),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(4),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(5),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(6),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(7),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(8),"-RITEL",true)
call TriggerRegisterPlayerChatEvent(XSI,Player(9),"-RITEL",true)
call TriggerAddAction(XSI,function XPI)
endfunction
function XTI takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Command to remove Potions on the floor has been activated, items will be removed in 20 seconds, any player can input the command again to delay it if you needed.")
call StartTimerBJ(A0V,false,20.)
endfunction
function XUI takes nothing returns nothing
local trigger XWI
set XWI=CreateTrigger()
call TriggerRegisterPlayerChatEvent(XWI,Player(2),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(3),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(4),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(5),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(6),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(7),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(8),"-RPOTS",true)
call TriggerRegisterPlayerChatEvent(XWI,Player(9),"-RPOTS",true)
call TriggerAddAction(XWI,function XTI)
endfunction
function XYI takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Command to remove normal and legendary items on the floor (items to find) has been activated, items will be removed in 20 seconds, any player can input the command again to delay it if you needed.")
call StartTimerBJ(A_V,false,20.)
endfunction
function XZI takes nothing returns nothing
local trigger X_I
set X_I=CreateTrigger()
call TriggerRegisterPlayerChatEvent(X_I,Player(2),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(3),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(4),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(5),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(6),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(7),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(8),"-RITEALL",true)
call TriggerRegisterPlayerChatEvent(X_I,Player(9),"-RITEALL",true)
call TriggerAddAction(X_I,function XYI)
endfunction
function X0I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function X1I takes nothing returns nothing
call SetUnitColor(GetEnumUnit(),PLAYER_COLOR_RED)
endfunction
function X2I takes nothing returns nothing
set XEV=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function X0I))
call ForGroupBJ(XEV,function X1I)
call DestroyGroup(XEV)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function X3I takes nothing returns nothing
set I6E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(I6E,Player(2),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(3),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(4),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(5),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(6),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(7),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(8),"-CRED",true)
call TriggerRegisterPlayerChatEvent(I6E,Player(9),"-CRED",true)
call TriggerAddAction(I6E,function X2I)
endfunction
function X4I takes nothing returns nothing
call SetUnitVertexColorBJ(COV,'d','d','d',0)
call UnitRemoveAbilityBJ('A0XB',COV)
call UnitRemoveAbilityBJ('A1U7',COV)
set CAV=1
endfunction
function X5I takes nothing returns nothing
set I7E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(I7E,CXV)
call TriggerAddAction(I7E,function X4I)
endfunction
function X6I takes nothing returns nothing
call SetUnitLifeBJ(FLV,(GetUnitStateSwap(UNIT_STATE_LIFE,FLV)+70000.))
call ModifyHeroStat(bj_HEROSTAT_STR,FLV,bj_MODIFYMETHOD_SUB,$A28)
set FLV=null
endfunction
function X7I takes nothing returns nothing
set I8E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(I8E,F_V)
call TriggerAddAction(I8E,function X6I)
endfunction
function X8I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function X9I takes nothing returns nothing
call SetUnitColor(GetEnumUnit(),PLAYER_COLOR_BLUE)
endfunction
function OVI takes nothing returns nothing
set XEV=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function X8I))
call ForGroupBJ(XEV,function X9I)
call DestroyGroup(XEV)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function OEI takes nothing returns nothing
set I9E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(I9E,Player(2),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(3),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(4),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(5),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(6),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(7),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(8),"-CBLUE",true)
call TriggerRegisterPlayerChatEvent(I9E,Player(9),"-CBLUE",true)
call TriggerAddAction(I9E,function OVI)
endfunction
function OXI takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Number of units killed by you: "+I2S(GetPlayerScore(GetTriggerPlayer(),PLAYER_SCORE_UNITS_KILLED))))
endfunction
function OOI takes nothing returns nothing
set AVE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(AVE,Player(2),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(3),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(4),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(5),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(6),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(7),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(8),"-K",true)
call TriggerRegisterPlayerChatEvent(AVE,Player(9),"-K",true)
call TriggerAddAction(AVE,function OXI)
endfunction
function ORI takes nothing returns boolean
return(S2I(SubStringBJ(GetEventPlayerChatString(),5,8))>=500)and(S2I(SubStringBJ(GetEventPlayerChatString(),5,8))<=$FA0)
endfunction
function OII takes nothing returns nothing
if(ORI())then
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,S2R(SubStringBJ(GetEventPlayerChatString(),5,8)),.2)
endif
endfunction
function OAI takes nothing returns nothing
set AEE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(AEE,Player(2),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(3),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(4),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(5),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(6),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(7),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(8),"-Cam",false)
call TriggerRegisterPlayerChatEvent(AEE,Player(9),"-Cam",false)
call TriggerAddAction(AEE,function OII)
endfunction
function ONI takes nothing returns boolean
return(GetTriggerPlayer()==Player(2))and(GetEventPlayerChatString()=="-camsmooth")
endfunction
function OBI takes nothing returns boolean
return(GetTriggerPlayer()==Player(2))and(GetEventPlayerChatString()=="-camreset")
endfunction
function OCI takes nothing returns nothing
if(OBI())then
call CameraResetSmoothingFactorBJ()
call DisplayTextToForce(GetPlayersAll(),"Smooth Camera disabled.")
else
if(ONI())then
call CameraSetSmoothingFactorBJ(50.)
call DisplayTextToForce(GetPlayersAll(),"Smooth Camera enabled.")
endif
endif
endfunction
function ODI takes nothing returns nothing
set G4E=CreateTrigger()
call TriggerRegisterPlayerChatEvent(G4E,Player(2),"-cam",false)
call TriggerAddAction(G4E,function OCI)
endfunction
function OFI takes nothing returns nothing
set A5V=GetTriggerPlayer()
call StartTimerBJ(A6V,false,3.)
endfunction
function OGI takes nothing returns nothing
set AXE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(AXE,Player(2),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(3),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(4),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(5),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(6),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(7),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(8),"-KA",true)
call TriggerRegisterPlayerChatEvent(AXE,Player(9),"-KA",true)
call TriggerAddAction(AXE,function OFI)
endfunction
function OHI takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(("Number of kills of "+(GetPlayerName(A5V)+" are: "))+I2S(GetPlayerScore(A5V,PLAYER_SCORE_UNITS_KILLED))))
endfunction
function OJI takes nothing returns nothing
set AOE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(AOE,A6V)
call TriggerAddAction(AOE,function OHI)
endfunction
function OKI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OLI takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<300)
endfunction
function OMI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06Q')
endfunction
function OPI takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<400)
endfunction
function OQI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06I')
endfunction
function OSI takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<400)
endfunction
function OTI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06H')
endfunction
function OUI takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<400)
endfunction
function OWI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06N')
endfunction
function OYI takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<600)
endfunction
function OZI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06O')
endfunction
function O_I takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<600)
endfunction
function O0I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06L')
endfunction
function O1I takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<600)
endfunction
function O2I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06J')
endfunction
function O3I takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<$44C)
endfunction
function O4I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06K')
endfunction
function O5I takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<$44C)
endfunction
function O6I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06M')
endfunction
function O7I takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,A3V))<$44C)
endfunction
function O8I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h06P')
endfunction
function O9I takes nothing returns nothing
set A3V=GroupPickRandomUnit(GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function OKI)))
set A4V=GetTriggerUnit()
if(OMI())then
if(OLI())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-300.))
endif
endif
if(OQI())then
if(OPI())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-400.))
endif
endif
if(OTI())then
if(OSI())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-400.))
endif
endif
if(OWI())then
if(OUI())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-400.))
endif
endif
if(OZI())then
if(OYI())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-600.))
endif
endif
if(O0I())then
if(O_I())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-600.))
endif
endif
if(O2I())then
if(O1I())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-600.))
endif
endif
if(O4I())then
if(O3I())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-1100.))
endif
endif
if(O6I())then
if(O5I())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-1100.))
endif
endif
if(O8I())then
if(O7I())then
call IssueImmediateOrderById(A4V,$D0008)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Not enough Mana.",XVV,10.,10.,25.,20.,80.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),20.,90)
else
call SetUnitManaBJ(A3V,(GetUnitStateSwap(UNIT_STATE_MANA,A3V)-1100.))
endif
endif
endfunction
function RVI takes nothing returns nothing
set ARE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ARE,EVENT_PLAYER_UNIT_UPGRADE_START)
call TriggerAddAction(ARE,function O9I)
endfunction
function REI takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='n05D'
endfunction
function RXI takes nothing returns nothing
local unit u
local integer it
local integer ROI=GetItemTypeId(GetSoldItem())
local unit RRI=GetSellingUnit()
if ROI=='bgst' then
set it=0
set u=MG[0]
endif
if ROI=='I03V' then
set it=1
set u=MG[0]
endif
if ROI=='sprn' then
set it=2
set u=MG[0]
endif
if ROI=='anfg' then
set it=3
set u=MG[0]
endif
if ROI=='frhg' then
set it=4
set u=MG[0]
endif
if ROI=='hval' then
set it=5
set u=MG[0]
endif
if ROI=='I011' then
set it=6
set u=MG[0]
endif
if ROI=='ciri' then
set it=7
set u=MG[0]
endif
if ROI=='I07E' then
set it=8
set u=MG[0]
endif
if ROI=='I013' then
set it=9
set u=MG[0]
endif
if ROI=='arsh' then
set it=$A
set u=MG[0]
endif
if ROI=='hbth' then
set it=$B
set u=MG[1]
endif
if ROI=='I07C' then
set it=$C
set u=MG[1]
endif
if ROI=='I00X' then
set it=$D
set u=MG[1]
endif
if ROI=='I02F' then
set it=$E
set u=MG[1]
endif
if ROI=='tmsc' then
set it=$F
set u=MG[1]
endif
if ROI=='I07D' then
set it=16
set u=MG[1]
endif
if ROI=='I00Z' then
set it=17
set u=MG[1]
endif
if ROI=='I010' then
set it=18
set u=MG[1]
endif
if ROI=='stre' then
set it=19
set u=MG[1]
endif
if ROI=='arsc' then
set it=20
set u=MG[1]
endif
if ROI=='scul' then
set it=21
set u=MG[1]
endif
if ROI=='soul' then
set it=22
set u=MG[2]
endif
if ROI=='amrc' then
set it=23
set u=MG[2]
endif
if ROI=='I03U' then
set it=24
set u=MG[2]
endif
if ROI=='I00Y' then
set it=25
set u=MG[2]
endif
if ROI=='I02B' then
set it=26
set u=MG[2]
endif
if ROI=='I03W' then
set it=27
set u=MG[2]
endif
if ROI=='I02G' then
set it=28
set u=MG[2]
endif
if ROI=='I02C' then
set it=29
set u=MG[2]
endif
if ROI=='I02D' then
set it=30
set u=MG[2]
endif
if ROI=='I03T' then
set it=31
set u=MG[2]
endif
if ROI=='I049' then
set it=32
set u=MG[2]
endif
if ROI=='I0HE' then
set it=33
set u=MG[3]
endif
if ROI=='I04M' then
set it=34
set u=MG[3]
endif
if ROI=='I01Q' then
set it=35
set u=MG[3]
endif
if ROI=='pnvl' then
set it=36
set u=MG[3]
endif
if ROI=='rej2' then
set it=37
set u=MG[3]
endif
if ROI=='rej3' then
set it=38
set u=MG[3]
endif
if ROI=='rej4' then
set it=39
set u=MG[3]
endif
if ROI=='pnvu' then
set it=40
set u=MG[3]
endif
if ROI=='I06B' then
set it=41
set u=MG[3]
endif
if ROI=='I099' then
set it=42
set u=MG[3]
endif
if ROI=='I097' then
set it=43
set u=MG[3]
endif
if ROI=='I09A' then
set it=44
set u=MG[4]
endif
if ROI=='I0AV' then
set it=45
set u=MG[4]
endif
if ROI=='lhst' then
set it=46
set u=MG[4]
endif
if ROI=='I012' then
set it=47
set u=MG[4]
endif
if ROI=='I0A0' then
set it=48
set u=MG[4]
endif
if ROI=='I00V' then
set it=49
set u=MG[4]
endif
if ROI=='I09O' then
set it=50
set u=MG[4]
endif
if ROI=='fgrg' then
set it=51
set u=MG[4]
endif
if ROI=='I0K0' then
set it=52
set u=MG[4]
endif
if ROI=='I0CK' then
set it=53
set u=MG[5]
endif
if ROI=='I02H' then
set it=54
set u=MG[5]
endif
if ROI=='I0CJ' then
set it=55
set u=MG[5]
endif
if ROI=='I04N' then
set it=56
set u=MG[5]
endif
if ROI=='I05S' then
set it=57
set u=MG[5]
endif
if ROI=='I0CQ' then
set it=58
set u=MG[5]
endif
if ROI=='I05T' then
set it=59
set u=MG[5]
endif
if ROI=='gemt' then
set it=60
set u=MG[5]
endif
if ROI=='I0CT' then
set it=61
set u=MG[5]
endif
if ROI=='I0CV' then
set it=62
set u=MG[5]
endif
if ROI=='I0ET' then
set it=63
set u=MG[5]
endif
if ROI=='I02I' then
set it=64
set u=MG[5]
endif
if ROI=='I047' then
set it=65
set u=MG[5]
endif
if ROI=='I05Y' then
set it=66
set u=MG[5]
endif
if ROI=='I0CY' then
set it=67
set u=MG[5]
endif
if ROI=='I048' then
set it=68
set u=MG[5]
endif
if ROI=='I07B' then
set it=69
set u=MG[5]
endif
if ROI=='I0CP' then
set it=70
set u=MG[5]
endif
if ROI=='I0CR' then
set it=71
set u=MG[5]
endif
if ROI=='I0DM' then
set it=72
set u=MG[5]
endif
if ROI=='I0DN' then
set it=73
set u=MG[5]
endif
if ROI=='I0DP' then
set it=74
set u=MG[5]
endif
if ROI=='I02E' then
set it=75
set u=MG[5]
endif
if ROI=='I03X' then
set it=76
set u=MG[5]
endif
if ROI=='I05F' then
set it=77
set u=MG[5]
endif
if ROI=='I07A' then
set it=78
set u=MG[5]
endif
if ROI=='I079' then
set it=79
set u=MG[5]
endif
if ROI=='I0EZ' then
set it=80
set u=MG[5]
endif
if ROI=='I0DO' then
set it=81
set u=MG[5]
endif
if ROI=='I0DL' then
set it=82
set u=MG[5]
endif
if ROI=='iwbr' then
set it=83
set u=MG[5]
endif
if ROI=='I0FA' then
set it=84
set u=MG[5]
endif
if ROI=='I0FD' then
set it=85
set u=MG[5]
endif
if ROI=='I0FC' then
set it=86
set u=MG[5]
endif
if ROI=='I0FB' then
set it=87
set u=MG[5]
endif
if ROI=='I0CU' then
set it=88
set u=MG[5]
endif
if ROI=='I0CZ' then
set it=89
set u=MG[5]
endif
if ROI=='I0D0' then
set it=90
set u=MG[5]
endif
if ROI=='I0HG' then
set it=91
set u=MG[5]
endif
if ROI=='I0ES' then
set it=92
set u=MG[5]
endif
if ROI=='oflg' then
set it=93
set u=MG[5]
endif
if ROI=='lhst' then
set it=94
set u=MG[4]
endif
set KG[it]=KG[it]-1
if KG[it]==0 then
call RemoveItemFromStock(u,ROI)
endif
if IsUnit(u,MG[5]) and OC then
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,I2S(KG[it])+" "+(GetItemName(GetSoldItem())+" remaining"))
endif
set u=null
set it=0
set ROI=0
set RRI=null
endfunction
function RII takes nothing returns nothing
local trigger RAI
set RAI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RAI,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(RAI,Condition(function REI))
call TriggerAddAction(RAI,function RXI)
endfunction
function RNI takes nothing returns nothing
if KG[0]>0 then
call RemoveItemFromStock(MG[0],'bgst')
call AddItemToStock(MG[0],'bgst',KG[0],KG[0])
endif
if KG[1]>0 then
call RemoveItemFromStock(MG[0],'I03V')
call AddItemToStock(MG[0],'I03V',KG[1],KG[1])
endif
if KG[2]>0 then
call RemoveItemFromStock(MG[0],'sprn')
call AddItemToStock(MG[0],'sprn',KG[2],KG[2])
endif
if KG[3]>0 then
call RemoveItemFromStock(MG[0],'anfg')
call AddItemToStock(MG[0],'anfg',KG[3],KG[3])
endif
if KG[4]>0 then
call RemoveItemFromStock(MG[0],'frhg')
call AddItemToStock(MG[0],'frhg',KG[4],KG[4])
endif
if KG[5]>0 then
call RemoveItemFromStock(MG[0],'hval')
call AddItemToStock(MG[0],'hval',KG[5],KG[5])
endif
if KG[6]>0 then
call RemoveItemFromStock(MG[0],'I011')
call AddItemToStock(MG[0],'I011',KG[6],KG[6])
endif
if KG[7]>0 then
call RemoveItemFromStock(MG[0],'ciri')
call AddItemToStock(MG[0],'ciri',KG[7],KG[7])
endif
if KG[8]>0 then
call RemoveItemFromStock(MG[0],'I07E')
call AddItemToStock(MG[0],'I07E',KG[8],KG[8])
endif
if KG[9]>0 then
call RemoveItemFromStock(MG[0],'I013')
call AddItemToStock(MG[0],'I013',KG[9],KG[9])
endif
if KG[$A]>0 then
call RemoveItemFromStock(MG[0],'arsh')
call AddItemToStock(MG[0],'arsh',KG[$A],KG[$A])
endif
if KG[$B]>0 then
call RemoveItemFromStock(MG[1],'hbth')
call AddItemToStock(MG[1],'hbth',KG[$B],KG[$B])
endif
if KG[$C]>0 then
call RemoveItemFromStock(MG[1],'I07C')
call AddItemToStock(MG[1],'I07C',KG[$C],KG[$C])
endif
if KG[$D]>0 then
call RemoveItemFromStock(MG[1],'I00X')
call AddItemToStock(MG[1],'I00X',KG[$D],KG[$D])
endif
if KG[$E]>0 then
call RemoveItemFromStock(MG[1],'I02F')
call AddItemToStock(MG[1],'I02F',KG[$E],KG[$E])
endif
if KG[$F]>0 then
call RemoveItemFromStock(MG[1],'tmsc')
call AddItemToStock(MG[1],'tmsc',KG[$F],KG[$F])
endif
if KG[16]>0 then
call RemoveItemFromStock(MG[1],'I07D')
call AddItemToStock(MG[1],'I07D',KG[16],KG[16])
endif
if KG[17]>0 then
call RemoveItemFromStock(MG[1],'I00Z')
call AddItemToStock(MG[1],'I00Z',KG[17],KG[17])
endif
if KG[18]>0 then
call RemoveItemFromStock(MG[1],'I010')
call AddItemToStock(MG[1],'I010',KG[18],KG[18])
endif
if KG[19]>0 then
call RemoveItemFromStock(MG[1],'stre')
call AddItemToStock(MG[1],'stre',KG[19],KG[19])
endif
if KG[20]>0 then
call RemoveItemFromStock(MG[1],'arsc')
call AddItemToStock(MG[1],'arsc',KG[20],KG[20])
endif
if KG[21]>0 then
call RemoveItemFromStock(MG[1],'scul')
call AddItemToStock(MG[1],'scul',KG[21],KG[21])
endif
if KG[22]>0 then
call RemoveItemFromStock(MG[2],'soul')
call AddItemToStock(MG[2],'soul',KG[22],KG[22])
endif
if KG[23]>0 then
call RemoveItemFromStock(MG[2],'amrc')
call AddItemToStock(MG[2],'amrc',KG[23],KG[23])
endif
if KG[24]>0 then
call RemoveItemFromStock(MG[2],'I03U')
call AddItemToStock(MG[2],'I03U',KG[24],KG[24])
endif
if KG[25]>0 then
call RemoveItemFromStock(MG[2],'I00Y')
call AddItemToStock(MG[2],'I00Y',KG[25],KG[25])
endif
if KG[26]>0 then
call RemoveItemFromStock(MG[2],'I02B')
call AddItemToStock(MG[2],'I02B',KG[26],KG[26])
endif
if KG[27]>0 then
call RemoveItemFromStock(MG[2],'I03W')
call AddItemToStock(MG[2],'I03W',KG[27],KG[27])
endif
if KG[28]>0 then
call RemoveItemFromStock(MG[2],'I02G')
call AddItemToStock(MG[2],'I02G',KG[28],KG[28])
endif
if KG[29]>0 then
call RemoveItemFromStock(MG[2],'I02C')
call AddItemToStock(MG[2],'I02C',KG[29],KG[29])
endif
if KG[30]>0 then
call RemoveItemFromStock(MG[2],'I02D')
call AddItemToStock(MG[2],'I02D',KG[30],KG[30])
endif
if KG[31]>0 then
call RemoveItemFromStock(MG[2],'I03T')
call AddItemToStock(MG[2],'I03T',KG[31],KG[31])
endif
if KG[32]>0 then
call RemoveItemFromStock(MG[2],'I049')
call AddItemToStock(MG[2],'I049',KG[32],KG[32])
endif
if KG[33]>0 then
call RemoveItemFromStock(MG[3],'I0HE')
call AddItemToStock(MG[3],'I0HE',KG[33],KG[33])
endif
if KG[34]>0 then
call RemoveItemFromStock(MG[3],'I04M')
call AddItemToStock(MG[3],'I04M',KG[34],KG[34])
endif
if KG[35]>0 then
call RemoveItemFromStock(MG[3],'I01Q')
call AddItemToStock(MG[3],'I01Q',KG[35],KG[35])
endif
if KG[36]>0 then
call RemoveItemFromStock(MG[3],'pnvl')
call AddItemToStock(MG[3],'pnvl',KG[36],KG[36])
endif
if KG[37]>0 then
call RemoveItemFromStock(MG[3],'rej2')
call AddItemToStock(MG[3],'rej2',KG[37],KG[37])
endif
if KG[38]>0 then
call RemoveItemFromStock(MG[3],'rej3')
call AddItemToStock(MG[3],'rej3',KG[38],KG[38])
endif
if KG[39]>0 then
call RemoveItemFromStock(MG[3],'rej4')
call AddItemToStock(MG[3],'rej4',KG[39],KG[39])
endif
if KG[40]>0 then
call RemoveItemFromStock(MG[3],'pnvu')
call AddItemToStock(MG[3],'pnvu',KG[40],KG[40])
endif
if KG[41]>0 then
call RemoveItemFromStock(MG[3],'I06B')
call AddItemToStock(MG[3],'I06B',KG[41],KG[41])
endif
if KG[42]>0 then
call RemoveItemFromStock(MG[3],'I099')
call AddItemToStock(MG[3],'I099',KG[42],KG[42])
endif
if KG[43]>0 then
call RemoveItemFromStock(MG[3],'I097')
call AddItemToStock(MG[3],'I097',KG[43],KG[43])
endif
if KG[44]>0 then
call RemoveItemFromStock(MG[4],'I09A')
call AddItemToStock(MG[4],'I09A',KG[44],KG[44])
endif
if KG[45]>0 then
call RemoveItemFromStock(MG[4],'I0AV')
call AddItemToStock(MG[4],'I0AV',KG[45],KG[45])
endif
if KG[46]>0 then
call RemoveItemFromStock(MG[4],'lhst')
call AddItemToStock(MG[4],'lhst',KG[46],KG[46])
endif
if KG[47]>0 then
call RemoveItemFromStock(MG[4],'I012')
call AddItemToStock(MG[4],'I012',KG[47],KG[47])
endif
if KG[48]>0 then
call RemoveItemFromStock(MG[4],'I0A0')
call AddItemToStock(MG[4],'I0A0',KG[48],KG[48])
endif
if KG[49]>0 then
call RemoveItemFromStock(MG[4],'I00V')
call AddItemToStock(MG[4],'I00V',KG[49],KG[49])
endif
if KG[50]>0 then
call RemoveItemFromStock(MG[4],'I09O')
call AddItemToStock(MG[4],'I09O',KG[50],KG[50])
endif
if KG[51]>0 then
call RemoveItemFromStock(MG[4],'fgrg')
call AddItemToStock(MG[4],'fgrg',KG[51],KG[51])
endif
if KG[52]>0 then
call RemoveItemFromStock(MG[4],'I0K0')
call AddItemToStock(MG[4],'I0K0',KG[52],KG[52])
endif
if KG[94]>0 then
call RemoveItemFromStock(MG[4],'lhst')
call AddItemToStock(MG[4],'lhst',KG[94],KG[94])
endif
endfunction
function RBI takes nothing returns boolean
return(GetItemLevel(GetFilterItem())==3)
endfunction
function RCI takes nothing returns boolean
return(GetItemLevel(GetFilterItem())==4)
endfunction
function RDI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='pghe')
endfunction
function RFI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='pgma')
endfunction
function RGI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='phea')
endfunction
function RHI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='pman')
endfunction
function RJI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='hslv')
endfunction
function RKI takes nothing returns boolean
return(GetBooleanOr(RDI(),RFI()))
endfunction
function RLI takes nothing returns boolean
return(GetBooleanOr(RKI(),RGI()))
endfunction
function RMI takes nothing returns boolean
return(GetBooleanOr(RLI(),RHI()))
endfunction
function RPI takes nothing returns boolean
return(GetBooleanOr(RMI(),RJI()))
endfunction
function RQI takes nothing returns nothing
if XC==1 then
call ExecuteFunc("RSI")
endif
if XC==2 then
call ExecuteFunc("RTI")
endif
if XC==3 then
call ExecuteFunc("RUI")
endif
if XC==4 then
call ExecuteFunc("RWI")
endif
if XC==5 then
call ExecuteFunc("RYI")
endif
if GetUnitAbilityLevelSwapped('A1YF',MG[5])==1 then
call UnitRemoveAbilityBJ('A1YF',MG[5])
endif
if GetUnitAbilityLevelSwapped('A1VK',MG[5])==1 then
call UnitRemoveAbilityBJ('A1VK',MG[5])
endif
set XC=0
call UnitAddAbilityBJ('A1YG',MG[5])
call UnitRemoveAbilityBJ('A1VJ',MG[5])
call UnitAddAbilityBJ('A09Z',MG[5])
endfunction
function RZI takes nothing returns nothing
local item i=GetEnumItem()
if GetItemTypeId(i)=='I0CK' then
set KG[53]=KG[53]+1
endif
if GetItemTypeId(i)=='I02H' then
set KG[54]=KG[54]+1
endif
if GetItemTypeId(i)=='I0CJ' then
set KG[55]=KG[55]+1
endif
if GetItemTypeId(i)=='I04N' then
set KG[56]=KG[56]+1
endif
if GetItemTypeId(i)=='I05S' then
set KG[57]=KG[57]+1
endif
if GetItemTypeId(i)=='I0CQ' then
set KG[58]=KG[58]+1
endif
if GetItemTypeId(i)=='I05T' then
set KG[59]=KG[59]+1
endif
if GetItemTypeId(i)=='gemt' then
set KG[60]=KG[60]+1
endif
if GetItemTypeId(i)=='I0CT' then
set KG[61]=KG[61]+1
endif
if GetItemTypeId(i)=='I0CV' then
set KG[62]=KG[62]+1
endif
if GetItemTypeId(i)=='I0ET' then
set KG[63]=KG[63]+1
endif
if GetItemTypeId(i)=='I02I' then
set KG[64]=KG[64]+1
endif
if GetItemTypeId(i)=='I047' then
set KG[65]=KG[65]+1
endif
if GetItemTypeId(i)=='I05Y' then
set KG[66]=KG[66]+1
endif
if GetItemTypeId(i)=='I0CY' then
set KG[67]=KG[67]+1
endif
if GetItemTypeId(i)=='I048' then
set KG[68]=KG[68]+1
endif
if GetItemTypeId(i)=='I07B' then
set KG[69]=KG[69]+1
endif
if GetItemTypeId(i)=='I0CP' then
set KG[70]=KG[70]+1
endif
if GetItemTypeId(i)=='I0CR' then
set KG[71]=KG[71]+1
endif
if GetItemTypeId(i)=='I0DM' then
set KG[72]=KG[72]+1
endif
if GetItemTypeId(i)=='I0DN' then
set KG[73]=KG[73]+1
endif
if GetItemTypeId(i)=='I0DP' then
set KG[74]=KG[74]+1
endif
if GetItemTypeId(i)=='I02E' then
set KG[75]=KG[75]+1
endif
if GetItemTypeId(i)=='I03X' then
set KG[76]=KG[76]+1
endif
if GetItemTypeId(i)=='I05F' then
set KG[77]=KG[77]+1
endif
if GetItemTypeId(i)=='I07A' then
set KG[78]=KG[78]+1
endif
if GetItemTypeId(i)=='I079' then
set KG[79]=KG[79]+1
endif
if GetItemTypeId(i)=='I0EZ' then
set KG[80]=KG[80]+1
endif
if GetItemTypeId(i)=='I0DO' then
set KG[81]=KG[81]+1
endif
if GetItemTypeId(i)=='I0DL' then
set KG[82]=KG[82]+1
endif
if GetItemTypeId(i)=='iwbr' then
set KG[83]=KG[83]+1
endif
if GetItemTypeId(i)=='I0FA' then
set KG[84]=KG[84]+1
endif
if GetItemTypeId(i)=='I0FD' then
set KG[85]=KG[85]+1
endif
if GetItemTypeId(i)=='I0FC' then
set KG[86]=KG[86]+1
endif
if GetItemTypeId(i)=='I0FB' then
set KG[87]=KG[87]+1
endif
if GetItemTypeId(i)=='I0CU' then
set KG[88]=KG[88]+1
endif
if GetItemTypeId(i)=='I0CZ' then
set KG[89]=KG[89]+1
endif
if GetItemTypeId(i)=='I0D0' then
set KG[90]=KG[90]+1
endif
if GetItemTypeId(i)=='I0HG' then
set KG[91]=KG[91]+1
endif
if GetItemTypeId(i)=='I0ES' then
set KG[92]=KG[92]+1
endif
if GetItemTypeId(i)=='oflg' then
set KG[93]=KG[93]+1
endif
call SetWidgetLife(i,1.)
call RemoveItem(i)
set i=null
endfunction
function R_I takes nothing returns nothing
local item i=GetEnumItem()
if GetItemTypeId(i)=='bgst' then
set KG[0]=KG[0]+1
endif
if GetItemTypeId(i)=='I03V' then
set KG[1]=KG[1]+1
endif
if GetItemTypeId(i)=='sprn' then
set KG[2]=KG[2]+1
endif
if GetItemTypeId(i)=='anfg' then
set KG[3]=KG[3]+1
endif
if GetItemTypeId(i)=='frhg' then
set KG[4]=KG[4]+1
endif
if GetItemTypeId(i)=='hval' then
set KG[5]=KG[5]+1
endif
if GetItemTypeId(i)=='I011' then
set KG[6]=KG[6]+1
endif
if GetItemTypeId(i)=='ciri' then
set KG[7]=KG[7]+1
endif
if GetItemTypeId(i)=='I07E' then
set KG[8]=KG[8]+1
endif
if GetItemTypeId(i)=='I013' then
set KG[9]=KG[9]+1
endif
if GetItemTypeId(i)=='arsh' then
set KG[$A]=KG[$A]+1
endif
if GetItemTypeId(i)=='hbth' then
set KG[$B]=KG[$B]+1
endif
if GetItemTypeId(i)=='I07C' then
set KG[$C]=KG[$C]+1
endif
if GetItemTypeId(i)=='I00X' then
set KG[$D]=KG[$D]+1
endif
if GetItemTypeId(i)=='I02F' then
set KG[$E]=KG[$E]+1
endif
if GetItemTypeId(i)=='tmsc' then
set KG[$F]=KG[$F]+1
endif
if GetItemTypeId(i)=='I07D' then
set KG[16]=KG[16]+1
endif
if GetItemTypeId(i)=='I00Z' then
set KG[17]=KG[17]+1
endif
if GetItemTypeId(i)=='I010' then
set KG[18]=KG[18]+1
endif
if GetItemTypeId(i)=='stre' then
set KG[19]=KG[19]+1
endif
if GetItemTypeId(i)=='arsc' then
set KG[20]=KG[20]+1
endif
if GetItemTypeId(i)=='scul' then
set KG[21]=KG[21]+1
endif
if GetItemTypeId(i)=='soul' then
set KG[22]=KG[22]+1
endif
if GetItemTypeId(i)=='amrc' then
set KG[23]=KG[23]+1
endif
if GetItemTypeId(i)=='I03U' then
set KG[24]=KG[24]+1
endif
if GetItemTypeId(i)=='I00Y' then
set KG[25]=KG[25]+1
endif
if GetItemTypeId(i)=='I02B' then
set KG[26]=KG[26]+1
endif
if GetItemTypeId(i)=='I03W' then
set KG[27]=KG[27]+1
endif
if GetItemTypeId(i)=='I02G' then
set KG[28]=KG[28]+1
endif
if GetItemTypeId(i)=='I02C' then
set KG[29]=KG[29]+1
endif
if GetItemTypeId(i)=='I02D' then
set KG[30]=KG[30]+1
endif
if GetItemTypeId(i)=='I03T' then
set KG[31]=KG[31]+1
endif
if GetItemTypeId(i)=='I049' then
set KG[32]=KG[32]+1
endif
if GetItemTypeId(i)=='I0HE' then
set KG[33]=KG[33]+1
endif
if GetItemTypeId(i)=='I04M' then
set KG[34]=KG[34]+1
endif
if GetItemTypeId(i)=='I01Q' then
set KG[35]=KG[35]+1
endif
if GetItemTypeId(i)=='pnvl' then
set KG[36]=KG[36]+GetItemCharges(i)
endif
if GetItemTypeId(i)=='rej2' then
set KG[37]=KG[37]+GetItemCharges(i)
endif
if GetItemTypeId(i)=='rej3' then
set KG[38]=KG[38]+GetItemCharges(i)
endif
if GetItemTypeId(i)=='rej4' then
set KG[39]=KG[39]+GetItemCharges(i)
endif
if GetItemTypeId(i)=='pnvu' then
set KG[40]=KG[40]+GetItemCharges(i)
endif
if GetItemTypeId(i)=='I06B' then
set KG[41]=KG[41]+1
endif
if GetItemTypeId(i)=='I099' then
set KG[42]=KG[42]+1
endif
if GetItemTypeId(i)=='I097' then
set KG[43]=KG[43]+1
endif
if GetItemTypeId(i)=='I09A' then
set KG[44]=KG[44]+1
endif
if GetItemTypeId(i)=='I0AV' then
set KG[45]=KG[45]+1
endif
if GetItemTypeId(i)=='lhst' then
set KG[46]=KG[46]+1
endif
if GetItemTypeId(i)=='I012' then
set KG[47]=KG[47]+1
endif
if GetItemTypeId(i)=='I0A0' then
set KG[48]=KG[48]+1
endif
if GetItemTypeId(i)=='I00V' then
set KG[49]=KG[49]+1
endif
if GetItemTypeId(i)=='I09O' then
set KG[50]=KG[50]+1
endif
if GetItemTypeId(i)=='fgrg' then
set KG[51]=KG[51]+(GetItemCharges(i)/2)
endif
if GetItemTypeId(i)=='I0K0' then
set KG[52]=KG[52]+(GetItemCharges(i)/2)
endif
if GetItemTypeId(i)=='lhst' then
set KG[94]=KG[94]
endif
call SetWidgetLife(i,1.)
call RemoveItem(i)
set i=null
endfunction
function removepotions takes nothing returns nothing
local item i=GetEnumItem()
call SetWidgetLife(i,1.)
call RemoveItem(i)
set i=null
endfunction
function R0I takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Items Have been Moved.")
if GetExpiredTimer()==AYV or GetExpiredTimer()==A_V then
call EnumItemsInRect(bj_mapInitialPlayableArea,Condition(function RBI),function R_I)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[0]),GetUnitY(MG[0]),5)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[1]),GetUnitY(MG[1]),5)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[2]),GetUnitY(MG[2]),5)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[3]),GetUnitY(MG[3]),5)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[4]),GetUnitY(MG[4]),5)
call ExecuteFunc("RNI")
endif
if GetExpiredTimer()==AZV or GetExpiredTimer()==A_V then
call EnumItemsInRect(bj_mapInitialPlayableArea,Condition(function RCI),function RZI)
call PingMinimapForForce(GetPlayersAll(),GetUnitX(MG[0]),GetUnitY(MG[5]),5)
call ExecuteFunc("RQI")
endif
if GetExpiredTimer()==A0V then
call EnumItemsInRect(bj_mapInitialPlayableArea,Condition(function RPI),function RZI)
endif
endfunction
function R1I takes nothing returns nothing
set AIE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(AIE,AYV)
call TriggerRegisterTimerExpireEventBJ(AIE,AZV)
call TriggerRegisterTimerExpireEventBJ(AIE,A_V)
call TriggerRegisterTimerExpireEventBJ(AIE,A0V)
call TriggerAddAction(AIE,function R0I)
endfunction
function R3I takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1VK',MG[5])==0 then
call UnitAddAbilityBJ('A1VK',MG[5])
endif
if GetUnitAbilityLevelSwapped('A1YF',MG[5])==1 then
call UnitRemoveAbilityBJ('A1YF',MG[5])
endif
if KG[53]>0 then
call AddItemToStock(MG[5],'I0CK',1,1)
endif
if KG[54]>0 then
call AddItemToStock(MG[5],'I02H',1,1)
endif
if KG[55]>0 then
call AddItemToStock(MG[5],'I0CJ',1,1)
endif
if KG[56]>0 then
call AddItemToStock(MG[5],'I04N',1,1)
endif
if KG[57]>0 then
call AddItemToStock(MG[5],'I05S',1,1)
endif
if KG[58]>0 then
call AddItemToStock(MG[5],'I0CQ',1,1)
endif
if KG[59]>0 then
call AddItemToStock(MG[5],'I05T',1,1)
endif
if KG[60]>0 then
call AddItemToStock(MG[5],'gemt',1,1)
endif
if KG[61]>0 then
call AddItemToStock(MG[5],'I0CT',1,1)
endif
set XC=1
endfunction
function R4I takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1YF',MG[5])==0 then
call UnitAddAbilityBJ('A1YF',MG[5])
endif
if KG[64]>0 then
call AddItemToStock(MG[5],'I02I',1,1)
endif
if KG[65]>0 then
call AddItemToStock(MG[5],'I047',1,1)
endif
if KG[66]>0 then
call AddItemToStock(MG[5],'I05Y',1,1)
endif
if KG[67]>0 then
call AddItemToStock(MG[5],'I0CY',1,1)
endif
if KG[68]>0 then
call AddItemToStock(MG[5],'I048',1,1)
endif
if KG[69]>0 then
call AddItemToStock(MG[5],'I07B',1,1)
endif
if KG[72]>0 then
call AddItemToStock(MG[5],'I0DM',1,1)
endif
if KG[73]>0 then
call AddItemToStock(MG[5],'I0DN',1,1)
endif
if KG[74]>0 then
call AddItemToStock(MG[5],'I0DP',1,1)
endif
set XC=2
endfunction
function R5I takes nothing returns nothing
if KG[75]>0 then
call AddItemToStock(MG[5],'I02E',1,1)
endif
if KG[76]>0 then
call AddItemToStock(MG[5],'I03X',1,1)
endif
if KG[77]>0 then
call AddItemToStock(MG[5],'I05F',1,1)
endif
if KG[78]>0 then
call AddItemToStock(MG[5],'I07A',1,1)
endif
if KG[79]>0 then
call AddItemToStock(MG[5],'I079',1,1)
endif
if KG[63]>0 then
call AddItemToStock(MG[5],'I0ET',1,1)
endif
if KG[71]>0 then
call AddItemToStock(MG[5],'I0CR',1,1)
endif
if KG[70]>0 then
call AddItemToStock(MG[5],'I0CP',1,1)
endif
if KG[62]>0 then
call AddItemToStock(MG[5],'I0CV',1,1)
endif
set XC=3
endfunction
function R6I takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1VK',MG[5])==0 then
call UnitAddAbilityBJ('A1VK',MG[5])
endif
if KG[80]>0 then
call AddItemToStock(MG[5],'I0EZ',1,1)
endif
if KG[81]>0 then
call AddItemToStock(MG[5],'I0DO',1,1)
endif
if KG[82]>0 then
call AddItemToStock(MG[5],'I0DL',1,1)
endif
if KG[83]>0 then
call AddItemToStock(MG[5],'iwbr',1,1)
endif
if KG[84]>0 then
call AddItemToStock(MG[5],'I0FA',1,1)
endif
if KG[85]>0 then
call AddItemToStock(MG[5],'I0FD',1,1)
endif
if KG[86]>0 then
call AddItemToStock(MG[5],'I0FC',1,1)
endif
if KG[87]>0 then
call AddItemToStock(MG[5],'I0FB',1,1)
endif
if KG[88]>0 then
call AddItemToStock(MG[5],'I0CU',1,1)
endif
set XC=4
endfunction
function R7I takes nothing returns nothing
call UnitRemoveAbilityBJ('A1VK',MG[5])
if KG[89]>0 then
call AddItemToStock(MG[5],'I0CZ',1,1)
endif
if KG[90]>0 then
call AddItemToStock(MG[5],'I0D0',1,1)
endif
if KG[91]>0 then
call AddItemToStock(MG[5],'I0HG',1,1)
endif
if KG[92]>0 then
call AddItemToStock(MG[5],'I0ES',1,1)
endif
if KG[93]>0 then
call AddItemToStock(MG[5],'oflg',1,1)
endif
set XC=5
endfunction
function RSI takes nothing returns nothing
call RemoveItemFromStock(MG[5],'I0CK')
call RemoveItemFromStock(MG[5],'I02H')
call RemoveItemFromStock(MG[5],'I0CJ')
call RemoveItemFromStock(MG[5],'I04N')
call RemoveItemFromStock(MG[5],'I05S')
call RemoveItemFromStock(MG[5],'I0CQ')
call RemoveItemFromStock(MG[5],'I05T')
call RemoveItemFromStock(MG[5],'gemt')
call RemoveItemFromStock(MG[5],'I0CT')
endfunction
function RTI takes nothing returns nothing
call RemoveItemFromStock(MG[5],'I02I')
call RemoveItemFromStock(MG[5],'I047')
call RemoveItemFromStock(MG[5],'I05Y')
call RemoveItemFromStock(MG[5],'I0CY')
call RemoveItemFromStock(MG[5],'I048')
call RemoveItemFromStock(MG[5],'I07B')
call RemoveItemFromStock(MG[5],'I0DM')
call RemoveItemFromStock(MG[5],'I0DN')
call RemoveItemFromStock(MG[5],'I0DP')
endfunction
function RUI takes nothing returns nothing
call RemoveItemFromStock(MG[5],'I02E')
call RemoveItemFromStock(MG[5],'I03X')
call RemoveItemFromStock(MG[5],'I05F')
call RemoveItemFromStock(MG[5],'I07A')
call RemoveItemFromStock(MG[5],'I079')
call RemoveItemFromStock(MG[5],'I0ET')
call RemoveItemFromStock(MG[5],'I0CR')
call RemoveItemFromStock(MG[5],'I0CV')
call RemoveItemFromStock(MG[5],'I0CP')
endfunction
function RWI takes nothing returns nothing
call RemoveItemFromStock(MG[5],'I0EZ')
call RemoveItemFromStock(MG[5],'I0DO')
call RemoveItemFromStock(MG[5],'I0DL')
call RemoveItemFromStock(MG[5],'iwbr')
call RemoveItemFromStock(MG[5],'I0FA')
call RemoveItemFromStock(MG[5],'I0FD')
call RemoveItemFromStock(MG[5],'I0FC')
call RemoveItemFromStock(MG[5],'I0FB')
call RemoveItemFromStock(MG[5],'I0CU')
endfunction
function RYI takes nothing returns nothing
call RemoveItemFromStock(MG[5],'I0CZ')
call RemoveItemFromStock(MG[5],'I0D0')
call RemoveItemFromStock(MG[5],'I0HG')
call RemoveItemFromStock(MG[5],'I0ES')
endfunction
function R8I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function R9I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function IVI takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function IEI takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnitBJ())=='n036')
endfunction
function IXI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uktg')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function IOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsll')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function IRI takes nothing returns nothing
if(R8I())then
call DisableTrigger(V5E)
call DisableTrigger(V6E)
call DisableTrigger(V7E)
call DisableTrigger(V8E)
set AG=1
if(ABV==$A)then
if JBV==false then
call StartTimerBJ(ANV,false,200.)
endif
if JBV then
call StartTimerBJ(ANV,false,100.)
endif
endif
endif
if(R9I())then
endif
if(IEI())then
if(IVI())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateNUnitsAtLoc(1,'n037',GetOwningPlayer(GetKillingUnitBJ()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+30000.))
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set XVV=GetUnitLoc(GetDyingUnit())
call CreateNUnitsAtLoc(1,'u00O',GetOwningPlayer(GetKillingUnitBJ()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+6000.))
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(IXI())then
set XVV=GetRectCenter(MQV)
call CreateNUnitsAtLoc(1,'nsll',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
set DRV=GetLastCreatedUnit()
call RemoveLocation(XVV)
set BJV=null
endif
if(IOI())then
set XVV=GetRectCenter(MDV)
call CreateNUnitsAtLoc(1,'n03M',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
set DXV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
endfunction
function III takes nothing returns nothing
set AAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AAE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(AAE,function IRI)
endfunction
function IAI takes nothing returns nothing
call UnitDamageTargetBJ(IZV,I0V,(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,IZV,true))*3.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(I0V)
call CreateTextTagLocBJ((""+I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,IZV,true)*3))),XVV,10.,10.,19.,70.,19.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endfunction
function INI takes nothing returns nothing
set ANE=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(ANE,1.)
call TriggerAddAction(ANE,function IAI)
endfunction
function IBI takes nothing returns nothing
call DisableTrigger(ANE)
endfunction
function ICI takes nothing returns nothing
set ABE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(ABE,I1V)
call TriggerAddAction(ABE,function IBI)
endfunction
function IDI takes nothing returns boolean
return(GetOwningPlayer(NSV)==GetTriggerPlayer())
endfunction
function IFI takes nothing returns nothing
if(IDI())then
call ModifyHeroSkillPoints(NSV,bj_MODIFYMETHOD_ADD,GetUnitAbilityLevelSwapped('A14F',NSV))
call UnitRemoveAbilityBJ('A14F',NSV)
call SetPlayerAbilityAvailableBJ(false,'A14F',GetTriggerPlayer())
call RemoveUnit(NJV)
endif
endfunction
function IGI takes nothing returns nothing
set ACE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(ACE,Player(2),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(3),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(4),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(5),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(6),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(7),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(8),"-removepriest",true)
call TriggerRegisterPlayerChatEvent(ACE,Player(9),"-removepriest",true)
call TriggerAddAction(ACE,function IFI)
endfunction
function IHI takes nothing returns nothing
set B6V=1
call DisplayTextToForce(GetPlayersAll(),"Enable Low Level units dropping items.")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function IJI takes nothing returns nothing
set ADE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(ADE,Player(2),"-LL",true)
call TriggerAddAction(ADE,function IHI)
endfunction
function IKI takes nothing returns boolean
return(GetOwningPlayer(NSV)==GetTriggerPlayer())
endfunction
function ILI takes nothing returns nothing
if(IKI())then
call ModifyHeroSkillPoints(NSV,bj_MODIFYMETHOD_ADD,GetUnitAbilityLevelSwapped('A14K',NSV))
call UnitRemoveAbilityBJ('A14K',NSV)
call SetPlayerAbilityAvailableBJ(false,'A14K',GetTriggerPlayer())
call RemoveUnit(NKV)
endif
endfunction
function IMI takes nothing returns nothing
set AHE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(AHE,Player(2),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(3),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(4),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(5),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(6),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(7),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(8),"-removetroll",true)
call TriggerRegisterPlayerChatEvent(AHE,Player(9),"-removetroll",true)
call TriggerAddAction(AHE,function ILI)
endfunction
function IPI takes nothing returns boolean
return(GetTriggerPlayer()==GetOwningPlayer(GLV))and(IsUnitAliveBJ(GLV))
endfunction
function IQI takes nothing returns nothing
set XVV=GetUnitLoc(GLV)
call CreateTextTagLocBJ(("Cooldown: "+(I2S(R2I(TimerGetRemaining(GJV)))+" Seconds.")),XVV,10.,10.,30.,30.,30.,15.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
endfunction
function ISI takes nothing returns nothing
if(GetTriggerPlayer()==GetOwningPlayer(GLV))and(IsUnitAliveBJ(GLV))and(GKV>2)then
call ExecuteFunc("IQI")
endif
if(GetTriggerPlayer()==GetOwningPlayer(GLV))and(IsUnitAliveBJ(GLV))and(GKV<2)then
if(GHV==2)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CT',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"fanofknives")
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call CreateTextTagLocBJ("Death Nova",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
set GKV=3
call StartTimerBJ(GJV,false,14.)
call RemoveLocation(XVV)
endif
if(GHV==3)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CU',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call CreateTextTagLocBJ("God killer Bullets",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
set GKV=3
call StartTimerBJ(GJV,false,29.)
call RemoveLocation(XVV)
endif
if(GHV==4)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CS',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
set GKV=3
call StartTimerBJ(GJV,false,24.)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GLV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Last Edge",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call RemoveLocation(XVV)
endif
if(GHV==5)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CV',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(14.,'BTLF',GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("origin",GLV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(GJV,false,250.)
call CreateTextTagLocBJ("Unstoppable",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
set GKV=3
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(GHV==6)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CW',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"roar")
set GKV=3
call StartTimerBJ(GJV,false,58.)
call CreateTextTagLocBJ("Army of the End",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call RemoveLocation(XVV)
endif
if(GHV==7)then
set XVV=GetUnitLoc(GLV)
call CreateNUnitsAtLoc(1,'h07B',GetOwningPlayer(GLV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(32.,'BTLF',GetLastCreatedUnit())
set GKV=3
call StartTimerBJ(GJV,false,220.)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(GLV))
call CreateTextTagLocBJ("Armagedon",XVV,10.,13.,99.,30.,99.,40.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call RemoveLocation(XVV)
endif
if(GHV==8)then
set XVV=GetUnitLoc(GLV)
call SetUnitLifeBJ(GLV,(GetUnitStateSwap(UNIT_STATE_LIFE,GLV)-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GLV)*.27)))
call UnitAddAbilityBJ('A1CY',GLV)
call SetUnitManaBJ(GLV,(GetUnitStateSwap(UNIT_STATE_MANA,GLV)-24000.))
call AddSpecialEffectTargetUnitBJ("origin",GLV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GKV=3
call CreateTextTagLocBJ("Divine Been Attributes",XVV,10.,13.,99.,30.,99.,40.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
call StartTimerBJ(GJV,false,20.)
endif
endif
endfunction
function ITI takes nothing returns nothing
call ExecuteFunc("ISI")
endfunction
function IUI takes nothing returns nothing
set AJE=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(8),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(AJE,Player(9),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerAddCondition(AJE,Condition(function IPI))
call TriggerAddAction(AJE,function ITI)
endfunction
function IWI takes nothing returns boolean
return(GetSpellAbilityId()=='A1X4')
endfunction
function IYI takes nothing returns boolean
return(GetSpellAbilityId()=='A1X5')
endfunction
function IZI takes nothing returns boolean
return(GetSpellAbilityId()=='A1X6')
endfunction
function I_I takes nothing returns boolean
return(GetSpellAbilityId()=='A1X7')
endfunction
function I0I takes nothing returns boolean
return(GetSpellAbilityId()=='A1X8')
endfunction
function I1I takes nothing returns boolean
return(GetSpellAbilityId()=='A1X9')
endfunction
function I2I takes nothing returns boolean
return(GetSpellAbilityId()=='A1XA')
endfunction
function I3I takes nothing returns nothing
if(IWI())or(IYI())or(IZI())or(I_I())or(I0I())or(I1I())or(I2I())then
call ExecuteFunc("ISI")
endif
endfunction
function I4I takes nothing returns nothing
local trigger I5I
set I5I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I5I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I5I,Condition(function IPI))
call TriggerAddAction(I5I,function I3I)
endfunction
function I6I takes nothing returns nothing
call UnitRemoveAbilityBJ('A1CY',GLV)
set GKV=1
endfunction
function I7I takes nothing returns nothing
set AKE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(AKE,GJV)
call TriggerAddAction(AKE,function I6I)
endfunction
function I8I takes nothing returns boolean
return(IsUnit(GetAttacker(),I_V))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function I9I takes nothing returns boolean
return(I4V<=R2I((1.5+(.5*I2R(GetUnitAbilityLevelSwapped('A113',GetAttacker()))))))
endfunction
function AVI takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B04C'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function AEI takes nothing returns boolean
return(GetTriggerUnit()==I5V)
endfunction
function AXI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function AOI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nsrw')
endfunction
function ARI takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function AII takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nnsu')
endfunction
function AAI takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function ANI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')
endfunction
function ABI takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<40.)
endfunction
function ACI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrw')
endfunction
function ADI takes nothing returns boolean
return(CRV>=16)
endfunction
function AFI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nmbg')
endfunction
function AGI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function AHI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function AJI takes nothing returns boolean
return GetBooleanAnd(AGI(),AHI())
endfunction
function AKI takes nothing returns boolean
return(GetRandomInt(1,22)==1)
endfunction
function ALI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n038')
endfunction
function AMI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nsqe')
endfunction
function API takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nftk')
endfunction
function AQI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function ASI takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<60.)
endfunction
function ATI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n038')
endfunction
function AUI takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<60.)
endfunction
function AWI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nnsu')
endfunction
function AYI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B04V')==false)
endfunction
function AZI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h06G')
endfunction
function A_I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h06Y')
endfunction
function A0I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='h06Z')
endfunction
function A1I takes nothing returns boolean
return(GetRandomInt(1,$B)==1)
endfunction
function A2I takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_RANGED_ATTACKER))and(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function A3I takes nothing returns boolean
return(GetUnitTypeId(GetAttackedUnitBJ())=='n036')
endfunction
function A4I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(UnitHasBuffBJ(GetAttacker(),'B09F')==false)and(GetUnitTypeId(GetAttacker())!='hwtw'))!=null
endfunction
function A5I takes nothing returns boolean
return((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(UnitHasBuffBJ(GetAttacker(),'B09F')==false)and(GetUnitTypeId(GetAttacker())!='hwtw'))!=null
endfunction
function A6I takes nothing returns boolean
return(AOV==70)
endfunction
function A7I takes nothing returns boolean
return(AOV>73)
endfunction
function A8I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nskg')
endfunction
function A9I takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B04V')==false)
endfunction
function NVI takes nothing returns boolean
return((GetRandomInt(1,4)==1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function NEI takes nothing returns boolean
return(ARV>$C)
endfunction
function NXI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function NOI takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function NRI takes nothing returns boolean
return(ARV>33)
endfunction
function NII takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n039')and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function NAI takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<26.)
endfunction
function NNI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n039')and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function NBI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function NCI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function NDI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='uktg')
endfunction
function NFI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function NGI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function NHI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uktg')
endfunction
function NJI takes nothing returns boolean
return(BFV>=18)and(GetUnitLifePercent(GetTriggerUnit())<70.)and(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=400.)
endfunction
function NKI takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<40.)
endfunction
function NLI takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function NMI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nnsu')
endfunction
function NPI takes nothing returns boolean
return(BFV>=$C)and(GetUnitLifePercent(GetTriggerUnit())<60.)and(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=900.)
endfunction
function NQI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03V')
endfunction
function NSI takes nothing returns boolean
return(GetRandomInt(1,$D)==1)
endfunction
function NTI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03E')
endfunction
function NUI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n039')
endfunction
function NWI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n038')
endfunction
function NYI takes nothing returns boolean
return(GetBooleanOr(NUI(),NWI()))
endfunction
function NZI takes nothing returns boolean
return(GetRandomInt(1,28)==7)
endfunction
function N_I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0D0'))
endfunction
function N0I takes nothing returns boolean
return(GetRandomInt(1,50)==7)
endfunction
function N1I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'tcas'))
endfunction
function N2I takes nothing returns nothing
if(I8I())then
set I2V=(I2V+1)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetAttacker(),bj_MODIFYMETHOD_ADD,7)
endif
if(AVI())then
if(I9I())then
set I4V=(I4V+1)
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true))*6.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((6*(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true)+0))),XVV,10.,10.,80.,30.,30.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),50.,90)
else
call UnitRemoveBuffBJ('B04C',GetAttacker())
set I4V=0
endif
endif
if(AEI())then
call UnitRemoveBuffBJ('Bslo',GetTriggerUnit())
call UnitRemoveBuffBJ('Bcsi',GetTriggerUnit())
call UnitRemoveBuffBJ('BHca',GetTriggerUnit())
call UnitRemoveBuffBJ('Bcsd',GetTriggerUnit())
endif
if(AOI())then
if(AXI())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"carrionswarm",XVV)
call RemoveLocation(XVV)
else
call IssueTargetOrderBJ(GetAttacker(),"cripple",GetTriggerUnit())
endif
endif
if(AII())then
if(ARI())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"carrionswarm",XVV)
call RemoveLocation(XVV)
endif
endif
if(ANI())then
if(AAI())then
call IssueTargetOrderBJ(GetTriggerUnit(),"cripple",GetAttacker())
endif
endif
if(ACI())then
if(ABI())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"stampede",XVV)
call RemoveLocation(XVV)
endif
endif
if(AFI())then
call IssueImmediateOrderBJ(GetAttacker(),"creepthunderclap")
set CRV=(CRV+1)
if(ADI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),10000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set CRV=1
endif
endif
if(ALI())then
if(AKI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11X',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XEV=GetUnitsInRangeOfLocMatching(2000.,XVV,Condition(function AJI))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"impale",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
call RemoveLocation(XVV)
endif
endif
if(AMI())then
call SetPlayerTechResearchedSwap('R01R',(GetPlayerTechCountSimple('R01R',Player(PLAYER_NEUTRAL_AGGRESSIVE))+1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
endif
if(API())then
call IssueImmediateOrderBJ(GetAttacker(),"berserk")
endif
if(ATI())then
call IssueTargetOrderBJ(GetAttacker(),"acidbomb",GetTriggerUnit())
if(ASI())then
call IssueImmediateOrderBJ(GetAttacker(),"creepthunderclap")
if(AQI())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+5000.))
endif
endif
endif
if(AWI())then
if(AUI())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stomp")
endif
endif
if(AZI())then
if(AYI())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),300000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[3])))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.6)))
call KillUnit(GetAttacker())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call KillUnit(GetAttacker())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(A_I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[5])))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.4)))
call KillUnit(GetAttacker())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(A0I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A15O',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),40000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call KillUnit(GetAttacker())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\NightElf\\NEDeathSmall\\NEDeathSmall.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(A3I())then
if(A2I())then
if(A1I())then
set XVV=GetUnitLoc(GetAttacker())
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetTriggerUnit(),"attack",GetAttacker())
endif
endif
endif
if(A4I())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(13.*I2R(GetUnitLevel(GetAttacker()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(A5I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(6.*I2R(GetUnitLevel(GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(A8I())then
set AOV=(AOV+1)
if(A6I())then
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(A7I())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),60000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-7000.))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.34)))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set AOV=0
endif
endif
if(NII())then
set ARV=(ARV+1)
if(NEI())then
if(NVI())then
if(A9I())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[$A])))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.6)))
set ARV=0
else
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-4000.))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.6)))
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set ARV=0
endif
endif
endif
if(NRI())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set ARV=0
set XVV=GetUnitLoc(GetAttacker())
set XEV=GetUnitsInRangeOfLocMatching(1800.,XVV,Condition(function NXI))
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function NOI)
call DestroyGroup(XEV)
endif
endif
if(NNI())then
if(NAI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[$C])))
endif
endif
if(NDI())then
call StartTimerBJ(BTV,false,1.)
set BUV=GetAttacker()
if(NCI())then
call IssueTargetOrderBJ(GetAttacker(),"hex",GetTriggerUnit())
else
if(NBI())then
set XVV=Location(GetUnitX(GetTriggerUnit())+GetRandomInt(-300,300),GetUnitY(GetTriggerUnit())+GetRandomInt(-300,300))
call IssuePointOrderLocBJ(GetAttacker(),"ward",XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(NHI())then
if(NGI())then
call IssueTargetOrderBJ(GetTriggerUnit(),"hex",GetAttacker())
else
if(NFI())then
set XVV=Location(GetUnitX(GetAttacker())+GetRandomInt(-300,300),GetUnitY(GetAttacker())+GetRandomInt(-300,300))
call IssuePointOrderLocBJ(GetTriggerUnit(),"ward",XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(NMI())then
set BFV=(BFV+1)
if(NJI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+40000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-400.))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set BFV=1
endif
if(NKI())then
call IssueImmediateOrderBJ(GetTriggerUnit(),"stomp")
endif
if(NLI())then
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetTriggerUnit(),"carrionswarm",XVV)
call RemoveLocation(XVV)
endif
endif
if(NQI())then
set BFV=(BFV+1)
if(NPI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+380000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-900.))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set BFV=1
endif
endif
if(NTI())then
if(NSI())then
call IssueImmediateOrderBJ(GetAttacker(),"stomp")
endif
endif
if(NYI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[$D])))
endif
if(N_I())then
if(NZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A12C',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
endif
endif
if(N1I())then
if(N0I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17Y',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
endif
endif
endfunction
function N3I takes nothing returns nothing
set ALE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ALE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(ALE,function N2I)
endfunction
function N4I takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<21.)
endfunction
function N5I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nfor')
endfunction
function N6I takes nothing returns nothing
if(N5I())then
if(N4I())then
call IssueImmediateOrderBJ(GetAttacker(),"manashieldon")
call StartTimerBJ(ADV,false,70.)
call IssuePointOrderById(GetAttacker(),$D000F,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function N7I takes nothing returns nothing
set AME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AME,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(AME,function N6I)
endfunction
function N8I takes nothing returns nothing
call EnableTrigger(AME)
endfunction
function N9I takes nothing returns nothing
set APE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(APE,ADV)
call TriggerAddAction(APE,function N8I)
endfunction
function BVI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(BNV)))
endfunction
function BEI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function BXI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function BOI takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function BRI takes nothing returns boolean
return GetBooleanAnd(BXI(),BOI())
endfunction
function BII takes nothing returns boolean
return GetBooleanAnd(BEI(),BRI())
endfunction
function BAI takes nothing returns boolean
return GetBooleanAnd(BII(),BVI())
endfunction
function BNI takes nothing returns boolean
return GetUnitState(BNV,UNIT_STATE_LIFE)>=1
endfunction
function BBI takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function BCI takes nothing returns boolean
return GetBooleanAnd(BAI(),BNI())
endfunction
function BDI takes nothing returns boolean
return GetBooleanAnd(BCI(),BBI())
endfunction
function BFI takes nothing returns nothing
set XVV=GetUnitLoc(BNV)
set XEV=GetUnitsInRangeOfLocMatching(560.,XVV,Condition(function BDI))
call RemoveLocation(XVV)
set BBV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call UnitDamageTargetBJ(BNV,BBV,(100.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BNV)*(.06*I2R(GetUnitAbilityLevelSwapped('A1WZ',BNV))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(BBV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function BGI takes nothing returns nothing
set AQE=CreateTrigger()
call DisableTrigger(AQE)
call TriggerRegisterTimerEventPeriodic(AQE,9.)
call TriggerAddAction(AQE,function BFI)
endfunction
function BHI takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,I_V,bj_MODIFYMETHOD_SUB,(I2V*7))
call UnitRemoveAbilityBJ('A1S7',I_V)
set I_V=null
set I2V=0
endfunction
function BJI takes nothing returns nothing
set ASE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(ASE,I3V)
call TriggerAddAction(ASE,function BHI)
endfunction
function BKI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function BLI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function BMI takes nothing returns boolean
return(GetRandomInt(1,$A)==6)
endfunction
function BPI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03K')
endfunction
function BQI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function BSI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function BTI takes nothing returns boolean
return(GetRandomInt(1,$E)==6)
endfunction
function BUI takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function BWI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function BYI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0BJ'))
endfunction
function BZI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03K')
endfunction
function B_I takes nothing returns boolean
return(BPV>=5)
endfunction
function B0I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03L')
endfunction
function B1I takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1U7',GetTriggerUnit())==1)and(IsUnitType(GetAttacker(),UNIT_TYPE_RANGED_ATTACKER)))!=null
endfunction
function B2I takes nothing returns nothing
if(BPI())then
call StartTimerBJ(BHV,false,22.)
call UnitRemoveBuffBJ('B014',CEV)
call UnitRemoveBuffBJ('BPSE',CEV)
call UnitRemoveBuffBJ('B03H',CEV)
call UnitRemoveBuffBJ('B00J',CEV)
call UnitRemoveBuffBJ('B02J',CEV)
if(BMI())then
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function BKI))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(BMV)
call CreateNUnitsAtLoc(1,'n03L',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",BMV)
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function BLI))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(BMV)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetTriggerUnit(),"attack",BMV)
endif
endif
if(BZI())then
if(BTI())then
set XVV=GetUnitLoc(GetAttacker())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function BQI))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(BMV)
call CreateNUnitsAtLoc(1,'n03L',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",BMV)
set XVV=GetUnitLoc(GetAttacker())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function BSI))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(BMV)
call SetUnitPositionLoc(GetAttacker(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetAttacker(),"attack",BMV)
endif
if(BUI())then
call StartTimerBJ(BHV,false,22.)
endif
if(BWI())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+13000.))
endif
if(BYI())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+11000.))
endif
endif
if(B0I())then
set BPV=(BPV+1)
if(B_I())then
call RemoveUnit(GetAttacker())
set BPV=1
endif
endif
if(B1I())then
set XVV=GetUnitLoc(GetAttacker())
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),800.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function B3I takes nothing returns nothing
set ATE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ATE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(ATE,function B2I)
endfunction
function B4I takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function B5I takes nothing returns boolean
return(GetLearnedSkillBJ()=='A112')
endfunction
function B6I takes nothing returns boolean
return(GetLearnedSkillBJ()=='AUau')
endfunction
function B7I takes nothing returns boolean
return(GetLearnedSkillBJ()=='A145')
endfunction
function B8I takes nothing returns boolean
return(GetLearnedSkillBJ()=='A149')
endfunction
function B9I takes nothing returns boolean
return(GetLearnedSkillBJ()=='A15E')
endfunction
function CVI takes nothing returns boolean
return(GetLearnedSkillBJ()=='AUav')
endfunction
function CEI takes nothing returns boolean
return(GetLearnedSkillBJ()=='AEar')
endfunction
function CXI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1WZ')
endfunction
function COI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14L')
endfunction
function CRI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1WX')
endfunction
function CII takes nothing returns nothing
if(B5I())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
endif
if(B6I())then
call SetPlayerTechResearchedSwap('R01T',(GetPlayerTechCountSimple('R01T',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(B7I())then
call SetPlayerTechResearchedSwap('R026',(GetPlayerTechCountSimple('R026',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(B8I())then
call SetPlayerTechResearchedSwap('R027',(GetPlayerTechCountSimple('R027',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(B9I())then
call SetPlayerTechResearchedSwap('R028',(GetPlayerTechCountSimple('R028',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(CVI())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(CEI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(CXI())then
set BNV=GetTriggerUnit()
set BD=true
if GetUnitAbilityLevelSwapped('A07H',BNV)==0 then
call UnitAddAbilityBJ('A07H',BNV)
call EnableTrigger(AQE)
endif
call SetUnitAbilityLevelSwapped('A07H',BNV,GetUnitAbilityLevelSwapped('A1WZ',BNV))
endif
if(COI())then
set NGV=(NGV+2)
call SuspendHeroXPBJ(true,NFV)
call SetHeroLevelBJ(NFV,(GetHeroLevel(NFV)+2),true)
call SuspendHeroXPBJ(false,NFV)
call SuspendHeroXPBJ(true,NMV)
call SetHeroLevelBJ(NMV,(GetHeroLevel(NMV)+2),true)
call SuspendHeroXPBJ(false,NMV)
call SuspendHeroXPBJ(true,NLV)
call SetHeroLevelBJ(NLV,(GetHeroLevel(NLV)+2),true)
call SuspendHeroXPBJ(false,NLV)
call SuspendHeroXPBJ(true,NJV)
call SetHeroLevelBJ(NJV,(GetHeroLevel(NJV)+2),true)
call SuspendHeroXPBJ(false,NJV)
call SuspendHeroXPBJ(true,NPV)
call SetHeroLevelBJ(NPV,(GetHeroLevel(NPV)+2),true)
call SuspendHeroXPBJ(false,NPV)
call SuspendHeroXPBJ(true,NKV)
call SetHeroLevelBJ(NKV,(GetHeroLevel(NKV)+2),true)
call SuspendHeroXPBJ(false,NKV)
endif
if(CRI())then
set BCV=GetTriggerUnit()
set ND=true
if GetUnitAbilityLevelSwapped('A1WY',BCV)==0 then
call UnitAddAbilityBJ('A1WY',BCV)
call EnableTrigger(R9E)
endif
call SetUnitAbilityLevelSwapped('A1WY',BCV,GetUnitAbilityLevelSwapped('A1WX',BCV))
endif
endfunction
function CAI takes nothing returns nothing
set AUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AUE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(AUE,Condition(function B4I))
call TriggerAddAction(AUE,function CII)
endfunction
function CNI takes nothing returns nothing
call SetUnitLifeBJ(I5V,(GetUnitStateSwap(UNIT_STATE_LIFE,I5V)+(I2R(I7V)*21.)))
call ModifyHeroStat(bj_HEROSTAT_STR,I5V,bj_MODIFYMETHOD_SUB,I7V)
call SetUnitVertexColorBJ(I5V,100.,100.,100.,0)
call SetUnitColor(I5V,GetPlayerColor(GetOwningPlayer(I5V)))
set I5V=null
call EnableTrigger(AZE)
endfunction
function CBI takes nothing returns nothing
set AWE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(AWE,I6V)
call TriggerAddAction(AWE,function CNI)
endfunction
function CCI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(BUV)))
endfunction
function CDI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function CFI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function CGI takes nothing returns boolean
return GetBooleanAnd(CDI(),CFI())
endfunction
function CHI takes nothing returns boolean
return GetBooleanAnd(CCI(),CGI())
endfunction
function CJI takes nothing returns boolean
return true
endfunction
function CKI takes nothing returns nothing
if(CJI())then
set XVV=GetUnitLoc(BUV)
set XEV=GetUnitsInRangeOfLocMatching(1100.,XVV,Condition(function CHI))
call RemoveLocation(XVV)
call IssueTargetOrderBJ(BUV,"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
endfunction
function CLI takes nothing returns nothing
set AYE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(AYE,BTV)
call TriggerAddAction(AYE,function CKI)
endfunction
function CMI takes nothing returns boolean
return(GetSpellAbilityId()=='A117')
endfunction
function CPI takes nothing returns nothing
if(CMI())then
set I5V=GetTriggerUnit()
set I7V=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*4)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitVertexColorBJ(GetTriggerUnit(),100.,10.,10.,0)
call SetUnitColor(GetTriggerUnit(),PLAYER_COLOR_RED)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*4))
call StartTimerBJ(I6V,false,(10.+(6.*I2R(GetUnitAbilityLevelSwapped('A117',GetTriggerUnit())))))
endif
endfunction
function CQI takes nothing returns nothing
set AZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AZE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(AZE,function CPI)
endfunction
function CSI takes nothing returns boolean
return(GetRandomInt(1,20)==2)
endfunction
function CTI takes nothing returns boolean
return(GetRandomInt(1,$A)<=3)
endfunction
function CUI takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_RANGED_ATTACKER))!=null
endfunction
function CWI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nrwm')
endfunction
function CYI takes nothing returns boolean
return(GetRandomInt(1,9)==2)
endfunction
function CZI takes nothing returns boolean
return(GetRandomInt(1,$A)<=2)
endfunction
function C_I takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_RANGED_ATTACKER))!=null
endfunction
function C0I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')
endfunction
function C1I takes nothing returns boolean
return(GetRandomInt(1,23)==3)
endfunction
function C2I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nrwm')
endfunction
function C3I takes nothing returns boolean
return(GetRandomInt(1,$E)==3)
endfunction
function C4I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nbzd')
endfunction
function C5I takes nothing returns boolean
return(GetRandomInt(1,$B)==3)
endfunction
function C6I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='odkt')
endfunction
function C7I takes nothing returns nothing
if(CWI())then
if(CUI())then
if(CTI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A134',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
else
if(CSI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A134',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
if(C0I())then
if(C_I())then
if(CZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11L',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
else
if(CYI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11L',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetAttacker())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
if(C2I())then
if(C1I())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A134',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
if(C4I())then
if(C3I())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A135',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(26.)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
if(C6I())then
if(C5I())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A11L',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",XVV)
call RemoveLocation(XVV)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(8.)
call EnableTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function C8I takes nothing returns nothing
set A_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A_E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(A_E,function C7I)
endfunction
function C9I takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function DVI takes nothing returns boolean
return(NHV>=4)
endfunction
function DEI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hpb2')
endfunction
function DXI takes nothing returns nothing
if(DEI())then
set NSV=GetTriggerUnit()
set NHV=(NHV+1)
if(DVI())then
set NGV=(NGV+1)
set NHV=(NHV-4)
call SuspendHeroXPBJ(true,NFV)
call SetHeroLevelBJ(NFV,(GetHeroLevel(NFV)+1),true)
call SuspendHeroXPBJ(false,NFV)
call SuspendHeroXPBJ(true,NMV)
call SetHeroLevelBJ(NMV,(GetHeroLevel(NMV)+1),true)
call SuspendHeroXPBJ(false,NMV)
call SuspendHeroXPBJ(true,NLV)
call SetHeroLevelBJ(NLV,(GetHeroLevel(NLV)+1),true)
call SuspendHeroXPBJ(false,NLV)
call SuspendHeroXPBJ(true,NJV)
call SetHeroLevelBJ(NJV,(GetHeroLevel(NJV)+1),true)
call SuspendHeroXPBJ(false,NJV)
call SuspendHeroXPBJ(true,NPV)
call SetHeroLevelBJ(NPV,(GetHeroLevel(NPV)+1),true)
call SuspendHeroXPBJ(false,NPV)
call SuspendHeroXPBJ(true,NKV)
call SetHeroLevelBJ(NKV,(GetHeroLevel(NKV)+1),true)
call SuspendHeroXPBJ(false,NKV)
endif
endif
endfunction
function DOI takes nothing returns nothing
set A0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A0E,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(A0E,Condition(function C9I))
call TriggerAddAction(A0E,function DXI)
endfunction
function DRI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function DII takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14I',GetTriggerUnit())==1)
endfunction
function DAI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14I')
endfunction
function DNI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14F',GetTriggerUnit())==1)
endfunction
function DBI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14F')
endfunction
function DCI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14K',GetTriggerUnit())==1)
endfunction
function DDI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14K')
endfunction
function DFI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14G',GetTriggerUnit())==1)
endfunction
function DGI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14G')
endfunction
function DHI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14H',GetTriggerUnit())==1)
endfunction
function DJI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14H')
endfunction
function DKI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14J',GetTriggerUnit())==1)
endfunction
function DLI takes nothing returns boolean
return(GetLearnedSkillBJ()=='A14J')
endfunction
function DMI takes nothing returns nothing
if(DAI())then
if(DII())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'H06S',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NFV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call RemoveLocation(XVV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
else
call SuspendHeroXPBJ(true,NFV)
call SetHeroLevelBJ(NFV,(GetHeroLevel(NFV)+1),true)
call SuspendHeroXPBJ(false,NFV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
endif
if(DBI())then
if(DNI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'H06T',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NJV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call RemoveLocation(XVV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
else
call SuspendHeroXPBJ(true,NJV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
call SetHeroLevelBJ(NJV,(GetHeroLevel(NJV)+1),true)
call SuspendHeroXPBJ(false,NJV)
endif
endif
if(DDI())then
if(DCI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'H06V',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NKV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call RemoveLocation(XVV)
else
call SuspendHeroXPBJ(true,NKV)
call SetHeroLevelBJ(NKV,(GetHeroLevel(NKV)+1),true)
call SuspendHeroXPBJ(false,NKV)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
endif
if(DGI())then
if(DFI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'H06U',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NLV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call RemoveLocation(XVV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
else
call SuspendHeroXPBJ(true,NLV)
call SetHeroLevelBJ(NLV,(GetHeroLevel(NLV)+1),true)
call SuspendHeroXPBJ(false,NLV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
endif
if(DJI())then
if(DHI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'H06W',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NMV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call RemoveLocation(XVV)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
else
call SuspendHeroXPBJ(true,NMV)
call SetHeroLevelBJ(NMV,(GetHeroLevel(NMV)+1),true)
call SuspendHeroXPBJ(false,NMV)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
endif
if(DLI())then
if(DKI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'Nalc',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set NPV=GetLastCreatedUnit()
call SetHeroLevelBJ(GetLastCreatedUnit(),(GetHeroLevel(GetLastCreatedUnit())+NGV),false)
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call SuspendHeroXPBJ(false,GetLastCreatedUnit())
call RemoveLocation(XVV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
else
call SuspendHeroXPBJ(true,NPV)
call SetHeroLevelBJ(NPV,(GetHeroLevel(NPV)+1),true)
call SuspendHeroXPBJ(false,NPV)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
endif
endfunction
function DPI takes nothing returns nothing
set A1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A1E,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(A1E,Condition(function DRI))
call TriggerAddAction(A1E,function DMI)
endfunction
function DQI takes nothing returns boolean
return(GetUnitPointValue(GetTriggerUnit())==$8B)
endfunction
function DSI takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function DTI takes nothing returns nothing
set A2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A2E,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddCondition(A2E,Condition(function DQI))
call TriggerAddAction(A2E,function DSI)
endfunction
function DUI takes nothing returns nothing
call UnitDamageTargetBJ(RC,IC,(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,RC,true))*13.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(IC)
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(YVV)
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,RC,true)*$D)),XVV,10.,10.,10.,10.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endfunction
function Trig_NIM_Func001C takes nothing returns boolean
return(BSV>=2)and(IsUnitAliveBJ(IC))
endfunction
function DWI takes nothing returns nothing
if((BSV>0)and(IsUnitAliveBJ(IC)and(IC!=null)))then
call UnitDamageTargetBJ(RC,IC,(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,RC,true))*9.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set BSV=(BSV-1)
set XVV=GetUnitLoc(IC)
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,RC,true)*9)),XVV,10.,10.,10.,10.,100.,10.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set BSV=0
set IC=null
endif
if(IC==null)then
set RC=null
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function DYI takes nothing returns nothing
set YVV=CreateTrigger()
call DisableTrigger(YVV)
call TriggerRegisterTimerEventPeriodic(YVV,2.)
call TriggerAddAction(YVV,function DWI)
endfunction
function DZI takes nothing returns boolean
return(GetSpellTargetUnit()==GetSpellTargetUnit())
endfunction
function D_I takes nothing returns boolean
return(GetSpellAbilityId()=='A030')
endfunction
function D0I takes nothing returns boolean
return(GetSpellAbilityId()=='A169')
endfunction
function D1I takes nothing returns boolean
return(GetSpellAbilityId()=='A15R')and(BGV==2)
endfunction
function D2I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GP'))
endfunction
function D3I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GQ'))
endfunction
function D4I takes nothing returns boolean
return(GetSpellAbilityId()=='A16C')
endfunction
function D5I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function D6I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function D7I takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03K')
endfunction
function D8I takes nothing returns boolean
return(GetSpellAbilityId()=='A1FX')
endfunction
function D9I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FVI takes nothing returns boolean
return(HSV>=3)
endfunction
function FEI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nwwf')
endfunction
function FXI takes nothing returns boolean
return(GetSpellAbilityId()=='A15H')
endfunction
function FOI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FRI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B070'))
endfunction
function FII takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FAI takes nothing returns boolean
return(GetSpellAbilityId()=='A0IK')
endfunction
function FNI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FBI takes nothing returns boolean
return(GetSpellAbilityId()=='A07Z')
endfunction
function FCI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FDI takes nothing returns boolean
return(GetSpellAbilityId()=='AOsf')
endfunction
function FFI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FGI takes nothing returns boolean
return(GetSpellAbilityId()=='A02U')
endfunction
function FHI takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function FJI takes nothing returns boolean
return(GetSpellAbilityId()=='A02W')
endfunction
function FKI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u008')
endfunction
function FLI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n00E')
endfunction
function FMI takes nothing returns boolean
return(GetRandomInt(1,8)<=(GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())-1))
endfunction
function FPI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FQI takes nothing returns boolean
return(GetSpellAbilityId()=='A1WV')
endfunction
function FSI takes nothing returns boolean
return(GetRandomInt(1,9)<=GetUnitAbilityLevelSwapped('A0BU',GetTriggerUnit()))
endfunction
function FTI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function FUI takes nothing returns boolean
return(GetSpellAbilityId()=='A0BU')
endfunction
function FWI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function FYI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03E')
endfunction
function FZI takes nothing returns boolean
return(BFV>=24)and(GetUnitLifePercent(GetSpellTargetUnit())<70.)and(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())>=400.)
endfunction
function F_I takes nothing returns boolean
return(GetUnitLifePercent(GetSpellTargetUnit())<40.)
endfunction
function F0I takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nnsu')
endfunction
function F1I takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='nmbg')and(CAV>2)
endfunction
function F2I takes nothing returns boolean
return(GetRandomInt(1,'d')<G2V)
endfunction
function F3I takes nothing returns boolean
return(G1V==4)
endfunction
function F4I takes nothing returns boolean
return(GetRandomInt(1,'d')<G2V)
endfunction
function F5I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,DXV)<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV)*.83))
endfunction
function F6I takes nothing returns nothing
if(D_I())then
if(DZI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetUnitAbilityLevelSwapped('A030',GetTriggerUnit())*2))
else
set N9V=GetSpellTargetUnit()
endif
endif
if(D0I())then
call UnitAddItemByIdSwapped('I064',GetTriggerUnit())
endif
if(D1I())then
set XVV=GetRandomLocInRect(MDV)
call CreateNUnitsAtLoc(1,'o018',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(D4I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h08N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call SetUnitScalePercent(GetLastCreatedUnit(),220.,220.,220.)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A16D',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A16D',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A16C',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",GetSpellTargetLoc())
call CreateNUnitsAtLoc(1,'h08N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitAddAbilityBJ('A1GY',GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitApplyTimedLifeBJ((3.+I2R(GetUnitAbilityLevelSwapped('A16C',GetTriggerUnit()))),'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
if(D2I())then
endif
if(D3I())then
endif
endif
if(D7I())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function D5I))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(BMV)
call CreateNUnitsAtLoc(1,'n03L',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",BMV)
call UnitRemoveBuffBJ('BPSE',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B014',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B03H',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B00J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B02J',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function D6I))
call RemoveLocation(XVV)
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call StartTimerBJ(BHV,false,30.)
set XVV=GetUnitLoc(BMV)
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attack",BMV)
endif
if(D8I())then
set HPV=GetTriggerUnit()
set HQV=GetSpellTargetUnit()
set XVV=GetUnitLoc(HPV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call TriggerSleepAction(.01)
set XVV=GetUnitLoc(HQV)
call SetUnitPositionLoc(HPV,XVV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',HQV)
call SetUnitAbilityLevelSwapped('A028',HQV,31)
call UnitDamageTargetBJ(HPV,HQV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call IssueTargetOrderBJ(HPV,"attackonce",HQV)
endif
if(FEI())then
set HSV=(HSV+1)
if(FVI())then
if(D9I())then
call AddSpecialEffectLocBJ(GetSpellTargetLoc(),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call RemoveLocation(XVV)
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),true,false)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),32)
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attackonce",GetTriggerUnit())
set HSV=0
else
call AddSpecialEffectLocBJ(GetSpellTargetLoc(),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetSpellTargetUnit(),OffsetLocation(XVV,300.,300.))
call AddSpecialEffectLocBJ(OffsetLocation(XVV,300.,300.),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call RemoveLocation(XVV)
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),true,false)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),32)
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attackonce",GetTriggerUnit())
set HSV=0
endif
endif
endif
if(FXI())then
call UnitAddAbilityBJ('A0AB',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A0AB',GetSpellTargetUnit(),3)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitRemoveAbilityBJ('A0EC',BAV)
set BAV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0EC',GetSpellTargetUnit())
call StartTimerBJ(BIV,false,(2.5+(.5*I2R(GetUnitAbilityLevelSwapped('A15H',GetTriggerUnit())))))
endif
if(FRI())then
call UnitRemoveBuffBJ('BPSE',HMV)
call UnitRemoveBuffBJ('B014',HMV)
call UnitRemoveBuffBJ('B03H',HMV)
call UnitRemoveBuffBJ('B00J',HMV)
call UnitRemoveBuffBJ('B02J',HMV)
if(FOI())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.26)))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-14000.))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(FAI())then
if(FII())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*4.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*4))),XVV,10.,12.,60.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FBI())then
if(FNI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*(.06*I2R(GetUnitAbilityLevelSwapped('A07Z',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S(R2I((GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*(I2R(GetUnitAbilityLevelSwapped('A07Z',GetTriggerUnit()))*.06))))),XVV,10.,12.,60.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FDI())then
if(FCI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1E7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ((5.+I2R(GetUnitAbilityLevelSwapped('AOsf',GetTriggerUnit()))),'BTLF',GetLastCreatedUnit())
call CreateTextTagLocBJ("600 DMG to units.",XVV,10.,12.,60.,11.,80.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FGI())then
if(FFI())then
call StartTimerBJ(G4V,false,3.)
set G5V=GetTriggerUnit()
set G6V=GetSpellTargetUnit()
endif
endif
if(FJI())then
if(FHI())then
call UnitAddItemByIdSwapped('I0GY',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+16 Base Damage.",XVV,10.,12.,60.,11.,80.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FQI())then
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false then
call UnitAddAbilityBJ('A0AB',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A0AB',GetSpellTargetUnit(),5)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) then
if GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())>=1 and GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())<=7 then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),800*GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())==8 then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),7200+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit())==9 then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$2710+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*GetUnitAbilityLevelSwapped('A1WV',GetTriggerUnit()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(FPI())then
if(FMI())then
if(FLI())then
call SetPlayerTechResearchedSwap('R02Q',(GetPlayerTechCountSimple('R02Q',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+15 BDmg, +180HP.",XVV,10.,12.,88.,70.,40.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(FKI())then
call SetPlayerTechResearchedSwap('R02S',(GetPlayerTechCountSimple('R02S',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+10 BDmg, +220HP.",XVV,10.,12.,88.,70.,40.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call SetPlayerTechResearchedSwap('R02R',(GetPlayerTechCountSimple('R02R',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+80 BDmg, +1000HP, +10 Armor to Golems.",XVV,10.,12.,88.,70.,40.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
else
set XVV=GetUnitLoc(GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
call CreateTextTagLocBJ("+5 Base Intelligence.",XVV,10.,12.,60.,11.,80.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(FUI())then
if(FTI())then
if(FSI())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+2 Intelligence.",XVV,10.,12.,90.,11.,93.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+1 Strength.",XVV,10.,12.,90.,11.,93.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(FYI())then
if(FWI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A15K',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(F0I())then
set BFV=(BFV+$A)
if(FZI())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+40000.))
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-400.))
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set BFV=1
endif
if(F_I())then
call IssueImmediateOrderBJ(GetSpellTargetUnit(),"stomp")
endif
endif
if(F1I())then
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),15000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(F3I())then
set G2V=(G2V+1)
if(F2I())then
call TriggerSleepAction(.1)
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('B014',RNV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B02J',RNV)
endif
endif
if(F5I())then
set G2V=(G2V+1)
if(F4I())then
call TriggerSleepAction(.1)
call UnitRemoveBuffBJ('BPSE',DXV)
call UnitRemoveBuffBJ('B014',DXV)
call UnitRemoveBuffBJ('B03H',DXV)
call UnitRemoveBuffBJ('B00J',DXV)
call UnitRemoveBuffBJ('B02J',DXV)
endif
endif
endfunction
function F7I takes nothing returns nothing
set A3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A3E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(A3E,function F6I)
endfunction
function F8I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A14Q',GetSpellTargetUnit())==1)
endfunction
function F9I takes nothing returns boolean
return(GetSpellAbilityId()=='A136')
endfunction
function GVI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='H06W')
endfunction
function GEI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='H06V')
endfunction
function GXI takes nothing returns boolean
return(GetBooleanOr(GVI(),GEI()))
endfunction
function GOI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='Hpb2')
endfunction
function GRI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='Nalc')
endfunction
function GII takes nothing returns boolean
return(GetBooleanOr(GOI(),GRI()))
endfunction
function GAI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='H06W')
endfunction
function GNI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='H06V')
endfunction
function GBI takes nothing returns boolean
return(GetBooleanOr(GAI(),GNI()))
endfunction
function GCI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Hpb2')
endfunction
function GDI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Nalc')
endfunction
function GFI takes nothing returns boolean
return(GetBooleanOr(GCI(),GDI()))
endfunction
function GGI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='H06W')
endfunction
function GHI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='H06V')
endfunction
function GJI takes nothing returns boolean
return(GetBooleanOr(GGI(),GHI()))
endfunction
function GKI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Hpb2')
endfunction
function GLI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='Nalc')
endfunction
function GMI takes nothing returns boolean
return(GetBooleanOr(GKI(),GLI()))
endfunction
function GPI takes nothing returns boolean
return(GetSpellTargetUnit()==NRV)
endfunction
function GQI takes nothing returns boolean
return(NOV<((GetUnitAbilityLevelSwapped('A13X',GetTriggerUnit())*4)+1))
endfunction
function GSI takes nothing returns boolean
return(GetSpellTargetUnit()==NRV)
endfunction
function GTI takes nothing returns boolean
return(GetSpellAbilityId()=='A13X')
endfunction
function GUI takes nothing returns boolean
return(GetSpellAbilityId()=='A13G')
endfunction
function GWI takes nothing returns boolean
return(GetSpellAbilityId()=='A154')
endfunction
function GYI takes nothing returns boolean
return(GetSpellAbilityId()=='A147')
endfunction
function GZI takes nothing returns boolean
return(GetSpellAbilityId()=='A143')
endfunction
function G_I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13O',GetSpellTargetUnit())==1)
endfunction
function G0I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13P',GetSpellTargetUnit())==1)
endfunction
function G1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13Q',GetSpellTargetUnit())==1)
endfunction
function G2I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13P',GetSpellTargetUnit())==1)and(GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())>=$C)
endfunction
function G3I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13O',GetSpellTargetUnit())==1)and(GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())>=9)
endfunction
function G4I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13N',GetSpellTargetUnit())==1)
endfunction
function G5I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13M',GetSpellTargetUnit())==1)
endfunction
function G6I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13L',GetSpellTargetUnit())==1)
endfunction
function G7I takes nothing returns boolean
return(GetSpellTargetUnit()==A9V)
endfunction
function G8I takes nothing returns boolean
return(GetSpellAbilityId()=='A13J')
endfunction
function G9I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13W',GetSpellTargetUnit())==1)
endfunction
function HVI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13V',GetSpellTargetUnit())==1)
endfunction
function HEI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13U',GetSpellTargetUnit())==1)
endfunction
function HXI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13T',GetSpellTargetUnit())==1)
endfunction
function HOI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13S',GetSpellTargetUnit())==1)
endfunction
function HRI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A13R',GetSpellTargetUnit())==1)
endfunction
function HII takes nothing returns boolean
return(GetSpellTargetUnit()==NEV)
endfunction
function HAI takes nothing returns boolean
return(GetSpellAbilityId()=='A13K')
endfunction
function HNI takes nothing returns boolean
return(GetSpellAbilityId()=='A13A')
endfunction
function HBI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hrdh')
endfunction
function HCI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hhdl')
endfunction
function HDI takes nothing returns boolean
return(GetBooleanOr(HBI(),HCI()))
endfunction
function HFI takes nothing returns boolean
return(GetSpellAbilityId()=='A159')
endfunction
function HGI takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B04X'))
endfunction
function HHI takes nothing returns boolean
return(GetSpellAbilityId()=='A146')
endfunction
function HJI takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B04N'))
endfunction
function HKI takes nothing returns boolean
return(GetSpellAbilityId()=='A14D')
endfunction
function HLI takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))
endfunction
function HMI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function HPI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==false)
endfunction
function HQI takes nothing returns boolean
return GetBooleanAnd(HMI(),HPI())
endfunction
function HSI takes nothing returns boolean
return GetBooleanAnd(HLI(),HQI())
endfunction
function HTI takes nothing returns boolean
return(GetSpellAbilityId()=='A14E')
endfunction
function HUI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function HWI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function HYI takes nothing returns boolean
return GetBooleanAnd(HUI(),HWI())
endfunction
function HZI takes nothing returns nothing
set XVV=GetUnitLoc(GetTriggerUnit())
call SetUnitPositionLoc(GetEnumUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function H_I takes nothing returns boolean
return(GetSpellAbilityId()=='A14L')
endfunction
function H0I takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B04X'))
endfunction
function H1I takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function H2I takes nothing returns boolean
return(GetSpellAbilityId()=='A14M')
endfunction
function H3I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function H4I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function H5I takes nothing returns boolean
return GetBooleanAnd(H3I(),H4I())
endfunction
function H6I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((.18+(.04*I2R(GetUnitAbilityLevelSwapped('A14C',GetTriggerUnit()))))*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function H7I takes nothing returns boolean
return(GetSpellAbilityId()=='A14C')
endfunction
function H8I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function H9I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((4.+I2R(GetUnitAbilityLevelSwapped('A138',GetTriggerUnit())))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function JVI takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function JEI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function JXI takes nothing returns boolean
return GetBooleanAnd(JVI(),JEI())
endfunction
function JOI takes nothing returns boolean
return(GetSpellAbilityId()=='A138')
endfunction
function JRI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.55))and(N4V>=350)
endfunction
function JII takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03C')
endfunction
function JAI takes nothing returns nothing
if(F9I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A137',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A137',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A136',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"fanofknives")
call RemoveLocation(XVV)
if(F8I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((.0+(.0+I2R(GetUnitAbilityLevelSwapped('A136',GetTriggerUnit()))))*750.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("3 Hits Combo!",GetUnitLoc(GetSpellTargetUnit()),10.,12.,80.,9.,30.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14R',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
endif
if(GTI())then
if(GSI())then
if(GQI())then
if(GPI())then
set NRV=GetSpellTargetUnit()
set NOV=(NOV+1)
call StartTimerBJ(NIV,false,40.)
if(GMI())then
call ModifyHeroStat(bj_HEROSTAT_STR,NRV,bj_MODIFYMETHOD_ADD,16)
else
if(GJI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,NRV,bj_MODIFYMETHOD_ADD,16)
else
call ModifyHeroStat(bj_HEROSTAT_INT,NRV,bj_MODIFYMETHOD_ADD,16)
endif
endif
endif
else
call CreateTextTagLocBJ("The unit reached the max stack of the current level.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
call AddSpecialEffectTargetUnitBJ("overhead",NRV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(GII())then
call ModifyHeroStat(bj_HEROSTAT_STR,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
else
if(GXI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
else
call ModifyHeroStat(bj_HEROSTAT_INT,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
endif
endif
set NRV=GetSpellTargetUnit()
set NOV=1
call StartTimerBJ(NIV,false,40.)
if(GFI())then
call ModifyHeroStat(bj_HEROSTAT_STR,NRV,bj_MODIFYMETHOD_ADD,16)
else
if(GBI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,NRV,bj_MODIFYMETHOD_ADD,16)
else
call ModifyHeroStat(bj_HEROSTAT_INT,NRV,bj_MODIFYMETHOD_ADD,16)
endif
endif
endif
endif
if(GUI())then
call UnitRemoveAbilityBJ('A13H',A7V)
set A7V=GetSpellTargetUnit()
call UnitAddAbilityBJ('A13H',GetSpellTargetUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,6)
call StartTimerBJ(A8V,false,(5.+I2R(GetUnitAbilityLevelSwapped('A13G',GetTriggerUnit()))))
endif
if(GWI())then
set N1V=R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))
endif
if(GYI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,NCV,bj_MODIFYMETHOD_SUB,NDV)
set NCV=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,($A+(GetUnitAbilityLevelSwapped('A147',GetTriggerUnit())*30)))
set NDV=($A+(GetUnitAbilityLevelSwapped('A147',GetTriggerUnit())*30))
call StartTimerBJ(NBV,false,10.)
endif
if(GZI())then
call UnitRemoveAbilityBJ('A144',NAV)
set NAV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A144',GetSpellTargetUnit())
call StartTimerBJ(NNV,false,(1.65+(.35*I2R(GetUnitAbilityLevelSwapped('A143',GetTriggerUnit())))))
endif
if(G8I())then
if(G7I())then
if(G6I())then
if(G5I())then
if(G4I())then
if(G3I())then
if(G2I())then
if(G1I())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+1100.))
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call CreateTextTagLocBJ("+3879 Damage.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13Q',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
else
if(G0I())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+1100.))
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call CreateTextTagLocBJ("+1251 Damage.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13P',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
endif
else
if(G_I())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+1100.))
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call CreateTextTagLocBJ("+403 Damage.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13O',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
endif
else
call CreateTextTagLocBJ("+130 Damage.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13N',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
else
call CreateTextTagLocBJ("+42 Damage.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13M',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
endif
else
call UnitRemoveAbilityBJ('A13L',A9V)
call UnitRemoveAbilityBJ('A13M',A9V)
call UnitRemoveAbilityBJ('A13N',A9V)
call UnitRemoveAbilityBJ('A13O',A9V)
call UnitRemoveAbilityBJ('A13P',A9V)
call UnitRemoveAbilityBJ('A13Q',A9V)
set A9V=GetSpellTargetUnit()
call UnitAddAbilityBJ('A13L',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NVV,false,(61.+I2R((GetUnitAbilityLevelSwapped('A13J',GetTriggerUnit())*1))))
endif
endif
if(HAI())then
if(HII())then
if(HRI())then
if(HOI())then
if(HXI())then
if(HEI())then
if(HVI())then
if(G9I())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.05)))
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call CreateTextTagLocBJ("+3546 Armor.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13W',GetSpellTargetUnit())
call StartTimerBJ(NXV,false,(30.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*1))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
call CreateTextTagLocBJ("+1075 Armor.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13V',GetSpellTargetUnit())
call StartTimerBJ(NXV,false,(30.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*1))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
call CreateTextTagLocBJ("+326 Armor.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13U',GetSpellTargetUnit())
call StartTimerBJ(NXV,false,(30.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*1))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
call CreateTextTagLocBJ("+99 Armor.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13T',GetSpellTargetUnit())
call StartTimerBJ(NXV,false,(30.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*1))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
call CreateTextTagLocBJ("+30 Armor.",GetUnitLoc(GetSpellTargetUnit()),10.,8.,50.,58.,65.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call UnitAddAbilityBJ('A13S',GetSpellTargetUnit())
call StartTimerBJ(NXV,false,(30.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*1))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
else
call UnitRemoveAbilityBJ('A13R',NEV)
call UnitRemoveAbilityBJ('A13S',NEV)
call UnitRemoveAbilityBJ('A13T',NEV)
call UnitRemoveAbilityBJ('A13U',NEV)
call UnitRemoveAbilityBJ('A13V',NEV)
call UnitRemoveAbilityBJ('A13W',NEV)
set NEV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A13R',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIlm\\AIlmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(NXV,false,(41.+I2R((GetUnitAbilityLevelSwapped('A13K',GetTriggerUnit())*2))))
endif
endif
if(HNI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A13B',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"creepthunderclap")
call RemoveLocation(XVV)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(((I2R(GetUnitAbilityLevelSwapped('A13A',GetTriggerUnit()))*2.)-1.)*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A13A',GetTriggerUnit())*2)-1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+0))),GetUnitLoc(GetSpellTargetUnit()),10.,10.,10.,10.,100.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HDI())then
endif
if(HFI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),300.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),300.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),380.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),340.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),300.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),260.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),500.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),400.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetUnitLoc(GetSpellTargetUnit()),500.,GetRandomReal(.0,340.))
call CreateNUnitsAtLoc(1,'h06X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(42.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(HHI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1+(3.*I2R(GetUnitAbilityLevelSwapped('A146',GetTriggerUnit()))))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A146',GetTriggerUnit())*3)+1)*(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)+0))),GetUnitLoc(GetSpellTargetUnit()),10.,10.,3.,100.,3.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(HGI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),60000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.2),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Excellent!",GetUnitLoc(GetSpellTargetUnit()),10.,12.,80.,9.,30.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call PlaySoundBJ(P5V)
endif
endif
if(HKI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1+(.0+I2R(GetUnitAbilityLevelSwapped('A14D',GetTriggerUnit()))))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A14D',GetTriggerUnit())+0)+1)*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)+0))),GetUnitLoc(GetSpellTargetUnit()),10.,10.,100.,9.,9.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(HJI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((.0+(.0+I2R(GetUnitAbilityLevelSwapped('A14D',GetTriggerUnit()))))*200.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A14Q',GetSpellTargetUnit())
call StartTimerBJ(NTV,false,.6)
set NUV=GetSpellTargetUnit()
endif
endif
if(HTI())then
set XEV=GetUnitsInRangeOfLocMatching(1200.,GetUnitLoc(GetTriggerUnit()),Condition(function HSI))
set NQV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call ReviveHeroLoc(NQV,GetUnitLoc(NQV),true)
endif
if(H_I())then
call TriggerSleepAction(.01)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function HYI))
call ForGroupBJ(XEV,function HZI)
call DestroyGroup(XEV)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(H2I())then
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A14M',GetTriggerUnit())*1)+2)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+0))),GetUnitLoc(GetSpellTargetUnit()),10.,10.,100.,100.,10.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(H1I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1+(I2R(GetUnitAbilityLevelSwapped('A14M',GetTriggerUnit()))+1.))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if(H0I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((.0+(.0+I2R(GetUnitAbilityLevelSwapped('A14M',GetTriggerUnit()))))*800.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.12),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("4 Hits Combo!",GetUnitLoc(GetSpellTargetUnit()),10.,12.,80.,9.,30.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL,GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14S',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
call PlaySoundBJ(P3V)
endif
else
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped('A14M',GetTriggerUnit()))+2.))))
endif
endif
if(H7I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((.04*I2R(GetUnitAbilityLevelSwapped('A14C',GetTriggerUnit())))+.18))))
set XEV=GetUnitsInRangeOfLocMatching(530.,GetUnitLoc(GetTriggerUnit()),Condition(function H5I))
call ForGroupBJ(XEV,function H6I)
call DestroyGroup(XEV)
endif
if(JOI())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,0),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,45.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,90.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,135.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,180.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,225.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,270.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,310.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,300.,355.),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,280.,.0),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(XVV,"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,280.,90.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,280.,180.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal1.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,280.,270.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal0.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(XVV,280.,360.),"Doodads\\Icecrown\\Rocks\\Icecrown_Crystal\\Icecrown_Crystal3.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XEV=GetUnitsInRangeOfLocMatching(410.,XVV,Condition(function H8I))
call ForGroupBJ(XEV,function H9I)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14N',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(415.,GetSpellTargetLoc(),Condition(function JXI))))
call RemoveLocation(XVV)
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A138',GetTriggerUnit())+4)+0)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+0))),GetSpellTargetLoc(),10.,10.,10.,10.,100.,10.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(JII())then
if(JRI())then
set N4V=0
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.3)))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"acidbomb",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
endfunction
function JNI takes nothing returns nothing
set A4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A4E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(A4E,function JAI)
endfunction
function JBI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function JCI takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-22000.))
endfunction
function JDI takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())*.24)))
endfunction
function JFI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03F')
endfunction
function JGI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function JHI takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-45000.))
endfunction
function JJI takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())*.42)))
endfunction
function JKI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07E')
endfunction
function JLI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03H')
endfunction
function JMI takes nothing returns boolean
return(BKV==BLV)
endfunction
function JPI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[0])
endfunction
function JQI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[1])
endfunction
function JSI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[2])
endfunction
function JTI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[3])
endfunction
function JUI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[4])
endfunction
function JWI takes nothing returns boolean
return IsUnit(GetTriggerUnit(),VC[5])
endfunction
function JYI takes nothing returns boolean
return GetBooleanOr(JPI(),JQI())
endfunction
function JZI takes nothing returns boolean
return GetBooleanOr(JYI(),JSI())
endfunction
function J_I takes nothing returns boolean
return GetBooleanOr(JZI(),JTI())
endfunction
function J0I takes nothing returns boolean
return GetBooleanOr(J_I(),JUI())
endfunction
function J1I takes nothing returns boolean
return GetBooleanOr(J0I(),JWI())
endfunction
function J2I takes nothing returns boolean
return(J1I())
endfunction
function J3I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0DR'))and(GetUnitLevel(GetTriggerUnit())>=75)and(GetUnitLevel(GetTriggerUnit())<92)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))<'d')and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)
endfunction
function J4I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0DR'))and(GetUnitLevel(GetTriggerUnit())>=92)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)
endfunction
function J5I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function J6I takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnitBJ())=='n03K')
endfunction
function J7I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nskg')
endfunction
function J8I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nfor')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function J9I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KVI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KEI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KXI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KOI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KRI takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function KII takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KAI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KNI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03E')
endfunction
function KBI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KCI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KDI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KFI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KGI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KHI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KJI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KKI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KLI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KMI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KPI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function KQI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nnsu')
endfunction
function KSI takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function KTI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KUI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KWI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='uktg')
endfunction
function KYI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KZI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function K_I takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function K0I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function K1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03K')
endfunction
function K2I takes nothing returns boolean
return(GetRandomInt(1,'d')<=6)
endfunction
function K3I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=70)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(B1V>=5)
endfunction
function K4I takes nothing returns boolean
return true
endfunction
function K5I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=85)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GTV<4)and(GetRandomInt(1,20)==6)
endfunction
function K6I takes nothing returns boolean
return true
endfunction
function K7I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=95)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GQV!=8)and(GetRandomInt(1,18)==6)
endfunction
function K8I takes nothing returns boolean
return(GetRandomInt(1,'d')<=5)
endfunction
function K9I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=84)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(B2V>=5)
endfunction
function LVI takes nothing returns boolean
return(GetRandomInt(1,'d')<=$A)
endfunction
function LEI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=95)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(CQV<2)
endfunction
function LXI takes nothing returns boolean
return(GetRandomInt(1,$C)==1)
endfunction
function LOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=92)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(FOV<2)
endfunction
function LRI takes nothing returns boolean
return(GetRandomInt(1,'d')<=3)
endfunction
function LII takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=95)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(B3V>=5)
endfunction
function LAI takes nothing returns boolean
return(GetRandomInt(1,'d')<=4)
endfunction
function LNI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=98)and(B4V>=6)
endfunction
function LBI takes nothing returns boolean
return(GetRandomInt(1,'d')<=9)
endfunction
function LCI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=60)and(B5V>=6)
endfunction
function LDI takes nothing returns boolean
return(GetRandomInt(1,$A)<=2)
endfunction
function LFI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=60)and(D6V<2)
endfunction
function LGI takes nothing returns boolean
return(GetRandomInt(1,18)==8)
endfunction
function LHI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>='t')and(HNV<2)
endfunction
function LJI takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function LKI takes nothing returns boolean
return(GetRandomInt(1,16)==8)
endfunction
function LLI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>99)and(HBV<2)
endfunction
function LMI takes nothing returns boolean
return(GetRandomInt(1,$C)==8)
endfunction
function LPI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>70)and(H6V<2)
endfunction
function LQI takes nothing returns boolean
return(GetRandomInt(1,9)==5)
endfunction
function LSI takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=91)and(D7V<3)
endfunction
function LTI takes nothing returns boolean
return(GetRandomInt(1,$A)<=2)
endfunction
function LUI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=36)and(DOV!=3)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function LWI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function LYI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function LZI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n039')
endfunction
function L_I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function L0I takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function L1I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function L2I takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function L3I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nsll')
endfunction
function L4I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function L5I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function L6I takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function L7I takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function L8I takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function L9I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03M')
endfunction
function MVI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function MEI takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function MXI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nmyr')
endfunction
function MOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>='n')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GSV==0)and(GetRandomInt(1,20)==6)
endfunction
function MRI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>='d')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(RF==0)and(GetRandomInt(1,18)==6)
endfunction
function MII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>='n')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IF==0)and(GetRandomInt(1,25)<=2)
endfunction
function MAI takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0G3'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO))and(GetUnitLevel(GetTriggerUnit())>=93)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false))!=null
endfunction
function MNI takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0G3'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false)and(GetUnitLevel(GetTriggerUnit())>=93)and(GetUnitTypeId(GetKillingUnitBJ())!='n04B')and(GetUnitTypeId(GetKillingUnitBJ())!='h05N')and(GetUnitTypeId(GetKillingUnitBJ())!='h08N')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false))!=null
endfunction
function MBI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>=99)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetRandomInt(1,25)<=2)
endfunction
function MCI takes nothing returns nothing
local integer ROX
if(JFI())then
set XEV=GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(GetTriggerUnit()),Condition(function JBI))
call ForGroupBJ(XEV,function JCI)
call ForGroupBJ(XEV,function JDI)
call DestroyGroup(XEV)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(JKI())then
set XEV=GetUnitsInRangeOfLocMatching(130.,GetUnitLoc(GetTriggerUnit()),Condition(function JGI))
call ForGroupBJ(XEV,function JHI)
call ForGroupBJ(XEV,function JJI)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DestroyGroup(XEV)
endif
if(JLI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1DF',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(5.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"acidbomb",GetKillingUnitBJ())
call RemoveLocation(XVV)
endif
if(J2I())then
set BKV=(BKV+1)
if IsUnit(GetTriggerUnit(),VC[0])then
set VC[0]=null
endif
if IsUnit(GetTriggerUnit(),VC[1])then
set VC[1]=null
endif
if IsUnit(GetTriggerUnit(),VC[2])then
set VC[2]=null
endif
if IsUnit(GetTriggerUnit(),VC[3])then
set VC[3]=null
endif
if IsUnit(GetTriggerUnit(),VC[4])then
set VC[4]=null
endif
if IsUnit(GetTriggerUnit(),VC[5])then
set VC[5]=null
endif
if(JMI())then
call SetUnitInvulnerable(BJV,false)
call SetUnitVertexColorBJ(BJV,'d','d','d',0)
call AddSpecialEffectTargetUnitBJ("overhead",BJV,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set BKV=0
set BLV=0
set VC[0]=null
set VC[1]=null
set VC[2]=null
set VC[3]=null
set VC[4]=null
set VC[5]=null
endif
endif
if(J3I())then
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_ADD,16)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*65),GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*350),GetKillingUnitBJ(),true)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ(("Gold +"+(I2S((65*GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*350))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))+1))
endif
if(J4I())then
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_ADD,32)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*$82),GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*700),GetKillingUnitBJ(),true)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateTextTagLocBJ(("Gold +"+(I2S(($82*GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))*700))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))+2))
endif
if(J6I())then
set XEV=GetUnitsInRangeOfLocMatching(1300.,GetUnitLoc(GetSpellTargetUnit()),Condition(function J5I))
set BMV=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call SetUnitPositionLoc(GetSpellTargetUnit(),GetUnitLoc(BMV))
call IssueTargetOrderBJ(GetSpellTargetUnit(),"attack",BMV)
endif
if(J7I())then
set B_V=3
if JBV==false then
call StartTimerBJ(BZV,false,280.)
endif
if JBV then
call StartTimerBJ(BZV,false,140.)
endif
endif
if(J8I())then
set B0V=5
if(B_V==5)then
if JBV==false then
call StartTimerBJ(BZV,false,280.)
endif
if JBV then
call StartTimerBJ(BZV,false,140.)
endif
endif
endif
if(KNI())then
set B_V=4
if JBV==false then
call StartTimerBJ(BZV,false,250.)
endif
if JBV then
call StartTimerBJ(BZV,false,125.)
endif
if(KVI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I03X',XVV)
call RemoveLocation(XVV)
else
if(J9I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02E',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02H',XVV)
call RemoveLocation(XVV)
endif
endif
if(KXI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05T',XVV)
call RemoveLocation(XVV)
else
if(KEI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CJ',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
endif
endif
if(KRI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DP',XVV)
call RemoveLocation(XVV)
else
if(KOI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DL',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
endif
endif
if(KAI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tst2',XVV)
call RemoveLocation(XVV)
else
if(KII())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tst2',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('tst2',XVV)
call CreateItemLoc('tst2',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(KQI())then
if(KDI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D1',XVV)
call RemoveLocation(XVV)
else
if(KCI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CS',XVV)
call RemoveLocation(XVV)
else
if(KBI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EV',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I079',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(KGI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call RemoveLocation(XVV)
else
if(KFI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CZ',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HG',XVV)
call CreateItemLoc('I079',XVV)
call RemoveLocation(XVV)
endif
endif
if(KJI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CP',XVV)
call RemoveLocation(XVV)
else
if(KHI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CU',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
endif
endif
if(KLI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FB',XVV)
call RemoveLocation(XVV)
else
if(KKI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
endif
endif
if(KPI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
if(KMI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tin2',XVV)
call CreateItemLoc('tdx2',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('tpow',XVV)
call CreateItemLoc('tdx2',XVV)
call CreateItemLoc('tpow',XVV)
call RemoveLocation(XVV)
endif
endif
set B_V=5
if(B0V==5)then
if JBV==false then
call StartTimerBJ(BZV,false,240.)
endif
if JBV then
call StartTimerBJ(BZV,false,120.)
endif
endif
endif
if(KWI())then
call RemoveItemFromStock(A1,'I0J1')
set QG[3]=0
call ExecuteFunc("WSR")
set B_V=6
if JBV==false then
call StartTimerBJ(BZV,false,310.)
endif
if JBV then
call StartTimerBJ(BZV,false,155.)
endif
if(KSI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HM',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
endif
if(KTI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call CreateItemLoc('I0FB',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CZ',XVV)
call CreateItemLoc('I0DO',XVV)
call RemoveLocation(XVV)
endif
if(KUI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HG',XVV)
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F4',XVV)
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
endif
endif
if(K1I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DL',XVV)
call CreateItemLoc('I0EV',XVV)
call RemoveLocation(XVV)
if(K_I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
else
if(KZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HL',XVV)
call CreateItemLoc('I05Y',XVV)
call RemoveLocation(XVV)
else
if(KYI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0E1',XVV)
call CreateItemLoc('I0HK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DQ',XVV)
call CreateItemLoc('I0F7',XVV)
call RemoveLocation(XVV)
endif
endif
endif
set XEV=GetUnitsOfTypeIdAll('n03L')
call ForGroupBJ(XEV,function K0I)
call DestroyGroup(XEV)
endif
if(K3I())then
if(K2I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DP',XVV)
call RemoveLocation(XVV)
set B1V=(B1V-1)
endif
endif
if(K5I())then
if(K4I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0GG',XVV)
call RemoveLocation(XVV)
set GTV=(GTV+1)
endif
endif
if(K7I())then
if(K6I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0GF',XVV)
call RemoveLocation(XVV)
set GQV=8
endif
endif
if(K9I())then
if(K8I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DM',XVV)
call RemoveLocation(XVV)
set B2V=(B2V-1)
endif
endif
if(LEI())then
if(LVI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0C3',XVV)
call RemoveLocation(XVV)
set CQV=3
endif
endif
if(LOI())then
if(LXI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FD',XVV)
call RemoveLocation(XVV)
set FOV=3
endif
endif
if(LII())then
if(LRI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DO',XVV)
call RemoveLocation(XVV)
set B3V=(B3V-1)
endif
endif
if(LNI())then
if(LAI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DN',XVV)
call RemoveLocation(XVV)
set B4V=(B4V-1)
endif
endif
if(LCI())then
if(LBI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DR',XVV)
call RemoveLocation(XVV)
set B5V=(B5V-1)
endif
endif
if(LFI())then
if(LDI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call RemoveLocation(XVV)
set D6V=2
endif
endif
if(LHI())then
if(LGI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0GD',XVV)
call RemoveLocation(XVV)
set HNV=2
endif
endif
if(LLI())then
if(LKI())then
if(LJI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H2',XVV)
call RemoveLocation(XVV)
set HBV=2
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H3',XVV)
call RemoveLocation(XVV)
set HBV=2
endif
endif
endif
if(LPI())then
if(LMI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HH',XVV)
call RemoveLocation(XVV)
set H6V=2
endif
endif
if(LSI())then
if(LQI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F1',XVV)
call RemoveLocation(XVV)
set D7V=(D7V+1)
endif
endif
if(LUI())then
if(LTI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EK',XVV)
call RemoveLocation(XVV)
set DOV=3
endif
endif
if(LZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0CX',XVV)
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
if(LYI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call RemoveLocation(XVV)
else
if(LWI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DG',XVV)
call RemoveLocation(XVV)
else
if DJ==0 then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DI',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
if(L3I())then
call DisableTrigger(YSV)
set XEV=GetUnitsOfTypeIdAll('h08I')
call ForGroupBJ(XEV,function L4I)
call DestroyGroup(XEV)
if(L0I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
else
if(L_I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
endif
endif
if(L2I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D0',XVV)
call CreateItemLoc('I0G3',XVV)
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
else
if(L1I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D1',XVV)
call CreateItemLoc('I0CZ',XVV)
call CreateItemLoc('I0FB',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FF',XVV)
call CreateItemLoc('I0G0',XVV)
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(L9I())then
if(L6I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E0',XVV)
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
else
if(L5I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0HM',XVV)
call RemoveLocation(XVV)
endif
endif
if(L8I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DN',XVV)
call CreateItemLoc('I0FF',XVV)
call CreateItemLoc('I0G0',XVV)
call RemoveLocation(XVV)
else
if(L7I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E1',XVV)
call CreateItemLoc('I0G1',XVV)
call CreateItemLoc('I0HG',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0ET',XVV)
call CreateItemLoc('I0DO',XVV)
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(MXI())then
call CreateItemLoc('I0DK',XVV)
if(MEI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E0',XVV)
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
else
if(MVI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call CreateItemLoc('I0DZ',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0HM',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(MOI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0K7',XVV)
call RemoveLocation(XVV)
set GSV=1
endif
if(MRI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HQ',XVV)
call RemoveLocation(XVV)
set RF=1
endif
if(MII())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0KO',XVV)
call RemoveLocation(XVV)
set IF=1
endif
if(MAI())then
call SetPlayerTechResearchedSwap('R05W',(GetPlayerTechCountSimple('R05W',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0G3'),GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0G3'))+1)
endif
if(MNI())then
call UnitAddItemByIdSwapped('I0G4',GetKillingUnitBJ())
call RemoveItem(GetLastCreatedItem())
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0G3'),GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0G3'))+1)
if GetUnitAbilityLevelSwapped('A084',GetKillingUnitBJ())==0 then
call UnitAddAbilityBJ('A084',GetKillingUnitBJ())
else
call SetUnitAbilityLevelSwapped('A084',GetKillingUnitBJ(),GetUnitAbilityLevelSwapped('A084',GetKillingUnitBJ())+1)
endif
endif
if(MBI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0LH',XVV)
call RemoveLocation(XVV)
set IF=1
endif
endfunction
function MDI takes nothing returns nothing
set A5E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A5E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(A5E,function MCI)
endfunction
function MFI takes nothing returns boolean
return(B_V==3)
endfunction
function MGI takes nothing returns boolean
return(B_V==4)
endfunction
function MHI takes nothing returns boolean
return(B_V==5)and(B0V==5)
endfunction
function MJI takes nothing returns boolean
return(B_V==6)
endfunction
function MKI takes nothing returns boolean
return(B_V==$D)
endfunction
function MLI takes nothing returns boolean
return(B_V==$E)
endfunction
function MMI takes nothing returns nothing
if(MFI())then
set XVV=GetRectCenter(MFV)
call CreateNUnitsAtLoc(1,'n03E',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endif
if(MGI())then
set XVV=GetRectCenter(MGV)
set N4V=3
call CreateNUnitsAtLoc(1,'nnsu',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_PURPLE)
call RemoveLocation(XVV)
endif
if(MHI())then
set XVV=GetRectCenter(MDV)
call CreateNUnitsAtLoc(1,'uktg',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_BLUE)
set BJV=GetLastCreatedUnit()
set CNV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(MJI())then
set XVV=GetRectCenter(MFV)
call CreateNUnitsAtLoc(1,'n03K',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
set CEV=GetLastCreatedUnit()
set BJV=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(MKI())then
set XVV=GetRectCenter(MDV)
call CreateNUnitsAtLoc(1,'ninf',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
set DXV=GetLastCreatedUnit()
set C9V=1
call RemoveLocation(XVV)
endif
if(MLI())then
set XVV=GetRectCenter(MDV)
call CreateNUnitsAtLoc(1,'u00R',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(Player(9)))
set DXV=GetLastCreatedUnit()
set C9V=1
call RemoveLocation(XVV)
endif
endfunction
function MPI takes nothing returns nothing
set A6E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(A6E,BZV)
call TriggerAddAction(A6E,function MMI)
endfunction
function MQI takes nothing returns boolean
return(GetRandomInt(1,4)==2)
endfunction
function MSI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0HN'))
endfunction
function MTI takes nothing returns boolean
return(GetRandomInt(1,4)==2)
endfunction
function MUI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1GQ',GetTriggerUnit())>0)
endfunction
function MWI takes nothing returns boolean
return(GetRandomInt(1,5)==2)
endfunction
function MYI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1GT',GetAttacker())>0)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function MZI takes nothing returns boolean
return(GetRandomInt(1,5)==2)
endfunction
function M_I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0HK'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function M0I takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function M1I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0HJ'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function M2I takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function M3I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1GU',GetTriggerUnit())>0)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function M4I takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function M5I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1GU',GetTriggerUnit())>0)
endfunction
function M6I takes nothing returns boolean
return(GetRandomInt(1,$A)==2)
endfunction
function M7I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I06N'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function M8I takes nothing returns boolean
return(GetRandomInt(1,$A)<=2)
endfunction
function M9I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0BZ'))and(UnitHasItemOfTypeBJ(GetAttacker(),'I06N')==false)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function PVI takes nothing returns boolean
return(GetRandomInt(1,$A)<=8)
endfunction
function PEI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0C0'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasItemOfTypeBJ(GetAttacker(),'I0BZ')==false)and(UnitHasItemOfTypeBJ(GetAttacker(),'I06N')==false)
endfunction
function PXI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0C1'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasItemOfTypeBJ(GetAttacker(),'I06N')==false)and(UnitHasItemOfTypeBJ(GetAttacker(),'I0BZ')==false)and(UnitHasItemOfTypeBJ(GetAttacker(),'I0C0')==false)
endfunction
function POI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0KG'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function PRI takes nothing returns boolean
return(GetRandomInt(1,20)<4)
endfunction
function PII takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1WE',GetAttacker())==1)
endfunction
function PAI takes nothing returns nothing
if(MSI())then
if(MQI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+1000.))
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),33)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(MUI())then
if(MTI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+1000.))
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),33)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(MYI())then
if(MWI())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+200.))
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),34)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M_I())then
if(MZI())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+200.))
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),34)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M1I())then
if(M0I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetUnitLevel(GetAttacker()))*6.)))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M3I())then
if(M2I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetUnitLevel(GetAttacker()))*6.)))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M5I())then
if(M4I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetUnitLevel(GetAttacker()))*6.)))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M7I())then
if(M6I())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),35)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(M9I())then
if(M8I())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),36)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(PEI())then
if(PVI())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),37)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitLevel(GetAttacker())*$C)))
endif
endif
if(PXI())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),81)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitLevel(GetAttacker())*16)))
endif
if(POI())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*3,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(PII())then
if(PRI())then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(QFE(GetAttacker(),0)*$A)+QFE(GetAttacker(),1)*3,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endfunction
function PNI takes nothing returns nothing
set A7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(A7E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(A7E,function PAI)
endfunction
function PBI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZJ',JZV[GetConvertedPlayerId(GetTriggerPlayer())])>=1)
endfunction
function PCI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZJ',R1V)>=5)
endfunction
function PDI takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Skeleton Warrior:"+(" Increase damage by "+R2S((.02+(.04*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Crypt Fiend:"+(" Increase damage by "+R2S((.06+(.04*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Abomination:"+(" Increase damage by "+R2S((.16+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Fel Ravager:"+(" Increase damage by "+R2S((.3+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
if(PCI())then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Brood Mother"+(" Increase damage by "+R2S((8.56+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Ancient Hydra"+(" Increase damage by "+R2S((8.92+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Blue Dragon"+(" Increase damage by "+R2S((15.64+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Brood Mother"+(" Increase damage by "+R2S((3.56+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Ancient Hydra"+(" Increase damage by "+R2S((3.92+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Blue Dragon"+(" Increase damage by "+R2S((10.64+(.1*I2R(GetUnitAbilityLevelSwapped('A0ZJ',R1V))))))))
endif
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Total Gained Base Damage: "+(I2S(GetPlayerTechCountSimple('R01J',GetTriggerPlayer())+(2*GetPlayerTechCountSimple('R01K',GetTriggerPlayer())))))+"
Total Gained Bonus Damage: "+I2S(QFE(JZV[GetConvertedPlayerId(GetTriggerPlayer())],1)))
endfunction
function PFI takes nothing returns nothing
set IAE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(IAE,Player(2),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(3),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(4),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(5),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(6),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(7),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(8),"-QD",true)
call TriggerRegisterPlayerChatEvent(IAE,Player(9),"-QD",true)
call TriggerAddCondition(IAE,Condition(function PBI))
call TriggerAddAction(IAE,function PDI)
endfunction
function PGI takes nothing returns nothing
if GetLocalPlayer()==GetTriggerPlayer()then
call ClearTextMessages()
endif
endfunction
function PHI takes nothing returns nothing
local trigger PJI
set PJI=CreateTrigger()
call TriggerRegisterPlayerChatEvent(PJI,Player(2),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(3),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(4),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(5),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(6),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(7),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(8),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(9),"-cl",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(2),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(3),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(4),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(5),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(6),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(7),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(8),"-clear",true)
call TriggerRegisterPlayerChatEvent(PJI,Player(9),"-clear",true)
call TriggerAddAction(PJI,function PGI)
endfunction
function PKI takes nothing returns boolean
return(GetUnitLevel(G6V)>=$F)
endfunction
function PLI takes nothing returns boolean
return(IsUnitAliveBJ(G6V))
endfunction
function PMI takes nothing returns nothing
if(PLI())then
call AddSpecialEffectTargetUnitBJ("origin",G6V,"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(G5V,G6V,(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,G5V,true))*(I2R(GetUnitAbilityLevelSwapped('A02U',G5V))*2.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(("After Shock:"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,G5V,true)*(GetUnitAbilityLevelSwapped('A02U',G5V)*2)))),GetUnitLoc(G6V),10.,12.,60.,11.,99.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(PKI())then
call AddSpecialEffectTargetUnitBJ("origin",G5V,"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ModifyHeroStat(bj_HEROSTAT_INT,G5V,bj_MODIFYMETHOD_ADD,3)
call SetUnitLifeBJ(G5V,(GetUnitStateSwap(UNIT_STATE_LIFE,G5V)+5000.))
call CreateTextTagLocBJ(("After Shock:"+"+3 to Base Intelligence and Heal for 5000."),GetUnitLoc(G5V),10.,12.,60.,11.,99.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endfunction
function PPI takes nothing returns nothing
set A8E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(A8E,G4V)
call TriggerAddAction(A8E,function PMI)
endfunction
function PQI takes nothing returns nothing
if IsUnit(BJV,CEV)==false then
set XVV=GetRectCenter(MDV)
call SetUnitPositionLoc(BJV,XVV)
call RemoveLocation(XVV)
else
set XVV=GetRectCenter(MFV)
call SetUnitPositionLoc(BJV,XVV)
call RemoveLocation(XVV)
endif
call SetUnitLifeBJ(BJV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BJV))
set BGV=5
endfunction
function PSI takes nothing returns nothing
set A9E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(A9E,BHV)
call TriggerAddAction(A9E,function PQI)
endfunction
function PTI takes nothing returns nothing
call UnitRemoveAbilityBJ('A0EC',BAV)
endfunction
function PUI takes nothing returns nothing
set NVE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NVE,BIV)
call TriggerAddAction(NVE,function PTI)
endfunction
function PWI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B04P'))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function PYI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nubw')and(RectContainsUnit(MPV,GetAttacker())==false)
endfunction
function PZI takes nothing returns boolean
return(GetRandomInt(1,'d')<=(9+(2*GetUnitAbilityLevelSwapped('A149',GetTriggerUnit()))))
endfunction
function P_I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A149',GetTriggerUnit())>0)
endfunction
function P0I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function P1I takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function P2I takes nothing returns boolean
return GetBooleanAnd(P0I(),P1I())
endfunction
function P3I takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function P4I takes nothing returns boolean
return GetBooleanAnd(P2I(),P3I())
endfunction
function P5I takes nothing returns boolean
return(N3V>=23)
endfunction
function P6I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.55))and(N4V>=350)
endfunction
function P7I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03C')
endfunction
function P8I takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function P9I takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function QVI takes nothing returns boolean
return GetBooleanAnd(P8I(),P9I())
endfunction
function QEI takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function QXI takes nothing returns boolean
return(N3V>=26)
endfunction
function QOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.29))
endfunction
function QRI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nfgo')
endfunction
function QII takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$D2)and(UnitHasBuffBJ(GetAttacker(),'BUan'))
endfunction
function QAI takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function QNI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03E')
endfunction
function QBI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03K')
endfunction
function QCI takes nothing returns boolean
return(N3V>=25)
endfunction
function QDI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.55))
endfunction
function QFI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.9))
endfunction
function QGI takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03D')
endfunction
function QHI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)<=6)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092')==false)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095')==false)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function QJI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)>=7)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092')==false)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095')==false)
endfunction
function QKI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)>=4)and(GetUnitAbilityLevelSwapped('A1RH',RH)<=6)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095')==false)
endfunction
function QLI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)>=6)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095')==false)
endfunction
function QMI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)>=8)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092')==false)
endfunction
function QPI takes nothing returns boolean
return(GetAttacker()==RH)and(GetUnitAbilityLevelSwapped('A1RM',RH)>0)and(GetUnitAbilityLevelSwapped('A1RH',RH)>=8)and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B095'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B092'))
endfunction
function QQI takes nothing returns boolean
return(GetAttacker()==FB)and(GetUnitAbilityLevelSwapped('A0D4',FB)>=1)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(JQV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*4))>=$76C)and(GetRandomInt(1,$A)==1)
endfunction
function QSI takes nothing returns boolean
return(GetAttacker()==PA)and(GetUnitAbilityLevelSwapped('A0TK',PA)>=1)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(JQV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])*4))>=$7E9)and(GetRandomInt(1,$F)==1)
endfunction
function QTI takes nothing returns nothing
call UnitDamageTargetBJ(PA,GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,PA))*.16,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function QUI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(PA)))
endfunction
function QWI takes nothing returns nothing
if(PWI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((.1*I2R(GetUnitAbilityLevelSwapped('A13C',NFV)))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,NFV,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(20.+(10.*I2R(GetUnitAbilityLevelSwapped('A13C',NFV))))))
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(PYI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),9600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(P_I())then
if(PZI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(3.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Abilities\\Spells\\NightElf\\ThornsAura\\ThornsAuraDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(P7I())then
set N3V=(N3V+1)
set N4V=(N4V+1)
if(P5I())then
set N3V=0
set XVV=GetUnitLoc(GetAttacker())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A155',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1300.,GetUnitLoc(GetAttacker()),Condition(function P4I))))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",XVV)
call AddSpecialEffectLocBJ(XVV,"war3mapImported\\ToxicField.mdx")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(P6I())then
set N4V=0
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.33)))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A14V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"acidbomb",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(QRI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(100.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 150.))))
if(QEI())then
set XEV=GetUnitsInRangeOfLocMatching(5000.,GetUnitLoc(GetTriggerUnit()),Condition(function QVI))
call IssuePointOrderLocBJ(GetAttacker(),"ward",GetUnitLoc(GroupPickRandomUnit(XEV)))
call DestroyGroup(XEV)
endif
if(QOI())then
set N3V=(N3V+1)
if(QXI())then
set N3V=0
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-I2R(FN[4])))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.68)))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(QII())then
call KillUnit(GetAttacker())
endif
if(QNI())then
if(QAI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A15K',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttacker())
call RemoveLocation(XVV)
endif
endif
if(QBI())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),39)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QGI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(700.+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 120.))))
if(QFI())then
call IssueImmediateOrderBJ(GetAttacker(),"creepthunderclap")
if(QDI())then
set N3V=(N3V+1)
if(QCI())then
set N3V=0
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-19000.))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.76)))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
if(QHI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),XH*$D,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(QJI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),23)
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QKI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)+8
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),XH*$D,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(QLI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)+8
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),23)
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QMI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)*2
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),23)
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QPI())then
set XH=XH+GetUnitAbilityLevelSwapped('A1RM',RH)*2+8
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),23)
call UnitDamageTargetBJ(RH,GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QQI())then
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),40)
call UnitDamageTargetBJ(FB,GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(QSI())then
set XVV=GetUnitLoc(PA)
call AddSpecialEffectTargetUnitBJ("origin",PA,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XEV=GetUnitsInRangeOfLocMatching(350.,XVV,Condition(function QUI))
call ForGroupBJ(XEV,function QTI)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
endif
endfunction
function QYI takes nothing returns nothing
set NEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NEE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(NEE,function QWI)
endfunction
function QZI takes nothing returns nothing
call SetUnitLifeBJ(A7V,(GetUnitStateSwap(UNIT_STATE_LIFE,A7V)+5000.))
call UnitRemoveAbilityBJ('A13H',A7V)
set A7V=null
endfunction
function Q_I takes nothing returns nothing
set NXE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NXE,A8V)
call TriggerAddAction(NXE,function QZI)
endfunction
function Q0I takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,NCV,bj_MODIFYMETHOD_SUB,NDV)
call AddSpecialEffectTargetUnitBJ("overhead",NCV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set NCV=null
set NDV=0
endfunction
function Q1I takes nothing returns nothing
set NOE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NOE,NBV)
call TriggerAddAction(NOE,function Q0I)
endfunction
function Q2I takes nothing returns boolean
return(UnitHasBuffBJ(G0V,'BNdo'))and(UnitHasBuffBJ(G0V,'B04V')==false)
endfunction
function Q3I takes nothing returns nothing
if(Q2I())then
call AddSpecialEffectLocBJ(GetUnitLoc(G0V),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(G0V,(GetUnitStateSwap(UNIT_STATE_LIFE,G0V)-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,G0V)*.84)))
call SetUnitLifeBJ(G0V,(GetUnitStateSwap(UNIT_STATE_LIFE,G0V)-20000.))
endif
endfunction
function Q4I takes nothing returns nothing
set NRE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NRE,DEV)
call TriggerAddAction(NRE,function Q3I)
endfunction
function Q5I takes nothing returns nothing
call UnitRemoveAbilityBJ('A144',NAV)
set NAV=null
endfunction
function Q6I takes nothing returns nothing
set NIE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NIE,NNV)
call TriggerAddAction(NIE,function Q5I)
endfunction
function Q7I takes nothing returns nothing
call UnitRemoveAbilityBJ('A14Q',NUV)
endfunction
function Q8I takes nothing returns nothing
set NAE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NAE,NTV)
call TriggerAddAction(NAE,function Q7I)
endfunction
function Q9I takes nothing returns nothing
call UnitRemoveAbilityBJ('A13L',A9V)
call UnitRemoveAbilityBJ('A13M',A9V)
call UnitRemoveAbilityBJ('A13N',A9V)
call UnitRemoveAbilityBJ('A13O',A9V)
call UnitRemoveAbilityBJ('A13P',A9V)
call UnitRemoveAbilityBJ('A13Q',A9V)
call AddSpecialEffectTargetUnitBJ("overhead",A9V,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set A9V=null
endfunction
function SVI takes nothing returns nothing
set NNE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NNE,NVV)
call TriggerAddAction(NNE,function Q9I)
endfunction
function SEI takes nothing returns nothing
call UnitRemoveAbilityBJ('A13R',NEV)
call UnitRemoveAbilityBJ('A13S',NEV)
call UnitRemoveAbilityBJ('A13T',NEV)
call UnitRemoveAbilityBJ('A13U',NEV)
call UnitRemoveAbilityBJ('A13V',NEV)
call UnitRemoveAbilityBJ('A13W',NEV)
call AddSpecialEffectTargetUnitBJ("overhead",NEV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set NEV=null
endfunction
function SXI takes nothing returns nothing
set NBE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NBE,NXV)
call TriggerAddAction(NBE,function SEI)
endfunction
function SOI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>99)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function SRI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function SII takes nothing returns boolean
return(GetRandomInt(1,3)==3)
endfunction
function SAI takes nothing returns boolean
return(GetRandomInt(1,4)==3)
endfunction
function SNI takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function SBI takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function SCI takes nothing returns boolean
return(C0V>=6)
endfunction
function SDI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function SFI takes nothing returns nothing
if(SDI())then
set C0V=(C0V+1)
if(SCI())then
set C0V=(C0V-4)
if(SBI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DZ',XVV)
call RemoveLocation(XVV)
else
if(SNI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E0',XVV)
call RemoveLocation(XVV)
else
if(SAI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
else
if(SII())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
else
if(SRI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HO',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endif
endif
endfunction
function SGI takes nothing returns nothing
set NCE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NCE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(NCE,Condition(function SOI))
call TriggerAddAction(NCE,function SFI)
endfunction
function SHI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>='d')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function SJI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function SKI takes nothing returns boolean
return(GetRandomInt(1,3)==3)
endfunction
function SLI takes nothing returns boolean
return(GetRandomInt(1,4)==3)
endfunction
function SMI takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function SPI takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function SQI takes nothing returns boolean
return(HGV<=4)and(GetRandomInt(1,($B-HFV))==1)
endfunction
function SSI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function STI takes nothing returns nothing
if(SSI())then
set HFV=(HFV+1)
if(SQI())then
set HGV=(HGV+1)
if(SPI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H6',XVV)
call RemoveLocation(XVV)
else
if(SMI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H4',XVV)
call RemoveLocation(XVV)
else
if(SLI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H8',XVV)
call RemoveLocation(XVV)
else
if(SKI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H9',XVV)
call RemoveLocation(XVV)
else
if(SJI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H7',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H5',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endif
endif
endfunction
function SUI takes nothing returns nothing
set NDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NDE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(NDE,Condition(function SHI))
call TriggerAddAction(NDE,function STI)
endfunction
function SWI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='H06W')
endfunction
function SYI takes nothing returns boolean
return(GetUnitTypeId(NRV)=='H06V')
endfunction
function SZI takes nothing returns boolean
return(GetBooleanOr(SWI(),SYI()))
endfunction
function S_I takes nothing returns boolean
return(GetUnitTypeId(NRV)=='Hpb2')
endfunction
function S0I takes nothing returns boolean
return(GetUnitTypeId(NRV)=='Nalc')
endfunction
function S1I takes nothing returns boolean
return(GetBooleanOr(S_I(),S0I()))
endfunction
function S3I takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",NRV,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(S1I())then
call ModifyHeroStat(bj_HEROSTAT_STR,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
else
if(SZI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
else
call ModifyHeroStat(bj_HEROSTAT_INT,NRV,bj_MODIFYMETHOD_SUB,(NOV*16))
endif
endif
set NRV=null
set NOV=0
endfunction
function S4I takes nothing returns nothing
set NFE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(NFE,NIV)
call TriggerAddAction(NFE,function S3I)
endfunction
function S5I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GP'))
endfunction
function S6I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GQ'))
endfunction
function S7I takes nothing returns boolean
return(GetSpellAbilityId()=='A16H')
endfunction
function S8I takes nothing returns boolean
return(GetSpellAbilityId()=='A17A')
endfunction
function S9I takes nothing returns boolean
return(GetSpellAbilityId()=='ANdp')
endfunction
function TVI takes nothing returns boolean
return(GetSpellAbilityId()=='A171')
endfunction
function TEI takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'BUan')==false)and(IsUnitIllusionBJ(GetSpellTargetUnit())==false)
endfunction
function TXI takes nothing returns boolean
return(GetSpellAbilityId()=='ACif')
endfunction
function TOI takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function TRI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function TII takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function TAI takes nothing returns boolean
return GetBooleanAnd(TRI(),TII())
endfunction
function TNI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(1600.*I2R(GetUnitAbilityLevelSwapped('A07F',GetTriggerUnit()))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function TBI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B059'))
endfunction
function TCI takes nothing returns boolean
return(GetSpellAbilityId()=='A07F')
endfunction
function TDI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05A'))
endfunction
function TFI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B058'))
endfunction
function TGI takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05A'))
endfunction
function THI takes nothing returns boolean
return(GetSpellAbilityId()=='AOcl')
endfunction
function TJI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A173',GetSpellTargetUnit())>0)
endfunction
function TKI takes nothing returns boolean
return(GetSpellAbilityId()=='AHtb')
endfunction
function TLI takes nothing returns boolean
return(GetSpellAbilityId()=='A175')
endfunction
function TMI takes nothing returns boolean
return((GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=1400000.)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function TPI takes nothing returns boolean
return(C9V>=80)
endfunction
function TQI takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n041')
endfunction
function TSI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<29)
endfunction
function TTI takes nothing returns boolean
return(GetSpellAbilityId()=='A17L')and(GetUnitPointValue(GetTriggerUnit())!=40)
endfunction
function TUI takes nothing returns boolean
return(GetSpellAbilityId()=='A1G1')
endfunction
function TWI takes nothing returns boolean
return(GetSpellAbilityId()=='A17Q')
endfunction
function TYI takes nothing returns boolean
return(GetSpellAbilityId()=='A18G')
endfunction
function TZI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hrdh')
endfunction
function T_I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hhdl')
endfunction
function T0I takes nothing returns boolean
return(GetBooleanOr(TZI(),T_I()))
endfunction
function T1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17B',GetSpellTargetUnit())>0)
endfunction
function T2I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17C',GetSpellTargetUnit())>0)
endfunction
function T3I takes nothing returns boolean
return(GetUnitPointValue(GetSpellTargetUnit())!=$FA)and(GetUnitLevel(GetSpellTargetUnit())<77)and(GetUnitTypeId(GetSpellTargetUnit())!='n01R')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz1')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz2')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz3')and(IsUnit(GetSpellTargetUnit(),INV)==false)and(IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40])==false)and(GetUnitTypeId(GetSpellTargetUnit())!='u008')and(GetUnitTypeId(GetSpellTargetUnit())!='n00E')
endfunction
function T4I takes nothing returns boolean
return(GetSpellAbilityId()=='A17D')and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false)
endfunction
function T5I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RL')
endfunction
function T6I takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<29)
endfunction
function T7I takes nothing returns boolean
return(GetSpellAbilityId()=='A17L')and(GetUnitPointValue(GetTriggerUnit())==40)
endfunction
function T8I takes nothing returns nothing
if(S7I())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h08N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A16I',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A16I',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A16H',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"stomp")
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,(CDV-1))
set CGV=GetTriggerUnit()
set CDV=(GetUnitLevel(GetTriggerUnit())*GetUnitAbilityLevelSwapped('A16H',GetTriggerUnit()))
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,CDV)
call StartTimerBJ(CFV,false,8.)
call RemoveLocation(XVV)
if(S5I())then
endif
if(S6I())then
endif
endif
if(S8I())then
set CHV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A16K',GetSpellTargetUnit())
call SetUnitVertexColorBJ(GetSpellTargetUnit(),40.,'d',40.,0)
call StartTimerBJ(CJV,false,19.)
endif
if(S9I())then
set CKV=GetTriggerUnit()
set CMV=GetSpellTargetLoc()
call SetPlayerTechResearchedSwap('R043',(GetPlayerTechCountSimple('R043',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ('ACif',GetTriggerUnit())
call StartTimerBJ(CLV,false,8.3)
endif
if(TVI())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,4)
endif
if(TXI())then
if(TEI())then
if GetUnitTypeId(GetSpellTargetUnit())=='nrdr'then
call UnitRemoveAbilityBJ('A1BO',GetSpellTargetUnit())
endif
call UnitPauseTimedLifeBJ(true,GetSpellTargetUnit())
call UnitAddAbilityBJ('A047',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('ACif',GetTriggerUnit())
endif
endif
if(TCI())then
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,45.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,90.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,135.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,180.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,225.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,270.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,315.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),256,360.),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),.0,.0),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(TOI())then
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('S00X',GetLastCreatedUnit())
call UnitAddAbilityBJ('S00Y',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ((I2R(GetUnitAbilityLevelSwapped('A07F',GetTriggerUnit()))*.7),'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(TBI())then
set XEV=GetUnitsInRangeOfLocMatching(400.,GetSpellTargetLoc(),Condition(function TAI))
call ForGroupBJ(XEV,function TNI)
call DestroyGroup(XEV)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetSpellTargetLoc(),.0,.0),"Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(THI())then
if(TFI())then
if(TDI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(3.+I2R(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(3.+I2R(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(556.*I2R(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((556*GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit()))+(2*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit())+3))))),XVV,10.,8.,30.,30.,90.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(3.+I2R(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit())+3)))),XVV,10.,8.,30.,30.,90.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(TGI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(556.*I2R(GetUnitAbilityLevelSwapped('AOcl',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(TKI())then
set CUV=GetSpellTargetUnit()
if(TJI())then
call UnitAddAbilityBJ('A174',GetSpellTargetUnit())
call StartTimerBJ(CTV,false,(4.5+(1.5*I2R(GetUnitAbilityLevelSwapped('AHtb',GetTriggerUnit())))))
endif
call UnitAddAbilityBJ('A173',GetSpellTargetUnit())
call StartTimerBJ(CSV,false,(4.5+(1.5*I2R(GetUnitAbilityLevelSwapped('AHtb',GetTriggerUnit())))))
endif
if(TLI())then
set CWV=GetTriggerUnit()
call UnitAddAbilityBJ('A07G',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A07G',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A175',GetTriggerUnit()))
call StartTimerBJ(CYV,false,(5.+(1.*I2R(GetUnitAbilityLevelSwapped('A175',GetTriggerUnit())))))
endif
if(TQI())then
if(TMI())then
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.06)))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.14)))
endif
set C9V=(C9V+$D)
if(TPI())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C9V=(C9V-80)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.46)))
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),41)
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(TTI())then
if(TSI())then
call AddHeroXPSwapped(((3*GetUnitLevel(GetTriggerUnit()))*GetUnitLevel(GetTriggerUnit())),GetTriggerUnit(),true)
else
call AddHeroXPSwapped(((GetUnitLevel(GetTriggerUnit())*GetUnitLevel(GetTriggerUnit()))*GetUnitLevel(GetTriggerUnit())),GetTriggerUnit(),true)
endif
endif
if(TUI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(11.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(12.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(13.,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(12.5,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(11.5,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,'nwwd',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.5,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(TWI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17R',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(50.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(TYI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A18F',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(90.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(T0I())then
endif
if(T4I())then
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==1 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitRemoveAbilityBJ('A1XW',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1XX',GetSpellTargetUnit())
endif
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==0 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitAddAbilityBJ('A1XW',GetSpellTargetUnit())
endif
if(T3I())then
if(T2I())then
else
if(T1I())then
call UnitRemoveAbilityBJ('A17B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A17C',GetSpellTargetUnit())
else
call UnitAddAbilityBJ('A17B',GetSpellTargetUnit())
endif
endif
endif
endif
if(T5I())then
set RH=GetTriggerUnit()
call UnitAddAbilityBJ('A1RM',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1RM',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1RL',GetTriggerUnit()))
call StartTimerBJ(CZV,false,(4.+(1.*I2R(GetUnitAbilityLevelSwapped('A1RL',GetTriggerUnit())))))
endif
if(T7I())then
if(T6I())then
call AddHeroXPSwapped(((3*GetUnitLevel(GetTriggerUnit()))*GetUnitLevel(GetTriggerUnit()))/3,GetTriggerUnit(),true)
else
call AddHeroXPSwapped(((GetUnitLevel(GetTriggerUnit())*GetUnitLevel(GetTriggerUnit()))*GetUnitLevel(GetTriggerUnit()))/2,GetTriggerUnit(),true)
endif
endif
endfunction
function T9I takes nothing returns nothing
set NGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NGE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(NGE,function T8I)
endfunction
function UVI takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1XE',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XE',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XF',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XF',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XG',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XG',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XH',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XH',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XI',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XI',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XJ',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XJ',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XK',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XK',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XL',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XL',GetTriggerUnit())
endif
call UnitRemoveAbilityBJ('A1XD',GetTriggerUnit())
call UnitAddAbilityBJ('A1V5',GetTriggerUnit())
call UnitAddAbilityBJ('A1VP',GetTriggerUnit())
call UnitAddAbilityBJ('A1XC',GetTriggerUnit())
call UnitAddAbilityBJ('A1XO',GetTriggerUnit())
endfunction
function UEI takes nothing returns nothing
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0 then
call UnitAddAbilityBJ('A1XE',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]>0 then
call UnitAddAbilityBJ('A1XF',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]>0 then
call UnitAddAbilityBJ('A1XJ',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]>0 then
call UnitAddAbilityBJ('A1XL',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]>0 then
call UnitAddAbilityBJ('A1XG',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]>0 then
call UnitAddAbilityBJ('A1XK',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]>0 then
call UnitAddAbilityBJ('A1XI',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]>0 then
call UnitAddAbilityBJ('A1XH',GetTriggerUnit())
endif
call UnitAddAbilityBJ('A1XD',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1V5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1VP',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1XC',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1XO',GetTriggerUnit())
endfunction
function UXI takes nothing returns nothing
if VF==1 then
call UnitAddAbilityBJ('A1XP',GetTriggerUnit())
endif
if WH==1 then
call UnitAddAbilityBJ('A1XM',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+64]>0 then
call UnitAddAbilityBJ('A1XQ',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+72]==1 then
call UnitAddAbilityBJ('A1XR',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+72]==2 then
call UnitAddAbilityBJ('A1XR',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XR',GetTriggerUnit(),2)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+72]==3 then
call UnitAddAbilityBJ('A1XR',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XR',GetTriggerUnit(),3)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]==1 then
call UnitAddAbilityBJ('A1XS',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]==2 then
call UnitAddAbilityBJ('A1XS',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XS',GetTriggerUnit(),2)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+80]==3 then
call UnitAddAbilityBJ('A1XS',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XS',GetTriggerUnit(),3)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+88]==1 then
call UnitAddAbilityBJ('A1XT',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+88]==2 then
call UnitAddAbilityBJ('A1XT',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XT',GetTriggerUnit(),2)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+88]==3 then
call UnitAddAbilityBJ('A1XT',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XT',GetTriggerUnit(),3)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+88]==4 then
call UnitAddAbilityBJ('A1XT',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XT',GetTriggerUnit(),4)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]==1 then
call UnitAddAbilityBJ('A1XU',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]==2 then
call UnitAddAbilityBJ('A1XU',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XU',GetTriggerUnit(),2)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]>=3 then
call UnitAddAbilityBJ('A1XU',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1XU',GetTriggerUnit(),3)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']==1 then
call UnitAddAbilityBJ('A1SA',GetTriggerUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']==2 then
call UnitAddAbilityBJ('A1SA',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1SA',GetTriggerUnit(),2)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']==3 then
call UnitAddAbilityBJ('A1SA',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1SA',GetTriggerUnit(),3)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'p']==1 then
call UnitAddAbilityBJ('A1WD',GetTriggerUnit())
endif
call UnitAddAbilityBJ('A1XN',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1V5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1VP',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1XC',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1XO',GetTriggerUnit())
endfunction
function UOI takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1XP',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XP',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XM',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XM',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XQ',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XQ',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XR',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XR',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XS',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XS',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XT',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XT',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XU',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1XU',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1SA',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1SA',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1WD',GetTriggerUnit())>0 then
call UnitRemoveAbilityBJ('A1WD',GetTriggerUnit())
endif
call UnitRemoveAbilityBJ('A1XN',GetTriggerUnit())
call UnitAddAbilityBJ('A1V5',GetTriggerUnit())
call UnitAddAbilityBJ('A1VP',GetTriggerUnit())
call UnitAddAbilityBJ('A1XC',GetTriggerUnit())
call UnitAddAbilityBJ('A1XO',GetTriggerUnit())
endfunction
function URI takes nothing returns boolean
return(GetSpellAbilityId()=='A1MS')
endfunction
function UII takes nothing returns boolean
return(GetSpellAbilityId()=='A1MR')
endfunction
function UAI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17B',GetSpellTargetUnit())>0)
endfunction
function UNI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17C',GetSpellTargetUnit())>0)
endfunction
function UBI takes nothing returns boolean
return(GetUnitPointValue(GetSpellTargetUnit())!=$FA)and(GetUnitLevel(GetSpellTargetUnit())<81)and(GetUnitTypeId(GetSpellTargetUnit())!='n01R')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz1')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz2')and(GetUnitTypeId(GetSpellTargetUnit())!='ngz3')and(IsUnit(GetSpellTargetUnit(),INV)==false)and(IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40])==false)and(GetUnitTypeId(GetSpellTargetUnit())!='u008')and(GetUnitTypeId(GetSpellTargetUnit())!='n00E')
endfunction
function UCI takes nothing returns boolean
return(GetSpellAbilityId()=='A1MX')and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false)
endfunction
function UDI takes nothing returns boolean
return(GetSpellAbilityId()=='A1N6')
endfunction
function UFI takes nothing returns boolean
return(GetSpellAbilityId()=='A06X')
endfunction
function UGI takes nothing returns boolean
return(GetSpellAbilityId()=='AUin')
endfunction
function UHI takes nothing returns boolean
return(GetSpellAbilityId()=='A1P1')
endfunction
function UJI takes nothing returns boolean
return((GetSpellAbilityId()=='A1N7')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function UKI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QU',GetSpellTargetUnit())>0)
endfunction
function ULI takes nothing returns boolean
return(WG==3)
endfunction
function UMI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QV',GetSpellTargetUnit())>0)
endfunction
function UPI takes nothing returns boolean
return(WG==2)
endfunction
function UQI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QW',GetSpellTargetUnit())>0)
endfunction
function USI takes nothing returns boolean
return(WG==1)
endfunction
function UTI takes nothing returns boolean
return(GetSpellAbilityId()=='A1MV')and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))
endfunction
function UUI takes nothing returns boolean
return(GetSpellAbilityId()=='A0PF')
endfunction
function UWI takes nothing returns boolean
return(GetSpellAbilityId()=='A1S1')
endfunction
function UYI takes nothing returns boolean
return(GetSpellAbilityId()=='Arsw')and(GetUnitAbilityLevelSwapped('Arsw',GetTriggerUnit())==9)and(GetUnitStateSwap(UNIT_STATE_LIFE,OH)>=1)
endfunction
function UZI takes nothing returns boolean
return(GetSpellAbilityId()=='A1R8')
endfunction
function U_I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RB')
endfunction
function U0I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RC')
endfunction
function U1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0QJ')
endfunction
function U2I takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit()))>=5)
endfunction
function U3I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RJ')
endfunction
function U4I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function U5I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),500,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function U6I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RI')and(UnitHasBuffBJ(GetSpellTargetUnit(),'Bpoi'))and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=1)
endfunction
function U7I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RK')and((GetUnitAbilityLevelSwapped('A1RH',GetTriggerUnit()))>=2)and((GetUnitAbilityLevelSwapped('A1RI',GetTriggerUnit()))>=1)and(GetRandomInt(1,2)==2)
endfunction
function U8I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function U9I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),'d'+($C8*GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function WVI takes nothing returns boolean
return(GetSpellAbilityId()=='A1RQ')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$5DC)
endfunction
function WEI takes nothing returns boolean
return(GetSpellAbilityId()=='A1WM')
endfunction
function WXI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),'d'+($C8*GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit()))+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(2*GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function WOI takes nothing returns boolean
return(GetSpellAbilityId()=='A1RQ')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$5DC)
endfunction
function WRI takes nothing returns boolean
return(GetSpellAbilityId()=='A1RZ')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))<$9C4)
endfunction
function WII takes nothing returns boolean
return(GetSpellAbilityId()=='A1RZ')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$9C4)
endfunction
function WAI takes nothing returns boolean
return(GetSpellAbilityId()=='A1SJ')
endfunction
function WNI takes nothing returns boolean
return(GetSpellAbilityId()=='A1SM')
endfunction
function WBI takes nothing returns boolean
return(GetSpellAbilityId()=='A1UG')
endfunction
function WCI takes nothing returns boolean
return(GetSpellAbilityId()=='A19S')
endfunction
function WDI takes nothing returns boolean
return(GetSpellAbilityId()=='A03U')
endfunction
function WFI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VE')
endfunction
function WGI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VA')and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))>=1)and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))<=4)
endfunction
function WHI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VA')and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))>=5)and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))<=$A)
endfunction
function WJI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VA')and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))>=$B)and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))<=$F)
endfunction
function WKI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VA')and((GetUnitAbilityLevelSwapped('A1VA',GetTriggerUnit()))==16)
endfunction
function WLI takes nothing returns boolean
return(GetSpellAbilityId()=='A0IL')
endfunction
function WMI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function WPI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(1+(2.7*GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit()))))+(($F*(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+8)*(.75+(.25*GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit()))))+((25*(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GetTriggerUnit())))))*(.75+(.25*GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit()))))+((500*(GetPlayerTechCountSimple('R05V',GetOwningPlayer(GetTriggerUnit())))))*(.75+(.25*GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())))+((1.3*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)))*(.75+(.25*GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function WQI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VI')
endfunction
function WSI takes nothing returns boolean
return(GetItemTypeId(GetFilterItem())=='I0J7')or(GetItemTypeId(GetFilterItem())=='I0J8')
endfunction
function WTI takes nothing returns nothing
call PingMinimap(GetItemX(GetEnumItem()),GetItemY(GetEnumItem()),5)
endfunction
function WUI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VJ')
endfunction
function WWI takes nothing returns boolean
return(GetSpellAbilityId()=='A1VK')
endfunction
function WYI takes nothing returns boolean
return(GetSpellAbilityId()=='AChx')
endfunction
function WZI takes nothing returns boolean
return(GetSpellAbilityId()=='A1WQ')
endfunction
function W_I takes nothing returns boolean
return(GetSpellAbilityId()=='A1I2')
endfunction
function W0I takes nothing returns boolean
return(GetSpellAbilityId()=='A1WS')
endfunction
function W1I takes nothing returns boolean
return(GetSpellAbilityId()=='A1XC')
endfunction
function W2I takes nothing returns boolean
return(GetSpellAbilityId()=='A1XD')
endfunction
function W3I takes nothing returns boolean
return(GetSpellAbilityId()=='A1XO')
endfunction
function W4I takes nothing returns boolean
return(GetSpellAbilityId()=='A1XN')
endfunction
function W5I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function W6I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function W7I takes nothing returns boolean
return(GetSpellAbilityId()=='A1Y1')
endfunction
function Trig_Newabi_Func048C takes nothing returns boolean
return(GetSpellAbilityId()=='A1Y0')
endfunction
function Trig_Newabi_Func048Func001C takes nothing returns nothing
call UnitDamageTargetBJ(JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetEnumUnit(),(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_Newabi_Func048Func002C takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function W8I takes nothing returns boolean
return(GetSpellAbilityId()=='A1YG')
endfunction
function W9I takes nothing returns boolean
return(GetSpellAbilityId()=='A1YF')
endfunction
function YVI takes nothing returns boolean
return(GetSpellAbilityId()=='A09Z')
endfunction
function YEI takes nothing returns boolean
return(GetSpellAbilityId()=='A0A9')and(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==false)
endfunction
function YXI takes nothing returns boolean
return(GetSpellAbilityId()=='A0I6')
endfunction
function YOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0TR')
endfunction
function YRI takes nothing returns nothing
local integer YII
if(URI())then
call SetPlayerTechResearchedSwap('R057',(GetPlayerTechCountSimple('R057',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R056',(GetPlayerTechCountSimple('R056',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbilityBJ('A0AB',GetSpellTargetUnit())
if(GetUnitAbilityLevelSwapped('A1MS',GetTriggerUnit())==1)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$2710,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())>=$7D0 then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-2000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+2000.))
else
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit()))))
call SetUnitManaBJ(GetSpellTargetUnit(),0)
endif
endif
if(GetUnitAbilityLevelSwapped('A1MS',GetTriggerUnit())==2)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$7530,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())>=8000 then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-8000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+8000.))
else
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit()))))
call SetUnitManaBJ(GetSpellTargetUnit(),0)
endif
endif
if(GetUnitAbilityLevelSwapped('A1MS',GetTriggerUnit())==3)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$C350,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())>=$61A8 then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-25000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+25000.))
else
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit()))))
call SetUnitManaBJ(GetSpellTargetUnit(),0)
endif
endif
if(GetUnitAbilityLevelSwapped('A1MS',GetTriggerUnit())==4)then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$61A80,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
if GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())>=75000 then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-75000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+75000.))
else
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit()))))
call SetUnitManaBJ(GetSpellTargetUnit(),0)
endif
endif
endif
if(UII())then
set OH=GetSpellTargetUnit()
endif
if(UCI())then
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==1 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitRemoveAbilityBJ('A1XW',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1XX',GetSpellTargetUnit())
endif
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==0 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitAddAbilityBJ('A1XX',GetSpellTargetUnit())
endif
if(UBI())then
if(UNI())then
else
if(UAI())then
call UnitRemoveAbilityBJ('A17B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A17C',GetSpellTargetUnit())
else
call UnitAddAbilityBJ('A17C',GetSpellTargetUnit())
endif
endif
endif
endif
if(UDI())then
call KillUnit(GetTriggerUnit())
endif
if(UFI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A06X',GetTriggerUnit()))*.35)+.0)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(UGI())then
call SetPlayerTechResearchedSwap('R05H',(GetPlayerTechCountSimple('R05H',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R05G',(GetPlayerTechCountSimple('R05G',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(UHI())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$96)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$96)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$96)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0J3'))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(UJI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))*GetUnitLevel(GetSpellTargetUnit()))*.5),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitLevel(GetSpellTargetUnit()))*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))*1/2),XVV,10.,14.,100.,92.,3.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(UTI())then
set WG=GetRandomInt(1,3)
if(USI())then
if(UQI())then
set FFV=GetRandomInt(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit())),(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))*4))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1QW',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1QW',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("-Damage!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(UPI())then
if(UMI())then
set FFV=GetRandomInt(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit())),(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))*4))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1QV',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1QV',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("-Armor!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(ULI())then
if(UKI())then
set FFV=GetRandomInt(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit())),(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))*4))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1QU',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1QU',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1MV',GetTriggerUnit()))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+Spell Amplify!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
if(UUI())then
call SetPlayerTechResearchedSwap('R00T',(GetPlayerTechCountSimple('R00T',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
endif
if(UWI())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetUnitAbilityLevelSwapped('A1S1',GetTriggerUnit()))*2)
endif
if(UYI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,OH,bj_MODIFYMETHOD_ADD,3)
set XVV=GetUnitLoc(OH)
call AddSpecialEffectTargetUnitBJ("origin",OH,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("+3 Agility",XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(UZI())then
if GetUnitAbilityLevelSwapped('ACrk',GetSpellTargetUnit())==0 and GetUnitLevel(GetSpellTargetUnit())<46 and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false then
set ZG=GetRandomInt(1,4)
else
set ZG=GetRandomInt(2,4)
endif
if ZG==1 then
call SetUnitOwner(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()),true)
call UnitAddAbilityBJ('A1R6',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1R6',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit()))
call UnitAddAbilityBJ('A1R7',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1R7',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit()))
call UnitAddAbilityBJ('A1RA',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1RA',GetSpellTargetUnit(),GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if ZG==2 then
set YII=2*GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=2 and GetRandomInt(1,20)<=1+(1*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-1))then
set YII=YII*2
endif
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=3 and GetRandomInt(1,50)<=2+(1.5*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-2))then
set YII=YII*3
endif
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,YII)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("+"+I2S(YII)+" Strength",XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set YII=0
endif
if ZG==3 then
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())==1 then
set YII=1
else
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=2 and GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())<=3 then
set YII=2
else
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=4 and GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())<=5 then
set YII=3
endif
endif
endif
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=2 and GetRandomInt(1,20)<=1+(1*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-1))then
set YII=YII*2
endif
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=3 and GetRandomInt(1,50)<=2+(1.5*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-2))then
set YII=YII*3
endif
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)+YII)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("+"+I2S(YII)+" Bonus Armor",XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set YII=0
endif
if ZG==4 then
set YII='}'*GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=2 and GetRandomInt(1,20)<=1+(1*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-1))then
set YII=YII*2
endif
if GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())>=3 and GetRandomInt(1,50)<=2+(1.5*(GetUnitAbilityLevelSwapped('A1R8',GetTriggerUnit())-2))then
set YII=YII*3
endif
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+YII)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("+"+I2S(YII)+" Max Health",XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set YII=0
endif
set ZG=0
endif
if(U_I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))))*(1.+GetUnitAbilityLevelSwapped('A1RB',GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Weapons\\BoatMissile\\BoatMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(U0I())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))-((GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.1)))
endif
if(U1I())then
if(U2I())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),43)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(R2S(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(2+(GetUnitAbilityLevelSwapped('A0QJ',GetTriggerUnit())))),XVV,10.,13.,.0,11.,255.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(2.+GetUnitAbilityLevelSwapped('A0QJ',GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(R2S(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(2+(GetUnitAbilityLevelSwapped('A0QJ',GetTriggerUnit())))),XVV,10.,13.,.0,11.,255.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(U3I())then
set BEV=GetTriggerUnit()
set BRV=GetSpellTargetUnit()
call TriggerSleepAction(.01)
set XVV=GetUnitLoc(BRV)
call SetUnitPositionLoc(BEV,XVV)
call RemoveLocation(XVV)
endif
if(U6I())then
set XVV=GetSpellTargetLoc()
set XEV=GetUnitsInRangeOfLocMatching(350.,XVV,Condition(function U4I))
call ForGroupBJ(XEV,function U5I)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(U7I())then
call TriggerSleepAction(.05)
set RYV=GetUnitAbilityLevelSwapped('A1RI',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1RI',GetTriggerUnit())
call UnitAddAbilityBJ('A1RI',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1RI',GetTriggerUnit(),RYV)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(WVI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())-1)
set JNV=JNV+(GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit()))
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(300.+(50.*GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())),XVV,Condition(function U8I))
call ForGroupBJ(XEV,function U9I)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(WEI())then
set JCV=GetTriggerUnit()
call UnitAddAbilityBJ('A1RV',JCV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1WL',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1WL',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1WM',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetTriggerUnit())
call RemoveLocation(XVV)
call StartTimerBJ(C_V,false,(9.+(1.*I2R(GetUnitAbilityLevelSwapped('A1WM',JCV)))))
endif
if(WOI())then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())-1)
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(300.+(50.*GetUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())),XVV,Condition(function U8I))
call ForGroupBJ(XEV,function WXI)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(WRI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.01*(GetUnitAbilityLevelSwapped('A1RZ',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(WII())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),44)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(WAI())then
if(C7V<$A)then
set FWV=(GetUnitAbilityLevelSwapped('A1SJ',GetTriggerUnit()))
call UnitRemoveAbilityBJ('A1SJ',GetTriggerUnit())
call UnitAddAbilityBJ('A1SJ',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1SJ',GetTriggerUnit(),FWV)
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Not Enough Flames")
endif
if(C7V<40 and C7V>=$A)then
set C7V=C7V-$A
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.4+(.2*(GetUnitAbilityLevelSwapped('A1SJ',GetTriggerUnit()))))+(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))*5)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(C7V>=40)then
set C7V=C7V-$A
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.4+(.4*(GetUnitAbilityLevelSwapped('A1SJ',GetTriggerUnit()))))+(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))*$A))+(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*(.02-.03+(.03*(GetUnitAbilityLevelSwapped('A1SJ',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(WNI())then
set DH=GetTriggerUnit()
call EnableTrigger(ZWV)
call StartTimerBJ(UH,false,12.)
endif
if(WBI())then
set YF=GetTriggerUnit()
call StartTimerBJ(VG,false,(GetUnitAbilityLevelSwapped('A1UG',YF))*.75+4.25)
call UnitAddAbilityBJ('A1UH',YF)
endif
if(WCI())then
set TF=GetSpellTargetUnit()
call StartTimerBJ(MH[3],false,4.1)
endif
if(WDI())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.11))+6000)
endif
if(WFI())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0LF'))
if GetUnitAbilityLevelSwapped('A1VC',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A1VC',GetTriggerUnit())
else
call UnitRemoveAbilityBJ('A1VC',GetTriggerUnit())
endif
endif
if(WGI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))*.02,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(WHI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),45)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(WJI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),45)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(WKI())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),45)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(WLI())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
set XEV=GetUnitsInRangeOfLocMatching(400,XVV,Condition(function WMI))
call ForGroupBJ(XEV,function WPI)
call RemoveLocation(XVV)
call DestroyGroup(XEV)
endif
if(WQI())then
call EnumItemsInRect(bj_mapInitialPlayableArea,Condition(function WSI),function WTI)
endif
if(WUI())then
if IsUnit(GetTriggerUnit(),RJ) then
if AJ==1 then
call ExecuteFunc("YAI")
endif
if AJ==2 then
call ExecuteFunc("YNI")
endif
if AJ==3 then
call ExecuteFunc("YBI")
endif
if AJ==4 then
call ExecuteFunc("YCI")
endif
if AJ==5 then
call ExecuteFunc("YDI")
endif
if AJ==6 then
call ExecuteFunc("YFI")
endif
if AJ==7 then
call ExecuteFunc("YGI")
endif
if AJ==8 then
call ExecuteFunc("YHI")
endif
if AJ==9 then
call ExecuteFunc("YJI")
endif
if AJ==$A then
call ExecuteFunc("YKI")
endif
if AJ==$B then
call ExecuteFunc("YLI")
endif
if AJ==$C then
call ExecuteFunc("YMI")
endif
if AJ==$D then
call ExecuteFunc("YPI")
endif
if AJ==$E then
call ExecuteFunc("YQI")
endif
if AJ==$F then
call ExecuteFunc("YSI")
endif
if AJ==16 then
call ExecuteFunc("YTI")
endif
if AJ==17 then
call ExecuteFunc("YUI")
endif
if AJ==18 then
call ExecuteFunc("YWI")
endif
if AJ==19 then
call ExecuteFunc("YYI")
endif
call ExecuteFunc("YZI")
set IJ=0
set AJ=0
endif
if IsUnit(GetTriggerUnit(),MG[5]) then
if XC==1 then
call ExecuteFunc("RSI")
endif
if XC==2 then
call ExecuteFunc("RTI")
endif
if XC==3 then
call ExecuteFunc("RUI")
endif
if XC==4 then
call ExecuteFunc("RWI")
endif
if XC==5 then
call ExecuteFunc("RYI")
endif
set XC=0
call UnitAddAbilityBJ('A1YG',MG[5])
call UnitAddAbilityBJ('A09Z',MG[5])
if GetUnitAbilityLevelSwapped('A1YF',MG[5])==1 then
call UnitRemoveAbilityBJ('A1YF',MG[5])
endif
if GetUnitAbilityLevelSwapped('A1VK',MG[5])==1 then
call UnitRemoveAbilityBJ('A1VK',MG[5])
endif
call UnitRemoveAbilityBJ('A1VJ',MG[5])
endif
endif
if(WWI())then
if IsUnit(GetTriggerUnit(),RJ) then
if IJ==1 then
call ExecuteFunc("YAI")
call AddItemToStockBJ('I0EG',RJ,1,1)
call AddItemToStockBJ('I0GP',RJ,1,1)
call AddItemToStockBJ('I0GM',RJ,1,1)
call AddItemToStockBJ('I0GS',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=2
set IJ=0
endif
if IJ==2 then
call ExecuteFunc("YCI")
call AddItemToStockBJ('I033',RJ,1,1)
call AddItemToStockBJ('I0EC',RJ,1,1)
call AddItemToStockBJ('I0ED',RJ,1,1)
call AddItemToStockBJ('I072',RJ,1,1)
call AddItemToStockBJ('I073',RJ,1,1)
call AddItemToStockBJ('I074',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=6
set IJ=0
endif
if IJ==3 then
call ExecuteFunc("YGI")
call AddItemToStockBJ('I01R',RJ,1,1)
call AddItemToStockBJ('I0II',RJ,1,1)
call AddItemToStockBJ('I0IH',RJ,1,1)
call AddItemToStockBJ('I01T',RJ,1,1)
call AddItemToStockBJ('I0IG',RJ,1,1)
call AddItemToStockBJ('I0IF',RJ,1,1)
call AddItemToStockBJ('I0KS',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=8
set IJ=0
endif
if IJ==4 then
call ExecuteFunc("YKI")
call AddItemToStockBJ('I071',RJ,1,1)
call AddItemToStockBJ('I01O',RJ,1,1)
call AddItemToStockBJ('I03D',RJ,1,1)
call AddItemToStockBJ('I0FU',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=$B
set IJ=0
endif
if IJ==5 then
call ExecuteFunc("YMI")
call AddItemToStockBJ('I022',RJ,1,1)
call AddItemToStockBJ('I03C',RJ,1,1)
call AddItemToStockBJ('I03K',RJ,1,1)
call AddItemToStockBJ('I06N',RJ,1,1)
call AddItemToStockBJ('I06K',RJ,1,1)
call AddItemToStockBJ('I0IC',RJ,1,1)
call AddItemToStockBJ('I0IB',RJ,1,1)
call AddItemToStockBJ('I0EX',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=$D
set IJ=0
endif
if IJ==6 then
call ExecuteFunc("YQI")
call AddItemToStockBJ('I0CF',RJ,1,1)
call AddItemToStockBJ('I0DW',RJ,1,1)
call AddItemToStockBJ('I0ER',RJ,1,1)
call AddItemToStockBJ('I0GE',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=$F
set IJ=0
endif
if IJ==7 then
call ExecuteFunc("YTI")
call AddItemToStockBJ('I076',RJ,1,1)
call AddItemToStockBJ('I0ID',RJ,1,1)
call AddItemToStockBJ('I04K',RJ,1,1)
call AddItemToStockBJ('I0C2',RJ,1,1)
call AddItemToStockBJ('I06S',RJ,1,1)
call AddItemToStockBJ('I0EI',RJ,1,1)
call AddItemToStockBJ('I0KT',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=17
set IJ=0
endif
endif
if IsUnit(GetTriggerUnit(),MG[5]) then
if XC==4 then
call ExecuteFunc("RWI")
call ExecuteFunc("R7I")
endif
if XC==3 then
call ExecuteFunc("RUI")
call ExecuteFunc("R6I")
endif
if XC==2 then
call ExecuteFunc("RTI")
call ExecuteFunc("R5I")
endif
if XC==1 then
call ExecuteFunc("RSI")
call ExecuteFunc("R4I")
endif
endif
endif
if(WYI())then
call PauseUnit(UF,false)
set UF=GetSpellTargetUnit()
call UnitRemoveBuffBJ('BOhx',UF)
call PauseUnit(UF,true)
call TriggerSleepAction(10.)
call PauseUnit(UF,false)
set UF=null
endif
if(WZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1WP',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1WP',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1WQ',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(W_I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1WR',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1WR',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1I2',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(W0I())then
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))then
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function R7R))
call ForGroupBJ(XEV,function R8R)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function IOR))
call ForGroupBJ(XEV,function IRR)
call DestroyGroup(XEV)
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function ICR))
call ForGroupBJ(XEV,function IDR)
call DestroyGroup(XEV)
endif
endif
if(W1I())then
call ExecuteFunc("UEI")
endif
if(W2I())then
call ExecuteFunc("UVI")
endif
if(W3I())then
call ExecuteFunc("UXI")
endif
if(W4I())then
call ExecuteFunc("UOI")
endif
if(W7I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1Y0',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"blizzard",GetSpellTargetLoc())
set XVV=GetSpellTargetLoc()
if GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit())>=1 and GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit())<=8 then
set YII=$E6+(30*GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit())==9 then
set YII=500
endif
set XEV=GetUnitsInRangeOfLocMatching(YII,XVV,Condition(function W6I))
call ForGroupBJ(XEV,function W5I)
call DestroyGroup(XEV)
call RemoveLocation(XVV)
set YII=0
endif
if(W8I())then
call UnitRemoveAbilityBJ('A1YG',MG[5])
call UnitRemoveAbilityBJ('A09Z',MG[5])
call UnitAddAbilityBJ('A1VJ',MG[5])
call ExecuteFunc("R3I")
endif
if(W9I())then
if XC==2 then
call ExecuteFunc("RTI")
call ExecuteFunc("R3I")
endif
if XC==3 then
call ExecuteFunc("RUI")
call ExecuteFunc("R4I")
endif
if XC==4 then
call ExecuteFunc("RWI")
call ExecuteFunc("R5I")
endif
if XC==5 then
call ExecuteFunc("RYI")
call ExecuteFunc("R6I")
endif
endif
if(YVI())then
set YII=0
if OC==false then
call DisplayTextToForce(GetPlayersAll(),"Junkyard remaining item message has been enabled")
set OC=true
set YII=1
endif
if OC and YII!=1 then
call DisplayTextToForce(GetPlayersAll(),"Junkyard remaining item message has been disabled")
set OC=false
endif
set YII=0
endif
if(YEI())then
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==1 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitRemoveAbilityBJ('A1XW',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1XX',GetSpellTargetUnit())
endif
if IsUnit(GetSpellTargetUnit(),INV) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+8]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+16]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+24]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+32]) or IsUnit(GetSpellTargetUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+40]) and GetUnitAbilityLevelSwapped('A1XW',GetSpellTargetUnit())==0 and GetUnitAbilityLevelSwapped('A1XX',GetSpellTargetUnit())==0 then
call UnitAddAbilityBJ('A1XX',GetSpellTargetUnit())
endif
if(UBI())then
if(UNI())then
else
if(UAI())then
call UnitRemoveAbilityBJ('A17B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A17C',GetSpellTargetUnit())
else
call UnitAddAbilityBJ('A17C',GetSpellTargetUnit())
endif
endif
endif
call UnitRemoveAbilityBJ('A10F',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10B',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10J',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10E',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10A',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10I',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10D',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A109',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A10H',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A1BG',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A04A',GetSpellTargetUnit())
call UnitRemoveAbilityBJ('A1BF',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10G',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10C',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10K',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10F',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10B',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10J',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10E',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10I',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10D',GetSpellTargetUnit())
call UnitAddAbilityBJ('A109',GetSpellTargetUnit())
call UnitAddAbilityBJ('A10H',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1BG',GetSpellTargetUnit())
call UnitAddAbilityBJ('A04A',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1BF',GetSpellTargetUnit())
endif
if(YXI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0JA',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0JA',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1Y1',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(10.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"blizzard",GetSpellTargetLoc())
set XVV=GetSpellTargetLoc()
endif
if(YOI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*2)+$2EE0+(397*C3E)+FN[24],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function Y_I takes nothing returns nothing
set NHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NHE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(NHE,function YRI)
endfunction
function Y0I takes nothing returns boolean
return(GetSpellAbilityId()=='A09Y')
endfunction
function Y1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0T4')
endfunction
function Y2I takes nothing returns nothing
if(Y0I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call PauseUnit(GetTriggerUnit(),true)
call CreateTextTagLocBJ("+ MORTIFYING +",GetUnitLoc(GetTriggerUnit()),0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call mj(1.3)
call CreateNUnitsAtLoc(1,'h08X',GetOwningPlayer(GetTriggerUnit()),Location(GetUnitX(GetTriggerUnit())+30,GetUnitY(GetTriggerUnit())),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y8',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",XVV)
call CreateNUnitsAtLoc(1,'h08X',GetOwningPlayer(GetTriggerUnit()),Location(GetUnitX(GetTriggerUnit())-30,GetUnitY(GetTriggerUnit())),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y8',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",XVV)
call CreateNUnitsAtLoc(1,'h08X',GetOwningPlayer(GetTriggerUnit()),Location(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())+30),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y8',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",XVV)
call CreateNUnitsAtLoc(1,'h08X',GetOwningPlayer(GetTriggerUnit()),Location(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())-30),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y8',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",XVV)
call RemoveLocation(XVV)
call mj(1.)
call PauseUnit(GetTriggerUnit(),false)
endif
if(Y1I())then
set XVV=GetUnitLoc(GetTriggerUnit())
call PauseUnit(GetTriggerUnit(),true)
call CreateTextTagLocBJ("x TERRIFYING x",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call mj(1.3)
call CreateNUnitsAtLoc(1,'h08X',GetOwningPlayer(GetTriggerUnit()),Location(GetUnitX(GetTriggerUnit())-30,GetUnitY(GetTriggerUnit())+75),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1Y8',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",XVV)
call RemoveLocation(XVV)
call mj(1.)
call PauseUnit(GetTriggerUnit(),false)
endif
endfunction
function Y3I takes nothing returns nothing
local trigger Y4I
set Y4I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y4I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(Y4I,function Y2I)
endfunction
function Y5I takes nothing returns boolean
return(GetSpellAbilityId()=='A1S5')
endfunction
function Y6I takes nothing returns boolean
return(GetSpellAbilityId()=='A1S5')
endfunction
function Y7I takes nothing returns nothing
local location Y8I
if Y5I()then
set Y8I=GetUnitLoc(GetTriggerUnit())
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),0)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),1)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),2))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),2)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),3))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),3)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),4))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),4)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),5))!=null then
call UnitRemoveItemFromSlot(GetTriggerUnit(),5)
endif
call RemoveLocation(Y8I)
endif
endfunction
function Y9I takes nothing returns nothing
local trigger ZVI
set ZVI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZVI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZVI,Condition(function Y6I))
call TriggerAddAction(ZVI,function Y7I)
endfunction
function ZEI takes nothing returns nothing
if((XJ<30)and(IsUnitAliveBJ(BXV)and(BXV!=null)))then
set XJ=XJ+1
call UnitDamageTargetBJ(BEV,BXV,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BXV)*.015),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
set BXV=null
endif
if((OJ<30)and(IsUnitAliveBJ(BOV)and(BOV!=null)))then
set OJ=OJ+1
call UnitDamageTargetBJ(BEV,BOV,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,BOV)*.015),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
set BOV=null
endif
if(BOV==null)and(BXV==null)then
set BEV=null
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function ZXI takes nothing returns nothing
set ZUV=CreateTrigger()
call DisableTrigger(ZUV)
call TriggerRegisterTimerEventPeriodic(ZUV,1.)
call TriggerAddAction(ZUV,function ZEI)
endfunction
function ZOI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(DH)))
endfunction
function ZRI takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function ZII takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function ZAI takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function ZNI takes nothing returns boolean
return GetBooleanAnd(ZII(),ZAI())
endfunction
function ZBI takes nothing returns boolean
return GetBooleanAnd(ZRI(),ZNI())
endfunction
function ZCI takes nothing returns boolean
return GetBooleanAnd(ZOI(),ZBI())
endfunction
function ZDI takes nothing returns boolean
return GetUnitState(DH,UNIT_STATE_LIFE)>=1
endfunction
function ZFI takes nothing returns boolean
return GetBooleanAnd(ZCI(),ZDI())
endfunction
function ZGI takes nothing returns nothing
set XVV=GetUnitLoc(DH)
set XEV=GetUnitsInRangeOfLocMatching(800.,XVV,Condition(function ZFI))
call RemoveLocation(XVV)
set FH=GroupPickRandomUnit(XEV)
call DestroyGroup(XEV)
call AddSpecialEffectTargetUnitBJ("origin",FH,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(DH,FH,((GetHeroStatBJ(bj_HEROSTAT_INT,DH,true))+(GetHeroStatBJ(bj_HEROSTAT_STR,DH,true))+(GetHeroStatBJ(bj_HEROSTAT_AGI,DH,true)))*1.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set FH=null
endfunction
function ZHI takes nothing returns nothing
set ZWV=CreateTrigger()
call DisableTrigger(ZWV)
call TriggerRegisterTimerEventPeriodic(ZWV,1.)
call TriggerAddAction(ZWV,function ZGI)
endfunction
function ZJI takes nothing returns boolean
return(GetSpellAbilityId()=='A1P5')
endfunction
function ZKI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))))*(1.+(2.*I2R(GetUnitAbilityLevelSwapped('A1P5',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function ZLI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function ZMI takes nothing returns boolean
return(GetSpellAbilityId()=='A02U')
endfunction
function ZPI takes nothing returns boolean
return(GetSpellAbilityId()=='A0U7')
endfunction
function ZQI takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function ZSI takes nothing returns boolean
return(GetSpellAbilityId()=='A0PJ')
endfunction
function ZTI takes nothing returns boolean
return(GetSpellAbilityId()=='ACch')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$7D0)
endfunction
function ZUI takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function ZWI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*3*GetUnitAbilityLevelSwapped('A0PJ',GetTriggerUnit())+500,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function ZYI takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z8')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$6D6)and(JVV!=4)and(GetUnitLevel(GetTriggerUnit())<35)
endfunction
function ZZI takes nothing returns boolean
return(GetSpellAbilityId()=='AOs2')and(GetUnitAbilityLevelSwapped('AOs2',GetTriggerUnit())==9)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$5DC)
endfunction
function Z_I takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z8')and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))>=$6D6)and(JVV!=4)and(GetUnitLevel(GetTriggerUnit())>=35)
endfunction
function Z0I takes nothing returns boolean
return(GetSpellAbilityId()=='A1VL')
endfunction
function Z1I takes nothing returns boolean
return((GetSpellAbilityId()=='A1VM')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(JG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0))!=null
endfunction
function Z2I takes nothing returns boolean
return(GetSpellAbilityId()=='A1W5')
endfunction
function Z3I takes nothing returns boolean
return(GetSpellAbilityId()=='A1W9')
endfunction
function Z4I takes nothing returns boolean
return(GetSpellAbilityId()=='A1D6')
endfunction
function Z5I takes nothing returns boolean
return(GetSpellAbilityId()=='A1RY')
endfunction
function Z6I takes nothing returns boolean
return(GetSpellAbilityId()=='A1WO')
endfunction
function Z7I takes nothing returns boolean
return((GetSpellAbilityId()=='ACf3')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function Z8I takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())) and GetFilterUnit()!=PF)
endfunction
function Z9I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))+$C8),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VVA takes nothing returns boolean
return((GetSpellAbilityId()=='A08Z')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function VEA takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))*2.5+400),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VXA takes nothing returns boolean
return((GetSpellAbilityId()=='A090')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function VOA takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))*5+$3E8),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function VRA takes nothing returns boolean
return(GetSpellAbilityId()=='A1WX')
endfunction
function VIA takes nothing returns boolean
return(GetSpellAbilityId()=='A1WZ')
endfunction
function VAA takes nothing returns boolean
return(GetSpellAbilityId()=='A1V7')
endfunction
function VNA takes nothing returns boolean
return(GetSpellAbilityId()=='A1X1')
endfunction
function VBA takes nothing returns boolean
return(GetSpellAbilityId()=='A1S6')
endfunction
function VCA takes nothing returns boolean
return(GetSpellAbilityId()=='A02V')
endfunction
function VDA takes nothing returns boolean
return(GetSpellAbilityId()=='A0CK')
endfunction
function VFA takes nothing returns boolean
return(GetSpellAbilityId()=='A18P')
endfunction
function VGA takes nothing returns boolean
return(GetSpellAbilityId()=='A1M5')
endfunction
function VHA takes nothing returns boolean
return(GetSpellAbilityId()=='A097')
endfunction
function VJA takes nothing returns boolean
return(GetSpellAbilityId()=='A0I7')
endfunction
function VKA takes nothing returns boolean
return(GetSpellAbilityId()=='A0K9')
endfunction
function VLA takes nothing returns boolean
return(GetSpellAbilityId()=='A0C2')
endfunction
function VMA takes nothing returns boolean
return(GetSpellAbilityId()=='A0TJ')
endfunction
function VPA takes nothing returns boolean
return(GetSpellAbilityId()=='A10L')
endfunction
function VQA takes nothing returns boolean
return(GetSpellAbilityId()=='A0M7')
endfunction
function VSA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MH')
endfunction
function VTA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MJ')
endfunction
function VUA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MM')
endfunction
function VWA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MN')
endfunction
function VYA takes nothing returns boolean
return(GetSpellAbilityId()=='A0ON')
endfunction
function VZA takes nothing returns boolean
return(GetSpellAbilityId()=='A0TP')
endfunction
function V_A takes nothing returns boolean
return(GetSpellAbilityId()=='A0TQ')
endfunction
function V0A takes nothing returns boolean
return(GetSpellAbilityId()=='A0TU')
endfunction
function V1A takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y2')
endfunction
function V2A takes nothing returns boolean
return(GetSpellAbilityId()=='A107')
endfunction
function V3A takes nothing returns boolean
return(GetSpellAbilityId()=='A120')
endfunction
function V4A takes nothing returns boolean
return(GetSpellAbilityId()=='A12T')
endfunction
function V5A takes nothing returns nothing
local boolean V6A=false
local unit ZEO
local integer YII=0
if(ZJI())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(OffsetLocation(XVV,80.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,-80.,.0),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,80.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(OffsetLocation(XVV,.0,-80.),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XEV=GetUnitsInRangeOfLocMatching(300.,XVV,Condition(function ZLI))
call ForGroupBJ(XEV,function ZKI)
call DestroyGroup(XEV)
call CreateTextTagLocBJ((I2S(R2I((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))))*(1.+(2.*I2R(GetUnitAbilityLevelSwapped('A1P5',GetTriggerUnit()))))))),XVV,0,$A,'d',.0,.0,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
endif
if(ZMI())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(4.+(1.*I2R(GetUnitAbilityLevelSwapped('A02U',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ((I2S(R2I((I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(4.+(1.*I2R(GetUnitAbilityLevelSwapped('A02U',GetTriggerUnit())))))))),XVV,10.,14.,100.,92.,3.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(ZPI())then
if(ZQI())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+((GetUnitAbilityLevelSwapped('A0U7',GetTriggerUnit())*7)))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((I2S(((GetUnitAbilityLevelSwapped('A0U7',GetTriggerUnit()))*7))+" Spell Power"),XVV,10.,12.,100.,3.,89.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.2)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(5*GetUnitAbilityLevelSwapped('A0U7',GetTriggerUnit())))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((I2S(((GetUnitAbilityLevelSwapped('A0U7',GetTriggerUnit()))*5))+" Intelligence"),XVV,10.,12.,100.,3.,89.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.2)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(ZSI())then
set XVV=GetUnitLoc(GetTriggerUnit())
set XEV=GetUnitsInRangeOfLocMatching(600.,XVV,Condition(function ZUI))
call ForGroupBJ(XEV,function ZWI)
call DestroyGroup(XEV)
call CreateTextTagLocBJ((I2S(((GetUnitAbilityLevelSwapped('A0PJ',GetTriggerUnit()))*(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)))*3+500)),XVV,10.,12.,100.,3.,89.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
endif
if(ZTI())then
call UnitAddAbilityBJ('A1P8',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P8',GetSpellTargetUnit(),6)
call UnitAddAbilityBJ('A1P9',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1P9',GetSpellTargetUnit(),7)
call UnitAddAbilityBJ('A1PA',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A1PA',GetSpellTargetUnit(),5)
call UnitAddAbilityBJ('A1PB',GetSpellTargetUnit())
endif
if(ZYI())then
set RPV=GetTriggerUnit()
set RSV=(GetUnitLevel(GetTriggerUnit())*22)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(22*GetUnitLevel(GetTriggerUnit())))
call SetUnitScalePercent(RPV,(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))))
call StartTimerBJ(RQV,false,(8.+I2R(GetUnitAbilityLevelSwapped('A0Z8',GetTriggerUnit()))))
set JVV=4
endif
if(ZZI())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0AS',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B8',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1B8',GetLastCreatedUnit(),$A)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
if(Z_I())then
set RPV=GetTriggerUnit()
set RSV=(GetUnitLevel(GetTriggerUnit())*40)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(40*GetUnitLevel(GetTriggerUnit())))
call SetUnitScalePercent(RPV,(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))),(100.+(3.*I2R(GetUnitLevel(GetTriggerUnit())))))
call StartTimerBJ(RQV,false,(8.+I2R(GetUnitAbilityLevelSwapped('A0Z8',GetTriggerUnit()))))
set JVV=4
endif
if(Z0I())then
if(FAV>0 and FIV>0)then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFFCurrent active bounty:|r "+NG+"
|CFF00FFFFCurrent active repeatable bounty:|r "+BG+"
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV==0 and FIV>0)then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFFCurrent active bounty:|r "+NG+"
|CFF00FFFFCurrent active repeatable bounty:|r None
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV>0 and FIV==0)then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFFCurrent active bounty:|r None
|CFF00FFFFCurrent active repeatable bounty:|r "+BG+"
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV==0 and FIV==0)then
call DisplayTextToForce(GetPlayersAll(),("|CFF00FFFFCurrent active bounty:|r None
|CFF00FFFFCurrent active repeatable bounty:|r None
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
endif
if(Z1I())then
set JG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00F'))
call UnitAddItemByIdSwapped('I0LL',GetTriggerUnit())
call SetPlayerTechResearchedSwap('Rusp',1,GetTriggerPlayer())
endif
if(Z2I())then
set C1=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),GetSpellTargetLoc(),bj_UNIT_FACING)
set D1=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1W6',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1W6',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1W5',C1))
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),300.,GetRandomReal(.0,100.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),150.,GetRandomReal(.0,160.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),240.,GetRandomReal(.0,130.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),60.,GetRandomReal(.0,170.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),180.,GetRandomReal(.0,170.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),270.,GetRandomReal(.0,140.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),200.,GetRandomReal(.0,100.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=PolarProjectionBJ(GetSpellTargetLoc(),400.,GetRandomReal(.0,40.))
call CreateNUnitsAtLoc(1,'h08O',GetOwningPlayer(C1),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call EnableTrigger(QFV)
endif
if(Z3I())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+$96)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$96
endif
if(Z4I())then
if GetUnitTypeId(GetTriggerUnit())=='nrdr' or IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),$36B0+(270*GRV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(Z5I())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+((JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*$A)))
endif
if(Z6I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*40,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
if(Z7I())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*5+$C8,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set PF=GetSpellTargetUnit()
set XEV=GetUnitsInRangeOfLocMatching(400.,GetUnitLoc(GetSpellTargetUnit()),Condition(function Z8I))
call ForGroupBJ(XEV,function Z9I)
call DestroyGroup(XEV)
set PF=null
endif
if(VVA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*9+400,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set PF=GetSpellTargetUnit()
set XEV=GetUnitsInRangeOfLocMatching(400.,GetUnitLoc(GetSpellTargetUnit()),Condition(function Z8I))
call ForGroupBJ(XEV,function VEA)
call DestroyGroup(XEV)
set PF=null
endif
if(VXA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4)))*16+$3E8,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set PF=GetSpellTargetUnit()
set XEV=GetUnitsInRangeOfLocMatching(400.,GetUnitLoc(GetSpellTargetUnit()),Condition(function Z8I))
call ForGroupBJ(XEV,function VOA)
call DestroyGroup(XEV)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((16*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))+$3E8)),XVV,10.,12.,100.,31.,37.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
set PF=null
endif
if(VRA())and ND==false and V6A==false then
set V6A=true
set ND=true
call EnableTrigger(R9E)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Throwing Axe ability has been turned on")
endif
if(VRA())and ND and V6A==false then
set ND=false
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Throwing Axe ability has been turned off")
call DisableTrigger(R9E)
endif
if(VIA())and BD==false and V6A==false then
set V6A=true
set BD=true
call EnableTrigger(AQE)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Hell Strength ability has been turned on")
endif
if(VIA())and BD and V6A==false then
set BD=false
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Hell Strength ability has been turned off")
call DisableTrigger(AQE)
endif
if(VAA())and CD==false and V6A==false then
set V6A=true
set CD=true
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Phoenix Fire ability has been turned on")
call UnitAddAbilityBJ('A1IQ',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1IQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1V7',GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A1IQ',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A1IQ',GetOwningPlayer(GetTriggerUnit()))
endif
if(VAA())and CD and V6A==false then
set CD=false
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Phoenix Fire ability has been turned off")
call UnitRemoveAbilityBJ('A1IQ',GetTriggerUnit())
endif
if(VBA())then
set RC=GetTriggerUnit()
set IC=GetSpellTargetUnit()
set BSV=18
call ExecuteFunc("DUI")
endif
if(VLA())then
call QVE(GNV,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GNV)+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))])
set ZC[GetConvertedPlayerId(GetOwningPlayer(GNV))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GNV))]+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]
set ED[GetConvertedPlayerId(GetOwningPlayer(GNV))+8]=ED[GetConvertedPlayerId(GetOwningPlayer(GNV))+8]+ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]
set ED[GetConvertedPlayerId(GetOwningPlayer(GNV))]=0
endif
if(VMA())then
call QVE(PA,UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,PA)+VD[GetConvertedPlayerId(GetOwningPlayer(PA))])
set ZC[GetConvertedPlayerId(GetOwningPlayer(PA))]=ZC[GetConvertedPlayerId(GetOwningPlayer(PA))]+VD[GetConvertedPlayerId(GetOwningPlayer(PA))]
set VD[GetConvertedPlayerId(GetOwningPlayer(PA))+8]=VD[GetConvertedPlayerId(GetOwningPlayer(PA))+8]+VD[GetConvertedPlayerId(GetOwningPlayer(PA))]
set VD[GetConvertedPlayerId(GetOwningPlayer(PA))]=0
endif
if(VPA())then
set BC=GetSpellTargetUnit()
endif
if(V1A())then
set CC=GetSpellTargetUnit()
endif
if(V4A())then
call UnitAddAbilityBJ('A0AB',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A0AB',GetSpellTargetUnit(),6)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(VQA())then
set ZEO=GetSpellTargetUnit()
call mj(.01)
set XVV=GetUnitLoc(ZEO)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
set ZEO=null
endif
if(VUA())then
if GetUnitAbilityLevelSwapped('Avul',GetSpellTargetUnit())>0 then
call IssueImmediateOrderById(GetTriggerUnit(),$D0004)
else
if LV!=null then
call ExecuteFunc("V7A")
endif
set LV=GetTriggerUnit()
set MV=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0GU',LV)
call UnitAddAbilityBJ('A0GU',MV)
call StartTimerBJ(PV,false,20.)
endif
endif
if(VWA())then
if(GetUnitAbilityLevelSwapped('A1GT',GetTriggerUnit())==0)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HK'))>=380)then
call PlaySoundBJ(P5V)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" Has Learned |cffffcc00Vampiric Bite.|r"))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HK'),0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+$88]=1
endif
call UnitAddAbilityBJ('A1GT',GetTriggerUnit())
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HK'))+1))
endif
endif
if(VYA())then
if(UnitHasBuffBJ(JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],'B078')==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HI'))>=300)then
call PlaySoundBJ(P5V)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" Has Learned |cffffcc00Liberty Speed.|r"))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HI'),0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetRectCenter(KKV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1GS',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HI'))+1))
endif
endif
if(VZA())then
if(GetUnitAbilityLevelSwapped('A1GQ',GetTriggerUnit())==0)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HN'))>=600)then
call PlaySoundBJ(P5V)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" Has Learned |cffffcc00War Knowledge.|r"))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HN'),0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+$98]=1
endif
call UnitAddAbilityBJ('A1GQ',GetTriggerUnit())
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HN'))+1))
endif
endif
if(V_A())then
if(GetUnitAbilityLevelSwapped('A1GU',GetTriggerUnit())==0)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HJ'))>=400)then
call PlaySoundBJ(P5V)
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" Has Learned |cffffcc00Dominici Protection.|r"))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HJ'),0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+$90]=1
endif
call UnitAddAbilityBJ('A1GU',GetTriggerUnit())
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HJ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0HJ'))+1))
endif
endif
if(V2A())then
set ZEO=GetTriggerUnit()
set YII=GetRandomInt(1,6)
if YII==1 then
if GetUnitAbilityLevelSwapped('A107',ZEO)>=1 and GetUnitAbilityLevelSwapped('A107',ZEO)<=3 then
set YII=50+(50*GetUnitAbilityLevelSwapped('A107',ZEO))
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==4 then
set YII=266
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==5 then
set YII=330
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==6 then
set YII=445
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==7 then
set YII=590
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==8 then
set YII=670
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==9 then
set YII=800
endif
set XVV=GetUnitLoc(ZEO)
call CreateTextTagLocBJ("+"+I2S(YII)+" Armor!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call QBE(ZEO,0,QFE(ZEO,0)+YII)
call mj(11.)
call QBE(ZEO,0,QFE(ZEO,0)-YII)
set YII=0
endif
if YII==2 then
call SetUnitLifeBJ(ZEO,GetUnitStateSwap(UNIT_STATE_LIFE,ZEO)+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,ZEO)*.25)+(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*3*GetUnitAbilityLevelSwapped('A107',ZEO)))
call AddSpecialEffectTargetUnitBJ("origin",ZEO,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(ZEO)
call CreateTextTagLocBJ("Heal!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set YII=0
endif
if YII==3 then
set XVV=GetUnitLoc(ZEO)
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(ZEO),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A10Y',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A10Y',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A107',ZEO))
call UnitApplyTimedLifeBJ(7.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",ZEO)
call CreateTextTagLocBJ("AOE Slow!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set YII=0
endif
if YII==4 then
if GetUnitAbilityLevelSwapped('A107',ZEO)==1 then
set YII='x'
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==2 then
set YII=$C8
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==3 then
set YII=290
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==4 then
set YII=380
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==5 then
set YII=480
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==6 then
set YII=590
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==7 then
set YII=700
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==8 then
set YII=850
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==9 then
set YII=$44C
endif
call ModifyHeroStat(bj_HEROSTAT_STR,ZEO,bj_MODIFYMETHOD_ADD,YII)
set XVV=GetUnitLoc(ZEO)
call CreateTextTagLocBJ("+"+I2S(YII)+" Strength!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call mj(15.)
call ModifyHeroStat(bj_HEROSTAT_STR,ZEO,bj_MODIFYMETHOD_SUB,YII)
set YII=0
endif
if YII==5 then
if GetUnitAbilityLevelSwapped('A107',ZEO)==1 then
set YII=$F0
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==2 then
set YII=400
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==3 then
set YII=600
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==4 then
set YII=800
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==5 then
set YII=$401
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==6 then
set YII=$4FD
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==7 then
set YII=$5FD
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==8 then
set YII=$6CC
endif
if GetUnitAbilityLevelSwapped('A107',ZEO)==9 then
set YII=$7D0
endif
call ModifyHeroStat(bj_HEROSTAT_AGI,ZEO,bj_MODIFYMETHOD_ADD,YII)
set XVV=GetUnitLoc(ZEO)
call CreateTextTagLocBJ("+"+I2S(YII)+" Agility!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call mj(15.)
call ModifyHeroStat(bj_HEROSTAT_AGI,ZEO,bj_MODIFYMETHOD_SUB,YII)
set YII=0
endif
if YII==6 then
set XVV=GetUnitLoc(ZEO)
call CreateTextTagLocBJ("+1% Life regeneration!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call mj(2*GetUnitAbilityLevelSwapped('A107',ZEO))
set YII=0
endif
set ZEO=null
endif
if(VNA())then
set ZEO=GetTriggerUnit()
set KA=KA+1
call UnitAddAbilityBJ('A0IU',ZEO)
call mj(2.5+(.5*GetUnitAbilityLevelSwapped('A1X1',ZEO)))
set KA=KA-1
if KA==0 then
call UnitRemoveAbilityBJ('A0IU',ZEO)
endif
set ZEO=null
endif
if(VCA())then
set ZEO=GetTriggerUnit()
set GA=GA+1
call UnitAddAbilityBJ('A0CJ',ZEO)
call SetUnitAbilityLevelSwapped('A0CJ',ZEO,GetUnitAbilityLevelSwapped('A02V',ZEO))
call mj(5+(3*GetUnitAbilityLevelSwapped('A02V',ZEO)))
set GA=GA-1
if GA==0 then
call UnitRemoveAbilityBJ('A0CJ',ZEO)
endif
set ZEO=null
endif
if(VDA())then
if GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(GetSpellTargetUnit())or(GetOwningPlayer(GetSpellTargetUnit())==Player(0))then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You have to target another player to use this ability")
else
call SetUnitOwner(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit()),true)
call UnitRemoveAbilityBJ('A0CK',GetTriggerUnit())
endif
endif
if(VFA())then
set ZEO=GetTriggerUnit()
set HA=HA+1
call UnitAddAbilityBJ('A0Y3',ZEO)
call SetUnitAbilityLevelSwapped('A0Y3',ZEO,GetUnitAbilityLevelSwapped('A18P',ZEO))
call UnitAddAbilityBJ('A0ZF',ZEO)
if GetUnitAbilityLevelSwapped('A18P',ZEO)<9 then
call mj(4+(.3*GetUnitAbilityLevelSwapped('A18P',ZEO)))
else
call mj(7)
endif
set HA=HA-1
if HA==0 then
call UnitRemoveAbilityBJ('A0Y3',ZEO)
call UnitRemoveAbilityBJ('A0ZF',ZEO)
endif
set ZEO=null
endif
if(VGA())then
set ZEO=GetTriggerUnit()
set JA=JA+1
call UnitAddAbilityBJ('A0P9',ZEO)
if GetUnitAbilityLevelSwapped('A1M5',ZEO)<9 then
call mj(4+(.3*GetUnitAbilityLevelSwapped('A1M5',ZEO)))
else
call mj(7)
endif
set JA=JA-1
if JA==0 then
call UnitRemoveAbilityBJ('A0P9',ZEO)
endif
set ZEO=null
endif
if(VSA())then
set ZEO=GetTriggerUnit()
set LA=LA+1
call UnitAddAbilityBJ('A0MG',ZEO)
call SetUnitAbilityLevelSwapped('A0MG',ZEO,GetUnitAbilityLevelSwapped('A0MH',ZEO))
call mj($A+(5*GetUnitAbilityLevelSwapped('A0MH',ZEO)))
set LA=LA-1
if LA==0 then
call UnitRemoveAbilityBJ('A0MG',ZEO)
endif
set ZEO=null
endif
if(VHA())then
set ZEO=GetTriggerUnit()
call mj(1)
set XVV=GetUnitLoc(JZV[GetConvertedPlayerId(GetOwningPlayer(ZEO))])
call SetUnitPositionLoc(ZEO,XVV)
call RemoveLocation(XVV)
set ZEO=null
endif
if(VJA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetUnitAbilityLevelSwapped('A0I7',GetTriggerUnit())*3))
endif
if(VKA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call AdjustPlayerStateBJ($D68,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call CreateTextTagLocBJ("+3432",XVV,50.,$A,100.,100.,.0,0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
set XDV=GetLastCreatedTextTag()
call mj(1)
call DestroyTextTagBJ(XDV)
endif
if(V0A())then
set ZEO=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0U4',ZEO)
call SetUnitAbilityLevelSwapped('A0U4',ZEO,2)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),6*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call mj(16.)
call UnitRemoveAbilityBJ('A0U4',ZEO)
endif
if(VTA())then
set ZEO=GetSpellTargetUnit()
call UnitAddAbilityBJ('A0MK',ZEO)
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==1 then
call QBE(ZEO,0,QFE(ZEO,0)+25)
call QBE(ZEO,1,QFE(ZEO,1)+$8C)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==2 then
call QBE(ZEO,0,QFE(ZEO,0)+32)
call QBE(ZEO,1,QFE(ZEO,1)+$C8)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==3 then
call QBE(ZEO,0,QFE(ZEO,0)+40)
call QBE(ZEO,1,QFE(ZEO,1)+300)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==4 then
call QBE(ZEO,0,QFE(ZEO,0)+51)
call QBE(ZEO,1,QFE(ZEO,1)+410)
endif
call mj(20)
call UnitRemoveAbilityBJ('A0MK',ZEO)
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==1 then
call QBE(ZEO,0,QFE(ZEO,0)-25)
call QBE(ZEO,1,QFE(ZEO,1)-$8C)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==2 then
call QBE(ZEO,0,QFE(ZEO,0)-32)
call QBE(ZEO,1,QFE(ZEO,1)-$C8)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==3 then
call QBE(ZEO,0,QFE(ZEO,0)-40)
call QBE(ZEO,1,QFE(ZEO,1)-300)
endif
if GetUnitAbilityLevelSwapped('A0MJ',LJ)==4 then
call QBE(ZEO,0,QFE(ZEO,0)-51)
call QBE(ZEO,1,QFE(ZEO,1)-410)
endif
set ZEO=null
endif
if(V3A())then
set ZEO=GetTriggerUnit()
call SetPlayerAbilityAvailableBJ(false,'A116',GetOwningPlayer(ZEO))
call UnitAddAbilityBJ('A116',ZEO)
call SetUnitAbilityLevelSwapped('A116',ZEO,2)
call mj(18.)
call SetUnitAbilityLevelSwapped('A116',ZEO,1)
call SetPlayerAbilityAvailableBJ(true,'A116',GetOwningPlayer(ZEO))
set ZEO=null
endif
endfunction
function V8A takes nothing returns nothing
set NJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NJE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(NJE,function V5A)
endfunction
function V9A takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(C1)))
endfunction
function EVA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function EEA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function EXA takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function EOA takes nothing returns boolean
return GetBooleanAnd(V9A(),EVA())
endfunction
function ERA takes nothing returns boolean
return GetBooleanAnd(EEA(),EXA())
endfunction
function EIA takes nothing returns boolean
return GetBooleanAnd(EOA(),ERA())
endfunction
function EAA takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function ENA takes nothing returns boolean
return GetBooleanAnd(EAA(),EIA())
endfunction
function EBA takes nothing returns nothing
call UnitDamageTargetBJ(C1,GetEnumUnit(),(550*GetUnitAbilityLevelSwapped('A1W5',C1))+((1+GetUnitAbilityLevelSwapped('A1W5',C1))*(GetHeroStatBJ(bj_HEROSTAT_INT,C1,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function ECA takes nothing returns nothing
local integer EDA=0
set EDA=EDA+1
set XVV=GetUnitLoc(D1)
set XEV=GetUnitsInRangeOfLocMatching(450.,XVV,Condition(function ENA))
call RemoveLocation(XVV)
call ForGroup(XEV,function EBA)
call DestroyGroup(XEV)
if EDA==8 then
set EDA=0
set D1=null
set C1=null
call DisableTrigger(QFV)
endif
endfunction
function EFA takes nothing returns nothing
set QFV=CreateTrigger()
call DisableTrigger(QFV)
call TriggerRegisterTimerEventPeriodic(QFV,1.)
call TriggerAddAction(QFV,function ECA)
endfunction
function EGA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n059')
endfunction
function EHA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05A')
endfunction
function EJA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05B')
endfunction
function EKA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00X')
endfunction
function ELA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03S')
endfunction
function EMA takes nothing returns boolean
return(GetBooleanOr(EKA(),ELA()))
endfunction
function EPA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hspt')
endfunction
function EQA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02Q')
endfunction
function ESA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02D')
endfunction
function ETA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02E')
endfunction
function EUA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02F')
endfunction
function EWA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02G')
endfunction
function EYA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02H')
endfunction
function EZA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02I')
endfunction
function E_A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02J')
endfunction
function E0A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02K')
endfunction
function E1A takes nothing returns boolean
return(GetBooleanOr(ESA(),ETA()))
endfunction
function E2A takes nothing returns boolean
return(GetBooleanOr(E1A(),EUA()))
endfunction
function E3A takes nothing returns boolean
return(GetBooleanOr(E2A(),EWA()))
endfunction
function E4A takes nothing returns boolean
return(GetBooleanOr(E3A(),EYA()))
endfunction
function E5A takes nothing returns boolean
return(GetBooleanOr(E4A(),EZA()))
endfunction
function E6A takes nothing returns boolean
return(GetBooleanOr(E5A(),E_A()))
endfunction
function E7A takes nothing returns boolean
return(GetBooleanOr(E6A(),E0A()))
endfunction
function E8A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n05J')
endfunction
function E9A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o01N')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function XVA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o01M')
endfunction
function XEA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),LV))
endfunction
function XXA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),MV))
endfunction
function XOA takes nothing returns boolean
return(GetBooleanOr(XEA(),XXA()))
endfunction
function XRA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='N05L')
endfunction
function XIA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[0]))
endfunction
function XAA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[1]))
endfunction
function XNA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[2]))
endfunction
function XBA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[3]))
endfunction
function XCA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[4]))
endfunction
function XDA takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),C0E[5]))
endfunction
function XFA takes nothing returns boolean
return(GetBooleanOr(XIA(),XAA()))
endfunction
function XGA takes nothing returns boolean
return(GetBooleanOr(XNA(),XBA()))
endfunction
function XHA takes nothing returns boolean
return(GetBooleanOr(XCA(),XDA()))
endfunction
function XJA takes nothing returns boolean
return(GetBooleanOr(XFA(),XGA()))
endfunction
function XKA takes nothing returns boolean
return(GetBooleanOr(XHA(),XJA()))
endfunction
function XLA takes nothing returns nothing
local unit XMA
if(EGA())then
call RemoveUnit(GetTriggerUnit())
set HH=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'n059',15389.,-8826.,180.)
endif
if(EHA())then
call RemoveUnit(GetTriggerUnit())
set JH=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'n05A',15389.,-9026.,180.)
endif
if(EJA())then
call RemoveUnit(GetTriggerUnit())
set KH=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'n05B',15389.,-9226.,180.)
endif
if(EMA())then
set XMA=GetTriggerUnit()
call mj(5.)
call RemoveUnit(XMA)
set XMA=null
endif
if(EPA())then
call RemoveUnit(GetTriggerUnit())
endif
if(EQA())then
call SetPlayerTechMaxAllowedSwap('h02Q',1,GetTriggerPlayer())
endif
if(E7A())then
call SetPlayerTechMaxAllowedSwap('h02D',1,GetTriggerPlayer())
endif
if(E8A())then
set XMA=GetTriggerUnit()
call mj(4.)
call RemoveUnit(XMA)
set XMA=null
endif
if(E9A())then
call ExecuteFunc("HWX")
endif
if(XVA())then
set LJ=null
endif
if(XOA())then
if(XEA())then
call UnitAddAbilityBJ('A028',MV)
call SetUnitAbilityLevelSwapped('A028',MV,76)
call UnitDamageTargetBJ(LV,MV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endif
if(XXA())then
call UnitAddAbilityBJ('A028',LV)
call SetUnitAbilityLevelSwapped('A028',LV,76)
call UnitDamageTargetBJ(MV,LV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endif
call AddSpecialEffectLocBJ(GetUnitLoc(MV),"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(LV),"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",LV,"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",MV,"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitRemoveAbilityBJ('A0GU',LV)
call UnitRemoveAbilityBJ('A0GU',MV)
set QV=0
set LV=null
set MV=null
call PauseTimerBJ(true,PV)
endif
if(XRA())then
set XMA=GetTriggerUnit()
call mj(4.)
call RemoveUnit(XMA)
set XMA=null
endif
if(XKA())then
if IsUnit(GetTriggerUnit(),C0E[0]) then
set C0E[0]=null
endif
if IsUnit(GetTriggerUnit(),C0E[1]) then
set C0E[1]=null
endif
if IsUnit(GetTriggerUnit(),C0E[2]) then
set C0E[2]=null
endif
if IsUnit(GetTriggerUnit(),C0E[3]) then
set C0E[3]=null
endif
if IsUnit(GetTriggerUnit(),C0E[4]) then
set C0E[4]=null
endif
if IsUnit(GetTriggerUnit(),C0E[5]) then
set C0E[5]=null
endif
endif
endfunction
function XPA takes nothing returns nothing
set N4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N4E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N4E,function XLA)
endfunction
function XQA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0E2'))and(IsUnitType(GetAttacker(),UNIT_TYPE_RANGED_ATTACKER))and(GetUnitPointValue(GetTriggerUnit())!=$FA))!=null
endfunction
function XSA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05N'))and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function XTA takes nothing returns boolean
return((IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetUnitTypeId(GetTriggerUnit())=='hrdh'))!=null
endfunction
function XUA takes nothing returns boolean
return((C7V>1)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false)and(C8V==false))!=null
endfunction
function XWA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('ANpi',GetAttacker())>0)
endfunction
function XYA takes nothing returns boolean
return(C9V>=30)
endfunction
function XZA takes nothing returns boolean
return(DVV>='n')and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=2000000.)
endfunction
function X_A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsll')
endfunction
function X0A takes nothing returns boolean
return(C9V>=30)
endfunction
function X1A takes nothing returns boolean
return(DVV>=90)and(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=2000000.)
endfunction
function X2A takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nsll')
endfunction
function X3A takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function X4A takes nothing returns boolean
return(C9V>=24)
endfunction
function X5A takes nothing returns boolean
return(FHV<3)
endfunction
function X6A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=3000000.)
endfunction
function X7A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=1990000.)
endfunction
function X8A takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05H'))
endfunction
function X9A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03M')
endfunction
function OVA takes nothing returns boolean
return(C9V>=32)
endfunction
function OEA takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function OXA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ninf')
endfunction
function OOA takes nothing returns boolean
return(C9V>=60)
endfunction
function ORA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='noga')
endfunction
function OIA takes nothing returns boolean
return(C9V>=20)
endfunction
function OAA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='noga')
endfunction
function ONA takes nothing returns boolean
return(C9V>=94)
endfunction
function OBA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n041')
endfunction
function OCA takes nothing returns boolean
return(C9V>='z')
endfunction
function ODA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n041')
endfunction
function OFA takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=1600000.)
endfunction
function OGA takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function OHA takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=1400000.)
endfunction
function OJA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nwwf')
endfunction
function OKA takes nothing returns boolean
return(GetRandomInt(1,7)==2)
endfunction
function OLA takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=1900000.)
endfunction
function OMA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nskm')
endfunction
function OPA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nskm')
endfunction
function OQA takes nothing returns boolean
return(GetRandomInt(1,$A)==7)
endfunction
function OSA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I048'))
endfunction
function OTA takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='nowl')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function OUA takes nothing returns boolean
return(GetRandomInt(1,$B)==7)
endfunction
function OWA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I031'))
endfunction
function OYA takes nothing returns boolean
return(GetRandomInt(1,50)==3)
endfunction
function OZA takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=null
endfunction
function O_A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function O0A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=9900000.)
endfunction
function O1A takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function O2A takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00R')
endfunction
function O3A takes nothing returns boolean
return(C9V>=$D)
endfunction
function O4A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function O5A takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function O6A takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='ninf')
endfunction
function O7A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function O8A takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P1',GetTriggerUnit())>0)
endfunction
function O9A takes nothing returns boolean
return(C9V>=19)
endfunction
function RVA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nmyr')
endfunction
function REA takes nothing returns boolean
return(C9V>=26)
endfunction
function RXA takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<=65.)and(FKV<2)
endfunction
function ROA takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<=30.)and(FKV<3)
endfunction
function RRA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmyr')
endfunction
function RIA takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function RAA takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=1900000.)
endfunction
function RNA takes nothing returns boolean
return(DVV>='s')
endfunction
function RBA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03M')
endfunction
function RCA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I05L'))
endfunction
function RDA takes nothing returns boolean
return(GetUnitLevel(GetAttacker())>39)
endfunction
function RFA takes nothing returns boolean
return((GetUnitTypeId(GetTriggerUnit())=='n03S')and(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetUnitLevel(GetAttacker())>$B)and(IsUnitIllusionBJ(GetTriggerUnit())==false))!=null
endfunction
function Trig_TPATK_Func026C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00O')and(GetOwningPlayer(GetAttacker())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Trig_TPATK_Func027C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n037')and(GetOwningPlayer(GetAttacker())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function RGA takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=99)and(GetUnitTypeId(GetAttacker())=='h00N')
endfunction
function RHA takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$89)and(GetUnitTypeId(GetAttacker())=='hrif')
endfunction
function RJA takes nothing returns boolean
return(GetAttacker()==RNV)and(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function RKA takes nothing returns boolean
return(GetUnitPointValue(GetAttacker())==21)and(GetTriggerUnit()==DNV)
endfunction
function RLA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03N')and(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<15000000.)
endfunction
function RMA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I02X'))
endfunction
function RPA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I01K'))
endfunction
function RQA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I01I'))
endfunction
function RSA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I037'))
endfunction
function RTA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00X')and(HOV!=7)
endfunction
function RUA takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='uktg')
endfunction
function RWA takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05W'))
endfunction
function RYA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0EP'))and(GetRandomInt(1,3)==2)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function RZA takes nothing returns boolean
return(RectContainsUnit(MTV,GetTriggerUnit()))and(RectContainsUnit(MTV,GetAttacker())==false)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetOwningPlayer(GetAttacker())!=Player(1))
endfunction
function R_A takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B011'))and(GetOwningPlayer(GetAttacker())==GetOwningPlayer(GetTriggerUnit()))and(IsUnitIdType(GetUnitTypeId(GetAttacker()),UNIT_TYPE_HERO))and(GetUnitTypeId(GetTriggerUnit())=='h00J')
endfunction
function R0A takes nothing returns boolean
return(C9V>=18)
endfunction
function R1A takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function R2A takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03M')
endfunction
function R3A takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Y3',GetAttacker())>=1)and(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.6))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function R4A takes nothing returns boolean
return(GetRandomInt(1,'d')<=GetUnitAbilityLevelSwapped('A18S',GetTriggerUnit()))
endfunction
function R5A takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18S',GetTriggerUnit())>0)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function R6A takes nothing returns nothing
if(XQA())then
set XVV=GetUnitLoc(GetAttacker())
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(I2R(GetUnitLevel(GetTriggerUnit()))*145.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Weapons\\FragDriller\\FragDriller.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(XSA())then
set XVV=GetUnitLoc(GetAttacker())
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),400.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\NightElf\\ThornsAura\\ThornsAuraDamage.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(XTA())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),13.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",OffsetLocation(GetUnitLoc(GetTriggerUnit()),GetRandomReal(100.,400.),GetRandomReal(150.,500.)))
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetOwningPlayer(GetAttacker()))+(" is attacking Pack Horses of "+GetPlayerName(GetOwningPlayer(GetTriggerUnit())))))
endif
if(XWA())then
if(XUA())then
set C7V=(C7V-1)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.05)*I2R(GetUnitAbilityLevelSwapped('ANpi',GetAttacker())))+(I2R(GetUnitLevel(GetAttacker()))*(I2R(GetUnitLevel(GetAttacker()))*8.))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(R2I((((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.05)*I2R(GetUnitAbilityLevelSwapped('ANpi',GetAttacker())))+((I2R(GetUnitLevel(GetAttacker()))*I2R(GetUnitLevel(GetAttacker())))*8.)))),XVV,10.,10.,96.,5.,5.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(X_A())then
set C9V=(C9V+1)
set DVV=(DVV+1)
if(XYA())then
set C9V=(C9V-30)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17U',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(18.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",GetUnitLoc(GetAttacker()))
call RemoveLocation(XVV)
endif
if(XZA())then
set DVV=(DVV-60)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h08I',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.65,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endif
if(X2A())then
set C9V=(C9V+1)
set DVV=(DVV+1)
if(X0A())then
set C9V=(C9V-30)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17U',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(18.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
if(X1A())then
set DVV=0
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17V',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.65,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endif
if(X9A())then
set C9V=(C9V+1)
if(X3A())then
call StartTimerBJ(DAV,false,25.)
endif
if(X4A())then
set C9V=(C9V-24)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17Y',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",GetUnitLoc(GetAttacker()))
call RemoveLocation(XVV)
endif
if(X6A())then
if(X5A())then
set FHV=3
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17Z',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"frostarmor",GetTriggerUnit())
call RemoveLocation(XVV)
call StartTimerBJ(FJV,false,28.)
endif
endif
if(X7A())then
call IssueTargetOrderBJ(GetTriggerUnit(),"doom",GetAttacker())
endif
if(X8A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A180',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttacker())
call RemoveLocation(XVV)
endif
endif
if(OXA())then
set C9V=(C9V+1)
if(OVA())then
set C9V=(C9V-32)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A19G',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttacker())
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),46)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set G_V=(G_V+1)
call RemoveLocation(XVV)
endif
if(OEA())then
call StartTimerBJ(DAV,false,25.)
endif
endif
if(ORA())then
set C9V=(C9V+1)
if(OOA())then
set C9V=(C9V-60)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttacker())
call RemoveLocation(XVV)
endif
endif
if(OAA())then
call IssueImmediateOrderBJ(GetAttacker(),"berserk")
set C9V=(C9V+3)
if(OIA())then
set C9V=(C9V-20)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(OBA())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),47)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.01)))
set C9V=(C9V+2)
if(ONA())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C9V=(C9V-84)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),48)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.46)))
endif
endif
if(ODA())then
set C9V=(C9V+1)
if GetRandomInt(1,$F)==2 then
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(OCA())then
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Objects\\Spawnmodels\\Orc\\OrcSmallDeathExplode\\OrcSmallDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C9V=(C9V-'z')
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttacker())
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),49)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.41)))
endif
endif
if(OJA())then
if(OFA())then
call IssueImmediateOrderBJ(GetAttacker(),"battleroar")
endif
if(OHA())then
call IssueImmediateOrderBJ(GetAttacker(),"creepthunderclap")
if(OGA())then
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),50)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
endif
if(OMA())then
call IssueTargetOrderBJ(GetAttacker(),"soulburn",GetTriggerUnit())
if(OLA())then
call IssueTargetOrderBJ(GetAttacker(),"acidbomb",GetTriggerUnit())
if(OKA())then
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),51)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
endif
if(OPA())then
call IssueTargetOrderBJ(GetTriggerUnit(),"acidbomb",GetAttacker())
endif
if(OSA())then
if(OQA())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('ACsh',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"shockwave",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
endif
if(OTA())then
call KillUnit(GetAttacker())
call UnitAddAbilityBJ('A1UZ',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+64]=1
endif
if(OWA())then
if(OUA())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A04M',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"frostnova",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(O_A())then
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
if(OYA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A19H',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.5,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"impale",GetAttacker())
call RemoveLocation(XVV)
endif
if(OZA())then
call StartTimerBJ(DAV,false,30.)
endif
endif
if(O2A())then
call UnitRemoveBuffBJ('B03H',GetAttacker())
call UnitRemoveBuffBJ('BPSE',GetAttacker())
call UnitRemoveBuffBJ('B00J',GetAttacker())
call UnitRemoveBuffBJ('B02J',GetAttacker())
call UnitRemoveBuffBJ('B014',GetAttacker())
if(O0A())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())-GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker()))))
endif
if(O1A())then
call StartTimerBJ(DAV,false,30.)
endif
endif
if(O6A())then
set C9V=(C9V+1)
if(O3A())then
set C9V=(C9V-$D)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A19G',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),52)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set G_V=(G_V+1)
call RemoveLocation(XVV)
endif
if(O4A())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.01)))
endif
if(O5A())then
call StartTimerBJ(DAV,false,25.)
endif
endif
if(RVA())then
set C9V=(C9V+1)
if(O7A())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.0001)))
endif
if(O8A())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.00001)))
endif
if(O9A())then
set C9V=(C9V-18)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),54)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(RRA())then
set C9V=(C9V+1)
if(REA())then
set C9V=(C9V-25)
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),55)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RXA())then
set FKV=2
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h077',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(50.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(GetAttacker()))
call RemoveLocation(XVV)
endif
if(ROA())then
set FKV=3
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h077',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(50.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(GetAttacker()))
call RemoveLocation(XVV)
endif
endif
if(RBA())then
if(RIA())then
call StartTimerBJ(DAV,false,25.)
endif
if(RAA())then
call IssueTargetOrderBJ(GetAttacker(),"doom",GetTriggerUnit())
endif
set DVV=(DVV+1)
if(RNA())then
set DVV=(DVV-'s')
set XVV=GetUnitLoc(GetTriggerUnit())
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),53)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
endif
if(RFA())then
if(RDA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(FG,'I0LD'))
call KillUnit(GetTriggerUnit())
call UnitAddAbilityBJ('A0N4',GetAttacker())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+72]=2
else
if(RCA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(FG,'I0LD'))
call KillUnit(GetTriggerUnit())
call UnitAddAbilityBJ('A1V0',GetAttacker())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+72]=3
else
call RemoveItem(GetItemOfTypeFromUnitBJ(FG,'I0LD'))
call KillUnit(GetTriggerUnit())
call QVE(GetAttacker(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())+480)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]+480
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+72]=1
endif
endif
endif
if(RGA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),1100.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(RHA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),3800.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(RJA())then
set XVV=GetRectCenter(L7V)
call SetUnitPositionLoc(GetAttacker(),XVV)
call RemoveLocation(XVV)
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetAttacker(),"attack",XVV)
call RemoveLocation(XVV)
endif
if(RKA())then
set DLV=(DLV+1)
endif
if(RLA())then
call UnitAddAbility(BWV,'A04Z')
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())))
call TriggerSleepAction(.6)
set XVV=GetRectCenter(KKV)
call IssuePointOrderLocBJ(GetAttacker(),"attack",XVV)
call RemoveLocation(XVV)
endif
if(RTA())then
if(RSA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'I037'))
call UnitAddAbilityBJ('A1UV',GetAttacker())
call RemoveItem(GetItemOfTypeFromUnitBJ(DG,'I0LC'))
call UnitRemoveAbilityBJ('A17B',DG)
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+88]=1
set HOV=7
else
if(RQA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01I'))
call UnitAddAbilityBJ('A1UW',GetAttacker())
call RemoveItem(GetItemOfTypeFromUnitBJ(DG,'I0LC'))
call UnitRemoveAbilityBJ('A17B',DG)
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+88]=2
set HOV=7
else
if(RPA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'I01K'))
call UnitAddAbilityBJ('A1UX',GetAttacker())
call RemoveItem(GetItemOfTypeFromUnitBJ(DG,'I0LC'))
call UnitRemoveAbilityBJ('A17B',DG)
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+88]=3
set HOV=7
else
if(RMA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),'I02X'))
call UnitAddAbilityBJ('A1UY',GetAttacker())
call RemoveItem(GetItemOfTypeFromUnitBJ(DG,'I0LC'))
call UnitRemoveAbilityBJ('A17B',DG)
set LG[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))+88]=4
set HOV=7
endif
endif
endif
endif
endif
if(RWA())then
if(RUA())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.04),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.02),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(RYA())then
if(IsUnitIllusionBJ(GetAttacker())==false)then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),'I0EP')))*15.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(I2R(GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),'I0EP')))*5.)))
endif
if(IsUnitIllusionBJ(GetAttacker()))then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),'I0EP')))*6.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(I2R(GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),'I0EP')))*2.)))
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RZA())then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
if(IsUnitIdType(GetUnitTypeId(GetAttacker()),UNIT_TYPE_STRUCTURE)==false)then
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),56)
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(IsUnitIdType(GetUnitTypeId(GetAttacker()),UNIT_TYPE_STRUCTURE))then
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),400,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(R_A())then
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
call UnitRemoveBuffBJ('B011',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'nowl',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(200.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
if(R2A())then
set C9V=(C9V+1)
if(R0A())then
set C9V=(C9V-24)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17Y',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
if(R1A())then
call StartTimerBJ(DAV,false,23.)
endif
endif
if(R3A())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetUnitAbilityLevelSwapped('A18P',GetAttacker()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true)*GetUnitAbilityLevelSwapped('A18P',GetAttacker()))),XVV,10.,10.,96.,5.,5.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(R5A())then
if(R4A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(6.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*3.)))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endfunction
function R7A takes nothing returns nothing
set N5E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N5E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(N5E,function R6A)
endfunction
function R8A takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_AGI,CGV,bj_MODIFYMETHOD_SUB,CDV)
set CDV=1
endfunction
function R9A takes nothing returns nothing
set N6E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(N6E,CFV)
call TriggerAddAction(N6E,function R8A)
endfunction
function IVA takes nothing returns nothing
call SetUnitLifeBJ(DXV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DXV))
set G_V=1
call AddSpecialEffectTargetUnitBJ("origin",DXV,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function IEA takes nothing returns nothing
set N7E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(N7E,DAV)
call TriggerAddAction(N7E,function IVA)
endfunction
function IXA takes nothing returns nothing
call UnitRemoveAbilityBJ('A16K',CHV)
call SetUnitVertexColorBJ(CHV,100.,'d',100.,0)
endfunction
function IOA takes nothing returns nothing
set N8E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(N8E,CJV)
call TriggerAddAction(N8E,function IXA)
endfunction
function IRA takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function IIA takes nothing returns boolean
return(GetRandomInt(1,$A)<=2)
endfunction
function IAA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('ANdp',CKV)==4)
endfunction
function INA takes nothing returns boolean
return(GetRandomInt(1,8)<=GetUnitAbilityLevelSwapped('ANdp',CKV))and(CPV<5)
endfunction
function IBA takes nothing returns boolean
return(GetRandomInt(1,6)<=GetUnitAbilityLevelSwapped('ANdp',CKV))and(GetUnitAbilityLevelSwapped('ANdp',CKV)>2)
endfunction
function ICA takes nothing returns nothing
if(IAA())then
if(IIA())then
set XVV=CMV
call CreateNUnitsAtLoc(1,'nerd',GetOwningPlayer(CKV),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
else
if(IRA())then
set XVV=CMV
call CreateNUnitsAtLoc(1,'nbal',GetOwningPlayer(CKV),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endif
endif
endif
if(INA())then
set CPV=(CPV+1)
set XVV=CMV
call CreateNUnitsAtLoc(1,'efdr',GetOwningPlayer(CKV),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endif
if(IBA())then
set XVV=CMV
call CreateNUnitsAtLoc(1,'nsqa',GetOwningPlayer(CKV),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endif
endfunction
function IDA takes nothing returns nothing
set N9E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(N9E,CLV)
call TriggerAddAction(N9E,function ICA)
endfunction
function IFA takes nothing returns nothing
call UnitRemoveAbilityBJ('A173',CUV)
endfunction
function IGA takes nothing returns nothing
set BVE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BVE,CSV)
call TriggerAddAction(BVE,function IFA)
endfunction
function IHA takes nothing returns nothing
call UnitRemoveAbilityBJ('A174',CUV)
endfunction
function IJA takes nothing returns nothing
set BEE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BEE,CTV)
call TriggerAddAction(BEE,function IHA)
endfunction
function IKA takes nothing returns nothing
call UnitRemoveAbilityBJ('A07G',CWV)
endfunction
function ILA takes nothing returns nothing
set BXE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BXE,CYV)
call TriggerAddAction(BXE,function IKA)
endfunction
function IMA takes nothing returns nothing
call UnitRemoveAbilityBJ('A1RM',RH)
set XH=0
endfunction
function IPA takes nothing returns nothing
set BOE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BOE,CZV)
call TriggerAddAction(BOE,function IMA)
endfunction
function IQA takes nothing returns nothing
set DH=null
call DisableTrigger(ZWV)
endfunction
function ISA takes nothing returns nothing
set BRE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BRE,UH)
call TriggerAddAction(BRE,function IQA)
endfunction
function ITA takes nothing returns nothing
call UnitRemoveAbilityBJ('A1RV',JCV)
call UnitRemoveBuffBJ('B099',JCV)
endfunction
function IUA takes nothing returns nothing
set BIE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BIE,C_V)
call TriggerAddAction(BIE,function ITA)
endfunction
function IWA takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function IYA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I02Z')
endfunction
function IZA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I03A')
endfunction
function I_A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I03B')
endfunction
function I0A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I06K')
endfunction
function I1A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0IC')
endfunction
function I2A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0IB')
endfunction
function I3A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I076')
endfunction
function I4A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0ID')
endfunction
function I5A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05L')
endfunction
function I6A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0D2')
endfunction
function I7A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0D3')
endfunction
function I8A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04N')
endfunction
function I9A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0H2')
endfunction
function AVA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0H3')
endfunction
function AEA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DE')
endfunction
function AXA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0FN')
endfunction
function AOA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0H9')
endfunction
function ARA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0EW')
endfunction
function AIA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DS')
endfunction
function AAA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HM')
endfunction
function ANA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DH')
endfunction
function ABA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0D8')
endfunction
function ACA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HH')
endfunction
function ADA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CR')
endfunction
function AFA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I074')
endfunction
function AGA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CU')
endfunction
function AHA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0GU')
endfunction
function AJA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0BX')
endfunction
function AKA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I013')
endfunction
function ALA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I049')
endfunction
function AMA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0J5')
endfunction
function APA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0K7')
endfunction
function AQA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0K9')
endfunction
function ASA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I09C')
endfunction
function ATA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I09D')
endfunction
function AUA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I09E')
endfunction
function AWA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I09F')
endfunction
function AYA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I09G')
endfunction
function AZA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0KC')
endfunction
function A_A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0LI')
endfunction
function A0A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I02Z')
endfunction
function A1A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I03A')
endfunction
function A2A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I03B')
endfunction
function A3A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0LM')
endfunction
function A4A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0IA')
endfunction
function A5A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0FH')
endfunction
function A6A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0F0')
endfunction
function A7A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='manh')
endfunction
function A8A takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DI')
endfunction
function A9A takes nothing returns nothing
if(IYA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'d')
endif
if(IZA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$96)
endif
if(I_A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$E1)
endif
if(I0A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$A0)
endif
if(I1A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$C8)
endif
if(I2A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+300)
endif
if(I3A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$B9)
endif
if(I4A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$FA)
endif
if(I5A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$FA)
endif
if(I6A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+280)
endif
if(I7A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+400)
endif
if(I8A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+400)
endif
if(I9A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+850)
endif
if(AVA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+800)
endif
if(AEA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$640)
endif
if(AXA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$6A4)
endif
if(AOA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+900)
endif
if(ARA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$4E2)
endif
if(AIA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$514)
endif
if(AAA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+700)
endif
if(ANA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$708)
endif
if(ABA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+900)
endif
if(ACA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+500)
endif
if(ADA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$C8)
endif
if(AFA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+270)
endif
if(AGA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$EB)
endif
if(AHA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+300)
endif
if(AJA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$47E)
endif
if(AKA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+34)
endif
if(ALA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+90)
endif
if(AMA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+750)
endif
if(APA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$4B0)
endif
if(AQA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$5DC)
endif
if(ASA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50)
endif
if(ATA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+75)
endif
if(AUA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'x')
endif
if(AWA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$96)
endif
if(AYA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+400)
endif
if(AZA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+550)
endif
if(A_A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+400)
endif
if(A0A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70)
endif
if(A1A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'}')
endif
if(A2A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$FA)
endif
if(A3A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$4B0)
endif
if(A4A())then
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$2710
call RemoveItem(GetManipulatedItem())
endif
if(A5A())then
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+380
call RemoveItem(GetManipulatedItem())
endif
if(A6A())then
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'x'
call RemoveItem(GetManipulatedItem())
endif
if(A7A())then
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50
call RemoveItem(GetManipulatedItem())
endif
endfunction
function NVA takes nothing returns nothing
set BAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BAE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BAE,Condition(function IWA))
call TriggerAddAction(BAE,function A9A)
endfunction
function NEA takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function NXA takes nothing returns nothing
if(IYA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-'d')
endif
if(IZA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$96)
endif
if(I_A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$E1)
endif
if(I0A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A0)
endif
if(I1A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$C8)
endif
if(I2A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-300)
endif
if(I3A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$B9)
endif
if(I4A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$FA)
endif
if(I5A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$FA)
endif
if(I6A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-280)
endif
if(I7A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-400)
endif
if(I8A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-400)
endif
if(I9A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-850)
endif
if(AVA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-800)
endif
if(AEA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$640)
endif
if(AXA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$6A4)
endif
if(AOA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-900)
endif
if(ARA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$4E2)
endif
if(AIA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$514)
endif
if(AAA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-700)
endif
if(ANA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$708)
endif
if(ABA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-900)
endif
if(ACA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-500)
endif
if(ADA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$C8)
endif
if(AFA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-270)
endif
if(AGA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$EB)
endif
if(AHA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-300)
endif
if(AJA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$47E)
endif
if(AKA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-34)
endif
if(ALA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-90)
endif
if(AMA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-750)
endif
if(APA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$4B0)
endif
if(AQA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$5DC)
endif
if(ASA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-50)
endif
if(ATA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-75)
endif
if(AUA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-'x')
endif
if(AWA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$96)
endif
if(AYA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-400)
endif
if(AZA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-550)
endif
if(A_A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-400)
endif
if(A0A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-70)
endif
if(A1A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-'}')
endif
if(A2A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$FA)
endif
if(A3A())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$4B0)
endif
if(A8A())then
call UnitRemoveBuffBJ('B050',GetTriggerUnit())
endif
endfunction
function NOA takes nothing returns nothing
set BNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BNE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BNE,Condition(function NEA))
call TriggerAddAction(BNE,function NXA)
endfunction
function NRA takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false)and(GetUnitPointValue(GetTriggerUnit())==$FA))!=null
endfunction
function NIA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E4')
endfunction
function NAA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CP')
endfunction
function NNA takes nothing returns nothing
if(NIA())then
call UnitAddAbilityBJ('A03S',GetTriggerUnit())
call UnitAddAbilityBJ('A08S',GetTriggerUnit())
call UnitAddAbilityBJ('A06I',GetTriggerUnit())
endif
if(NAA())then
call UnitAddAbilityBJ('A17H',GetTriggerUnit())
call UnitAddAbilityBJ('A0YO',GetTriggerUnit())
endif
endfunction
function NBA takes nothing returns nothing
set BBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BBE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(BBE,Condition(function NRA))
call TriggerAddAction(BBE,function NNA)
endfunction
function NCA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EK'))>=90)
endfunction
function NDA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EK'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NFA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GM'))>=400)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8000)
endfunction
function NGA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GM'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NHA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GN'))>=$3E8)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$5208)
endfunction
function NJA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GN'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NKA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GS'))>=440)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8600)
endfunction
function NLA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GS'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NMA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GT'))>=$44C)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$5BCC)
endfunction
function NPA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GT'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NQA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GP'))>=500)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8800)
endfunction
function NSA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GP'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NTA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GQ'))>=$5DC)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$6590)
endfunction
function NUA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0GQ'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function NWA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FP'))>=$C8)
endfunction
function NYA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0FP'))
endfunction
function NZA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FQ'))>=9)
endfunction
function N_A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0FQ'))and(GetUnitLevel(GetTriggerUnit())>90)
endfunction
function N0A takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EL'))>=97)
endfunction
function N1A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EL'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO))and(GetUnitLevel(GetTriggerUnit())>=6))!=null
endfunction
function N2A takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EM'))>=700)
endfunction
function N3A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EM'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function N4A takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EN'))>=$B9)
endfunction
function N5A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EN'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO))and(GetUnitLevel(GetTriggerUnit())>=9))!=null
endfunction
function N6A takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EO'))>=$3E8)and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I040'))
endfunction
function N7A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EO'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function N8A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0EP'))and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO))and(GetUnitLevel(GetTriggerUnit())>=9))!=null
endfunction
function N9A takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HI'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'))<300)and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function BVA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HK'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'))<380)and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function BEA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HJ'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'))<400)and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function BXA takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HN'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'))<600)and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)))!=null
endfunction
function BOA takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))>='d')and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0DR'))
endfunction
function BRA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>0)and(GetUnitAbilityLevelSwapped('A1V8',SF)<7)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetKillingUnitBJ()==SF)
endfunction
function BIA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>6)and(GetUnitAbilityLevelSwapped('A1V8',SF)<$F)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetKillingUnitBJ()==SF)
endfunction
function BAA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>$E)and(GetUnitAbilityLevelSwapped('A1V8',SF)<17)and(GetKillingUnitBJ()==SF)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BNA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>16)and(GetUnitAbilityLevelSwapped('A1V8',SF)<=29)and(GetKillingUnitBJ()==SF)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BBA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>0)and(GetUnitAbilityLevelSwapped('A1V8',SF)<7)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetUnitTypeId(GetKillingUnitBJ())=='h08N')
endfunction
function BCA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>6)and(GetUnitAbilityLevelSwapped('A1V8',SF)<$F)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetUnitTypeId(GetKillingUnitBJ())=='h08N')
endfunction
function BDA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>$E)and(GetUnitAbilityLevelSwapped('A1V8',SF)<17)and(GetUnitTypeId(GetKillingUnitBJ())=='h08N')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BFA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',SF)>16)and(GetUnitAbilityLevelSwapped('A1V8',SF)<=29)and(GetUnitTypeId(GetKillingUnitBJ())=='h08N')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BGA takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=92)and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0JI'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0JI'))<$C)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)
endfunction
function BHA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A082',GetKillingUnitBJ())>0)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BJA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0IN'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetUnitTypeId(GetTriggerUnit())=='nvde')
endfunction
function BKA takes nothing returns nothing
if(NDA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EK'))+1))
if(NCA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EK'))
call UnitAddItemByIdSwapped('I0EL',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NGA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GM'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GM'))+1))
if(NFA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GM'))
call UnitAddItemByIdSwapped('I0GN',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8000))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NJA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GN'))+1))
if(NHA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GN'))
call UnitAddItemByIdSwapped('I0GO',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$5208))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NLA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GS'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GS'))+1))
if(NKA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GS'))
call UnitAddItemByIdSwapped('I0GT',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8600))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NPA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GT'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GT'))+1))
if(NMA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GT'))
call UnitAddItemByIdSwapped('I0GU',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$5BCC))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NSA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GP'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GP'))+1))
if(NQA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GP'))
call UnitAddItemByIdSwapped('I0GQ',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8800))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NUA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GQ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GQ'))+1))
if(NTA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0GQ'))
call UnitAddItemByIdSwapped('I0GR',GetKillingUnitBJ())
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$6590))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(NYA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FP'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FP'))+1))
if(NWA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FP'))
call UnitAddItemByIdSwapped('I0FQ',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N_A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FQ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FQ'))+1))
if(NZA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0FQ'))
call UnitAddItemByIdSwapped('I0FR',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N1A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EL'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EL'))+1))
if(N0A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EL'))
call UnitAddItemByIdSwapped('I0EM',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N3A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EM'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EM'))+1))
if(N2A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EM'))
call UnitAddItemByIdSwapped('I0EN',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N5A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EN'))+1))
if(N4A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EN'))
call UnitAddItemByIdSwapped('I0EO',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N7A())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EO'))<$2EE0)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EO'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EO'))+1))
endif
if(N6A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EO'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I040'))
call UnitAddItemByIdSwapped('I0EP',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(N8A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EP'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0EP'))+1))
endif
if(N9A())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'))+1))
endif
if(BVA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'))+1))
endif
if(BEA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'))+1))
endif
if(BXA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'))+1))
endif
if(BOA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0DR'))
call UnitAddItemByIdSwapped('I0J4',GetKillingUnitBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(BRA()or BBA())then
if(GetUnitLevel(GetTriggerUnit())<60)or(GetUnitTypeId(GetTriggerUnit())!='nftk')or(GetUnitTypeId(GetTriggerUnit())!='n00W')or(GetUnitTypeId(GetTriggerUnit())!='nenf')or(GetUnitTypeId(GetTriggerUnit())!='nowb')or(GetUnitTypeId(GetTriggerUnit())!='n04K')or(GetUnitTypeId(GetTriggerUnit())!='n04L')or(GetUnitTypeId(GetTriggerUnit())!='n054')or(GetUnitTypeId(GetTriggerUnit())!='n055')or(GetUnitTypeId(GetTriggerUnit())!='n043')or(GetUnitTypeId(GetTriggerUnit())!='n044')or(GetUnitTypeId(GetTriggerUnit())!='n05J')or(GetUnitTypeId(GetTriggerUnit())!='N05L')then
set CF=CF+1
endif
if(GetUnitLevel(GetTriggerUnit())>=60)or(GetUnitTypeId(GetTriggerUnit())=='nftk')or(GetUnitTypeId(GetTriggerUnit())=='n00W')or(GetUnitTypeId(GetTriggerUnit())=='nenf')or(GetUnitTypeId(GetTriggerUnit())=='nowb')or(GetUnitTypeId(GetTriggerUnit())=='n04K')or(GetUnitTypeId(GetTriggerUnit())=='n04L')or(GetUnitTypeId(GetTriggerUnit())=='n054')or(GetUnitTypeId(GetTriggerUnit())=='n055')or(GetUnitTypeId(GetTriggerUnit())=='n043')or(GetUnitTypeId(GetTriggerUnit())=='n044')or(GetUnitTypeId(GetTriggerUnit())=='n05J')or(GetUnitTypeId(GetTriggerUnit())=='N05L')then
set CF=CF+25
endif
if CF>=DF*9 then
call IncUnitAbilityLevel(SF,'A1V8')
set CF=CF-(DF*9)
set DF=DF+1
endif
endif
if(BIA()or BCA())then
if(GetUnitLevel(GetTriggerUnit())<60)or(GetUnitTypeId(GetTriggerUnit())!='nftk')or(GetUnitTypeId(GetTriggerUnit())!='n00W')or(GetUnitTypeId(GetTriggerUnit())!='nenf')or(GetUnitTypeId(GetTriggerUnit())!='nowb')or(GetUnitTypeId(GetTriggerUnit())!='n04K')or(GetUnitTypeId(GetTriggerUnit())!='n04L')or(GetUnitTypeId(GetTriggerUnit())!='n054')or(GetUnitTypeId(GetTriggerUnit())!='n055')or(GetUnitTypeId(GetTriggerUnit())!='n043')or(GetUnitTypeId(GetTriggerUnit())!='n044')or(GetUnitTypeId(GetTriggerUnit())!='n05J')or(GetUnitTypeId(GetTriggerUnit())!='N05L')then
set CF=CF+1
endif
if(GetUnitLevel(GetTriggerUnit())>=60)or(GetUnitTypeId(GetTriggerUnit())=='nftk')or(GetUnitTypeId(GetTriggerUnit())=='n00W')or(GetUnitTypeId(GetTriggerUnit())=='nenf')or(GetUnitTypeId(GetTriggerUnit())=='nowb')or(GetUnitTypeId(GetTriggerUnit())=='n04K')or(GetUnitTypeId(GetTriggerUnit())=='n04L')or(GetUnitTypeId(GetTriggerUnit())=='n054')or(GetUnitTypeId(GetTriggerUnit())=='n055')or(GetUnitTypeId(GetTriggerUnit())=='n043')or(GetUnitTypeId(GetTriggerUnit())=='n044')or(GetUnitTypeId(GetTriggerUnit())=='n05J')or(GetUnitTypeId(GetTriggerUnit())=='N05L')then
set CF=CF+25
endif
if CF>=DF*$B then
call IncUnitAbilityLevel(SF,'A1V8')
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
set CF=CF-(DF*$B)
set DF=DF+1
if DF>=$C and DF<=$E then
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01P',(GetPlayerTechCountSimple('R01P',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
endif
if DF==$F then
call UnitAddAbilityBJ('A1VA',SF)
endif
endif
endif
if(BAA()or BDA())then
if(GetUnitLevel(GetTriggerUnit())<70)then
set CF=CF+1
endif
if(GetUnitLevel(GetTriggerUnit())>=70)then
set CF=CF+25
endif
if CF>=DF*21-$96 then
call IncUnitAbilityLevel(SF,'A1V8')
call IncUnitAbilityLevel(SF,'A1VA')
set CF=CF-(DF*21-$96)
set DF=DF+1
if DF==16 then
set FF=1
if GetUnitAbilityLevelSwapped('AHfa',SF)>0 then
set G1[6]=GetUnitAbilityLevelSwapped('AHfa',SF)
call UnitRemoveAbilityBJ('AHfa',SF)
call UnitAddAbilityBJ('A1V9',SF)
call SetUnitAbilityLevelSwapped('A1V9',SF,G1[6])
call UnitAddAbilityBJ('A021',SF)
call SetUnitAbilityLevelSwapped('A021',SF,G1[6])
set G1[6]=0
endif
endif
endif
endif
if(BNA()or BFA())then
if(GetUnitLevel(GetTriggerUnit())<86)then
set CF=CF+1
endif
if(GetUnitLevel(GetTriggerUnit())>=86)then
set CF=CF+25
endif
if CF>=$C8 then
call IncUnitAbilityLevel(SF,'A1V8')
call IncUnitAbilityLevel(SF,'A1VA')
set CF=CF-$C8
set DF=DF+1
if DF==18 then
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+5),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01P',(GetPlayerTechCountSimple('R01P',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
endif
if DF>=21 and DF<=24 then
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+5),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R05T',(GetPlayerTechCountSimple('R05T',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
endif
if DF==27then
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+$A),GetOwningPlayer(GetKillingUnitBJ()))
endif
if DF==28then
call SetPlayerTechResearchedSwap('R01P',(GetPlayerTechCountSimple('R01P',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R05T',(GetPlayerTechCountSimple('R05T',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
endif
if DF==29then
call SetPlayerTechResearchedSwap('R05T',(GetPlayerTechCountSimple('R05T',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01O',(GetPlayerTechCountSimple('R01O',GetOwningPlayer(GetKillingUnitBJ()))+$A),GetOwningPlayer(GetKillingUnitBJ()))
endif
endif
endif
if(BGA())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0JI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0JI'))+1))
endif
if(BHA())then
if GetUnitAbilityLevelSwapped('A082',GetKillingUnitBJ())>0 then
call SetUnitManaBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_MANA,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.01+(.01*GetUnitAbilityLevelSwapped('A082',GetKillingUnitBJ()))))))
endif
endif
if(BJA())then
if IsUnitIllusion(GetKillingUnitBJ()) and UnitHasItemOfTypeBJ(JZV[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0IN') then
call RemoveItem(GetItemOfTypeFromUnitBJ(JZV[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0IN'))
call UnitAddItemByIdSwapped('I0LO',JZV[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
else
call RemoveItem(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0IN'))
call UnitAddItemByIdSwapped('I0LO',GetKillingUnitBJ())
endif
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C2E=1
set C1E=0
call QuestSetDescriptionBJ(PJ[$D],"The acolyte wants to return peace to the graveyard once again. Help him by absorbing the soul of the Elder Voidwalker with the soul stone by killing the Elder Voidwalker.
The Elder Voidwalker is located at the top right.
Charging Soul Stone: |CFF20C000Completed|r
Return the Charged Soul Stone to the Acolyte: |cffff0000Not Completed|r")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
The restless Spirits.
 - Return to the Acolyte with the Charged Soul Stone.")
endif
endfunction
function BLA takes nothing returns nothing
set BCE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BCE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(BCE,function BKA)
endfunction
function BMA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03Z',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function BPA takes nothing returns boolean
return(GetResearched()=='R03Z')
endfunction
function BQA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03Y',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function BSA takes nothing returns boolean
return(GetResearched()=='R03Y')
endfunction
function BTA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03X',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function BUA takes nothing returns boolean
return(GetResearched()=='R03X')
endfunction
function BWA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03W',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function BYA takes nothing returns boolean
return(GetResearched()=='R03W')
endfunction
function BZA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03V',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B_A takes nothing returns boolean
return(GetResearched()=='R03V')
endfunction
function B0A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03U',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B1A takes nothing returns boolean
return(GetResearched()=='R03U')
endfunction
function B2A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03T',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B3A takes nothing returns boolean
return(GetResearched()=='R03T')
endfunction
function B4A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03S',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B5A takes nothing returns boolean
return(GetResearched()=='R03S')
endfunction
function B6A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03R',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B7A takes nothing returns boolean
return(GetResearched()=='R03R')
endfunction
function B8A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03Q',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function B9A takes nothing returns boolean
return(GetResearched()=='R03Q')
endfunction
function CVA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03P',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function CEA takes nothing returns boolean
return(GetResearched()=='R03P')
endfunction
function CXA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03O',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function COA takes nothing returns boolean
return(GetResearched()=='R03O')
endfunction
function CRA takes nothing returns boolean
return(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0)
endfunction
function CIA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07R')and(IsUnitAliveBJ(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function CAA takes nothing returns nothing
if(CIA())then
call SelectUnitForPlayerSingle(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
if(CRA())then
call UnitApplyTimedLifeBJ(1.01,'BTLF',GetTriggerUnit())
call ShowUnitHide(GetTriggerUnit())
set JWV[GetConvertedPlayerId(GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))]-1)
if(BPA())then
if(BMA())then
call UnitAddAbilityBJ('A1KQ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KQ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(BSA())then
if(BQA())then
call UnitAddAbilityBJ('A1KP',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KP',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(BUA())then
if(BTA())then
call UnitAddAbilityBJ('S01B',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('S01B',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(BYA())then
if(BWA())then
call UnitAddAbilityBJ('A1KM',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KM',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B_A())then
if(BZA())then
call UnitAddAbilityBJ('A1KK',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KK',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B1A())then
if(B0A())then
call UnitAddAbilityBJ('A1KH',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KH',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B3A())then
if(B2A())then
call UnitAddAbilityBJ('A1KG',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KG',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B5A())then
if(B4A())then
call UnitAddAbilityBJ('A1KF',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KF',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B7A())then
if(B6A())then
call UnitAddAbilityBJ('A1KO',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KO',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(B9A())then
if(B8A())then
call UnitAddAbilityBJ('A1KJ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KJ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(CEA())then
if(CVA())then
call UnitAddAbilityBJ('A1KN',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KN',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(COA())then
if(CXA())then
call UnitAddAbilityBJ('A1KL',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1KL',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
else
call KillUnit(GetTriggerUnit())
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("You don't have ability points.",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endfunction
function CNA takes nothing returns nothing
set BDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BDE,EVENT_PLAYER_UNIT_RESEARCH_START)
call TriggerAddAction(BDE,function CAA)
endfunction
function CBA takes nothing returns boolean
return(JF>0)
endfunction
function CCA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08R')
endfunction
function CDA takes nothing returns boolean
return(JF>0)
endfunction
function CFA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08S')
endfunction
function CGA takes nothing returns boolean
return(JF>0)
endfunction
function CHA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08T')
endfunction
function CJA takes nothing returns boolean
return(KF>0)
endfunction
function CKA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08U')
endfunction
function CLA takes nothing returns boolean
return(KF>0)
endfunction
function CMA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08V')
endfunction
function CPA takes nothing returns boolean
return(KF>0)
endfunction
function CQA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h08W')
endfunction
function CSA takes nothing returns nothing
if(CCA())then
if(CBA())then
set JF=JF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Enhancement Tokens"))
endif
endif
if(CFA())then
if(CDA())then
set JF=JF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Enhancement Tokens"))
endif
endif
if(CHA())then
if(CGA())then
set JF=JF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Enhancement Tokens"))
endif
endif
if(CKA())then
if(CJA())then
set KF=KF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Ability Tokens"))
endif
endif
if(CMA())then
if(CLA())then
set KF=KF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Ability Tokens"))
endif
endif
if(CQA())then
if(CPA())then
set KF=KF-1
else
call IssueImmediateOrderById(GetTriggerUnit(),$D0008)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("You do not have enough Ability Tokens"))
endif
endif
endfunction
function CTA takes nothing returns nothing
local trigger CUA
set CUA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CUA,EVENT_PLAYER_UNIT_RESEARCH_START)
call TriggerAddAction(CUA,function CSA)
endfunction
function CWA takes nothing returns boolean
return(GetOwningPlayer(I1)==GetTriggerPlayer())
endfunction
function CYA takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Enhancement Tokens: "+I2S(JF)+"
Ability Tokens "+I2S(KF)+"

Sacrifices until next Enhancement Token: "+I2S(J1)+"/30
Sacrifices until next Ability Token: "+I2S(K1)+"/110"))
endfunction
function CZA takes nothing returns nothing
local trigger C_A
set C_A=CreateTrigger()
call TriggerRegisterPlayerChatEvent(C_A,Player(2),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(3),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(4),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(5),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(6),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(7),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(8),"-tokens",false)
call TriggerRegisterPlayerChatEvent(C_A,Player(9),"-tokens",false)
call TriggerAddCondition(C_A,Condition(function CWA))
call TriggerAddAction(C_A,function CYA)
endfunction
function C0A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03J',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function C1A takes nothing returns boolean
return(GetResearched()=='R03J')
endfunction
function C2A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03K',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function C3A takes nothing returns boolean
return(GetResearched()=='R03K')
endfunction
function C4A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03I',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function C5A takes nothing returns boolean
return(GetResearched()=='R03I')
endfunction
function C6A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03H',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function C7A takes nothing returns boolean
return(GetResearched()=='R03H')
endfunction
function C8A takes nothing returns boolean
return(GetPlayerTechCountSimple('R03G',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function C9A takes nothing returns boolean
return(GetResearched()=='R03G')
endfunction
function DVA takes nothing returns boolean
return(GetPlayerTechCountSimple('R02Y',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DEA takes nothing returns boolean
return(GetResearched()=='R02Y')
endfunction
function DXA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03E',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DOA takes nothing returns boolean
return(GetResearched()=='R03E')
endfunction
function DIA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03D',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DAA takes nothing returns boolean
return(GetResearched()=='R03D')
endfunction
function DNA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03C',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DBA takes nothing returns boolean
return(GetResearched()=='R03C')
endfunction
function DCA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03B',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DDA takes nothing returns boolean
return(GetResearched()=='R03B')
endfunction
function DFA takes nothing returns boolean
return(GetPlayerTechCountSimple('R039',GetOwningPlayer(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DGA takes nothing returns boolean
return(GetResearched()=='R039')
endfunction
function DHA takes nothing returns boolean
return(GetResearched()=='R03A')
endfunction
function DJA takes nothing returns boolean
return(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0)
endfunction
function DKA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07Q')
endfunction
function DLA takes nothing returns nothing
if(DKA())then
call SelectUnitForPlayerSingle(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
if(DJA())then
call UnitApplyTimedLifeBJ(1.01,'BTLF',GetTriggerUnit())
call ShowUnitHide(GetTriggerUnit())
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
if(C1A())then
if(C0A())then
call UnitAddAbilityBJ('A1K3',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K3',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(C3A())then
if(C2A())then
call UnitAddAbilityBJ('A1K1',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K1',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(C5A())then
if(C4A())then
call UnitAddAbilityBJ('A1K2',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K2',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(C7A())then
if(C6A())then
call UnitAddAbilityBJ('A1K0',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K0',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(C9A())then
if(C8A())then
call UnitAddAbilityBJ('A1JZ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JZ',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DEA())then
if(DVA())then
call UnitAddAbilityBJ('A1JF',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JF',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DOA())then
if(DXA())then
call UnitAddAbilityBJ('A1JY',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JY',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DAA())then
if(DIA())then
call UnitAddAbilityBJ('A1JV',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JV',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DBA())then
if(DNA())then
call UnitAddAbilityBJ('A1JW',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JW',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DDA())then
if(DCA())then
call UnitAddAbilityBJ('A18Q',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A18Q',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DGA())then
if(DFA())then
call UnitAddAbilityBJ('A1JU',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JU',J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DHA())then
call ModifyHeroSkillPoints(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,4)
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("+4 Skill Points.",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
call KillUnit(GetTriggerUnit())
set XVV=GetUnitLoc(J6V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("You don't have ability points.",XVV,10.,11.,100.,50.,.0,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endfunction
function DMA takes nothing returns nothing
set BFE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BFE,EVENT_PLAYER_UNIT_RESEARCH_START)
call TriggerAddAction(BFE,function DLA)
endfunction
function DPA takes nothing returns boolean
return(GetPlayerTechCountSimple('R068',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DQA takes nothing returns boolean
return(GetResearched()=='R068')
endfunction
function DSA takes nothing returns boolean
return(GetPlayerTechCountSimple('R06B',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DTA takes nothing returns boolean
return(GetResearched()=='R06B')
endfunction
function DUA takes nothing returns boolean
return(GetPlayerTechCountSimple('R06F',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DWA takes nothing returns boolean
return(GetResearched()=='R06F')
endfunction
function DYA takes nothing returns boolean
return(GetPlayerTechCountSimple('R06A',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function DZA takes nothing returns boolean
return(GetResearched()=='R06A')
endfunction
function D_A takes nothing returns boolean
return(GetPlayerTechCountSimple('R06C',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function D0A takes nothing returns boolean
return(GetResearched()=='R06C')
endfunction
function D1A takes nothing returns boolean
return(GetPlayerTechCountSimple('R06D',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function D2A takes nothing returns boolean
return(GetResearched()=='R06D')
endfunction
function D3A takes nothing returns boolean
return(GetPlayerTechCountSimple('R06G',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function D4A takes nothing returns boolean
return(GetResearched()=='R06G')
endfunction
function D5A takes nothing returns boolean
return(GetPlayerTechCountSimple('R06E',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function D6A takes nothing returns boolean
return(GetResearched()=='R06E')
endfunction
function D7A takes nothing returns boolean
return(GetPlayerTechCountSimple('R069',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function D8A takes nothing returns boolean
return(GetResearched()=='R069')
endfunction
function D9A takes nothing returns boolean
return(GetPlayerTechCountSimple('R06H',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FVA takes nothing returns boolean
return(GetResearched()=='R06H')
endfunction
function FEA takes nothing returns boolean
return(GetPlayerTechCountSimple('R06I',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FXA takes nothing returns boolean
return(GetResearched()=='R06I')
endfunction
function FOA takes nothing returns boolean
return(GetResearched()=='R06J')
endfunction
function FRA takes nothing returns boolean
return(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0)
endfunction
function FIA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07O')
endfunction
function FAA takes nothing returns nothing
if(FIA())then
call SelectUnitForPlayerSingle(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
if(FRA())then
call UnitApplyTimedLifeBJ(1.01,'BTLF',GetTriggerUnit())
call ShowUnitHide(GetTriggerUnit())
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
if(DQA())then
if(DPA())then
call UnitAddAbilityBJ('A1K3',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K3',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DTA())then
if(DSA())then
call UnitAddAbilityBJ('A1K1',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K1',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DWA())then
if(DUA())then
call UnitAddAbilityBJ('A1K2',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K2',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(DZA())then
if(DYA())then
call UnitAddAbilityBJ('A1K0',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1K0',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(D0A())then
if(D_A())then
call UnitAddAbilityBJ('A1JZ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JZ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(D2A())then
if(D1A())then
call UnitAddAbilityBJ('A1JF',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JF',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(D4A())then
if(D3A())then
call UnitAddAbilityBJ('A1JY',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JY',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(D6A())then
if(D5A())then
call UnitAddAbilityBJ('A1JV',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JV',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(D8A())then
if(D7A())then
call UnitAddAbilityBJ('A1JW',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JW',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FVA())then
if(D9A())then
call UnitAddAbilityBJ('A18Q',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A18Q',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FXA())then
if(FEA())then
call UnitAddAbilityBJ('A1JU',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Spirit Bullets Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JU',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FOA())then
call ModifyHeroSkillPoints(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,4)
call CreateTextTagLocBJ("+4 Skill Points.",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
call KillUnit(GetTriggerUnit())
call CreateTextTagLocBJ("You don't have ability points.",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endfunction
function FNA takes nothing returns nothing
set BGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BGE,EVENT_PLAYER_UNIT_RESEARCH_START)
call TriggerAddAction(BGE,function FAA)
endfunction
function FBA takes nothing returns boolean
return(GetPlayerTechCountSimple('R038',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FCA takes nothing returns boolean
return(GetResearched()=='R038')
endfunction
function FDA takes nothing returns boolean
return(GetPlayerTechCountSimple('R037',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FFA takes nothing returns boolean
return(GetResearched()=='R037')
endfunction
function FGA takes nothing returns boolean
return(GetPlayerTechCountSimple('R036',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FHA takes nothing returns boolean
return(GetResearched()=='R036')
endfunction
function FJA takes nothing returns boolean
return(GetPlayerTechCountSimple('R035',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FKA takes nothing returns boolean
return(GetResearched()=='R035')
endfunction
function FLA takes nothing returns boolean
return(GetPlayerTechCountSimple('R034',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FMA takes nothing returns boolean
return(GetResearched()=='R034')
endfunction
function FPA takes nothing returns boolean
return(GetPlayerTechCountSimple('R03F',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FQA takes nothing returns boolean
return(GetResearched()=='R03F')
endfunction
function FSA takes nothing returns boolean
return(GetPlayerTechCountSimple('R033',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FTA takes nothing returns boolean
return(GetResearched()=='R033')
endfunction
function FUA takes nothing returns boolean
return(GetPlayerTechCountSimple('R032',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FWA takes nothing returns boolean
return(GetResearched()=='R032')
endfunction
function FYA takes nothing returns boolean
return(GetPlayerTechCountSimple('R031',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function FZA takes nothing returns boolean
return(GetResearched()=='R031')
endfunction
function F_A takes nothing returns boolean
return(GetPlayerTechCountSimple('R030',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function F0A takes nothing returns boolean
return(GetResearched()=='R030')
endfunction
function F1A takes nothing returns boolean
return(GetPlayerTechCountSimple('R02Z',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function F2A takes nothing returns boolean
return(GetResearched()=='R02Z')
endfunction
function F3A takes nothing returns boolean
return(GetPlayerTechCountSimple('R02X',GetOwningPlayer(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))<1)
endfunction
function F4A takes nothing returns boolean
return(GetResearched()=='R02X')
endfunction
function F5A takes nothing returns boolean
return(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0)
endfunction
function F6A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07N')
endfunction
function F7A takes nothing returns nothing
if(F6A())then
call SelectUnitForPlayerSingle(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
if(F5A())then
call UnitApplyTimedLifeBJ(1.01,'BTLF',GetTriggerUnit())
call ShowUnitHide(GetTriggerUnit())
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1)
if(FCA())then
if(FBA())then
call UnitAddAbilityBJ('A1JN',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JN',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FFA())then
if(FDA())then
call UnitAddAbilityBJ('A1JK',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JK',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FHA())then
if(FGA())then
call UnitAddAbilityBJ('A1JP',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JP',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FKA())then
if(FJA())then
call UnitAddAbilityBJ('A1JO',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JO',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FMA())then
if(FLA())then
call UnitAddAbilityBJ('A1JI',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JI',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FQA())then
if(FPA())then
call UnitAddAbilityBJ('A1JX',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JX',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FTA())then
if(FSA())then
call UnitAddAbilityBJ('A1JL',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JL',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FWA())then
if(FUA())then
call UnitAddAbilityBJ('A1JH',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JH',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FZA())then
if(FYA())then
call UnitAddAbilityBJ('A1JJ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JJ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(F0A())then
if(F_A())then
call UnitAddAbilityBJ('A1JQ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JQ',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(F2A())then
if(F1A())then
call UnitAddAbilityBJ('A1JM',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JM',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(F4A())then
if(F3A())then
call UnitAddAbilityBJ('A1JG',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("New Skill Learned",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call IncUnitAbilityLevelSwapped('A1JG',J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateTextTagLocBJ("Skill Level up",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
else
call KillUnit(GetTriggerUnit())
call CreateTextTagLocBJ("You don't have ability points.",GetUnitLoc(J5V[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),10.,11.,100.,50.,.0,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endfunction
function F8A takes nothing returns nothing
set BHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BHE,EVENT_PLAYER_UNIT_RESEARCH_START)
call TriggerAddAction(BHE,function F7A)
endfunction
function F9A takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function GVA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E4')
endfunction
function GEA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E8')
endfunction
function GXA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E9')
endfunction
function GOA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0EB')
endfunction
function GRA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0EA')
endfunction
function GIA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0CP')
endfunction
function GAA takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'BOhx'))
endfunction
function GNA takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05W'))
endfunction
function GBA takes nothing returns boolean
return(GetBooleanOr(GAA(),GNA()))
endfunction
function GCA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0D1')
endfunction
function GDA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17F',GetTriggerUnit())>0)
endfunction
function GFA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E7')
endfunction
function GGA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17G',GetTriggerUnit())>0)
endfunction
function GHA takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0E6')
endfunction
function GJA takes nothing returns nothing
if(GVA())then
call UnitRemoveAbilityBJ('A03S',GetTriggerUnit())
call UnitRemoveAbilityBJ('A08S',GetTriggerUnit())
call UnitRemoveAbilityBJ('A06I',GetTriggerUnit())
endif
if(GEA())then
call UnitRemoveAbilityBJ('A0BJ',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1BE',GetTriggerUnit())
endif
if(GXA())then
call UnitRemoveAbilityBJ('A0H4',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0XM',GetTriggerUnit())
endif
if(GOA())then
call UnitRemoveAbilityBJ('A0UP',GetTriggerUnit())
call UnitRemoveAbilityBJ('A08O',GetTriggerUnit())
endif
if(GRA())then
call UnitRemoveAbilityBJ('A03F',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0H5',GetTriggerUnit())
endif
if(GIA())then
call UnitRemoveAbilityBJ('A17H',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0YO',GetTriggerUnit())
endif
if(GBA())then
call UnitAddItemSwapped(GetManipulatedItem(),GetTriggerUnit())
endif
if(GCA())then
call UnitRemoveAbilityBJ('A0GE',GetTriggerUnit())
call UnitRemoveAbilityBJ('A03W',GetTriggerUnit())
call UnitRemoveAbilityBJ('A04Z',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0UY',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0WV',GetTriggerUnit())
endif
if(GFA())then
if(GDA())then
call UnitRemoveAbilityBJ('A17F',GetTriggerUnit())
else
call UnitRemoveAbilityBJ('A17E',GetTriggerUnit())
endif
endif
if(GHA())then
if(GGA())then
call UnitRemoveAbilityBJ('A17G',GetTriggerUnit())
else
call UnitRemoveAbilityBJ('A0XJ',GetTriggerUnit())
endif
endif
endfunction
function GKA takes nothing returns nothing
set BJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BJE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(BJE,Condition(function F9A))
call TriggerAddAction(BJE,function GJA)
endfunction
function GLA takes nothing returns nothing
set FHV=1
endfunction
function GMA takes nothing returns nothing
set BKE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BKE,FJV)
call TriggerAddAction(BKE,function GLA)
endfunction
function GPA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JR')
endfunction
function GQA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JT')
endfunction
function GSA takes nothing returns boolean
return(GetSpellAbilityId()=='A1HB')
endfunction
function GTA takes nothing returns boolean
return(GetTriggerUnit()==J8V)
endfunction
function GUA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JS')
endfunction
function GWA takes nothing returns boolean
return(GetSpellAbilityId()=='S01B')
endfunction
function GYA takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B08E'))
endfunction
function GZA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KO')
endfunction
function G_A takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B08E'))
endfunction
function G0A takes nothing returns boolean
return(GetSpellAbilityId()=='A1K1')
endfunction
function G1A takes nothing returns boolean
return(GetSpellAbilityId()=='A1JW')
endfunction
function G2A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=(.4*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())))
endfunction
function G3A takes nothing returns boolean
return(GetSpellAbilityId()=='A1JY')
endfunction
function G4A takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B08E'))
endfunction
function G5A takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function G6A takes nothing returns boolean
return(GetSpellAbilityId()=='A1KK')
endfunction
function G7A takes nothing returns boolean
return(GetSpellAbilityId()=='A1KP')
endfunction
function G8A takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KI',GetSpellTargetUnit())>0)
endfunction
function G9A takes nothing returns boolean
return(GetSpellAbilityId()=='A1KN')
endfunction
function HVA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KI',GetSpellTargetUnit())>0)
endfunction
function HEA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KJ')
endfunction
function HXA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JZ')
endfunction
function HOA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KI',GetSpellTargetUnit())>0)
endfunction
function HRA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KQ')
endfunction
function HIA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KL')
endfunction
function HAA takes nothing returns boolean
return(GetSpellAbilityId()=='A1K0')
endfunction
function HNA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KM')
endfunction
function HBA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KH')
endfunction
function HCA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JV')
endfunction
function HDA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KA',GetSpellTargetUnit())>0)
endfunction
function HFA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KB',GetSpellTargetUnit())>0)
endfunction
function HGA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1KG',GetTriggerUnit())<7)
endfunction
function HHA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KG')
endfunction
function HJA takes nothing returns boolean
return(GetSpellAbilityId()=='A1KF')
endfunction
function HKA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JQ')
endfunction
function HLA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JK')
endfunction
function HMA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JP')
endfunction
function HPA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JI')
endfunction
function HQA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JL')
endfunction
function HSA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JH')
endfunction
function HTA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JJ')
endfunction
function HUA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JX')
endfunction
function HWA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JM')
endfunction
function HYA takes nothing returns boolean
return(GetSpellAbilityId()=='A1JF')
endfunction
function HZA takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function H_A takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function H0A takes nothing returns boolean
return(GetRandomInt(1,8)==2)
endfunction
function H1A takes nothing returns boolean
return(GetSpellAbilityId()=='A1JG')
endfunction
function H2A takes nothing returns nothing
if(GPA())then
set XVV=GetRectCenter(KKV)
call CreateNUnitsAtLoc(1,'h07P',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call SelectUnitForPlayerSingle(GetLastCreatedUnit(),GetOwningPlayer(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(16.,'BTLF',GetLastCreatedUnit())
if GetUnitTypeId(JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])=='H07L' then
call UnitAddAbilityBJ('A1HB',GetLastCreatedUnit())
endif
if GetUnitTypeId(JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])=='H07M' then
set J5V[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=JZV[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]
call UnitAddAbilityBJ('A1JT',GetLastCreatedUnit())
set J8V=GetLastCreatedUnit()
endif
endif
if(GQA())then
set XVV=GetRectCenter(KKV)
call CreateNUnitsAtLoc(1,'h07R',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call SelectUnitForPlayerSingle(GetLastCreatedUnit(),GetOwningPlayer(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(55.,'BTLF',GetLastCreatedUnit())
call KillUnit(GetTriggerUnit())
endif
if(GSA())then
set XVV=GetRectCenter(KKV)
call CreateNUnitsAtLoc(1,'h07N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call SelectUnitForPlayerSingle(GetLastCreatedUnit(),GetOwningPlayer(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(55.,'BTLF',GetLastCreatedUnit())
call KillUnit(GetTriggerUnit())
endif
if(GUA())then
set XVV=GetRectCenter(KKV)
if(GTA())then
call CreateNUnitsAtLoc(1,'h07Q',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'h07O',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
endif
call RemoveLocation(XVV)
call SelectUnitForPlayerSingle(GetLastCreatedUnit(),GetOwningPlayer(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(55.,'BTLF',GetLastCreatedUnit())
call KillUnit(GetTriggerUnit())
endif
if(GWA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*5.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((5*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(GZA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('A1KO',GetTriggerUnit()))*2.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*(.01*I2R(GetUnitAbilityLevelSwapped('A1KO',GetTriggerUnit()))))))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1KO',GetTriggerUnit())*2)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(GYA())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\FrostArmor\\FrostArmorDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit()))+1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit())+1))*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,.0,.0,100.,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
endif
if(G0A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('A1K1',GetTriggerUnit()))+3.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1K1',GetTriggerUnit())+3)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(G_A())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\FrostArmor\\FrostArmorDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit()))+1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit())+1))*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,.0,.0,100.,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
endif
if(G1A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetUnitAbilityLevelSwapped('A1K5',GetTriggerUnit()))*(I2R(GetUnitAbilityLevelSwapped('A1JW',GetTriggerUnit()))*125.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((GetUnitAbilityLevelSwapped('A1K5',GetTriggerUnit())*(GetUnitAbilityLevelSwapped('A1JW',GetTriggerUnit())*'}'))),XVV,10.,11.,35.,35.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(G3A())then
if(G2A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*((I2R(GetUnitAbilityLevelSwapped('A1JY',GetTriggerUnit()))*4.)+12.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1JY',GetTriggerUnit())*4)+$C)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,14.,100.,20.,35.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('A1JY',GetTriggerUnit()))+3.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1JY',GetTriggerUnit())+3)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,98.,.0,98.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(G6A())then
if(G5A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1KK',GetTriggerUnit())*2))+2.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1KK',GetTriggerUnit())*2)+2)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(G4A())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\FrostArmor\\FrostArmorDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit()))+1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+(GetUnitAbilityLevelSwapped('S01B',GetTriggerUnit())+1))*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,.0,.0,100.,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.1)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
else
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+((1+I2R(GetUnitAbilityLevelSwapped('A1KK',GetTriggerUnit())))*(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))))))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1KK',GetTriggerUnit())+1)*1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,95.,95.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(G7A())then
call UnitRemoveAbilityBJ('A1KI',JSV)
call UnitAddAbilityBJ('A1KI',GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*4.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set JSV=GetSpellTargetUnit()
call StartTimerBJ(DDV,false,4.)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((4*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(G9A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*8.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((8*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(G8A())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldBuff.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*10.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+$A)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,100.,100.,.0,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
endif
if(HEA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1KJ',GetTriggerUnit())+2))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1KJ',GetTriggerUnit())+2)*1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(HVA())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldBuff.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*10.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+$A)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,100.,100.,.0,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
endif
if(HXA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1JZ',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+((.0+I2R(GetUnitAbilityLevelSwapped('A1JZ',GetTriggerUnit())))*(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))))))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1JZ',GetTriggerUnit())+0)*1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HRA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1KQ',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1KQ',GetTriggerUnit())+0)*1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(HOA())then
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldBuff.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*10.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((S2I("+")+$A)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,100.,100.,.0,9.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),38.,75.)
endif
endif
if(HIA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitAbilityLevelSwapped('A1KL',GetTriggerUnit())+1))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S((GetUnitAbilityLevelSwapped('A1KL',GetTriggerUnit())+1))+" Spell Power")),GetUnitLoc(GetTriggerUnit()),10.,11.,95.,85.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HAA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitAbilityLevelSwapped('A1K0',GetTriggerUnit())+0))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S((GetUnitAbilityLevelSwapped('A1K0',GetTriggerUnit())+0))+" Spell Power")),GetUnitLoc(GetTriggerUnit()),10.,11.,95.,85.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HNA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1KM',GetTriggerUnit())*8))+(12.+I2R(JTV)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1KM',GetTriggerUnit())*8)+($C+JTV))*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set JTV=(JTV+1)
endif
if(HBA())then
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitApplyTimedLifeBJ((1+(I2R(GetUnitLevel(GetTriggerUnit()))/ 2.)),'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1KE',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1KD',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1KC',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1KD',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1KH',GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A1KE',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1KH',GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A1KC',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1KH',GetTriggerUnit()))
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\NightElf\\Tranquility\\Tranquility.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
endif
if(HCA())then
call ModifyHeroStat(bj_HEROSTAT_STR,J0V,bj_MODIFYMETHOD_SUB,J_V[3])
set J_V[3]=((JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*1)
set J0V=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,((JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*1))
call StartTimerBJ(DHV[3],false,((I2R(GetUnitAbilityLevelSwapped('A1JV',GetTriggerUnit()))*2.)+3.))
endif
if(HHA())then
if(HGA())then
if(HFA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,1)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+1 To all Stats.",XVV,10.,13.,100.,100.,30.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1KB',GetSpellTargetUnit())
call UnitAddAbilityBJ('AItx',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+200 HP and 20 bonus damage.",XVV,10.,13.,100.,100.,30.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(HDA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,3)
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,3)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+3 To all Stats.",XVV,10.,13.,100.,100.,30.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitAddAbilityBJ('A1KA',GetSpellTargetUnit())
call UnitAddAbilityBJ('A130',GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ("+1800 HP and 200 bonus damage.",XVV,10.,13.,100.,100.,30.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(HJA())then
call UnitRemoveAbilityBJ('A1K9',JUV)
call UnitAddAbilityBJ('A1K9',GetSpellTargetUnit())
set JUV=GetSpellTargetUnit()
call StartTimerBJ(DKV,false,I2R(GetUnitAbilityLevelSwapped('A1KF',GetTriggerUnit())))
endif
if(HKA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1JQ',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(I2R((GetUnitAbilityLevelSwapped('A1JQ',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1JQ',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))+(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped('A1JQ',GetTriggerUnit())))),XVV,10.,11.,75.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HLA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetUnitAbilityLevelSwapped('A1K5',GetTriggerUnit()))*(I2R(GetUnitAbilityLevelSwapped('A1JK',GetTriggerUnit()))*60.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(I2R((GetUnitAbilityLevelSwapped('A1JK',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1JK',GetTriggerUnit())*(GetUnitAbilityLevelSwapped('A1K5',GetTriggerUnit())*60))+((GetUnitAbilityLevelSwapped('A1JK',GetTriggerUnit())+2)*GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)))),XVV,10.,11.,35.,35.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HMA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A1JP',GetTriggerUnit()))*.04)+.06)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call UnitApplyTimedLifeBJ(I2R(GetUnitAbilityLevelSwapped('A1JP',GetTriggerUnit())),'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1K0',GetLastCreatedUnit())
call UnitAddAbilityBJ('S019',GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(R2S((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A1JP',GetTriggerUnit()))*.04)+.06))),XVV,10.,11.,100.,35.,35.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HPA())then
call ModifyHeroStat(bj_HEROSTAT_STR,J1V,bj_MODIFYMETHOD_SUB,J2V)
set J1V=GetTriggerUnit()
set J2V=(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*1)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*1))
call StartTimerBJ(DFV,false,(1.+(2.*I2R(GetUnitAbilityLevelSwapped('A1JI',GetTriggerUnit())))))
endif
if(HQA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A1JL',GetTriggerUnit()))*.04)+.06)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1HF',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ((1+I2R(GetUnitAbilityLevelSwapped('A1JL',GetTriggerUnit()))),'BTLF',GetLastCreatedUnit())
endif
if(HSA())then
set XVV=GetUnitLoc(GetTriggerUnit())
set J3V=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1HE',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ((3.+I2R(GetUnitAbilityLevelSwapped('A1JH',GetTriggerUnit()))),'BTLF',GetLastCreatedUnit())
endif
if(HTA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1HD',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1HD',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1JJ',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
endif
if(HUA())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetUnitAbilityLevelSwapped('A1JX',GetTriggerUnit()))*1000.)))
call UnitAddAbilityBJ('A1HC',GetTriggerUnit())
set J3V=GetTriggerUnit()
call StartTimerBJ(DGV,false,((I2R(GetUnitAbilityLevelSwapped('A1JX',GetTriggerUnit()))*2.)+2.))
endif
if(HWA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,(GetUnitAbilityLevelSwapped('A1JM',GetTriggerUnit())*2))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+(I2S((GetUnitAbilityLevelSwapped('A1JM',GetTriggerUnit())*2))+" Strength")),XVV,10.,12.,100.,25.,7.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(HYA())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+((.0+I2R(GetUnitAbilityLevelSwapped('A1JF',GetTriggerUnit())))*(I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.))))))
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),false,true)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A1JF',GetTriggerUnit())+0)*1)*(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetUnitLevel(GetTriggerUnit())*4))))),XVV,10.,11.,95.,95.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(H1A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1JG',GetTriggerUnit())+0))*4.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A1JG',GetTriggerUnit()))*.09)+.0)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1JG',GetTriggerUnit())*(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))+(R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.13))*GetUnitAbilityLevelSwapped('A1JG',GetTriggerUnit())))),XVV,10.,13.,100.,80.,15.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(H0A())then
set J4V=GetRandomInt(6,16)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,J4V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(J4V)+" Agility")),XVV,10.,13.,90.,95.,23.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(H_A())then
set J4V=GetRandomInt(3,$B)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,J4V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(J4V)+" Intelligence")),XVV,10.,13.,90.,95.,23.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(HZA())then
set J4V=GetRandomInt(1,9)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,J4V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(J4V)+" Strength")),XVV,10.,13.,90.,95.,23.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set J4V=GetRandomInt(5,$E)
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+J4V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(J4V)+" Spell Power")),XVV,10.,13.,90.,95.,23.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
endif
endfunction
function H3A takes nothing returns nothing
set BLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(BLE,function H2A)
endfunction
function H4A takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",DNV,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(DBV,DNV,((I2R(DLV)*16.)*((I2R(GetUnitAbilityLevelSwapped('A0HU',DBV))*I2R(GetUnitAbilityLevelSwapped('A18H',DBV)))*1)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(DNV)
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0HT',DBV)*GetUnitAbilityLevelSwapped('A18H',DBV))*(16*DLV))),XVV,10.,10.,5.,5.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set DNV=null
set DLV=0
endfunction
function H5A takes nothing returns nothing
set BME=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BME,DCV)
call TriggerAddAction(BME,function H4A)
endfunction
function H6A takes nothing returns nothing
call SetUnitLifeBJ(J3V,(GetUnitStateSwap(UNIT_STATE_LIFE,J3V)+(I2R(GetUnitAbilityLevelSwapped('A1JX',J3V))*1000.)))
call UnitRemoveAbilityBJ('A1HC',J3V)
call AddSpecialEffectTargetUnitBJ("origin",J3V,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function H7A takes nothing returns nothing
set BPE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BPE,DGV)
call TriggerAddAction(BPE,function H6A)
endfunction
function H8A takes nothing returns nothing
call SetUnitLifeBJ(J1V,(GetUnitStateSwap(UNIT_STATE_LIFE,J1V)+(21.*I2R(J2V))))
call ModifyHeroStat(bj_HEROSTAT_STR,J1V,bj_MODIFYMETHOD_SUB,J2V)
call AddSpecialEffectTargetUnitBJ("origin",J1V,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set J1V=null
set J2V=0
endfunction
function H9A takes nothing returns nothing
set BQE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BQE,DFV)
call TriggerAddAction(BQE,function H8A)
endfunction
function JVA takes nothing returns nothing
call UnitRemoveAbilityBJ('A1KI',JSV)
endfunction
function JEA takes nothing returns nothing
set BSE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BSE,DDV)
call TriggerAddAction(BSE,function JVA)
endfunction
function JXA takes nothing returns nothing
call UnitRemoveAbilityBJ('A1K9',JUV)
endfunction
function JOA takes nothing returns nothing
set BTE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BTE,DKV)
call TriggerAddAction(BTE,function JXA)
endfunction
function JRA takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,J0V,bj_MODIFYMETHOD_SUB,J_V[3])
call SetUnitLifeBJ(J0V,(GetUnitStateSwap(UNIT_STATE_LIFE,J0V)+(I2R(J_V[3])+(3.*I2R(GetUnitAbilityLevelSwapped('A1JV',J0V))))))
call AddSpecialEffectTargetUnitBJ("origin",J0V,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set J0V=null
set J_V[3]=0
endfunction
function JIA takes nothing returns nothing
set BUE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BUE,DHV[3])
call TriggerAddAction(BUE,function JRA)
endfunction
function JAA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1K9',GetAttacker())>0)
endfunction
function JNA takes nothing returns boolean
return(GetRandomInt(GetUnitAbilityLevelSwapped('A1K2',GetTriggerUnit()),$A)==$A)
endfunction
function JBA takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1K2',GetTriggerUnit())>0)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))and(GetUnitLevel(GetAttacker())>1)and(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function JCA takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B088'))
endfunction
function JDA takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B087'))and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.5))and(IsUnitAliveBJ(J3V))
endfunction
function JFA takes nothing returns boolean
return((UnitHasBuffBJ(GetTriggerUnit(),'B08B'))and(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function JGA takes nothing returns boolean
return(GetRandomInt(GetUnitAbilityLevelSwapped('A1JO',GetTriggerUnit()),$B)==$B)
endfunction
function JHA takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1JO',GetTriggerUnit())>0)and(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=I2R((GetUnitAbilityLevelSwapped('A1JO',GetTriggerUnit())*4)))and(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function JJA takes nothing returns boolean
return(GetRandomInt(GetUnitAbilityLevelSwapped('A06Q',GetTriggerUnit()),$C)==$A)
endfunction
function JKA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06Q',GetTriggerUnit())>0)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function JLA takes nothing returns boolean
return(GetRandomInt(GetUnitAbilityLevelSwapped('A0PI',GetAttacker()),25)==$C)
endfunction
function JMA takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A0PI',GetAttacker())>0)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function JPA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RD',GetTriggerUnit())>=6)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function JQA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function JSA takes nothing returns boolean
return(UnitHasBuffBJ(GetAttackedUnitBJ(),'B097'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function JTA takes nothing returns boolean
return((GetAttacker()==JCV)and(GetUnitAbilityLevelSwapped('A1RV',JCV)>0)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function JUA takes nothing returns nothing
if(JAA())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(3.*I2R(GetUnitLevel(GetAttacker())))))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(JBA())then
if(JNA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(I2R(GetUnitLevel(GetTriggerUnit()))*10.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GetUnitLevel(GetTriggerUnit()))*5.)))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\NightElf\\ThornsAura\\ThornsAuraDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(JCA())then
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_NEGATIVE,GetTriggerUnit())
endif
if(JDA())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(200.*I2R(GetUnitAbilityLevelSwapped('A1JH',J3V)))))
call SetUnitLifeBJ(J3V,(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(200.*I2R(GetUnitAbilityLevelSwapped('A1JH',J3V)))))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(JFA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))+(I2R(GetUnitLevel(GetTriggerUnit()))*4.)))*(I2R((GetUnitAbilityLevelSwapped('A1JN',GetTriggerUnit())+0))*1.)),ATTACK_TYPE_MELEE,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(JHA())then
if(JGA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(I2R(GetUnitAbilityLevelSwapped('A1JO',GetTriggerUnit()))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL)
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-I2R((GetUnitAbilityLevelSwapped('A1JO',GetTriggerUnit())*4))))
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Weapons\\FragDriller\\FragDriller.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(JKA())then
if(JJA())then
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),57)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(JMA())then
if(JLA())then
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),58)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+((600.*I2R(GetUnitAbilityLevelSwapped('A0PI',GetAttacker()))))+((GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true)*(GetUnitAbilityLevelSwapped('A0PI',GetAttacker()))*.3))))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(JPA())then
if(JQA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*3),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Weapons\\BoatMissile\\BoatMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(JSA())then
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),59)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(JTA())then
call UnitDamageTargetBJ(JCV,GetAttackedUnitBJ(),(GetHeroStatBJ(bj_HEROSTAT_AGI,JCV,true)*(.9+(.3*(GetUnitAbilityLevelSwapped('A1WM',JCV))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetAttackedUnitBJ(),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function JWA takes nothing returns nothing
set BWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(BWE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(BWE,function JUA)
endfunction
function JYA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1S0',GetAttackedUnitBJ())>0)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function JZA takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function J_A takes nothing returns nothing
if(JYA())then
if(JZA())then
call SetUnitLifeBJ(GetAttackedUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttackedUnitBJ())+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttackedUnitBJ(),true)*(GetUnitAbilityLevelSwapped('A1S0',GetAttackedUnitBJ()))*.75))))
call AddSpecialEffectTargetUnitBJ("origin",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisableTrigger(QXV)
call TriggerSleepAction(2.)
call EnableTrigger(QXV)
endif
endif
endfunction
function J0A takes nothing returns nothing
set QXV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QXV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(QXV,function J_A)
endfunction
function J1A takes nothing returns nothing
call SetUnitLifeBJ(DUV,(GetUnitStateSwap(UNIT_STATE_LIFE,DUV)+(I2R(DSV)*20.)))
call ModifyHeroStat(bj_HEROSTAT_STR,DUV,bj_MODIFYMETHOD_SUB,DSV)
call UnitRemoveAbilityBJ('A18M',DUV)
call UnitRemoveAbilityBJ('A18L',DUV)
call UnitRemoveAbilityBJ('A19Z',DUV)
set DSV=0
set DUV=null
endfunction
function J2A takes nothing returns nothing
set BYE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BYE,DTV)
call TriggerAddAction(BYE,function J1A)
endfunction
function J3A takes nothing returns nothing
call UnitRemoveAbilityBJ('A1C8',GCV)
call UnitRemoveAbilityBJ('A1GG',H1V)
call UnitRemoveAbilityBJ('A1GF',H1V)
endfunction
function J4A takes nothing returns nothing
set BZE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(BZE,GGV)
call TriggerAddAction(BZE,function J3A)
endfunction
function J5A takes nothing returns boolean
return(IsUnitAliveBJ(DIV))and(G3V!=7)
endfunction
function J6A takes nothing returns nothing
if(J5A())then
call UnitAddAbilityBJ('A028',DZV)
call SetUnitAbilityLevelSwapped('A028',DZV,7)
call UnitDamageTargetBJ(DIV,DZV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
else
set G3V=2
endif
call UnitRemoveAbilityBJ('A083',DIV)
set DIV=null
set DZV=null
set D_V=.0
endfunction
function J7A takes nothing returns nothing
set B_E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B_E,D0V)
call TriggerAddAction(B_E,function J6A)
endfunction
function J8A takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(HMV)))
endfunction
function J9A takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function KVA takes nothing returns boolean
return GetBooleanAnd(J8A(),J9A())
endfunction
function KEA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KXA takes nothing returns boolean
return GetBooleanAnd(KVA(),KEA())
endfunction
function KOA takes nothing returns boolean
return(HJV<GetRandomInt(6,$A))
endfunction
function KRA takes nothing returns boolean
return(HLV==3)
endfunction
function KIA takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,HMV)<=3400000.)and(H7V!=3)
endfunction
function KAA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KNA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function KBA takes nothing returns boolean
return GetBooleanAnd(KAA(),KNA())
endfunction
function KCA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KDA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function KFA takes nothing returns boolean
return GetBooleanAnd(KCA(),KDA())
endfunction
function KGA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KHA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function KJA takes nothing returns boolean
return GetBooleanAnd(KGA(),KHA())
endfunction
function KKA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KLA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function KMA takes nothing returns boolean
return GetBooleanAnd(KKA(),KLA())
endfunction
function KPA takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function KQA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KSA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function KTA takes nothing returns boolean
return GetBooleanAnd(KQA(),KSA())
endfunction
function KUA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function KWA takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(HMV)))
endfunction
function KYA takes nothing returns boolean
return GetBooleanAnd(KUA(),KWA())
endfunction
function KZA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function K_A takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(HMV)))
endfunction
function K0A takes nothing returns boolean
return GetBooleanAnd(KZA(),K_A())
endfunction
function K1A takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function K2A takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(HMV)))
endfunction
function K3A takes nothing returns boolean
return GetBooleanAnd(K1A(),K2A())
endfunction
function K4A takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function K5A takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function K6A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function K7A takes nothing returns boolean
return GetBooleanAnd(K5A(),K6A())
endfunction
function K8A takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function K9A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function LVA takes nothing returns boolean
return GetBooleanAnd(K8A(),K9A())
endfunction
function LEA takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function LXA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function LOA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function LRA takes nothing returns boolean
return GetBooleanAnd(LXA(),LOA())
endfunction
function LIA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function LAA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function LNA takes nothing returns boolean
return GetBooleanAnd(LIA(),LAA())
endfunction
function LBA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function LCA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function LDA takes nothing returns boolean
return GetBooleanAnd(LBA(),LCA())
endfunction
function LFA takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function LGA takes nothing returns boolean
return(HLV==5)
endfunction
function LHA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function LJA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function LKA takes nothing returns boolean
return GetBooleanAnd(LHA(),LJA())
endfunction
function LLA takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function LKA)))>0)
endfunction
function LMA takes nothing returns nothing
if(LLA())then
if(KRA())then
set XVV=GetUnitLoc(HMV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1F9',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1300.,XVV,Condition(function KXA)))))
call RemoveLocation(XVV)
if(KOA())then
call StartTimerBJ(HHV,false,.6)
set HJV=(HJV+1)
else
call StartTimerBJ(HHV,false,19.)
set HJV=GetRandomInt(0,2)
endif
endif
if(LGA())then
if(KIA())then
call StartTimerBJ(HHV,false,1.)
set H7V=3
else
call StartTimerBJ(HHV,false,17.)
set H7V=1
endif
if(LFA())then
call AddSpecialEffectTargetUnitBJ("origin",HMV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(HMV)
call CreateTextTagLocBJ("Giga Flame Strike!",XVV,10.,15.,100.,10.,10.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FI',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1100.,XVV,Condition(function LRA)))))
call RemoveLocation(XVV)
call TriggerSleepAction(1.1)
set XVV=GetUnitLoc(HMV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FI',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1100.,XVV,Condition(function LNA)))))
call RemoveLocation(XVV)
call TriggerSleepAction(1.1)
set XVV=GetUnitLoc(HMV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FI',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1100.,XVV,Condition(function LDA)))))
call RemoveLocation(XVV)
else
if(LEA())then
call AddSpecialEffectTargetUnitBJ("origin",HMV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(HMV)
call CreateTextTagLocBJ("Giga Ice Age!",XVV,10.,15.,7.,10.,100.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FL',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(7.5,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.4,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.5,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.6,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.7,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function K7A))))
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.8,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(1.9,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.1,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.2,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function LVA))))
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.3,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.4,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.5,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetRandomLocInRect(LQV)
call CreateNUnitsAtLoc(1,'h07E',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(2.6,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
if(K4A())then
call AddSpecialEffectTargetUnitBJ("origin",HMV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Giga Storm!",GetUnitLoc(HMV),10.,15.,7.,100.,100.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set XVV=GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KTA))))
call CreateNUnitsAtLoc(1,'h07D',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(HMV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FM',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"chainlightning",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KYA))))
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FM',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"chainlightning",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function K0A))))
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FM',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"chainlightning",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function K3A))))
call RemoveLocation(XVV)
else
if(KPA())then
call AddSpecialEffectTargetUnitBJ("origin",HMV,"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("World of Diseases!",GetUnitLoc(HMV),10.,15.,7.,100.,4.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set XVV=GetUnitLoc(HMV)
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FP',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"entanglingroots",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KBA))))
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FQ',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KFA))))
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FN',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"acidbomb",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KJA))))
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(HMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1FO',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"soulburn",GroupPickRandomUnit(GetUnitsInRectMatching(LQV,Condition(function KMA))))
call RemoveLocation(XVV)
else
call AddSpecialEffectTargetUnitBJ("origin",HMV,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Giga Heal!",GetUnitLoc(HMV),10.,15.,100.,100.,2.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetUnitLifeBJ(HMV,(GetUnitStateSwap(UNIT_STATE_LIFE,HMV)+1960000.))
endif
endif
endif
endif
endif
else
set H_V=2
endif
endfunction
function LPA takes nothing returns nothing
set B0E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B0E,HHV)
call TriggerAddAction(B0E,function LMA)
endfunction
function LQA takes nothing returns nothing
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,H5V,false,true)
endfunction
function LSA takes nothing returns nothing
set B1E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B1E,H4V)
call TriggerAddAction(B1E,function LQA)
endfunction
function LTA takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function LUA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function LWA takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function LYA takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function LZA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function L_A takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function L0A takes nothing returns boolean
return(GetSpellAbilityId()=='A1FD')
endfunction
function L1A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=2600000.)
endfunction
function L2A takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n042')and(H0V<=5)
endfunction
function L3A takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=1200000.)
endfunction
function L4A takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n040')and(H0V<=1)
endfunction
function L5A takes nothing returns boolean
return(GetSpellAbilityId()=='A1GI')
endfunction
function L6A takes nothing returns boolean
return(GetSpellAbilityId()=='A1GH')
endfunction
function L7A takes nothing returns boolean
return(GetSpellAbilityId()=='A1GK')
endfunction
function L8A takes nothing returns boolean
return(GetSpellAbilityId()=='A1GN')
endfunction
function L9A takes nothing returns nothing
if(L0A())then
if(LWA())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03Y',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(32.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
if(LUA())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03Z',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(32.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
if(LTA())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(26.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03W',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(32.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endif
endif
if(L_A())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03Y',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(17.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
if(LZA())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03Z',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(17.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
if(LYA())then
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03X',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(17.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
else
set XVV=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),GetRandomReal(200.,500.),GetRandomReal(200.,500.))
call CreateNUnitsAtLoc(1,'n03W',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(17.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
endif
endif
endif
endif
if(L2A())then
if(L1A())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+I2R(FN[17])))
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.23,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1GC',GetLastCreatedUnit())
set H0V=(H0V+1)
call RemoveLocation(XVV)
endif
endif
if(L4A())then
if(L3A())then
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+I2R(FN[16])))
call CreateTextTagLocBJ("Giga Heal!",GetUnitLoc(HMV),10.,15.,100.,100.,2.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set H0V=(H0V+1)
endif
endif
if(L5A())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+12000.))
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),false,true)
endif
if(L6A())then
set H5V=GetTriggerUnit()
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetTriggerUnit(),false,true)
call StartTimerBJ(H4V,false,1.)
endif
if(L7A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*2.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(R2S((GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*2.)),GetSpellTargetLoc(),10.,15.,3.,3.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(L8A())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+22000.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+22000.))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
endif
endfunction
function MVA takes nothing returns nothing
set B2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(B2E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(B2E,function L9A)
endfunction
function MEA takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function MXA takes nothing returns boolean
return(FEV>8)
endfunction
function MOA takes nothing returns boolean
return(FEV>1)
endfunction
function MRA takes nothing returns boolean
return(FEV<18)
endfunction
function MIA takes nothing returns nothing
set FEV=(FEV+1)
set XVV=GetRectCenter(MUV)
call CreateNUnitsAtLoc(1,'n03R',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
if(MOA())then
call SetPlayerTechResearchedSwap('R02M',(FEV-1),Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetUnitScalePercent(GetLastCreatedUnit(),I2R((270+(FEV*$B))),I2R((270+(FEV*$B))),I2R((270+(FEV*$B))))
if(MXA())then
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100.,I2R(('d'-(FEV*6))),I2R(('d'-(FEV*6))),0)
else
call SetUnitVertexColorBJ(GetLastCreatedUnit(),I2R(('d'-($B*FEV))),100.,I2R(('d'-(FEV*$B))),0)
endif
else
call EnumDestructablesInRectAll(MWV,function MEA)
endif
if(MRA())then
call SetUnitAbilityLevelSwapped('A0BH',GetLastCreatedUnit(),(FEV-2))
call SetUnitAbilityLevelSwapped('A0BG',GetLastCreatedUnit(),(FEV-2))
call SetUnitAbilityLevelSwapped('A0BF',GetLastCreatedUnit(),(FEV-2))
else
call SetUnitAbilityLevelSwapped('A0BH',GetLastCreatedUnit(),16)
call SetUnitAbilityLevelSwapped('A0BG',GetLastCreatedUnit(),16)
call SetUnitAbilityLevelSwapped('A0BF',GetLastCreatedUnit(),16)
endif
endfunction
function MAA takes nothing returns nothing
set B3E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B3E,FVV)
call TriggerAddAction(B3E,function MIA)
endfunction
function MNA takes nothing returns nothing
call UnitRemoveBuffBJ('BPSE',RNV)
call UnitRemoveBuffBJ('BSTN',RNV)
call UnitRemoveBuffBJ('B03H',RNV)
call UnitRemoveBuffBJ('BSTN',DXV)
call UnitRemoveBuffBJ('BPSE',DXV)
call UnitRemoveBuffBJ('B03H',DXV)
call UnitRemoveBuffBJ('B00J',RNV)
call UnitRemoveBuffBJ('B00J',DXV)
call UnitRemoveBuffBJ('B02J',RNV)
call UnitRemoveBuffBJ('B02J',DXV)
call UnitRemoveBuffBJ('B014',RNV)
call UnitRemoveBuffBJ('B014',DXV)
endfunction
function MBA takes nothing returns nothing
set B4E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B4E,GZV)
call TriggerAddAction(B4E,function MNA)
endfunction
function MCA takes nothing returns nothing
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_NEGATIVE,HDV)
call SetUnitLifeBJ(HDV,(GetUnitStateSwap(UNIT_STATE_LIFE,HDV)+70000.))
call AddSpecialEffectTargetUnitBJ("origin",HDV,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(HDV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HDV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1EQ',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"frostarmor",HDV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HDV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1EP',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"rejuvination",HDV)
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(HDV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1EN',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(18.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",HDV)
call RemoveLocation(XVV)
endfunction
function MDA takes nothing returns nothing
set B5E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B5E,HCV)
call TriggerAddAction(B5E,function MCA)
endfunction
function MFA takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,HVV,bj_MODIFYMETHOD_SUB,HEV)
call SetUnitLifeBJ(HVV,(GetUnitStateSwap(UNIT_STATE_LIFE,HVV)+(I2R(HEV)*20.)))
set G9V=0
set G7V=0
set HEV=0
endfunction
function MGA takes nothing returns nothing
set B6E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(B6E,G8V)
call TriggerAddAction(B6E,function MFA)
endfunction
function MHA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A18I')and(GetUnitAbilityLevelSwapped('A0HR',GetTriggerUnit())>0)
endfunction
function MJA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A18K')and(GetUnitAbilityLevelSwapped('A0I2',GetTriggerUnit())==3)
endfunction
function MKA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1K8')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MLA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1K7')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MMA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1K6')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MPA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1K4')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MQA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1K5')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MSA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0M4')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function MTA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==1)
endfunction
function MUA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==2)
endfunction
function MWA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==3)
endfunction
function MYA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==4)
endfunction
function MZA takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0BR')
endfunction
function M_A takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0P3')
endfunction
function M0A takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0P2')
endfunction
function M1A takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1Q9')
endfunction
function M2A takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0PM')
endfunction
function M3A takes nothing returns nothing
if(MHA())then
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))+(GetUnitAbilityLevelSwapped('A0HR',GetTriggerUnit())+2)),GetOwningPlayer(GetTriggerUnit()))
endif
if(MJA())then
call UnitRemoveAbilityBJ('A1DA',GetTriggerUnit())
call UnitAddAbilityBJ('A1DD',GetTriggerUnit())
endif
if(MKA())then
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3)
endif
if(MLA())then
call SetPlayerTechResearchedSwap('R03N',(GetPlayerTechCountSimple('R03N',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(MMA())then
call SetPlayerTechResearchedSwap('R03M',(GetPlayerTechCountSimple('R03M',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(MPA())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
set JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
call SetPlayerTechResearchedSwap('R03L',(GetPlayerTechCountSimple('R03L',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(MQA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+30))
endif
if(MSA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
if(MZA())then
if(MTA())then
endif
if(MUA())then
endif
if(MWA())then
endif
if(MYA())then
endif
endif
if(M_A())then
call UnitAddAbilityBJ('A1Q7',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1Q7',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0P3',GetTriggerUnit()))
endif
if(M0A())then
call UnitAddAbilityBJ('A1Q8',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1Q8',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0P2',GetTriggerUnit()))
endif
if(M1A())then
call UnitAddAbilityBJ('A1QR',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1QR',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1Q9',GetTriggerUnit()))
endif
if(M2A())then
call UnitAddAbilityBJ('A1S1',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1S1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0PM',GetTriggerUnit()))
endif
endfunction
function M4A takes nothing returns nothing
set B7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(B7E,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(B7E,function M3A)
endfunction
function M5A takes nothing returns nothing
if GetPlayerHandicapXPBJ(GetOwningPlayer(LF))!='d' and GetPlayerHandicapXPBJ(GetOwningPlayer(LF))!=$C8 and(GF-HF)>0then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(LF)),"|CFF00FFFFBonus XP:|r "+I2S(GF-HF)+"
|cff7777aaTotal XP Gained:|r  "+I2S(GF))
endif
set LF=null
set GF=0
set HF=0
endfunction
function M6A takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function M7A takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='ninf')
endfunction
function M8A takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='nfor')
endfunction
function M9A takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PVA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function PEA takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PXA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function POA takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function PRA takes nothing returns boolean
return(GetRandomInt(1,5)==1)
endfunction
function Trig_TPAWFS_Func003Func004C takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function PIA takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='noga')
endfunction
function PAA takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function PNA takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03M')
endfunction
function PBA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function PCA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function PDA takes nothing returns boolean
return GetBooleanAnd(PBA(),PCA())
endfunction
function PFA takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(FKV>=2)and(CountUnitsInGroup(GetUnitsInRectMatching(MSV,Condition(function PDA)))<1))!=null
endfunction
function PGA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function PHA takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function PJA takes nothing returns boolean
return GetBooleanAnd(PGA(),PHA())
endfunction
function PKA takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function PJA)))<1))!=null
endfunction
function PLA takes nothing returns boolean
return(UnitHasBuffBJ(GetKillingUnitBJ(),'B02Y'))
endfunction
function PMA takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n00U')
endfunction
function PPA takes nothing returns boolean
return(GetRandomInt(1,46)<FEV)
endfunction
function PQA takes nothing returns boolean
return(GetRandomInt(1,48)<FEV)
endfunction
function PSA takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function PTA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function PUA takes nothing returns boolean
return(GetRandomInt(1,28)<FEV)
endfunction
function PWA takes nothing returns boolean
return(GetRandomInt(1,30)<FEV)
endfunction
function PYA takes nothing returns boolean
return(GetRandomInt(1,32)<FEV)
endfunction
function PZA takes nothing returns boolean
return(GetRandomInt(1,61)<FEV)
endfunction
function P_A takes nothing returns boolean
return(GetRandomInt(1,35)<FEV)
endfunction
function P0A takes nothing returns boolean
return(GetRandomInt(1,36)<FEV)
endfunction
function P1A takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function P2A takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function P3A takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function P4A takes nothing returns boolean
return(FEV>8)
endfunction
function P5A takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function P6A takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($7D0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($FA0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function P7A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function P8A takes nothing returns nothing
call AddHeroXPSwapped(R2I($D*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($D*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$514
endif
if JBV then
set HF=$A28
endif
call ExecuteFunc("M5A")
endfunction
function P9A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00U')
endfunction
function QVA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function QEA takes nothing returns boolean
return(GetBooleanOr(P9A(),QVA()))and(FRV==2)
endfunction
function QXA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0FS'))
endfunction
function QOA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($BB8,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ(6000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function QRA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function QIA takes nothing returns nothing
call AddHeroXPSwapped(R2I(25*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(25*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$9C4
endif
if JBV then
set HF=5000
endif
call ExecuteFunc("M5A")
endfunction
function QAA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nskg')and(FRV==3)
endfunction
function QNA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsqe')
endfunction
function QBA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function QCA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(5000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($2710,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function QDA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function QFA takes nothing returns nothing
call AddHeroXPSwapped(R2I(47*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(47*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=4700
endif
if JBV then
set HF=9400
endif
call ExecuteFunc("M5A")
endfunction
function QGA takes nothing returns boolean
return(GetBooleanOr(QNA(),QBA()))and(FRV==4)
endfunction
function QHA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nnsu')
endfunction
function QJA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n036')
endfunction
function QKA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(8000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($3E80,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function QLA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function QMA takes nothing returns nothing
call AddHeroXPSwapped(R2I(420*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(420*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$A410
endif
if JBV then
set HF=84000
endif
call ExecuteFunc("M5A")
endfunction
function QPA takes nothing returns boolean
return(GetBooleanOr(QHA(),QJA()))and(FRV==5)
endfunction
function QQA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nerw')
endfunction
function QSA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ufro')
endfunction
function QTA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($32C8,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($6590,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function QUA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function QWA takes nothing returns nothing
call AddHeroXPSwapped(R2I($82*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($82*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$32C8
endif
if JBV then
set HF=$6590
endif
call ExecuteFunc("M5A")
endfunction
function QYA takes nothing returns boolean
return(GetBooleanOr(QQA(),QSA()))and(FRV==6)
endfunction
function QZA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($C350,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($186A0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function Q_A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Q0A takes nothing returns nothing
call AddHeroXPSwapped(R2I($BE*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($BE*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$4A38
endif
if JBV then
set HF=$9470
endif
call ExecuteFunc("M5A")
endfunction
function Q1A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uktg')and(FRV==7)
endfunction
function Q2A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03C')
endfunction
function Q3A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsll')
endfunction
function Q4A takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($7530,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($EA60,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function Q5A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Q6A takes nothing returns nothing
call AddHeroXPSwapped(R2I(340*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(340*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$84D0
endif
if JBV then
set HF=68000
endif
call ExecuteFunc("M5A")
endfunction
function Q7A takes nothing returns boolean
return(GetBooleanOr(Q2A(),Q3A()))and(FRV==8)
endfunction
function Q8A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03M')
endfunction
function Q9A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n038')
endfunction
function SVA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($BB80,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ(96000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function SEA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function SXA takes nothing returns nothing
call AddHeroXPSwapped(R2I(540*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(540*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$D2F0
endif
if JBV then
set HF=$1A5E0
endif
call ExecuteFunc("M5A")
endfunction
function SOA takes nothing returns boolean
return(GetBooleanOr(Q8A(),Q9A()))and(FRV==9)
endfunction
function SRA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00R')
endfunction
function SIA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n039')
endfunction
function SAA takes nothing returns boolean
return GetBooleanOr(SRA(),SIA())
endfunction
function SNA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03D')
endfunction
function SBA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($EA60,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($1D4C0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function SCA takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function SDA takes nothing returns nothing
call AddHeroXPSwapped(R2I(900*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(900*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=90000
endif
if JBV then
set HF=$2BF20
endif
call ExecuteFunc("M5A")
endfunction
function SFA takes nothing returns boolean
return(GetBooleanOr(SAA(),SNA()))and(FRV==$A)
endfunction
function SGA takes nothing returns nothing
local integer SHA
local integer SJA
if(M7A())then
set B_V=$E
if JBV==false then
call StartTimerBJ(BZV,false,310.)
endif
if JBV then
call StartTimerBJ(BZV,false,155.)
endif
if(M6A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EW',XVV)
call CreateItemLoc('I0CX',XVV)
call CreateItemLoc('I0CS',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DF',XVV)
call CreateItemLoc('I0E2',XVV)
call CreateItemLoc('I0HO',XVV)
call CreateItemLoc('I0CS',XVV)
call RemoveLocation(XVV)
endif
endif
if(M8A())then
set XVV=GetRectCenter(MHV)
call CreateNUnitsAtLoc(1,'noga',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_YELLOW)
call RemoveLocation(XVV)
endif
if(PIA())then
if(PEA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
else
if(PVA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call RemoveLocation(XVV)
else
if(M9A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DQ',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(PRA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G3',XVV)
call RemoveLocation(XVV)
else
if(POA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
else
if(PXA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G1',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G0',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(PRA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0LI',XVV)
call RemoveLocation(XVV)
endif
endif
if(PAA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FT',XVV)
call CreateItemLoc('I0DG',XVV)
call RemoveLocation(XVV)
endif
if(PNA())then
set B_V=$D
if JBV==false then
call StartTimerBJ(BZV,false,240.)
endif
if JBV then
call StartTimerBJ(BZV,false,120.)
endif
endif
if(PFA())then
set FKV=1
set XVV=GetRectCenter(L_V)
call SetUnitPositionLoc(OMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(OMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,OMV))
endif
if(PKA())then
set XVV=GetRectCenter(M2V)
call SetUnitPositionLoc(HMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HMV))
endif
if(PLA())then
call SetPlayerTechResearchedSwap('R01G',(GetPlayerTechCountSimple('R01G',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
endif
if(PMA())then
if JBV==false then
call StartTimerBJ(FVV,false,160.)
endif
if JBV then
call StartTimerBJ(FVV,false,80.)
endif
endif
if(P5A())then
if JBV==false then
call StartTimerBJ(FVV,false,110.)
endif
if JBV then
call StartTimerBJ(FVV,false,55.)
endif
call DisplayTextToForce(GetPlayersAll(),("|CFF20C000Gaias Form "+I2S((FEV+0))))
if(PQA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I047',XVV)
call CreateItemLoc('I0G3',XVV)
call RemoveLocation(XVV)
else
if(PPA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I07B',XVV)
call CreateItemLoc('I0G1',XVV)
call RemoveLocation(XVV)
endif
endif
if(PTA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D0',XVV)
call CreateItemLoc('I0CJ',XVV)
call RemoveLocation(XVV)
else
if(PSA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CK',XVV)
call CreateItemLoc('I03X',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CU',XVV)
call CreateItemLoc('I0CP',XVV)
call RemoveLocation(XVV)
endif
endif
if(PYA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FA',XVV)
call RemoveLocation(XVV)
else
if(PWA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FB',XVV)
call RemoveLocation(XVV)
else
if(PUA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FC',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(P0A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D1',XVV)
call RemoveLocation(XVV)
else
if(P_A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02O',XVV)
call RemoveLocation(XVV)
else
if(PZA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FE',XVV)
call RemoveLocation(XVV)
endif
endif
endif
if(P4A())then
if(P3A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call CreateItemLoc('I0G0',XVV)
call RemoveLocation(XVV)
else
if(P2A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call CreateItemLoc('I0G1',XVV)
call RemoveLocation(XVV)
else
if(P1A())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
if(QEA())then
set FRV=1
if JBV==false then
set SHA=$7D0
set SJA=$514
endif
if JBV then
set SHA=$FA0
set SJA=$A28
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|cffffcc00Legendary Armor|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function P6A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function P7A)),function P8A)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I02E',XVV)
call RemoveLocation(XVV)
endif
if(QXA())then
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25)))
endif
if(QAA())then
if JBV==false then
set SHA=$BB8
set SJA=$9C4
endif
if JBV then
set SHA=6000
set SJA=5000
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|cff7777aaFinal Weapon|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function QOA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function QRA)),function QIA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I02O',XVV)
call RemoveLocation(XVV)
endif
if(QGA())then
set FRV=1
if JBV==false then
set SHA=5000
set SJA=4700
endif
if JBV then
set SHA=$2710
set SJA=9400
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|cffffcc00Cross|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function QCA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function QDA)),function QFA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0FP',XVV)
call RemoveLocation(XVV)
endif
if(QPA())then
set FRV=1
if JBV==false then
set SHA=8000
set SJA=$A410
endif
if JBV then
set SHA=$3E80
set SJA=84000
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|cff7777aaZeral Amulet|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function QKA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function QLA)),function QMA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0EV',XVV)
call RemoveLocation(XVV)
endif
if(QYA())then
set FRV=1
if JBV==false then
set SHA=$32C8
set SJA=$32C8
endif
if JBV then
set SHA=$6590
set SJA=$6590
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|CFF00FFFFJustice|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function QTA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function QUA)),function QWA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0FS',XVV)
call RemoveLocation(XVV)
endif
if(Q1A())then
set FRV=1
if JBV==false then
set SHA=$C350
set SJA=$4A38
endif
if JBV then
set SHA=$186A0
set SJA=$9470
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|CFF00FFFFHeracles|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function QZA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Q_A)),function Q0A)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
endif
if(Q7A())then
set FRV=1
if JBV==false then
set SHA=$7530
set SJA=$84D0
endif
if JBV then
set SHA=$EA60
set SJA=68000
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|CFF00FFFFZhulong|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function Q4A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Q5A)),function Q6A)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0E0',XVV)
call RemoveLocation(XVV)
endif
if(SOA())then
set FRV=1
if JBV==false then
set SHA=$BB80
set SJA=$D2F0
endif
if JBV then
set SHA=96000
set SJA=$1A5E0
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|CFF00FFFFHearth of Devil|r
|CFF00FFFFHeracles|r
|c00000000Death Scythe|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function SVA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function SEA)),function SXA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0CX',XVV)
call CreateItemLoc('I0C7',XVV)
call CreateItemLoc('I02N',XVV)
call RemoveLocation(XVV)
endif
if(SFA())then
set FRV=1
if JBV==false then
set SHA=$EA60
set SJA=90000
endif
if JBV then
set SHA=$1D4C0
set SJA=$2BF20
endif
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Mission Complete:|r

|cffffcc00+"+I2S(SHA)+" Gold to all|r
|cff7777aa+"+I2S(SJA)+" XP to all|r
|c00000000End Bringer|r
")
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function SBA)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function SCA)),function SDA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0FT',XVV)
call RemoveLocation(XVV)
endif
endfunction
function SKA takes nothing returns nothing
set B8E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(B8E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(B8E,function SGA)
endfunction
function SLA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H072')
endfunction
function SMA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H073')
endfunction
function SPA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H074')
endfunction
function SQA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H075')
endfunction
function SSA takes nothing returns boolean
return(GetBooleanOr(SLA(),SMA()))
endfunction
function STA takes nothing returns boolean
return(GetBooleanOr(SPA(),SQA()))
endfunction
function SUA takes nothing returns boolean
return(GetBooleanOr(SSA(),STA()))
endfunction
function SWA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GM'))
endfunction
function SYA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GN'))
endfunction
function SZA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GO'))
endfunction
function S_A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GP'))
endfunction
function S0A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GQ'))
endfunction
function S1A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GR'))
endfunction
function S2A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GS'))
endfunction
function S3A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GT'))
endfunction
function S4A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function S5A takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>40)
endfunction
function S6A takes nothing returns nothing
local integer S7A
if(SUA())then
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if(SWA())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+'x')
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'x'
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+120 Extra Hit Points.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(SYA())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+$F0)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+$F0
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+240 Extra Hit Points.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(SZA())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+840)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+840
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+840 Extra Hit Points.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S_A())then
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+13 Extra Base Damage.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S0A())then
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+26 Extra Base Damage.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S1A())then
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+4),GetOwningPlayer(GetTriggerUnit()))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+52 Extra Base Damage.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S2A())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,6)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+6 Extra Base Intelligence.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S3A())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,20)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+20 Extra Base Intelligence.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S4A())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,35)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+35 Extra Base Intelligence.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(S5A())then
set S7A=GetRandomInt(5,20)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,S7A)
set S7A=0
set S7A=GetRandomInt(5,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,S7A)
set S7A=0
set S7A=GetRandomInt(5,20)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,S7A)
set S7A=0
endif
endfunction
function S8A takes nothing returns nothing
set B9E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(B9E,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddAction(B9E,function S6A)
endfunction
function S9A takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISL32")
endfunction
function TVA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISF26")
endfunction
function TEA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MIST45")
endfunction
function TXA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISG73")
endfunction
function TOA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISD19")
endfunction
function TRA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISH56")
endfunction
function TIA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISJ94")
endfunction
function TAA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISR88")
endfunction
function TNA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISC10")
endfunction
function TBA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISV213")
endfunction
function TCA takes nothing returns boolean
return(GetEventPlayerChatString()=="-MISZ564")
endfunction
function TDA takes nothing returns nothing
if(S9A())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Gaia or Revenant to get the reward.")
set FRV=2
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TVA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Nighmare to get the reward.")
set FRV=3
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TEA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Typhos or Ancient Green Dragon.")
set FRV=4
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TXA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Ligeia or Vrykolaklaus.")
set FRV=5
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TOA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Azazel or Apocalypse.")
set FRV=6
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TRA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill kel'thuzad.")
set FRV=7
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TIA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Byatis or The Salamander.")
set FRV=8
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TAA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Black Knight or Agiel.")
set FRV=9
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TNA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Mission has been selected:|r Find and kill Lord of Darkness or Omega or Hades.")
set FRV=$A
call DestroyTrigger(GetTriggeringTrigger())
endif
if(TBA())then
set FRV=$B
endif
if(TCA())then
set FRV=$C
endif
endfunction
function TFA takes nothing returns nothing
set CVE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(CVE,Player(2),"-MIS",false)
call TriggerAddAction(CVE,function TDA)
endfunction
function TGA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nwzd')
endfunction
function THA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n043')
endfunction
function TJA takes nothing returns boolean
return(GetBooleanOr(TGA(),THA()))and(FIV==2)
endfunction
function TKA takes nothing returns nothing
if(TJA())then
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00Kill Dark Wizard or Black Dragon Hatchling Bounty has been Completed:|r
|CFF00FFFF+1 Skillpoint to all|r
")
call PlaySoundBJ(P5V)
set FIV=0
set NG=null
if GetUnitTypeId(JZV[3])!='H07L' and GetUnitTypeId(JZV[3])!='H07M' then
call ModifyHeroSkillPoints(JZV[3],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[3]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[3]))]+1
endif
if GetUnitTypeId(JZV[4])!='H07L' and GetUnitTypeId(JZV[4])!='H07M' then
call ModifyHeroSkillPoints(JZV[4],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[4]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[4]))]+1
endif
if GetUnitTypeId(JZV[5])!='H07L' and GetUnitTypeId(JZV[5])!='H07M' then
call ModifyHeroSkillPoints(JZV[5],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[5]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[5]))]+1
endif
if GetUnitTypeId(JZV[6])!='H07L' and GetUnitTypeId(JZV[6])!='H07M' then
call ModifyHeroSkillPoints(JZV[6],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[6]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[6]))]+1
endif
if GetUnitTypeId(JZV[7])!='H07L' and GetUnitTypeId(JZV[7])!='H07M' then
call ModifyHeroSkillPoints(JZV[7],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[7]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[7]))]+1
endif
if GetUnitTypeId(JZV[8])!='H07L' and GetUnitTypeId(JZV[8])!='H07M' then
call ModifyHeroSkillPoints(JZV[8],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[8]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[8]))]+1
endif
if GetUnitTypeId(JZV[9])!='H07L' and GetUnitTypeId(JZV[9])!='H07M' then
call ModifyHeroSkillPoints(JZV[9],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[9]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[9]))]+1
endif
if GetUnitTypeId(JZV[$A])!='H07L' and GetUnitTypeId(JZV[$A])!='H07M' then
call ModifyHeroSkillPoints(JZV[$A],bj_MODIFYMETHOD_ADD,1)
else
set JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[$A]))]=JWV[GetConvertedPlayerId(GetOwningPlayer(JZV[$A]))]+1
endif
call RemoveItemFromStock(A1,'I0IU')
set QG[1]=0
call AddItemToStock(A1,'I0JZ',1,1)
set QG[$A]=1
set RD=true
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function TLA takes nothing returns nothing
set NME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NME,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NME,function TKA)
endfunction
function TMA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nowb')
endfunction
function TPA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function TQA takes nothing returns boolean
return(GetBooleanOr(TMA(),TPA()))and(FIV==3)
endfunction
function TSA takes nothing returns nothing
if(TQA())then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Wildking or Revenant Bounty has been Completed:|r
|cffffcc00Veteran Armor|r
|cffffcc00Eternal Ledger|r
")
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I03X',XVV)
call CreateItemLoc('I0EZ',XVV)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0IV')
set QG[6]=0
call AddItemToStock(A1,'I0L6',1,1)
set QG[$B]=1
call RemoveLocation(XVV)
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function TTA takes nothing returns nothing
set NPE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NPE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NPE,function TSA)
endfunction
function TUA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlkl')
endfunction
function TWA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmdr')
endfunction
function TYA takes nothing returns boolean
return(GetBooleanOr(TUA(),TWA()))and(FIV==4)
endfunction
function TZA takes nothing returns nothing
if(TYA())then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Makrura Tidal Lord or Dire Mammoth Bounty has been Completed:|r
unlocked repeatable kill Spiders bounty")
call PlaySoundBJ(P5V)
call QVE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,JZV[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])+$4B0)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+$4B0
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0IW')
set QG[0]=0
call AddItemToStock(A1,'I0JX',1,1)
set QG[$C]=1
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function T_A takes nothing returns nothing
set NQE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NQE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NQE,function TZA)
endfunction
function T0A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function T1A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nmbg')
endfunction
function T2A takes nothing returns boolean
return(GetBooleanOr(T0A(),T1A()))and(FIV==5)
endfunction
function T3A takes nothing returns nothing
if(T2A())then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Gaia Awakening or Murloc Overlord Bounty has been Completed:|r
+9000 Hitpoints, +300 damage to all attacking Mercenaries.
Improved Slam on War Golem + Improved Endurance Aura on Centaur Overlord")
call PlaySoundBJ(P5V)
call SetPlayerTechResearchedSwap('R05J',1,Player(2))
call SetPlayerTechResearchedSwap('R05J',1,Player(3))
call SetPlayerTechResearchedSwap('R05J',1,Player(4))
call SetPlayerTechResearchedSwap('R05J',1,Player(5))
call SetPlayerTechResearchedSwap('R05J',1,Player(6))
call SetPlayerTechResearchedSwap('R05J',1,Player(7))
call SetPlayerTechResearchedSwap('R05J',1,Player(8))
call SetPlayerTechResearchedSwap('R05J',1,Player(9))
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0IY')
set QG[2]=0
call AddItemToStock(A1,'I0K2',1,1)
set QG[$D]=1
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function T4A takes nothing returns nothing
set NSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NSE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NSE,function T3A)
endfunction
function T5A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')
endfunction
function T6A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='odkt')
endfunction
function T7A takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function T8A takes nothing returns nothing
call AddHeroXPSwapped(R2I(50*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set GF=(R2I(50*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))))
if JBV==false then
set HF=5000
endif
if JBV then
set HF=$2710
endif
call ExecuteFunc("M5A")
endfunction
function T9A takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($9C4,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ(5000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function UVA takes nothing returns boolean
return(GetBooleanOr(T5A(),T6A()))and(FIV==6)
endfunction
function UEA takes nothing returns nothing
local unit u
if(UVA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Pyromancer Bounty has been Completed:|r
|cffffcc00+2500 Gold to all|r and +5000 Experience to all")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Pyromancer Bounty has been Completed:|r
|cffffcc00+5000 Gold to all|r and +10000 Experience to all")
endif
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function T9A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function T7A)),function T8A)
call PingMinimapForPlayer(GetOwningPlayer(GetKillingUnit()),-1583.,4635.,6)
set u=CreateUnit(GetOwningPlayer(GetKillingUnit()),'n01L',-1583.,4635.,0)
call UnitAddAbilityBJ('A0CK',u)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0IZ')
set QG[4]=0
call AddItemToStock(A1,'I0K1',1,1)
set QG[9]=1
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
set u=null
endif
endfunction
function UXA takes nothing returns nothing
set NTE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NTE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NTE,function UEA)
endfunction
function UOA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n036')
endfunction
function URA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n036')
endfunction
function UIA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(7500,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($3A98,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function UAA takes nothing returns boolean
return(GetBooleanOr(UOA(),URA()))and(FIV==7)
endfunction
function UNA takes nothing returns nothing
local unit u
if(UAA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Vrykolaklaus Bounty has been Completed:|r
|cffffcc00+7500 Gold to all|r
|CFF0042FFMithril Glaive|r
|CFF00FFFFImproved Vrykolaklaus Ghoul|r")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Vrykolaklaus Bounty has been Completed:|r
|cffffcc00+15000 Gold to all|r
|CFF0042FFMithril Glaive|r
|CFF00FFFFImproved Vrykolaklaus Ghoul|r")
endif
call PlaySoundBJ(P5V)
call PingMinimapForPlayer(GetOwningPlayer(GetKillingUnit()),-1583.,4635.,6)
call ForForce(GetPlayersAllies(Player(0)),function UIA)
set u=CreateUnit(GetOwningPlayer(GetKillingUnit()),'u00W',-1583.,4635.,0)
call UnitAddAbilityBJ('A0CK',u)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0J0')
set QG[7]=0
call AddItemToStock(A1,'I0LK',1,1)
set QG[$E]=1
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
set u=null
endif
endfunction
function UBA takes nothing returns nothing
set NUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NUE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NUE,function UNA)
endfunction
function UCA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uktg')
endfunction
function UDA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='uktg')
endfunction
function UFA takes nothing returns boolean
return(GetBooleanOr(UCA(),UDA()))and(FIV==8)
endfunction
function UGA takes nothing returns nothing
if(UFA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Kel'Thuzad Bounty has been Completed:|r
|cffffcc00+50000 Gold to the killer|r
|c00000000The Pulsar|r")
call AdjustPlayerStateBJ($C350,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Kel'Thuzad Bounty has been Completed:|r
|cffffcc00+100000 Gold to the killer|r
|c00000000The Pulsar|r")
call AdjustPlayerStateBJ($186A0,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0HY',XVV)
call RemoveLocation(XVV)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0J1')
set QG[3]=0
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function UHA takes nothing returns nothing
set NWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NWE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NWE,function UGA)
endfunction
function UJA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04E')
endfunction
function UKA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04E')
endfunction
function ULA takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($4E20,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($9C40,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function UMA takes nothing returns boolean
return(GetBooleanOr(UJA(),UKA()))and(FIV==9)
endfunction
function UPA takes nothing returns nothing
if(UMA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Ninja Bounty has been Completed:|r
|cffffcc00+20000 Gold to all|r
+150 to all stats (item)
|c00000000Riddle of Onyx|r")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill Ninja Bounty has been Completed:|r
|cffffcc00+40000 Gold to all|r
+150 to all stats (item)
|c00000000Riddle of Onyx|r")
endif
call PlaySoundBJ(P5V)
call ForForce(GetPlayersAllies(Player(0)),function ULA)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0IO',XVV)
call CreateItemLoc('I0J3',XVV)
call RemoveLocation(XVV)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0J2')
set QG[5]=0
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function UQA takes nothing returns nothing
set NYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NYE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NYE,function UPA)
endfunction
function USA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nspr')
endfunction
function UTA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nssp')
endfunction
function UUA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgt')
endfunction
function UWA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsbm')
endfunction
function UYA takes nothing returns boolean
return GetBooleanOr(UTA(),UUA())
endfunction
function UZA takes nothing returns boolean
return GetBooleanOr(USA(),UWA())
endfunction
function U_A takes nothing returns boolean
return(GetBooleanOr(UYA(),UZA()))and(FAV==1)
endfunction
function U0A takes nothing returns boolean
return(MD>=50+(JD*$D))
endfunction
function U1A takes nothing returns nothing
if(U_A())then
set MD=MD+1
endif
if(U0A())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(50+(JD*$D))+" Spiders Bounty has been Completed:|r
|cffffcc00+"+I2S($BB8+(JD*$FA))+" Gold and +"+I2S($5DC+(JD*$96))+" Experience to completer|r
")
call AdjustPlayerStateBJ($BB8+(JD*$FA),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=(R2I($5DC+(JD*$96)))
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(50+(JD*$D))+" Spiders Bounty has been Completed:|r
|cffffcc00+"+I2S(6000+(JD*500))+" Gold and +"+I2S($BB8+(JD*300))+" Experience to completer|r
")
call AdjustPlayerStateBJ(6000+(JD*500),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=(R2I($BB8+(JD*300)))
endif
call AddHeroXPSwapped(R2I(($F+(JD*1.5))*(GetPlayerHandicapXPBJ(GetOwningPlayer(GetKillingUnitBJ())))),JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)
set LF=GetKillingUnitBJ()
set GF=(R2I(($F+(JD*1.5))*(GetPlayerHandicapXPBJ(GetOwningPlayer(LF)))))
call ExecuteFunc("M5A")
call PlaySoundBJ(P5V)
set FAV=0
set BG=null
set JD=JD+1
set MD=0
call ExecuteFunc("WSR")
endif
endfunction
function U2A takes nothing returns nothing
set NZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NZE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(NZE,function U1A)
endfunction
function U3A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngrk')
endfunction
function U4A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ngst')
endfunction
function U5A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nggr')
endfunction
function U6A takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function U7A takes nothing returns boolean
return GetBooleanOr(U4A(),U5A())
endfunction
function U8A takes nothing returns boolean
return GetBooleanOr(U3A(),U7A())
endfunction
function U9A takes nothing returns boolean
return(GetBooleanAnd(U8A(),U6A()))and(FAV==2)
endfunction
function WVA takes nothing returns boolean
return(PD>=17+(QD*9))
endfunction
function WEA takes nothing returns nothing
if(U9A())then
set PD=PD+1
endif
if(WVA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(17+(QD*9))+" Golems Bounty has been Completed:|r
|cffffcc00+"+I2S(5000+(QD*$FA))+" Gold + +"+I2S($ABE+(QD*'d'))+" Experience and a Stone Token to completer|r
")
call AdjustPlayerStateBJ(5000+(QD*$FA),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=(R2I($ABE+(QD*'d')))
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(17+(QD*9))+" Golems Bounty has been Completed:|r
|cffffcc00+"+I2S($2710+(QD*500))+" Gold + +"+I2S(5500+(QD*$C8))+" Experience and a Stone Token to completer|r
")
call AdjustPlayerStateBJ($2710+(QD*500),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=(R2I(5500+(QD*$C8)))
endif
call AddHeroXPSwapped(R2I((27.5+(QD*1))*(GetPlayerHandicapXPBJ(GetOwningPlayer(GetKillingUnitBJ())))),JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)
set LF=GetKillingUnitBJ()
set GF=(R2I((27.5+(QD*1))*(GetPlayerHandicapXPBJ(GetOwningPlayer(LF)))))
call ExecuteFunc("M5A")
call PlaySoundBJ(P5V)
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0K0',XVV)
call RemoveLocation(XVV)
set FAV=0
set BG=null
set QD=QD+1
set PD=0
call ExecuteFunc("WSR")
endif
endfunction
function WXA takes nothing returns nothing
set N_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N_E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N_E,function WEA)
endfunction
function WOA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function WRA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function WIA takes nothing returns boolean
return(GetBooleanOr(WOA(),WRA()))and(FAV==3)
endfunction
function WAA takes nothing returns boolean
return(UD>=2+(ZD*2))
endfunction
function WNA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function WBA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function WCA takes nothing returns boolean
return(GetBooleanOr(WNA(),WBA()))and(FIV==$A)
endfunction
function WDA takes nothing returns boolean
return(WD>=3)and(IQ[7]!=1)
endfunction
function WFA takes nothing returns boolean
return(WD>=3)and(IQ[7]!=0)
endfunction
function WGA takes nothing returns boolean
return(ZD==3)and(IQ[$A]!=1)
endfunction
function WHA takes nothing returns boolean
return(ZD==3)and(IQ[$A]!=0)
endfunction
function WJA takes nothing returns nothing
if(WIA())then
set UD=UD+1
endif
if(WAA())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(2+(ZD*2))+" Revenants Bounty has been Completed:|r
|cffffcc00+"+I2S(7250+(ZD*$7D0))+" Gold and +"+I2S($2710+(ZD*500))+" Experience to completer|r
Ankh of Reincarnation")
call AdjustPlayerStateBJ(7250+(ZD*$7D0),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=($2710+(ZD*500))
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(2+(ZD*2))+" Revenants Bounty has been Completed:|r
|cffffcc00+"+I2S($38A4+(ZD*$FA0))+" Gold and +"+I2S($4E20+(ZD*$3E8))+" Experience to completer|r
Ankh of Reincarnation")
call AdjustPlayerStateBJ(7250+(ZD*$7D0),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=($4E20+(ZD*$3E8))
endif
call AddHeroXPSwapped(('d'+(ZD*5))*(R2I(GetPlayerHandicapXPBJ(GetOwningPlayer(GetKillingUnitBJ())))),JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)
set LF=GetKillingUnitBJ()
set GF=('d'+(ZD*5))*(R2I(GetPlayerHandicapXPBJ(GetOwningPlayer(GetKillingUnitBJ()))))
call ExecuteFunc("M5A")
call PlaySoundBJ(P5V)
call UnitAddItemByIdSwapped('ankh',GetKillingUnitBJ())
set FAV=0
set BG=null
set ZD=ZD+1
set UD=0
if(WGA())then
set IQ[$A]=1
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0JD',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"Shield of Revenant dropped")
call ExecuteFunc("WSR")
endif
if(WHA())then
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I06E',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"Boots of Quel'Thalas dropped")
call ExecuteFunc("WSR")
endif
endif
if(WCA())then
set WD=WD+1
call DisplayTextToForce(GetPlayersAll(),"Gaia Awakening's killed: "+I2S(WD)+"/3")
endif
if(WDA())then
set IQ[7]=1
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0JC',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill 3 Gaia Awakening Bounty has been Completed:|r
Claws of Gaia dropped")
set FIV=0
set WD=0
set NG=null
call RemoveItemFromStock(A1,'I0K2')
set QG[$D]=0
call ExecuteFunc("WSR")
endif
if(WFA())then
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0FF',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill 3 Gaia Awakening Bounty has been Completed:|r
|cffff0000Red Deity|r")
set FIV=0
set WD=0
set NG=null
call RemoveItemFromStock(A1,'I0K2')
set QG[$D]=0
call ExecuteFunc("WSR")
endif
endfunction
function WKA takes nothing returns nothing
set N0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N0E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N0E,function WJA)
endfunction
function WLA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04I')
endfunction
function WMA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04P')
endfunction
function WPA takes nothing returns boolean
return(GetBooleanOr(WLA(),WMA()))and(FIV==$B)
endfunction
function WQA takes nothing returns boolean
return(YD>=7)
endfunction
function WSA takes nothing returns nothing
if(WPA())then
set YD=YD+1
call DisplayTextToForce(GetPlayersAll(),"Skeletal King's and Minotaurs killed: "+I2S(YD)+"/7")
endif
if(WQA())then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill 7 Skeletal King or Minotaur Bounty has been Completed:|r
+130 to all stats to all heroes")
call PlaySoundBJ(P5V)
set FIV=0
set NG=null
set WH=1
call UnitAddAbilityBJ('A1S3',JZV[3])
call UnitAddAbilityBJ('A1S3',JZV[4])
call UnitAddAbilityBJ('A1S3',JZV[5])
call UnitAddAbilityBJ('A1S3',JZV[6])
call UnitAddAbilityBJ('A1S3',JZV[7])
call UnitAddAbilityBJ('A1S3',JZV[8])
call UnitAddAbilityBJ('A1S3',JZV[9])
call UnitAddAbilityBJ('A1S3',JZV[$A])
call RemoveItemFromStock(A1,'I0K3')
set QG[8]=0
call ExecuteFunc("WSR")
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function WTA takes nothing returns nothing
set N1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N1E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N1E,function WSA)
endfunction
function WUA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlpr')
endfunction
function WWA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlds')
endfunction
function WYA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlsn')
endfunction
function WZA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlkl')
endfunction
function W_A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrt')
endfunction
function W0A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntrg')
endfunction
function W1A takes nothing returns boolean
return GetBooleanOr(WUA(),WWA())
endfunction
function W2A takes nothing returns boolean
return GetBooleanOr(WYA(),WZA())
endfunction
function W3A takes nothing returns boolean
return GetBooleanOr(W1A(),W2A())
endfunction
function W4A takes nothing returns boolean
return GetBooleanOr(W3A(),W_A())
endfunction
function W5A takes nothing returns boolean
return(GetBooleanOr(W4A(),W0A()))and(FAV==4)
endfunction
function W6A takes nothing returns boolean
return(TD>=32+(SD*16))
endfunction
function W7A takes nothing returns nothing
if(W5A())then
set TD=TD+1
endif
if(W6A())then
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(32+(SD*16))+" Crabs & Murlocs Bounty has been Completed:|r
|cffffcc00+"+I2S($7D0+(SD*400))+" Gold and +"+I2S($5DC+(SD*$C8))+" Experience to completer|r")
call AdjustPlayerStateBJ($7D0+(SD*400),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=($5DC+(SD*$C8))
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill "+I2S(32+(SD*16))+" Crabs & Murlocs Bounty has been Completed:|r
|cffffcc00+"+I2S($FA0+(SD*800))+" Gold and +"+I2S($BB8+(SD*400))+" Experience to completer|r")
call AdjustPlayerStateBJ($FA0+(SD*800),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
set HF=($BB8+(SD*400))
endif
call AddHeroXPSwapped(($F+(SD*2))*(R2I(GetPlayerHandicapXPBJ(GetOwningPlayer(GetKillingUnitBJ())))),JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)
set LF=GetKillingUnitBJ()
set GF=($F+(SD*2))*(R2I(GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
call ExecuteFunc("M5A")
call PlaySoundBJ(P5V)
call DisableTrigger(GetTriggeringTrigger())
set FAV=0
set SD=SD+1
set TD=0
call ExecuteFunc("WSR")
if(SD>=3)then
call DisplayTextToForce(GetPlayersAll(),"Crab Claw")
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0L7',XVV)
call RemoveLocation(XVV)
endif
call EnableTrigger(N2E)
endif
endfunction
function W8A takes nothing returns nothing
set N2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N2E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N2E,function W7A)
endfunction
function W9A takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function YVA takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function YEA takes nothing returns boolean
return(GetBooleanOr(W9A(),YVA()))and(FIV==$C)
endfunction
function YXA takes nothing returns boolean
return(FEV>=$A)
endfunction
function YOA takes nothing returns nothing
if(YEA())then
if(YXA())then
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFKill 10th Gaia Awakening Bounty has been Completed:|r
|CFF0042FFSinister Edge|r")
call PlaySoundBJ(P5V)
set FIV=0
set NG=null
call RemoveItemFromStock(A1,'I0LK')
set QG[$E]=0
call ExecuteFunc("WSR")
set XVV=GetUnitLoc(GetKillingUnitBJ())
call CreateItemLoc('I0G3',XVV)
call RemoveLocation(XVV)
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function YRA takes nothing returns nothing
set N3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(N3E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(N3E,function YOA)
endfunction
function YIA takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Your Spell Power is: "+I2S((JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetTriggerPlayer())],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetTriggerPlayer())])*4))))))
endfunction
function YAA takes nothing returns nothing
set CEE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(CEE,Player(2),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(3),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(4),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(5),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(6),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(7),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(8),"-spellpower",false)
call TriggerRegisterPlayerChatEvent(CEE,Player(9),"-spellpower",false)
call TriggerAddAction(CEE,function YIA)
endfunction
function YNA takes nothing returns nothing
if(FAV>0 and FIV>0)then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("|CFF00FFFFCurrent active bounty:|r "+NG+"
|CFF00FFFFCurrent active repeatable bounty:|r "+BG+"
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV==0 and FIV>0)then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("|CFF00FFFFCurrent active bounty:|r "+NG+"
|CFF00FFFFCurrent active repeatable bounty:|r None
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV>0 and FIV==0)then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("|CFF00FFFFCurrent active bounty:|r None
|CFF00FFFFCurrent active repeatable bounty:|r "+BG+"
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
if(FAV==0 and FIV==0)then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("|CFF00FFFFCurrent active bounty:|r None
|CFF00FFFFCurrent active repeatable bounty:|r None
Kill Spiders bounty: "+I2S(MD)+"/"+I2S(50+(JD*$D)))+" Times completed: "+I2S(JD)+"
Kill Golems bounty: "+I2S(PD)+"/"+I2S(17+(QD*9))+" Times completed: "+I2S(QD)+"
Kill Crabs & Murlocs bounty: "+I2S(TD)+"/"+I2S(32+(SD*16))+" Times completed: "+I2S(SD)+"
Kill Revenants bounty: "+I2S(UD)+"/"+I2S(2+(ZD*2))+" Times completed: "+I2S(ZD))
endif
endfunction
function YBA takes nothing returns nothing
set CXE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(CXE,Player(2),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(3),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(4),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(5),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(6),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(7),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(8),"-bounty",false)
call TriggerRegisterPlayerChatEvent(CXE,Player(9),"-bounty",false)
call TriggerAddAction(CXE,function YNA)
endfunction
function YCA takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function YDA takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function YFA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function YGA takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function YHA takes nothing returns boolean
return(GetRandomInt(1,40)<GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit()))
endfunction
function YJA takes nothing returns boolean
return(GetSpellAbilityId()=='AHfs')
endfunction
function YKA takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function YLA takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function YMA takes nothing returns boolean
return(GetRandomInt((GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())-4),GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit()))>4)
endfunction
function YPA takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function YQA takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function YSA takes nothing returns boolean
return(GetRandomInt(1,40)<GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit()))
endfunction
function YTA takes nothing returns boolean
return(GetSpellAbilityId()=='A07I')
endfunction
function YUA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())>1)
endfunction
function YWA takes nothing returns boolean
return(GetSpellAbilityId()=='A17W')
endfunction
function YYA takes nothing returns boolean
return(GetSpellAbilityId()=='A0EG')
endfunction
function YZA takes nothing returns boolean
return(GetUnitLifePercent(GetSpellTargetUnit())<37.)
endfunction
function Y_A takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00R')
endfunction
function Y0A takes nothing returns boolean
return(C9V>=26)
endfunction
function Y1A takes nothing returns boolean
return(GetUnitLifePercent(OMV)<=65.)and(FKV<2)
endfunction
function Y2A takes nothing returns boolean
return(GetUnitLifePercent(OMV)<=30.)and(FKV<3)
endfunction
function Y3A takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B062'))
endfunction
function Y4A takes nothing returns boolean
return(GetSpellAbilityId()=='A181')
endfunction
function Y5A takes nothing returns boolean
return(GetSpellAbilityId()=='A1GD')
endfunction
function Y6A takes nothing returns boolean
return(GetSpellAbilityId()=='A1WU')
endfunction
function Y7A takes nothing returns boolean
return(GetSpellAbilityId()=='A184')
endfunction
function Y8A takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A16F',GetTriggerUnit())>0)
endfunction
function Y9A takes nothing returns boolean
return(GetSpellAbilityId()=='A16F')
endfunction
function ZVA takes nothing returns boolean
return(GetSpellAbilityId()=='A1DY')
endfunction
function ZEA takes nothing returns boolean
return(GetSpellAbilityId()=='A1DZ')
endfunction
function ZXA takes nothing returns boolean
return(GetSpellAbilityId()=='A1DX')
endfunction
function ZOA takes nothing returns boolean
return(GetSpellAbilityId()=='A1DP')
endfunction
function ZRA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1E4',GetSpellTargetUnit())>0)
endfunction
function ZIA takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function ZAA takes nothing returns boolean
return(GetSpellAbilityId()=='A1E0')
endfunction
function ZNA takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A16F',GetTriggerUnit())>0)
endfunction
function ZBA takes nothing returns boolean
return(GetSpellAbilityId()=='A16F')
endfunction
function ZCA takes nothing returns boolean
return(GetSpellAbilityId()=='A07Z')and(GetUnitLevel(GetTriggerUnit())==3)and(GetUnitTypeId(GetSpellTargetUnit())=='nubw')and(IsUnitIllusionBJ(GetSpellTargetUnit()))and(DOV!=3)
endfunction
function Trig_FRT_Func018Func001Func002C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18D',GetTriggerUnit())>0)
endfunction
function Trig_FRT_Func018Func001C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18C',GetTriggerUnit())>0)
endfunction
function ZDA takes nothing returns boolean
return(GetSpellAbilityId()=='A18B')
endfunction
function ZFA takes nothing returns boolean
return(GetSpellAbilityId()!='A1AP')and(IsUnitEnemy(GetSpellTargetUnit(),GetTriggerPlayer()))and(RectContainsUnit(MTV,GetTriggerUnit())==false)and(RectContainsUnit(MTV,GetSpellTargetUnit()))
endfunction
function ZGA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MA')
endfunction
function ZHA takes nothing returns boolean
return(GetSpellAbilityId()=='A0MB')
endfunction
function ZJA takes nothing returns nothing
if(YUA())then
if(YJA())then
if(YHA())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(YGA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,3)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+3 Stre",XVV,10.,10.,100.,10.,10.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+4 Stre",XVV,10.,10.,100.,10.,10.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YFA())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C5V=GetRandomInt(2,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())-2))
set C4V=GetRandomInt(2,4)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(C4V*4)+(C5V*$A)
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+(C4V*4)+(C5V*$A))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(((C4V*4)+(C5V*$A)))+" HP")),XVV,10.,10.,10.,100.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(YDA())then
set C4V=(GetUnitLevel(GetTriggerUnit())*(24+(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())+GetRandomInt(30,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())*8)))))
call AddHeroXPSwapped(C4V,GetTriggerUnit(),true)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(C4V)+" XP")),XVV,10.,10.,40.,40.,40.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(YCA())then
set C4V=(GetUnitLevel(GetTriggerUnit())*(8+(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())+GetRandomInt(7,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())*2)))))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+C4V))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(C4V)+"")),XVV,10.,10.,100.,92.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set C7V=(C7V+2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+2 Infernal Flame",XVV,10.,10.,80.,33.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
if(YTA())then
if(YSA())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(YQA())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+1 Stre",XVV,10.,10.,100.,10.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+2 Stre",XVV,10.,10.,100.,10.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YPA())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(YMA())then
set C5V=GetRandomInt(1,3)
set C4V=GetRandomInt(4,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())-2))
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(C4V*4)+(C5V*$A)
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+(C4V*4)+(C5V*$A))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(((C4V*4)+(C5V*$A)))+" HP")),XVV,10.,10.,10.,100.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set C4V=GetRandomInt(4,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())-2))
set C5V=0
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(C4V*4)+(C5V*$A)
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+(C4V*4)+(C5V*$A))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(((C4V*4)+(C5V*$A)))+" HP")),XVV,10.,10.,10.,100.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(YLA())then
set C4V=(GetUnitLevel(GetTriggerUnit())*(17+(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())+GetRandomInt($D,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())*3)))))
call AddHeroXPSwapped(C4V,GetTriggerUnit(),true)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(C4V)+" XP")),XVV,10.,10.,40.,40.,40.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(YKA())then
set C4V=(GetUnitLevel(GetTriggerUnit())*(4+(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())+GetRandomInt(4,(GetUnitAbilityLevelSwapped('ANpi',GetTriggerUnit())*2)))))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)+C4V))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("+"+(I2S(C4V)+"")),XVV,10.,10.,100.,92.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set C7V=(C7V+2)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+2 Infernal Flame",XVV,10.,10.,80.,33.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
endif
if(YWA())then
call CreateTextTagLocBJ("Shock!",GetUnitLoc(GetTriggerUnit()),10.,12.,80.,80.,80.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call UnitAddAbilityBJ('A17X',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"chainlightning",GetSpellTargetUnit())
call RemoveLocation(XVV)
endif
if(YYA())then
call TriggerSleepAction(16.)
call UnitRemoveBuffBJ('B03H',DXV)
call UnitRemoveBuffBJ('BPSE',DXV)
call UnitRemoveBuffBJ('B03H',DRV)
call UnitRemoveBuffBJ('B00J',DXV)
call UnitRemoveBuffBJ('B00J',DRV)
call UnitRemoveBuffBJ('B02J',DXV)
call UnitRemoveBuffBJ('B02J',DRV)
call UnitRemoveBuffBJ('BPSE',DRV)
call UnitRemoveBuffBJ('B014',DXV)
call UnitRemoveBuffBJ('B014',DRV)
call TriggerSleepAction(16.)
call UnitRemoveBuffBJ('B03H',DXV)
call UnitRemoveBuffBJ('BPSE',DXV)
call UnitRemoveBuffBJ('B03H',DRV)
call UnitRemoveBuffBJ('BPSE',DRV)
call UnitRemoveBuffBJ('B00J',DXV)
call UnitRemoveBuffBJ('B00J',DRV)
call UnitRemoveBuffBJ('B014',DXV)
call UnitRemoveBuffBJ('B014',DRV)
call UnitRemoveBuffBJ('B02J',DXV)
call UnitRemoveBuffBJ('B02J',DRV)
endif
if(Y_A())then
call UnitRemoveBuffBJ('B03H',GetSpellTargetUnit())
call UnitRemoveBuffBJ('BPSE',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B014',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B00J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B02J',GetSpellTargetUnit())
call StartTimerBJ(DAV,false,22.)
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false and GetUnitAbilityLevelSwapped('Avul',GetTriggerUnit())==0 then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A19H',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.5,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"impale",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(YZA())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+1000000.))
endif
call TriggerSleepAction(1.)
call UnitRemoveBuffBJ('B03H',DXV)
call UnitRemoveBuffBJ('BPSE',DXV)
call UnitRemoveBuffBJ('B00J',DXV)
call UnitRemoveBuffBJ('B02J',DXV)
call UnitRemoveBuffBJ('B014',DXV)
endif
if(Y3A())then
set C9V=(C9V+9)
if(Y0A())then
set C9V=(C9V-25)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),60)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(GetUnitLoc(GetAttacker()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(Y1A())then
set FKV=2
set XVV=GetUnitLoc(OMV)
call CreateNUnitsAtLoc(1,'h077',GetOwningPlayer(OMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(50.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
if(Y2A())then
set FKV=3
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h077',GetOwningPlayer(OMV),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(50.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
endif
if(Y4A())then
set G0V=GetSpellTargetUnit()
call StartTimerBJ(DEV,false,12.)
endif
if(Y5A())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1GE',GetLastCreatedUnit())
call UnitAddAbilityBJ('S012',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(I2R(GetUnitLevel(GetTriggerUnit())),'BTLF',GetLastCreatedUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$C)
call RemoveLocation(XVV)
endif
if(Y6A())then
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==1 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+340)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==2 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+460)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==3 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+580)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==4 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+740)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==5 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+950)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==6 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+$4B0)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==7 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+$6A4)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==8 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+$9C4)
endif
if GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())==9 then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))+5000)
endif
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetSpellTargetUnit(),false,true)
endif
if(Y7A())then
call KillUnit(GetSpellTargetUnit())
endif
if(Y9A())then
if(Y8A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(GetUnitAbilityLevelSwapped('A0HT',GetTriggerUnit()))*I2R(GetUnitAbilityLevelSwapped('A18H',GetTriggerUnit())))*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A0HT',GetTriggerUnit())*GetUnitAbilityLevelSwapped('A18H',GetTriggerUnit()))*GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))),XVV,10.,10.,.0,100.,.0,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(ZVA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*5.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((5*GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),XVV,10.,10.,10.,10.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(ZEA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*17.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((17*GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),XVV,10.,10.,10.,10.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(ZXA())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1E6',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(22.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call SetPlayerTechResearchedSwap('R02P',(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call CreateTextTagLocBJ("+13 Base Damage.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(ZOA())then
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+'x')
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'x'
endif
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false)then
call UnitAddItemById(GetTriggerUnit(),'I0F0')
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+120 Hit Points.",XVV,10.,12.,50.,90.,10.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.3)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(ZAA())then
if(GetUnitTypeId(GetSpellTargetUnit())!='n05B')and(GetUnitTypeId(GetSpellTargetUnit())!='n05A')and(GetUnitTypeId(GetSpellTargetUnit())!='n059')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
endif
if(ZIA())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*35.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((35*GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),XVV,10.,10.,10.,10.,100.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(ZRA())then
call UnitAddAbilityBJ('A0AB',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A0AB',GetSpellTargetUnit(),2)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitAddAbilityBJ('A1E4',GetSpellTargetUnit())
call UnitAddAbilityBJ('A0BA',GetSpellTargetUnit())
if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetSpellTargetUnit()))+'p']=1
endif
endif
endif
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(ZBA())then
if(ZNA())then
set DNV=GetSpellTargetUnit()
set DBV=GetTriggerUnit()
call StartTimerBJ(DCV,false,(3.+I2R(GetUnitAbilityLevelSwapped('A18H',GetTriggerUnit()))))
endif
endif
if(ZCA())then
set DOV=3
call KillUnit(GetSpellTargetUnit())
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateItemLoc('I0EK',XVV)
call RemoveLocation(XVV)
endif
if(ZDA())then
if GetUnitAbilityLevelSwapped('A18E',GetTriggerUnit())==2 then
call SetUnitAbilityLevelSwapped('A18E',GetTriggerUnit(),3)
if(IsUnit(GetTriggerUnit(),JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]=3
endif
endif
if GetUnitAbilityLevelSwapped('A18E',GetTriggerUnit())==1 then
call SetUnitAbilityLevelSwapped('A18E',GetTriggerUnit(),2)
if(IsUnit(GetTriggerUnit(),JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]=2
endif
endif
if GetUnitAbilityLevelSwapped('A18E',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A18E',GetTriggerUnit())
if(IsUnit(GetTriggerUnit(),JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+96]=1
endif
endif
endif
if(ZFA())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-11000.))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(ZGA())then
if(GetUnitTypeId(GetTriggerUnit())=='halt')then
call ExecuteFunc("ZKA")
endif
endif
if(ZHA())then
if(GetUnitTypeId(GetTriggerUnit())=='halt')then
call ExecuteFunc("ZLA")
endif
endif
endfunction
function ZMA takes nothing returns nothing
set COE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(COE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(COE,function ZJA)
endfunction
function ZPA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KH'))
endfunction
function ZQA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KI'))
endfunction
function ZSA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KJ'))
endfunction
function ZTA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KK'))
endfunction
function ZUA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KL'))
endfunction
function ZWA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KM'))
endfunction
function ZYA takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KN'))
endfunction
function YZI takes nothing returns nothing
call AddItemToStockBJ('I0KH',RJ,1,1)
call AddItemToStockBJ('I0KI',RJ,1,1)
call AddItemToStockBJ('I0KJ',RJ,1,1)
call AddItemToStockBJ('I0KK',RJ,1,1)
call AddItemToStockBJ('I0KL',RJ,1,1)
call AddItemToStockBJ('I0KM',RJ,1,1)
call AddItemToStockBJ('I0KN',RJ,1,1)
call AddItemToStockBJ('I0KU',RJ,1,1)
call UnitRemoveAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
endfunction
function ZZA takes nothing returns nothing
call RemoveItemFromStockBJ('I0KH',RJ)
call RemoveItemFromStockBJ('I0KI',RJ)
call RemoveItemFromStockBJ('I0KJ',RJ)
call RemoveItemFromStockBJ('I0KK',RJ)
call RemoveItemFromStockBJ('I0KL',RJ)
call RemoveItemFromStockBJ('I0KM',RJ)
call RemoveItemFromStockBJ('I0KN',RJ)
call RemoveItemFromStockBJ('I0KU',RJ)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitAddAbilityBJ('A1VK',RJ)
endfunction
function Z_A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KQ'))
endfunction
function Z0A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KR'))
endfunction
function Z1A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KS'))
endfunction
function Z2A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KT'))
endfunction
function Z3A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0KU'))
endfunction
function Z4A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0L9'))
endfunction
function ZLA takes nothing returns nothing
call RemoveItemFromStockBJ('I032',GetTriggerUnit())
call RemoveItemFromStockBJ('I023',GetTriggerUnit())
call RemoveItemFromStockBJ('I025',GetTriggerUnit())
call RemoveItemFromStockBJ('I02T',GetTriggerUnit())
call RemoveItemFromStockBJ('I02U',GetTriggerUnit())
call RemoveItemFromStockBJ('I03J',GetTriggerUnit())
call RemoveItemFromStockBJ('I06L',GetTriggerUnit())
call RemoveItemFromStockBJ('I04H',GetTriggerUnit())
call RemoveItemFromStockBJ('I06J',GetTriggerUnit())
call RemoveItemFromStockBJ('I0EF',GetTriggerUnit())
call AddItemToStockBJ('I0F6',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I0EY',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I0DC',GetTriggerUnit(),1,1)
call UnitRemoveAbilityBJ('A0MB',GetTriggerUnit())
call UnitAddAbilityBJ('A0MA',GetTriggerUnit())
set NJ=1
endfunction
function ZKA takes nothing returns nothing
call AddItemToStockBJ('I032',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I023',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I025',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I02T',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I02U',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I03J',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I06L',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I04H',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I06J',GetTriggerUnit(),1,1)
call AddItemToStockBJ('I0EF',GetTriggerUnit(),1,1)
call RemoveItemFromStockBJ('I0F6',GetTriggerUnit())
call RemoveItemFromStockBJ('I0EY',GetTriggerUnit())
call RemoveItemFromStockBJ('I0DC',GetTriggerUnit())
call UnitAddAbilityBJ('A0MB',GetTriggerUnit())
call UnitRemoveAbilityBJ('A0MA',GetTriggerUnit())
set NJ=0
endfunction
function YAI takes nothing returns nothing
call RemoveItemFromStockBJ('I0KQ',RJ)
call RemoveItemFromStockBJ('I03M',RJ)
call RemoveItemFromStockBJ('I035',RJ)
call RemoveItemFromStockBJ('I043',RJ)
call RemoveItemFromStockBJ('I04B',RJ)
call RemoveItemFromStockBJ('I04A',RJ)
call RemoveItemFromStockBJ('I044',RJ)
call RemoveItemFromStockBJ('I0DV',RJ)
endfunction
function YNI takes nothing returns nothing
call RemoveItemFromStockBJ('I0EG',RJ)
call RemoveItemFromStockBJ('I0GP',RJ)
call RemoveItemFromStockBJ('I0GM',RJ)
call RemoveItemFromStockBJ('I0GS',RJ)
endfunction
function YBI takes nothing returns nothing
call RemoveItemFromStockBJ('I03O',RJ)
call RemoveItemFromStockBJ('I05G',RJ)
call RemoveItemFromStockBJ('I05H',RJ)
call RemoveItemFromStockBJ('I05I',RJ)
endfunction
function YCI takes nothing returns nothing
call RemoveItemFromStockBJ('I01W',RJ)
call RemoveItemFromStockBJ('I01V',RJ)
call RemoveItemFromStockBJ('I02X',RJ)
call RemoveItemFromStockBJ('I05J',RJ)
call RemoveItemFromStockBJ('I0E3',RJ)
call RemoveItemFromStockBJ('I02Z',RJ)
call RemoveItemFromStockBJ('I03A',RJ)
call RemoveItemFromStockBJ('I03B',RJ)
call RemoveItemFromStockBJ('I0E3',RJ)
endfunction
function YFI takes nothing returns nothing
call RemoveItemFromStockBJ('I033',RJ)
call RemoveItemFromStockBJ('I0EC',RJ)
call RemoveItemFromStockBJ('I0ED',RJ)
call RemoveItemFromStockBJ('I072',RJ)
call RemoveItemFromStockBJ('I073',RJ)
call RemoveItemFromStockBJ('I074',RJ)
endfunction
function YDI takes nothing returns nothing
call RemoveItemFromStockBJ('I0E6',RJ)
call RemoveItemFromStockBJ('I0E7',RJ)
call RemoveItemFromStockBJ('I0E8',RJ)
call RemoveItemFromStockBJ('I0E9',RJ)
call RemoveItemFromStockBJ('I0EA',RJ)
call RemoveItemFromStockBJ('I0EB',RJ)
endfunction
function YGI takes nothing returns nothing
call RemoveItemFromStockBJ('I01B',RJ)
call RemoveItemFromStockBJ('I017',RJ)
call RemoveItemFromStockBJ('I018',RJ)
call RemoveItemFromStockBJ('I015',RJ)
call RemoveItemFromStockBJ('I01P',RJ)
call RemoveItemFromStockBJ('I01E',RJ)
call RemoveItemFromStockBJ('I01I',RJ)
call RemoveItemFromStockBJ('I04T',RJ)
endfunction
function YHI takes nothing returns nothing
call RemoveItemFromStockBJ('I01R',RJ)
call RemoveItemFromStockBJ('I0II',RJ)
call RemoveItemFromStockBJ('I0IH',RJ)
call RemoveItemFromStockBJ('I01T',RJ)
call RemoveItemFromStockBJ('I0IG',RJ)
call RemoveItemFromStockBJ('I0IF',RJ)
call RemoveItemFromStockBJ('I0KS',RJ)
endfunction
function YJI takes nothing returns nothing
call RemoveItemFromStockBJ('I03F',RJ)
call RemoveItemFromStockBJ('I03I',RJ)
call RemoveItemFromStockBJ('I0GI',RJ)
call RemoveItemFromStockBJ('I0GK',RJ)
call RemoveItemFromStockBJ('I0GJ',RJ)
endfunction
function YKI takes nothing returns nothing
call RemoveItemFromStockBJ('I01M',RJ)
call RemoveItemFromStockBJ('I01K',RJ)
call RemoveItemFromStockBJ('I05W',RJ)
call RemoveItemFromStockBJ('I01G',RJ)
call RemoveItemFromStockBJ('I01D',RJ)
call RemoveItemFromStockBJ('I05U',RJ)
call RemoveItemFromStockBJ('I03Q',RJ)
call RemoveItemFromStockBJ('I039',RJ)
endfunction
function YLI takes nothing returns nothing
call RemoveItemFromStockBJ('I071',RJ)
call RemoveItemFromStockBJ('I01O',RJ)
call RemoveItemFromStockBJ('I03D',RJ)
call RemoveItemFromStockBJ('I0FU',RJ)
endfunction
function YMI takes nothing returns nothing
call RemoveItemFromStockBJ('I031',RJ)
call RemoveItemFromStockBJ('I024',RJ)
call RemoveItemFromStockBJ('I02R',RJ)
call RemoveItemFromStockBJ('I02Q',RJ)
call RemoveItemFromStockBJ('I04G',RJ)
call RemoveItemFromStockBJ('I06I',RJ)
call RemoveItemFromStockBJ('I0EE',RJ)
call RemoveItemFromStockBJ('I0F5',RJ)
call RemoveItemFromStockBJ('I0DD',RJ)
endfunction
function YPI takes nothing returns nothing
call RemoveItemFromStockBJ('I022',RJ)
call RemoveItemFromStockBJ('I03C',RJ)
call RemoveItemFromStockBJ('I03K',RJ)
call RemoveItemFromStockBJ('I06N',RJ)
call RemoveItemFromStockBJ('I06K',RJ)
call RemoveItemFromStockBJ('I0IC',RJ)
call RemoveItemFromStockBJ('I0IB',RJ)
call RemoveItemFromStockBJ('I0EX',RJ)
endfunction
function YQI takes nothing returns nothing
call RemoveItemFromStockBJ('I026',RJ)
call RemoveItemFromStockBJ('I01Z',RJ)
call RemoveItemFromStockBJ('I02A',RJ)
call RemoveItemFromStockBJ('I05N',RJ)
call RemoveItemFromStockBJ('I02P',RJ)
call RemoveItemFromStockBJ('I04C',RJ)
call RemoveItemFromStockBJ('I06R',RJ)
call RemoveItemFromStockBJ('I06O',RJ)
endfunction
function YSI takes nothing returns nothing
call RemoveItemFromStockBJ('I0CF',RJ)
call RemoveItemFromStockBJ('I0DW',RJ)
call RemoveItemFromStockBJ('I0ER',RJ)
call RemoveItemFromStockBJ('I0GE',RJ)
endfunction
function YTI takes nothing returns nothing
call RemoveItemFromStockBJ('I021',RJ)
call RemoveItemFromStockBJ('I03H',RJ)
call RemoveItemFromStockBJ('I06T',RJ)
call RemoveItemFromStockBJ('I06W',RJ)
call RemoveItemFromStockBJ('I06Y',RJ)
call RemoveItemFromStockBJ('I0CA',RJ)
call RemoveItemFromStockBJ('I0CC',RJ)
call RemoveItemFromStockBJ('I0CH',RJ)
endfunction
function YUI takes nothing returns nothing
call RemoveItemFromStockBJ('I076',RJ)
call RemoveItemFromStockBJ('I0ID',RJ)
call RemoveItemFromStockBJ('I04K',RJ)
call RemoveItemFromStockBJ('I0C2',RJ)
call RemoveItemFromStockBJ('I06S',RJ)
call RemoveItemFromStockBJ('I0EI',RJ)
call RemoveItemFromStockBJ('I0KT',RJ)
endfunction
function YWI takes nothing returns nothing
call RemoveItemFromStockBJ('I05L',RJ)
call RemoveItemFromStockBJ('I0D2',RJ)
call RemoveItemFromStockBJ('I0D3',RJ)
endfunction
function YYI takes nothing returns nothing
call RemoveItemFromStockBJ('I0CN',RJ)
call RemoveItemFromStockBJ('I0FJ',RJ)
call RemoveItemFromStockBJ('I0IL',RJ)
call RemoveItemFromStockBJ('I0HT',RJ)
call RemoveItemFromStockBJ('I0IS',RJ)
call RemoveItemFromStockBJ('I0IT',RJ)
call RemoveItemFromStockBJ('I0L9',RJ)
call RemoveItemFromStockBJ('I0LJ',RJ)
endfunction
function Z5A takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0LJ'))
endfunction
function Z6A takes nothing returns nothing
if(ZPA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KH'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I0KQ',RJ,1,1)
call AddItemToStockBJ('I03M',RJ,1,1)
call AddItemToStockBJ('I035',RJ,1,1)
call AddItemToStockBJ('I043',RJ,1,1)
call AddItemToStockBJ('I04B',RJ,1,1)
call AddItemToStockBJ('I04A',RJ,1,1)
call AddItemToStockBJ('I044',RJ,1,1)
call AddItemToStockBJ('I0DV',RJ,1,1)
set IJ=1
set AJ=1
endif
if(ZQA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KI'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I01W',RJ,1,1)
call AddItemToStockBJ('I01V',RJ,1,1)
call AddItemToStockBJ('I02X',RJ,1,1)
call AddItemToStockBJ('I05J',RJ,1,1)
call AddItemToStockBJ('I02Z',RJ,1,1)
call AddItemToStockBJ('I03A',RJ,1,1)
call AddItemToStockBJ('I03B',RJ,1,1)
call AddItemToStockBJ('I0E3',RJ,1,1)
set IJ=2
set AJ=4
endif
if(ZSA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KJ'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I01B',RJ,1,1)
call AddItemToStockBJ('I017',RJ,1,1)
call AddItemToStockBJ('I018',RJ,1,1)
call AddItemToStockBJ('I015',RJ,1,1)
call AddItemToStockBJ('I01P',RJ,1,1)
call AddItemToStockBJ('I01E',RJ,1,1)
call AddItemToStockBJ('I01I',RJ,1,1)
call AddItemToStockBJ('I04T',RJ,1,1)
set IJ=3
set AJ=7
endif
if(ZTA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KK'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I01M',RJ,1,1)
call AddItemToStockBJ('I01K',RJ,1,1)
call AddItemToStockBJ('I05W',RJ,1,1)
call AddItemToStockBJ('I01G',RJ,1,1)
call AddItemToStockBJ('I01D',RJ,1,1)
call AddItemToStockBJ('I05U',RJ,1,1)
call AddItemToStockBJ('I03Q',RJ,1,1)
call AddItemToStockBJ('I039',RJ,1,1)
set IJ=4
set AJ=$A
endif
if(ZUA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KL'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I031',RJ,1,1)
call AddItemToStockBJ('I024',RJ,1,1)
call AddItemToStockBJ('I02R',RJ,1,1)
call AddItemToStockBJ('I02Q',RJ,1,1)
call AddItemToStockBJ('I04G',RJ,1,1)
call AddItemToStockBJ('I06I',RJ,1,1)
call AddItemToStockBJ('I0EE',RJ,1,1)
call AddItemToStockBJ('I0F5',RJ,1,1)
call AddItemToStockBJ('I0DD',RJ,1,1)
set IJ=5
set AJ=$C
endif
if(ZWA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KM'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I026',RJ,1,1)
call AddItemToStockBJ('I01Z',RJ,1,1)
call AddItemToStockBJ('I02A',RJ,1,1)
call AddItemToStockBJ('I05N',RJ,1,1)
call AddItemToStockBJ('I02P',RJ,1,1)
call AddItemToStockBJ('I04C',RJ,1,1)
call AddItemToStockBJ('I06R',RJ,1,1)
call AddItemToStockBJ('I06O',RJ,1,1)
set IJ=6
set AJ=$E
endif
if(ZYA())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KN'))
call ExecuteFunc("ZZA")
call AddItemToStockBJ('I021',RJ,1,1)
call AddItemToStockBJ('I03H',RJ,1,1)
call AddItemToStockBJ('I06T',RJ,1,1)
call AddItemToStockBJ('I06W',RJ,1,1)
call AddItemToStockBJ('I06Y',RJ,1,1)
call AddItemToStockBJ('I0CA',RJ,1,1)
call AddItemToStockBJ('I0CC',RJ,1,1)
call AddItemToStockBJ('I0CH',RJ,1,1)
set IJ=7
set AJ=16
endif
if(Z_A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KQ'))
call ExecuteFunc("YAI")
call AddItemToStockBJ('I03O',RJ,1,1)
call AddItemToStockBJ('I05G',RJ,1,1)
call AddItemToStockBJ('I05H',RJ,1,1)
call AddItemToStockBJ('I05I',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
call UnitRemoveAbilityBJ('A1VK',RJ)
set AJ=3
endif
if(Z0A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KR'))
call UnitRemoveAbilityBJ('A1VK',RJ)
call ExecuteFunc("YCI")
call UnitAddAbilityBJ('A1VJ',RJ)
set AJ=5
endif
if(Z1A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KS'))
call ExecuteFunc("YHI")
call AddItemToStockBJ('I03F',RJ,1,1)
call AddItemToStockBJ('I03I',RJ,1,1)
call AddItemToStockBJ('I0GI',RJ,1,1)
call AddItemToStockBJ('I0GK',RJ,1,1)
call AddItemToStockBJ('I0GJ',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
set AJ=9
endif
if(Z2A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KT'))
call ExecuteFunc("YUI")
call AddItemToStockBJ('I05L',RJ,1,1)
call AddItemToStockBJ('I0D2',RJ,1,1)
call AddItemToStockBJ('I0D3',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
set AJ=18
endif
if(Z3A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KU'))
call ExecuteFunc("ZZA")
call UnitRemoveAbilityBJ('A1VK',RJ)
call AddItemToStockBJ('I0CN',RJ,1,1)
call AddItemToStockBJ('I0FJ',RJ,1,1)
call AddItemToStockBJ('I0IL',RJ,1,1)
call AddItemToStockBJ('I0HT',RJ,1,1)
call AddItemToStockBJ('I0IS',RJ,1,1)
call AddItemToStockBJ('I0IT',RJ,1,1)
call AddItemToStockBJ('I0L9',RJ,1,1)
call AddItemToStockBJ('I0LJ',RJ,1,1)
call UnitAddAbilityBJ('A1VJ',RJ)
set AJ=19
endif
if(Z4A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L9'))
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I059'))==false and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05B'))==false and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05A'))==false and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05C'))==false and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05D'))==false and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05E'))==false then
call AdjustPlayerStateBJ(5000,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I059')) or(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05B')) or(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05A')) or(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05C')) or(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05D')) or(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05E')) then
call DisableTrigger(KJ)
call ExecuteFunc("U1X")
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05E')) then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05E'))
set DA=DA+21
endif
set FA=true
call ExecuteFunc("U3X")
call EnableTrigger(KJ)
endif
endif
if(Z5A())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LJ'))
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0KP'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$9C4)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KP'))
call UnitAddItemById(GetTriggerUnit(),'I000')
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$9C4))
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0LE'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LE'))
call UnitAddItemById(GetTriggerUnit(),'I024')
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0LG'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$6D60)then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LG'))
call UnitAddItemById(GetTriggerUnit(),'I041')
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$6D60))
endif
endif
endfunction
function Z7A takes nothing returns nothing
set NKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NKE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(NKE,function Z6A)
endfunction
function Z8A takes nothing returns boolean
return(GetUnitLifePercent(GetTriggerUnit())<100.)
endfunction
function Z9A takes nothing returns boolean
return(GetSpellAbilityId()=='A0HO')
endfunction
function VVN takes nothing returns boolean
return(GetSpellAbilityId()=='A18N')
endfunction
function VEN takes nothing returns boolean
return(GetSpellAbilityId()=='A18O')
endfunction
function VXN takes nothing returns boolean
return(GetSpellAbilityId()=='A0HP')
endfunction
function VON takes nothing returns boolean
return(GetSpellAbilityId()=='A0HY')
endfunction
function VRN takes nothing returns boolean
return(GetSpellAbilityId()=='A0I0')
endfunction
function VIN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05O'))
endfunction
function VAN takes nothing returns boolean
return(GetSpellAbilityId()=='A0HK')
endfunction
function VNN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05M'))
endfunction
function VBN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05O'))
endfunction
function VCN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B05O'))and(UnitHasBuffBJ(GetTriggerUnit(),'B05M'))
endfunction
function VDN takes nothing returns boolean
return(GetSpellAbilityId()=='A0HX')
endfunction
function VFN takes nothing returns boolean
return(GetRandomInt(1,$B)<=GetUnitAbilityLevelSwapped('A0HQ',GetTriggerUnit()))
endfunction
function VGN takes nothing returns boolean
return(GetSpellAbilityId()=='A0HQ')
endfunction
function VHN takes nothing returns boolean
return(GetSpellAbilityId()=='A18T')
endfunction
function VJN takes nothing returns boolean
return(GetSpellAbilityId()=='A18R')
endfunction
function VKN takes nothing returns boolean
return(GetSpellAbilityId()=='A18U')
endfunction
function VLN takes nothing returns boolean
return(GetSpellAbilityId()=='A18V')
endfunction
function VMN takes nothing returns boolean
return(C9V>=16)
endfunction
function VPN takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function VQN takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='ninf')
endfunction
function VSN takes nothing returns boolean
return(C9V>=23)
endfunction
function VTN takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function VUN takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='noga')
endfunction
function VWN takes nothing returns boolean
return(GetSpellAbilityId()=='A0OA')
endfunction
function VYN takes nothing returns boolean
return(GetSpellAbilityId()=='A12O')
endfunction
function VZN takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03M')and(GetBooleanOr(VWN(),VYN()))
endfunction
function V_N takes nothing returns boolean
return(GetSpellAbilityId()=='A18W')
endfunction
function V0N takes nothing returns boolean
return(GetSpellAbilityId()=='A19B')
endfunction
function V1N takes nothing returns boolean
return(GetSpellAbilityId()=='A18Y')
endfunction
function V2N takes nothing returns boolean
return(GetSpellAbilityId()=='A18Z')
endfunction
function V3N takes nothing returns boolean
return(GetSpellAbilityId()=='A198')
endfunction
function V4N takes nothing returns boolean
return(GetSpellAbilityId()=='A1EK')
endfunction
function V5N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A19N',GetTriggerUnit())>0)
endfunction
function V6N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A19O',GetTriggerUnit())>0)
endfunction
function V7N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A19P',GetTriggerUnit())>0)
endfunction
function V8N takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function V9N takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function EVN takes nothing returns boolean
return(GetRandomInt(1,3)==3)
endfunction
function EEN takes nothing returns boolean
return(GetRandomInt(1,4)==3)
endfunction
function EXN takes nothing returns boolean
return(GetSpellAbilityId()=='A19M')
endfunction
function EON takes nothing returns boolean
return((GetSpellAbilityId()=='A19L')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function ERN takes nothing returns boolean
return((GetSpellAbilityId()=='A19L')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false))!=null
endfunction
function EIN takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function EAN takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function ENN takes nothing returns boolean
return(GetSpellAbilityId()=='A0HS')
endfunction
function EBN takes nothing returns boolean
return(GetSpellAbilityId()=='A1WG')
endfunction
function ECN takes nothing returns nothing
local integer EDN
local unit u
if(Z9A())then
if(Z8A())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(((120.*I2R(GetUnitAbilityLevelSwapped('A0HO',GetTriggerUnit())))-70.)*I2R(GetUnitLevel(GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call CreateTextTagLocBJ("Hero is at full health.",GetUnitLoc(GetTriggerUnit()),10.,10.,82.,82.,82.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(VVN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),((((73.*I2R(GetUnitAbilityLevelSwapped('A18N',GetTriggerUnit())))*I2R(GetUnitAbilityLevelSwapped('A18N',GetTriggerUnit())))+87.)+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(VEN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((1+I2R(GetUnitAbilityLevelSwapped('A18O',GetTriggerUnit())))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A18O',GetTriggerUnit())+1)*GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),XVV,10.,13.,99.,11.,11.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(VXN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),(((.04*I2R(GetUnitAbilityLevelSwapped('A0HP',GetTriggerUnit())))+.02)*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call StartTimerBJ(GZV,false,4.)
endif
if(VON())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((I2R(GetUnitAbilityLevelSwapped('A0HY',GetTriggerUnit()))*.0125+.0075)*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(VRN())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A0I1',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0I1',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0I0',GetTriggerUnit()))
call UnitApplyTimedLifeBJ((10.+(2.*I2R(GetUnitAbilityLevelSwapped('A0I0',GetTriggerUnit())))),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(VAN())then
call AddUnitAnimationPropertiesBJ(true,"defend",GetTriggerUnit())
if(VIN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(((4.*I2R(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))))+(((I2R(GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit()))*17.)+(.2*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))))+(6.+(600.*I2R(GetUnitAbilityLevelSwapped('A0HZ',GetTriggerUnit()))))))*(2.+(2.*I2R(GetUnitAbilityLevelSwapped('A0HK',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A0HK',GetTriggerUnit())*2)+2)*((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+((GetUnitAbilityLevelSwapped('A0HZ',GetTriggerUnit())*600)+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+(GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)))))),XVV,10.,13.,99.,82.,82.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(((4.*I2R(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))))+(((I2R(GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit()))*17.)+(.2*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))))+(6.+.0)))*(2.+(2.*I2R(GetUnitAbilityLevelSwapped('A0HK',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((((GetUnitAbilityLevelSwapped('A0HK',GetTriggerUnit())*2)+2)*((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+($A+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+(GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)))))),XVV,10.,13.,99.,82.,82.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
call TriggerSleepAction(.7)
call AddUnitAnimationPropertiesBJ(false,"defend",GetTriggerUnit())
endif
if(VDN())then
call UnitAddAbilityBJ('A18M',GetTriggerUnit())
call UnitAddAbilityBJ('A18L',GetTriggerUnit())
call UnitAddAbilityBJ('A19Z',GetTriggerUnit())
set DUV=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,DSV)
call StartTimerBJ(DTV,false,((I2R(GetUnitAbilityLevelSwapped('A0HX',GetTriggerUnit()))*3.)+1.))
if(VCN())then
set DSV=(4*((GetUnitAbilityLevelSwapped('A0HZ',GetTriggerUnit())*600)+((GetUnitAbilityLevelSwapped('A0HM',GetTriggerUnit())*'d')+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+((GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)+6))))))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DSV)
else
if(VBN())then
set DSV=(4*((GetUnitAbilityLevelSwapped('A0HZ',GetTriggerUnit())*600)+(0+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+((GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)+6))))))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DSV)
else
if(VNN())then
set DSV=(4*(0+((GetUnitAbilityLevelSwapped('A0HM',GetTriggerUnit())*'d')+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+((GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)+6))))))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DSV)
else
set DSV=(4*(0+(0+((GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))*4)+((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*R2I(.2))+((GetUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())*17)+6))))))
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DSV)
endif
endif
endif
endif
if(VGN())then
if(VFN())then
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
call CreateTextTagLocBJ("+8",GetUnitLoc(GetTriggerUnit()),10.,13.,99.,2.,2.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(VHN())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+360)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+360
endif
if(VJN())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),8)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),((((I2R(GetUnitAbilityLevelSwapped('A18R',GetTriggerUnit()))*.02)+.03)+.0)*GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif
if(VKN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((((I2R(GetUnitAbilityLevelSwapped('A18U',GetTriggerUnit()))*.09)+.0)*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),((((I2R(GetUnitAbilityLevelSwapped('A18U',GetTriggerUnit()))*.03)+.0)*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S((R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))*(GetUnitAbilityLevelSwapped('A18U',GetTriggerUnit())*R2I(.09)))),GetUnitLoc(GetSpellTargetUnit()),10.,12.,98.,8.,8.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(VLN())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),$A)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))-R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))*GetUnitAbilityLevelSwapped('A18V',GetTriggerUnit()))),XVV,10.,14.,98.,1.,1.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(VQN())then
set C9V=(C9V+$E)
if(VMN())then
set C9V=(C9V-16)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A19G',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),61)
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set G_V=(G_V+1)
call RemoveLocation(XVV)
endif
if(VPN())then
call StartTimerBJ(DAV,false,24.)
endif
endif
if(VUN())then
set C9V=(C9V+8)
if(VSN())then
set C9V=(C9V-23)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h05N',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1B7',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(VTN())then
call StartTimerBJ(DAV,false,24.)
endif
endif
if(VZN())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h071',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A17Z',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"frostarmor",GetSpellTargetUnit())
call RemoveLocation(XVV)
call StartTimerBJ(DAV,false,24.)
endif
if(V_N())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),9)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set u=GetTriggerUnit()
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(R2S((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.7)),XVV,10.,13.,85.,11.,11.,4.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call mj(8.)
call SetUnitLifeBJ(u,(GetUnitStateSwap(UNIT_STATE_LIFE,u)+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,u)*((.06*I2R(GetUnitAbilityLevelSwapped('A18W',u)))+.35))))
call AddSpecialEffectTargetUnitBJ("origin",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set u=null
endif
if(V0N())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.2),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.2),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(R2S((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.2)),GetUnitLoc(GetSpellTargetUnit()),10.,12.,93.,6.,6.,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(V1N())then
call StartTimerBJ(D0V,false,7.)
set DIV=GetTriggerUnit()
call UnitAddAbilityBJ('A083',DIV)
set DZV=GetSpellTargetUnit()
endif
if(V2N())then
call SetPlayerTechResearchedSwap('R02J',(GetPlayerTechCountSimple('R02J',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
set D1V=(D1V+1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(D1V),XVV,10.,11.,94.,94.,94.,6.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(V3N())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(680.*I2R(D1V)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(V4N())then
call StartTimerBJ(HCV,false,2.)
set HDV=GetTriggerUnit()
endif
if(EXN())then
if(EEN())then
set D5V=GetRandomInt(18,54)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,D5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+I2S(D5V))+" Base Strength"),GetUnitLoc(GetTriggerUnit()),10.,13.,99.,.0,99.,3.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(EVN())then
set D5V=GetRandomInt(30,83)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,D5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+I2S(D5V))+" Base Intelligence"),GetUnitLoc(GetTriggerUnit()),10.,13.,99.,.0,99.,3.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(V9N())then
if(V8N())then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+573)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+573
else
call UnitAddItemByIdSwapped('I0F2',GetTriggerUnit())
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+"573")+" Hit Points"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+618)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+618
else
call UnitAddItemByIdSwapped('I0F3',GetTriggerUnit())
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+"618")+" Hit Points"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(V7N())then
set D5V=GetRandomInt(18,32)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,D5V)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,D5V)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,D5V)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+I2S(D5V))+" All Base Stats"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(V6N())then
call UnitAddAbilityBJ('A19P',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+"340")+" Bonus Damage"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']=3
endif
else
if(V5N())then
call UnitAddAbilityBJ('A19O',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+"168")+" Bonus Damage"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']=2
endif
else
call UnitAddAbilityBJ('A19N',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ((("+"+"135")+" Bonus Damage"),XVV,10.,13.,99.,.0,99.,3.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+'h']=1
endif
endif
endif
endif
endif
endif
endif
endif
if(EON())then
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+'x')
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+'x'
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(ERN())then
call UnitAddItemByIdSwapped('I0F0',GetTriggerUnit())
call RemoveItem(GetLastCreatedItem())
endif
if(ENN())then
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==1then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+600))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==2then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+900))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==3then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+$4B0))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==4then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+$640))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==5then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+$7D0))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==6then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+$BB8))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==7then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+5000))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==8then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+9000))
endif
if(GetUnitAbilityLevelSwapped('A0HS',GetTriggerUnit()))==9then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+$7530))
endif
if(EAN())then
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
call CreateTextTagLocBJ("+4 Base Armor",GetUnitLoc(GetTriggerUnit()),10.,11.,94.,94.,94.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(EIN())then
set DQV=GetRandomInt(3,6)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DQV)
call CreateTextTagLocBJ(("+"+(I2S(DQV)+" Strength")),GetUnitLoc(GetTriggerUnit()),10.,11.,94.,94.,94.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
set DQV=GetRandomInt(5,$B)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,DQV)
call CreateTextTagLocBJ(("+"+(I2S(DQV)+" Agility")),GetUnitLoc(GetTriggerUnit()),10.,11.,94.,94.,94.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
if(EBN())then
if RG!=0 then
set EDN=GetUnitAbilityLevelSwapped('A1WG',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1WG',GetTriggerUnit())
call UnitAddAbilityBJ('A1WG',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A1WG',GetTriggerUnit(),EDN)
set EDN=0
endif
if RG==0 then
set OG=GetTriggerUnit()
set RG=(GetHeroStatBJ(bj_HEROSTAT_STR,OG,false))*5
call ModifyHeroStat(bj_HEROSTAT_STR,OG,bj_MODIFYMETHOD_ADD,RG)
call StartTimerBJ(XG,false,3+(3*GetUnitAbilityLevelSwapped('A1WG',OG)))
call UnitAddAbilityBJ('A1WH',OG)
endif
endif
endfunction
function EFN takes nothing returns nothing
set CRE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CRE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(CRE,function ECN)
endfunction
function EGN takes nothing returns nothing
call UnitRemoveAbilityBJ('A1WH',OG)
call ModifyHeroStat(bj_HEROSTAT_STR,OG,bj_MODIFYMETHOD_SUB,RG)
set RG=0
set OG=null
endfunction
function EHN takes nothing returns nothing
local trigger EJN
set EJN=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EJN,XG)
call TriggerAddAction(EJN,function EGN)
endfunction
function EKN takes nothing returns boolean
return(GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT)
endfunction
function ELN takes nothing returns boolean
return(GetItemType(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))==ITEM_TYPE_ARTIFACT)and(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem())
endfunction
function EMN takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(ELN())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call CreateTextTagLocBJ("Can only carry one Hunting item.",GetUnitLoc(GetTriggerUnit()),10.,10.,70.,70.,90.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function EPN takes nothing returns nothing
set CIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CIE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(CIE,Condition(function EKN))
call TriggerAddAction(CIE,function EMN)
endfunction
function EQN takes nothing returns boolean
return(GetItemType(GetManipulatedItem())==ITEM_TYPE_CHARGED)
endfunction
function ESN takes nothing returns boolean
return(GetItemType(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))==ITEM_TYPE_CHARGED)and(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem())and(GetUnitTypeId(GetTriggerUnit())!='hrdh')and(GetUnitTypeId(GetTriggerUnit())!='hhdl')and(GetUnitTypeId(GetTriggerUnit())!='o01K')
endfunction
function ETN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0GQ')or(GetItemTypeId(GetManipulatedItem())=='I0GR')or(GetItemTypeId(GetManipulatedItem())=='I0GP')
endfunction
function EUN takes nothing returns boolean
return(GetUnitPointValue(GetTriggerUnit())==41)or(GetUnitPointValue(GetTriggerUnit())==17)or(GetUnitPointValue(GetTriggerUnit())==48)
endfunction
function Trig_FRTT_Func003C takes nothing returns boolean
return(ETN())and(EUN())
endfunction
function EWN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0GR')and(GetUnitTypeId(GetTriggerUnit())=='H06W')
endfunction
function EYN takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(ESN())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call CreateTextTagLocBJ("An Hero can only carry one Holy item.",GetUnitLoc(GetTriggerUnit()),10.,10.,70.,70.,90.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(EWN())then
call SetPlayerTechResearchedSwap('R02T',1,GetOwningPlayer(GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("+500 Base Damage, Damage Bonus.",GetUnitLoc(GetTriggerUnit()),10.,10.,90.,90.,40.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endfunction
function EZN takes nothing returns nothing
set CAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CAE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(CAE,Condition(function EQN))
call TriggerAddAction(CAE,function EYN)
endfunction
function E_N takes nothing returns boolean
return(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function E0N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0I3',GetTriggerUnit())<2)
endfunction
function E1N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0I3')
endfunction
function E2N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0I4',GetTriggerUnit())<2)
endfunction
function E3N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0I4')
endfunction
function E4N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18I',GetTriggerUnit())<2)
endfunction
function E5N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A18I')
endfunction
function E6N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18J',GetTriggerUnit())<2)
endfunction
function E7N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A18J')
endfunction
function E8N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18K',GetTriggerUnit())<2)
endfunction
function E9N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A18K')
endfunction
function XVN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A191',GetTriggerUnit())<2)
endfunction
function XEN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A191')
endfunction
function XXN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RU',GetTriggerUnit())<2)
endfunction
function XON takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RU')and(JAV==1)
endfunction
function XRN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RU',GetTriggerUnit())<2)
endfunction
function XIN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RU')and(JAV==0)
endfunction
function XAN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RX',GetTriggerUnit())<2)
endfunction
function XNN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RX')and(JAV==1)
endfunction
function XBN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RX',GetTriggerUnit())<2)
endfunction
function XCN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RX')and(JAV==0)
endfunction
function XDN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RT',GetTriggerUnit())<2)
endfunction
function XFN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RT')and(JAV==1)
endfunction
function XGN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RT',GetTriggerUnit())<2)
endfunction
function XHN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RT')and(JAV==0)
endfunction
function XJN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RR',GetTriggerUnit())<2)
endfunction
function XKN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RR')and(JAV==1)
endfunction
function XLN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RR',GetTriggerUnit())<2)
endfunction
function XMN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1RR')and(JAV==0)
endfunction
function XPN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1H1',GetTriggerUnit())<2)
endfunction
function XQN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1H1')and(JAV==1)
endfunction
function XSN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1H1',GetTriggerUnit())<2)
endfunction
function XTN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1H1')and(JAV==0)
endfunction
function XUN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A192',GetTriggerUnit())<2)
endfunction
function XWN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A192')
endfunction
function XYN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A193',GetTriggerUnit())<2)
endfunction
function XZN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A193')
endfunction
function X_N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A194',GetTriggerUnit())<2)
endfunction
function X0N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A194')
endfunction
function X1N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A195',GetTriggerUnit())<2)
endfunction
function X2N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A195')
endfunction
function X3N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1C4',GetTriggerUnit())<2)
endfunction
function X4N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1C4')
endfunction
function X5N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())>0)
endfunction
function X6N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1C5',GetTriggerUnit())<2)
endfunction
function X7N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1C5')
endfunction
function X8N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1C6',GetTriggerUnit())<2)
endfunction
function X9N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1C6')
endfunction
function OVN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1CD',GetTriggerUnit())<2)
endfunction
function OEN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1CD')
endfunction
function OXN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A195',GetTriggerUnit())<2)
endfunction
function OON takes nothing returns boolean
return(GetLearnedSkillBJ()=='A195')
endfunction
function ORN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1UI',GetTriggerUnit())<2)
endfunction
function OIN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1UI')
endfunction
function OAN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1Y3',GetTriggerUnit())<2)
endfunction
function ONN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1Y3')
endfunction
function OBN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A080')
endfunction
function OCN takes nothing returns boolean
return(GetLearnedSkillBJ()=='ANpi')
endfunction
function ODN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0TJ')
endfunction
function OFN takes nothing returns boolean
return(GetLearnedSkillBJ()=='A0ZJ')
endfunction
function OGN takes nothing returns nothing
if(E1N())then
if(E0N())then
set DWV=GetTriggerUnit()
call DialogClearBJ(SC[0])
set DPV[0]=DialogAddButtonBJ(SC[0],"Furious Stomp")
set DPV[1]=DialogAddButtonBJ(SC[0],"Shield Slam")
set DPV[2]=DialogAddButtonBJ(SC[0],"Defensive")
call DialogDisplayBJ(true,SC[0],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A0HK',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HM',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HL',GetTriggerUnit())
endif
endif
if(E3N())then
if(E2N())then
set DWV=GetTriggerUnit()
call DialogClearBJ(SC[0])
set DPV[3]=DialogAddButtonBJ(SC[0],"Revenge")
set DPV[4]=DialogAddButtonBJ(SC[0],"Block")
set DPV[5]=DialogAddButtonBJ(SC[0],"Armored")
call DialogDisplayBJ(true,SC[0],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A0PA',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HO',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HN',GetTriggerUnit())
endif
endif
if(E5N())then
if(E4N())then
set DWV=GetTriggerUnit()
call DialogClearBJ(SC[0])
set DPV[6]=DialogAddButtonBJ(SC[0],"Steel")
set DPV[7]=DialogAddButtonBJ(SC[0],"Sacrifice")
set DPV[8]=DialogAddButtonBJ(SC[0],"Armor UP")
call DialogDisplayBJ(true,SC[0],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A0HQ',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HP',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HR',GetTriggerUnit())
endif
endif
if(E7N())then
if(E6N())then
set DWV=GetTriggerUnit()
call DialogClearBJ(SC[0])
set DPV[9]=DialogAddButtonBJ(SC[0],"Divine Thoughness")
set DPV[$A]=DialogAddButtonBJ(SC[0],"Mega Heal")
set DPV[$B]=DialogAddButtonBJ(SC[0],"Damage Breaker")
call DialogDisplayBJ(true,SC[0],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A0HS',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HX',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HY',GetTriggerUnit())
endif
endif
if(E9N())then
if(E8N())then
set DWV=GetTriggerUnit()
call DialogClearBJ(SC[0])
set DPV[$C]=DialogAddButtonBJ(SC[0],"Unbreakable")
set DPV[$D]=DialogAddButtonBJ(SC[0],"Protector")
set DPV[$E]=DialogAddButtonBJ(SC[0],"Immortal")
call DialogDisplayBJ(true,SC[0],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A0I2',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0I0',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HZ',GetTriggerUnit())
endif
endif
if(XEN())then
if(XVN())then
set D3V=GetTriggerUnit()
call DialogClearBJ(SC[1])
set DPV[$F]=DialogAddButtonBJ(SC[1],"Furious Stomp")
set DPV[16]=DialogAddButtonBJ(SC[1],"Double Edge")
set DPV[17]=DialogAddButtonBJ(SC[1],"Maim")
call DialogDisplayBJ(true,SC[1],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18O',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18N',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HL',GetTriggerUnit())
endif
endif
if(XTN())then
if(XSN())then
call UnitAddAbilityBJ('A09W',GetTriggerUnit())
else
call IncUnitAbilityLevelSwapped('A09W',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1GZ',GetTriggerUnit())
endif
endif
if(XQN())then
if(XPN())then
call UnitAddAbilityBJ('A1GZ',GetTriggerUnit())
else
call IncUnitAbilityLevelSwapped('A09W',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1GZ',GetTriggerUnit())
endif
endif
if(XKN())then
if(XJN())then
call UnitAddAbilityBJ('A1RS',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
else
call IncUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1RS',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
endif
endif
if(XMN())then
if(XLN())then
call UnitAddAbilityBJ('A1RQ',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
else
call IncUnitAbilityLevelSwapped('A1RQ',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1RS',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
endif
endif
if(XFN())then
if(XDN())then
call UnitAddAbilityBJ('AOcr',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
else
call IncUnitAbilityLevelSwapped('A1RW',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('AOcr',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
endif
if(XHN())then
if(XGN())then
call UnitAddAbilityBJ('A1RW',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
else
call IncUnitAbilityLevelSwapped('A1RW',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('AOcr',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
endif
if(XNN())then
if(XAN())then
call UnitAddAbilityBJ('A1WM',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
else
call IncUnitAbilityLevelSwapped('A09X',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1WM',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
endif
if(XCN())then
if(XBN())then
call UnitAddAbilityBJ('A09X',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
else
call IncUnitAbilityLevelSwapped('A09X',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1WM',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,2)
endif
endif
if(XON())then
if(XXN())then
call UnitAddAbilityBJ('A1RZ',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
else
call IncUnitAbilityLevelSwapped('A1S0',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1RZ',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
endif
if(XIN())then
if(XRN())then
call UnitAddAbilityBJ('A1S0',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
else
call IncUnitAbilityLevelSwapped('A1S0',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1RZ',GetTriggerUnit())
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,4)
endif
endif
if(XWN())then
if(XUN())then
set D3V=GetTriggerUnit()
call DialogClearBJ(SC[1])
set DPV[18]=DialogAddButtonBJ(SC[1],"Rage")
set DPV[19]=DialogAddButtonBJ(SC[1],"Critical Strike")
set DPV[20]=DialogAddButtonBJ(SC[1],"Revenge")
call DialogDisplayBJ(true,SC[1],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18Q',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18P',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0HO',GetTriggerUnit())
endif
endif
if(XZN())then
if(XYN())then
set D3V=GetTriggerUnit()
call DialogClearBJ(SC[1])
set DPV[21]=DialogAddButtonBJ(SC[1],"Skin Breaker")
set DPV[22]=DialogAddButtonBJ(SC[1],"Stamina")
set DPV[23]=DialogAddButtonBJ(SC[1],"Fighting Mastery")
call DialogDisplayBJ(true,SC[1],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18T',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18S',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18R',GetTriggerUnit())
endif
endif
if(X0N())then
if(X_N())then
set D3V=GetTriggerUnit()
call DialogClearBJ(SC[1])
set DPV[24]=DialogAddButtonBJ(SC[1],"Berseker")
set DPV[25]=DialogAddButtonBJ(SC[1],"Feel My Pain")
set DPV[26]=DialogAddButtonBJ(SC[1],"Hidden Power")
call DialogDisplayBJ(true,SC[1],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18Z',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18Y',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18U',GetTriggerUnit())
endif
endif
if(X2N())then
if(X1N())then
set D3V=GetTriggerUnit()
call DialogClearBJ(SC[1])
set DPV[27]=DialogAddButtonBJ(SC[1],"Battle Experience")
set DPV[28]=DialogAddButtonBJ(SC[1],"Road To Victory")
set DPV[29]=DialogAddButtonBJ(SC[1],"Cutter")
call DialogDisplayBJ(true,SC[1],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18W',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18X',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18V',GetTriggerUnit())
endif
endif
if(X4N())then
if(X3N())then
set GIV=GetTriggerUnit()
call DialogClearBJ(SC[2])
set DPV[30]=DialogAddButtonBJ(SC[2],"Dragon Breath")
set DPV[31]=DialogAddButtonBJ(SC[2],"Dragon Slash")
set DPV[32]=DialogAddButtonBJ(SC[2],"Tharos Blow")
call DialogDisplayBJ(true,SC[2],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A1BQ',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1BW',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1BX',GetTriggerUnit())
endif
endif
if(X7N())then
if(X6N())then
set GIV=GetTriggerUnit()
call DialogClearBJ(SC[2])
set DPV[33]=DialogAddButtonBJ(SC[2],"Tharos Clap")
set DPV[34]=DialogAddButtonBJ(SC[2],"Dragon Skin")
set DPV[35]=DialogAddButtonBJ(SC[2],"Cutting Scales")
call DialogDisplayBJ(true,SC[2],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A1BZ',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1C0',GetTriggerUnit())
if(X5N())then
if GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())>0 and GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())<5 then
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GetTriggerUnit()))+1),GetOwningPlayer(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())>4 and GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())<8 then
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GetTriggerUnit()))+2),GetOwningPlayer(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())==8then
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GetTriggerUnit()))+3),GetOwningPlayer(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('A1BY',GetTriggerUnit())==9then
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GetTriggerUnit()))+5),GetOwningPlayer(GetTriggerUnit()))
endif
endif
endif
endif
if(X9N())then
if(X8N())then
set GIV=GetTriggerUnit()
call DialogClearBJ(SC[2])
set DPV[36]=DialogAddButtonBJ(SC[2],"Mutilation")
set DPV[37]=DialogAddButtonBJ(SC[2],"Dragon Blood")
set DPV[38]=DialogAddButtonBJ(SC[2],"Stamina")
call DialogDisplayBJ(true,SC[2],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A1C1',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1C2',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A18T',GetTriggerUnit())
endif
endif
if(OEN())then
if(OVN())then
set GIV=GetTriggerUnit()
call DialogClearBJ(SC[2])
set DPV[39]=DialogAddButtonBJ(SC[2],"Summon Dragon")
set DPV[40]=DialogAddButtonBJ(SC[2],"Armor Demolish")
set DPV[41]=DialogAddButtonBJ(SC[2],"Tharos Fury")
call DialogDisplayBJ(true,SC[2],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A1C9',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1C7',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1C3',GetTriggerUnit())
endif
endif
if(OON())then
if(OXN())then
set F0V=2
endif
endif
if(OIN())then
if(ORN())then
set GAV=GetTriggerUnit()
call DialogClearBJ(SC[3])
set DPV[68]=DialogAddButtonBJ(SC[3],"Stamina")
set DPV[69]=DialogAddButtonBJ(SC[3],"Blood Thirsty")
call DialogDisplayBJ(true,SC[3],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A18T',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A0C2',GetTriggerUnit())
endif
endif
if(ONN())then
if(OAN())then
set GBV=GetTriggerUnit()
call DialogClearBJ(SC[4])
call DialogSetMessageBJ(SC[4],"Choose which type of scaling you want")
set DPV[76]=DialogAddButtonBJ(SC[4],"Damage based on your SpellPower")
set DPV[77]=DialogAddButtonBJ(SC[4],"% Damage based of maximum Hitpoints")
call DialogDisplayBJ(true,SC[4],GetOwningPlayer(GetTriggerUnit()))
else
call IncUnitAbilityLevelSwapped('A11C',GetTriggerUnit())
call IncUnitAbilityLevelSwapped('A1Y2',GetTriggerUnit())
endif
endif
if(OBN())then
if GetUnitAbilityLevelSwapped('A080',GetTriggerUnit())==1 then
call UnitAddAbilityBJ('A081',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A080',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A081',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A080',GetTriggerUnit()))
endif
endif
if(OCN())then
call SetPlayerAbilityAvailableBJ(false,'ANpi',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'ANpi',GetOwningPlayer(GetTriggerUnit()))
endif
if(ODN())then
if GetUnitAbilityLevelSwapped('A0TJ',GetTriggerUnit())==1 then
call EnableTrigger(Q8V)
endif
endif
if(OFN())then
if GetUnitAbilityLevelSwapped('A0ZJ',GetTriggerUnit())==1 then
set R1V=GetTriggerUnit()
endif
endif
endfunction
function OHN takes nothing returns nothing
set CNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CNE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(CNE,Condition(function E_N))
call TriggerAddAction(CNE,function OGN)
endfunction
function OJN takes nothing returns boolean
return(JFV==GLV)
endfunction
function OKN takes nothing returns boolean
return(JFV==FLV)
endfunction
function OLN takes nothing returns boolean
return(JFV==IHV)
endfunction
function OMN takes nothing returns boolean
return(F3V>=20)
endfunction
function OPN takes nothing returns boolean
return(F0V<2)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=1)
endfunction
function OQN takes nothing returns boolean
return(F2V>=22)
endfunction
function OSN takes nothing returns boolean
return(F0V==2)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=2)and(GetUnitLevel(GetTriggerUnit())>=3)
endfunction
function OTN takes nothing returns boolean
return(F1V>=60)
endfunction
function OUN takes nothing returns boolean
return(F0V==3)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=3)
endfunction
function OWN takes nothing returns boolean
return(GOV<2)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=4)and(GetUnitLevel(GetTriggerUnit())>=$A)
endfunction
function OYN takes nothing returns boolean
return(F4V>=42)
endfunction
function OZN takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nspr')
endfunction
function O_N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nssp')
endfunction
function O0N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nsgt')
endfunction
function O1N takes nothing returns boolean
return GetBooleanOr(O_N(),O0N())
endfunction
function O2N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=5)and(GetBooleanOr(OZN(),O1N()))
endfunction
function O3N takes nothing returns boolean
return(GOV==2)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=6)and(GetUnitLevel(GetTriggerUnit())>=36)
endfunction
function O4N takes nothing returns boolean
return(F7V>=500)
endfunction
function O5N takes nothing returns boolean
return(F0V<=4)and(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=7)
endfunction
function O6N takes nothing returns boolean
return(F5V>=19)
endfunction
function O7N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlpr')
endfunction
function O8N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlsn')
endfunction
function O9N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nlds')
endfunction
function RVN takes nothing returns boolean
return GetBooleanOr(O8N(),O9N())
endfunction
function REN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())>=8)and(GetBooleanOr(O7N(),RVN()))
endfunction
function RXN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())==9)and(GetUnitLevel(GetTriggerUnit())>=62)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function RON takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())==9)and(GetUnitLevel(GetTriggerUnit())>=98)and(GOV==3)
endfunction
function RRN takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1BO',GetKillingUnitBJ())==9)and(GetUnitLevel(GetTriggerUnit())>=96)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT))and(FYV==0))!=null
endfunction
function RIN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))>=$A)
endfunction
function RAN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))>=30)
endfunction
function RNN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))>=50)
endfunction
function RBN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))>='d')
endfunction
function RCN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))>=$AF)
endfunction
function RDN takes nothing returns nothing
if(OPN())then
set F3V=(F3V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S(F3V),XVV,10.,13.,6.,6.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(OMN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 100 bonus damage.")
call UnitAddAbilityBJ('A1WI',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GRV=(GRV+1)
set F0V=2
endif
endif
if(OSN())then
set F2V=(F2V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S((F2V)),XVV,10.,13.,6.,6.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(OQN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 35 base strength.")
call ModifyHeroStat(bj_HEROSTAT_STR,JFV,bj_MODIFYMETHOD_ADD,35)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GRV=(GRV+1)
set F0V=(F0V+1)
endif
endif
if(OUN())then
set F1V=(F1V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S((F1V)),XVV,10.,13.,6.,6.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(OTN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 800 hit points.")
call UnitAddAbilityBJ('A01P',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GRV=(GRV+1)
set F0V=(F0V+1)
endif
endif
if(OWN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 190 bonus damage.")
call UnitAddAbilityBJ('A1BN',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GRV=(GRV+1)
set GOV=2
set F6V=1
endif
if(O2N())then
set F4V=(F4V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S((F4V)),XVV,10.,13.,6.,99.,6.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(OYN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 28 base damage.")
call SetPlayerTechResearchedSwap('R05Y',(GetPlayerTechCountSimple('R05Y',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set F4V=0
set GRV=(GRV+1)
set GVV=GVV+1
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))+1))
endif
endif
if(O3N())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with Dragkur.")
call UnitAddItemByIdSwapped('I0G7',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GOV=3
set GRV=(GRV+1)
set F8V=1
endif
if(O5N())then
set F7V=(F7V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S((F7V)),XVV,10.,13.,6.,6.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(O4N())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 3000 hit points.")
call UnitAddAbilityBJ('A0FU',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))+8))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))+8))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))+8))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))+8))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))+8))
set F0V=(F0V+1)
set GRV=(GRV+1)
endif
endif
if(REN())then
set F5V=(F5V+1)
set XVV=GetUnitLoc(JFV)
call CreateTextTagLocBJ(I2S((F5V)),XVV,10.,13.,6.,99.,6.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
if(O6N())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 14 base strength.")
call ModifyHeroStat(bj_HEROSTAT_STR,JFV,bj_MODIFYMETHOD_ADD,$E)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set F5V=0
set GRV=(GRV+1)
set GEV=GEV+1
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))+1))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))+1))
endif
endif
if(RXN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 28 base damage and 18 strength.")
call SetPlayerTechResearchedSwap('R05Y',(GetPlayerTechCountSimple('R05Y',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call ModifyHeroStat(bj_HEROSTAT_STR,JFV,bj_MODIFYMETHOD_ADD,16)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GRV=(GRV+1)
set GXV=GXV+1
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))+2))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))+2))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))+2))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))+2))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))+2))
endif
if(RON())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with 840 base damage.")
call SetPlayerTechResearchedSwap('R05Y',(GetPlayerTechCountSimple('R05Y',GetOwningPlayer(GetKillingUnitBJ()))+30),GetOwningPlayer(GetKillingUnitBJ()))
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set GOV=5
set F9V=1
set GRV=(GRV+1)
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))+40))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))+40))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))+40))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))+40))
call SetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'),(GetItemCharges(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))+40))
endif
if(RIN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(JFV,'I0G7'))
call UnitAddItemByIdSwapped('I0G8',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RAN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(JFV,'I0G8'))
call UnitAddItemByIdSwapped('I0G9',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RNN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(JFV,'I0G9'))
call UnitAddItemByIdSwapped('I0GA',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RBN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(JFV,'I0GA'))
call UnitAddItemByIdSwapped('I0GB',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RCN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(JFV,'I0GB'))
call UnitAddItemByIdSwapped('I0GC',JFV)
call AddSpecialEffectTargetUnitBJ("origin",JFV,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(RRN())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnitBJ())),"Task Complete you are rewarded with Dragon damage.")
set Y5=GetHeroStatBJ(bj_HEROSTAT_STR,JFV,false)
set Z5=GetHeroStatBJ(bj_HEROSTAT_AGI,JFV,false)
set V6=GetHeroStatBJ(bj_HEROSTAT_INT,JFV,false)
if GetUnitAbilityLevelSwapped('A1D4',JFV)>0 then
set G1[5]=1
endif
if GetUnitAbilityLevelSwapped('A1UZ',JFV)>0 then
set G1[7]=1
endif
if GetUnitAbilityLevelSwapped('A1KB',JFV)>0 then
set G1[8]=1
endif
if GetUnitAbilityLevelSwapped('A1KA',JFV)>0 then
set G1[9]=1
endif
if GetUnitAbilityLevelSwapped('A1D5',JFV)>0 then
set G1[$A]=1
endif
if GetUnitAbilityLevelSwapped('A05A',JFV)>0 then
set G1[$B]=1
endif
if GetUnitAbilityLevelSwapped('A1V0',JFV)>0 then
set G1[$C]=1
endif
if GetUnitAbilityLevelSwapped('A0N4',JFV)>0 then
set G1[$D]=1
endif
if GetUnitAbilityLevelSwapped('A1UV',JFV)>0 then
set G1[$E]=1
endif
if GetUnitAbilityLevelSwapped('A1UW',JFV)>0 then
set G1[$F]=1
endif
if GetUnitAbilityLevelSwapped('A1UX',JFV)>0 then
set G1[16]=1
endif
if GetUnitAbilityLevelSwapped('A1UY',JFV)>0 then
set G1[17]=1
endif
if GetUnitAbilityLevelSwapped('A1UU',JFV)>0 then
set G1[18]=1
endif
if GetUnitAbilityLevelSwapped('A1UT',JFV)>0 then
set G1[19]=1
endif
if GetUnitAbilityLevelSwapped('A01Q',JFV)>0 then
set G1[20]=1
endif
if GetUnitAbilityLevelSwapped('A1QY',JFV)>0 then
set G1[21]=1
endif
if GetUnitAbilityLevelSwapped('A1P3',JFV)>0 then
set G1[22]=1
endif
if GetUnitAbilityLevelSwapped('A1QZ',JFV)>0 then
set G1[23]=1
endif
if GetUnitAbilityLevelSwapped('A1R1',JFV)>0 then
set G1[24]=1
endif
if GetUnitAbilityLevelSwapped('A1GQ',JFV)>0 then
set G1[25]=1
endif
if GetUnitAbilityLevelSwapped('A1GU',JFV)>0 then
set G1[26]=1
endif
if GetUnitAbilityLevelSwapped('A1GT',JFV)>0 then
set G1[27]=1
endif
if GetUnitAbilityLevelSwapped('A18D',JFV)>0 then
set G1[31]=1
endif
if GetUnitAbilityLevelSwapped('A18C',JFV)>0 then
set G1[32]=1
endif
if GetUnitAbilityLevelSwapped('A18E',JFV)>0 then
set G1[33]=1
endif
if GetUnitAbilityLevelSwapped('A19P',JFV)>0 then
set G1[34]=1
endif
if GetUnitAbilityLevelSwapped('A19O',JFV)>0 then
set G1[35]=1
endif
if GetUnitAbilityLevelSwapped('A19N',JFV)>0 then
set G1[36]=1
endif
call ReplaceUnitBJ(JFV,'H08P',bj_UNIT_STATE_METHOD_RELATIVE)
if(OJN())then
set GLV=GetLastReplacedUnitBJ()
endif
if(OKN())then
set FLV=GetLastReplacedUnitBJ()
endif
if(OLN())then
set IHV=GetLastReplacedUnitBJ()
endif
set JFV=GetLastReplacedUnitBJ()
call ExecuteFunc("RFN")
if F3V==20 then
call UnitAddAbilityBJ('A1WI',JFV)
endif
if F1V==60 then
call UnitAddAbilityBJ('A01P',JFV)
endif
if F6V==1 then
call UnitAddAbilityBJ('A1BN',JFV)
endif
if F7V==500 then
call UnitAddAbilityBJ('A0FU',JFV)
endif
call UnitAddAbilityBJ('A1BO',JFV)
call SetUnitAbilityLevelSwapped('A1BO',JFV,9)
call ModifyHeroSkillPoints(JFV,bj_MODIFYMETHOD_SUB,9)
set FYV=1
set WC[GetConvertedPlayerId(GetTriggerPlayer())]=false
endif
endfunction
function RGN takes nothing returns nothing
set CBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CBE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(CBE,function RDN)
endfunction
function RHN takes nothing returns boolean
return(IsUnitAliveBJ(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))
endfunction
function RJN takes nothing returns nothing
if GetUnitAbilityLevelSwapped('Abun',JZV[GetConvertedPlayerId(GetTriggerPlayer())])==0 then
call UnitAddAbilityBJ('Abun',JZV[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Auto Attack has been disabled"))
else
call UnitRemoveAbilityBJ('Abun',JZV[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Auto Attack has been enabled"))
endif
endfunction
function RKN takes nothing returns nothing
local trigger RLN
set RLN=CreateTrigger()
call TriggerRegisterPlayerChatEvent(RLN,Player(2),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(3),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(4),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(5),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(6),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(7),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(8),"-aa",false)
call TriggerRegisterPlayerChatEvent(RLN,Player(9),"-aa",false)
call TriggerAddCondition(RLN,Condition(function RHN))
call TriggerAddAction(RLN,function RJN)
endfunction
function RMN takes nothing returns boolean
return(GetOwningPlayer(JFV)==GetTriggerPlayer())
endfunction
function RPN takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Kill 20 units: "+I2S(F3V)+"/20
Kill 22 units level 3 or higher: "+I2S(F2V)+"/22
Kill 60 units: "+I2S(F1V)+"/60
Kill a level 10 or higher unit: "+I2S(F6V)+"/1
Kill a level 36 or higher unit: "+I2S(F8V)+"/1
Kill 500 units: "+I2S(F7V)+"/500
Kill a level 96 or higher dragon: "+I2S(FYV)+"/1
Kill a level 98 or higher unit: "+I2S(F9V)+"/1
Kill 42 Spiders: "+I2S(F4V)+"/42. Times completed: "+I2S(GVV)+"
Kill 19 Markrura: "+I2S(F5V)+"/19. Times completed: "+I2S(GEV)+"
Kill A level 62 or higher unit: Times completed: "+I2S(GXV)+"

Total Completed Tasks: "+I2S(GRV)))
endfunction
function RQN takes nothing returns nothing
local trigger RSN
set RSN=CreateTrigger()
call TriggerRegisterPlayerChatEvent(RSN,Player(2),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(3),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(4),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(5),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(6),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(7),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(8),"-tasks",false)
call TriggerRegisterPlayerChatEvent(RSN,Player(9),"-tasks",false)
call TriggerAddCondition(RSN,Condition(function RMN))
call TriggerAddAction(RSN,function RPN)
endfunction
function RTN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A18Z',JZV[GetConvertedPlayerId(GetTriggerPlayer())])>0)
endfunction
function RUN takes nothing returns boolean
return(D1V>59)
endfunction
function RWN takes nothing returns boolean
return(D1V>39)
endfunction
function RYN takes nothing returns boolean
return(D1V>19)
endfunction
function RZN takes nothing returns boolean
return(D4V==3)
endfunction
function R_N takes nothing returns nothing
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03P')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03Q')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03O')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='Nbbc')then
if(RZN())then
set D2V=0
else
set D2V=(D1V/ 20)
endif
call SetPlayerTechResearchedSwap('R02K',(GetPlayerTechCountSimple('R02K',GetOwningPlayer(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))+D1V),GetOwningPlayer(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))
call SetPlayerTechResearchedSwap('R02L',(GetPlayerTechCountSimple('R02L',GetOwningPlayer(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))+D2V),GetOwningPlayer(JZV[GetConvertedPlayerId(GetTriggerPlayer())]))
call ModifyHeroStat(bj_HEROSTAT_STR,JZV[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_ADD,(D1V*8))
call PlaySoundBJ(P9V)
call AddSpecialEffectLocBJ(GetUnitLoc(JZV[GetConvertedPlayerId(GetTriggerPlayer())]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(GetUnitLoc(JZV[GetConvertedPlayerId(GetTriggerPlayer())]),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",JZV[GetConvertedPlayerId(GetTriggerPlayer())],"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitRemoveAbilityBJ('A18Z',JZV[GetConvertedPlayerId(GetTriggerPlayer())])
set D4V=3
call UnitAddAbilityBJ('A198',JZV[GetConvertedPlayerId(GetTriggerPlayer())])
if(RYN())then
call AddSpecialEffectTargetUnitBJ("chest",JZV[GetConvertedPlayerId(GetTriggerPlayer())],"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
endif
if(RWN())then
call AddSpecialEffectTargetUnitBJ("origin",JZV[GetConvertedPlayerId(GetTriggerPlayer())],"Abilities\\Spells\\Other\\Doom\\DoomTarget.mdl")
endif
if(RUN())then
call AddSpecialEffectTargetUnitBJ("weapon,right",JZV[GetConvertedPlayerId(GetTriggerPlayer())],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl")
endif
endif
endfunction
function R0N takes nothing returns nothing
local trigger R1N
set R1N=CreateTrigger()
call TriggerRegisterPlayerChatEvent(R1N,Player(2),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(3),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(4),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(5),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(6),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(7),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(8),"-release",false)
call TriggerRegisterPlayerChatEvent(R1N,Player(9),"-release",false)
call TriggerAddCondition(R1N,Condition(function RTN))
call TriggerAddAction(R1N,function R_N)
endfunction
function R2N takes nothing returns nothing
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03P')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03Q')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='N03O')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='Nbbc')then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Power Release:
Gives 8 base STR per Hidden Power charge. Uncapped.

Gives 25 Attack Damage, 22% Attack speed and 50 Mana per Hidden Power charge. Caps at 300 charges. Number of charges on multiple releases stack for meeting this limit.

Gives an additional 160 Attack Damage and 1500 HP at 20 Hidden Power charges. Gives an additional 700 Attack Damage and 8000 HP at every 20 Hidden Power charges (after the first 20). Caps at 100 charges. Only works at first release."))
endif
endfunction
function R3N takes nothing returns nothing
local trigger R4N
set R4N=CreateTrigger()
call TriggerRegisterPlayerChatEvent(R4N,Player(2),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(3),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(4),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(5),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(6),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(7),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(8),"-hiddenpower",false)
call TriggerRegisterPlayerChatEvent(R4N,Player(9),"-hiddenpower",false)
call TriggerAddCondition(R4N,Condition(function RTN))
call TriggerAddAction(R4N,function R2N)
endfunction
function R5N takes nothing returns boolean
return(GetOwningPlayer(SF)==GetTriggerPlayer())
endfunction
function R6N takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A1V8',SF)>0 and GetUnitAbilityLevelSwapped('A1V8',SF)<7 then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("You have Killed "+I2S(CF)+"/"+I2S(DF*9)+"
You require "+I2S((DF*9)-CF)+" more kills to upgrade your bow
Bosses count for 25 kills"))
endif
if GetUnitAbilityLevelSwapped('A1V8',SF)>6 and GetUnitAbilityLevelSwapped('A1V8',SF)<$F then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("You have Killed "+I2S(CF)+"/"+I2S(DF*$B)+"
You require "+I2S((DF*$B)-CF)+" more kills to upgrade your bow
Bosses count for 25 kills"))
endif
if GetUnitAbilityLevelSwapped('A1V8',SF)>$E and GetUnitAbilityLevelSwapped('A1V8',SF)<17 then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("You have Killed "+I2S(CF)+"/"+I2S(DF*21-$96)+"
You require "+I2S((DF*21-$96)-CF)+" more kills to upgrade your bow
Level 70 and higher bosses count for 25 kills"))
endif
if GetUnitAbilityLevelSwapped('A1V8',SF)>16 and GetUnitAbilityLevelSwapped('A1V8',SF)<=29 then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("You have Killed "+I2S(CF)+"/200
You require "+I2S(($C8)-CF)+" more kills to upgrade your bow
Level 86 and higher bosses count for 25 kills"))
endif
if GetUnitAbilityLevelSwapped('A1V8',SF)==30 then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Your Bow has reached full potential. It cannot be upgraded anymore"))
endif
endfunction
function R7N takes nothing returns nothing
local trigger R8N
set R8N=CreateTrigger()
call TriggerRegisterPlayerChatEvent(R8N,Player(2),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(3),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(4),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(5),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(6),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(7),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(8),"-progress",false)
call TriggerRegisterPlayerChatEvent(R8N,Player(9),"-progress",false)
call TriggerAddCondition(R8N,Condition(function R5N))
call TriggerAddAction(R8N,function R6N)
endfunction
function R9N takes nothing returns nothing
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='Othr')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='O015')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='O016')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='O014')then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Devastation has been casted "+I2S(I9V)+" Times"))
endif
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H07M')then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("AntiMatter has been casted "+I2S(JTV)+" Times"))
endif
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05M')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05U')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05S')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05T')then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Rain of Fire has been casted "+I2S(AF)+"/5 Times"))
endif
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='Huth')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H013')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H012')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H01B')and GetUnitAbilityLevelSwapped('A0C2',JZV[GetConvertedPlayerId(GetTriggerPlayer())])>0then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Max Health increased on next interval of BloodThirsty: "+I2S(ED[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Total Max Health increased from BloodThirsty: "+I2S(ED[GetConvertedPlayerId(GetTriggerPlayer())+8])))
endif
if(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05D')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05E')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05F')or(GetUnitTypeId(JZV[GetConvertedPlayerId(GetTriggerPlayer())])=='H05C')and GetUnitAbilityLevelSwapped('A0TJ',JZV[GetConvertedPlayerId(GetTriggerPlayer())])>0then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Max Health increased on next interval of Glacial Toughness: "+I2S(VD[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),("Total Max Health increased from Glacial Toughness: "+I2S(VD[GetConvertedPlayerId(GetTriggerPlayer())+8])))
endif
endfunction
function IVN takes nothing returns nothing
local trigger IEN
set IEN=CreateTrigger()
call TriggerRegisterPlayerChatEvent(IEN,Player(2),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(3),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(4),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(5),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(6),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(7),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(8),"-casts",false)
call TriggerRegisterPlayerChatEvent(IEN,Player(9),"-casts",false)
call TriggerAddAction(IEN,function R9N)
endfunction
function IXN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[0])
endfunction
function ION takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[1])
endfunction
function IRN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[2])
endfunction
function IIN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[3])
endfunction
function IAN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[4])
endfunction
function INN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[5])
endfunction
function IBN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[6])
endfunction
function ICN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[7])
endfunction
function IDN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[8])
endfunction
function IFN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[9])
endfunction
function IGN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$A])
endfunction
function IHN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$B])
endfunction
function IJN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$C])
endfunction
function IKN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$D])
endfunction
function ILN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$E])
endfunction
function IMN takes nothing returns nothing
if(IXN())then
call UnitAddAbilityBJ('A0HL',DWV)
call SetUnitAbilityLevelSwapped('A0HL',DWV,GetUnitAbilityLevelSwapped('A0I3',DWV))
endif
if(ION())then
call UnitAddAbilityBJ('A0HK',DWV)
call SetUnitAbilityLevelSwapped('A0HK',DWV,GetUnitAbilityLevelSwapped('A0I3',DWV))
endif
if(IRN())then
call UnitAddAbilityBJ('A0HM',DWV)
call SetUnitAbilityLevelSwapped('A0HM',DWV,GetUnitAbilityLevelSwapped('A0I3',DWV))
endif
if(IIN())then
call UnitAddAbilityBJ('A0HO',DWV)
call SetUnitAbilityLevelSwapped('A0HO',DWV,GetUnitAbilityLevelSwapped('A0I4',DWV))
endif
if(IAN())then
call UnitAddAbilityBJ('A0PA',DWV)
call SetUnitAbilityLevelSwapped('A0PA',DWV,GetUnitAbilityLevelSwapped('A0I4',DWV))
endif
if(INN())then
call UnitAddAbilityBJ('A0HN',DWV)
call SetUnitAbilityLevelSwapped('A0HN',DWV,GetUnitAbilityLevelSwapped('A0I4',DWV))
endif
if(IBN())then
call UnitAddAbilityBJ('A0HR',DWV)
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(DWV))+2),GetOwningPlayer(DWV))
if(GetUnitAbilityLevelSwapped('A18I',DWV))==2 then
call SetUnitAbilityLevelSwapped('A0HR',DWV,GetUnitAbilityLevelSwapped('A18I',DWV))
call SetPlayerTechResearchedSwap('R02H',(GetPlayerTechCountSimple('R02H',GetOwningPlayer(DWV))+2),GetOwningPlayer(DWV))
endif
endif
if(ICN())then
call UnitAddAbilityBJ('A0HP',DWV)
call SetUnitAbilityLevelSwapped('A0HP',DWV,GetUnitAbilityLevelSwapped('A18I',DWV))
endif
if(IDN())then
call UnitAddAbilityBJ('A0HQ',DWV)
call SetUnitAbilityLevelSwapped('A0HQ',DWV,GetUnitAbilityLevelSwapped('A18I',DWV))
endif
if(IFN())then
call UnitAddAbilityBJ('A0HX',DWV)
call SetUnitAbilityLevelSwapped('A0HX',DWV,GetUnitAbilityLevelSwapped('A18J',DWV))
endif
if(IGN())then
call UnitAddAbilityBJ('A0HS',DWV)
call SetUnitAbilityLevelSwapped('A0HS',DWV,GetUnitAbilityLevelSwapped('A18J',DWV))
endif
if(IHN())then
call UnitAddAbilityBJ('A0HY',DWV)
call SetUnitAbilityLevelSwapped('A0HY',DWV,GetUnitAbilityLevelSwapped('A18J',DWV))
endif
if(IJN())then
call UnitAddAbilityBJ('A0HZ',DWV)
call SetUnitAbilityLevelSwapped('A0HZ',DWV,GetUnitAbilityLevelSwapped('A18K',DWV))
endif
if(IKN())then
call UnitAddAbilityBJ('A0I0',DWV)
call SetUnitAbilityLevelSwapped('A0I0',DWV,GetUnitAbilityLevelSwapped('A18K',DWV))
endif
if(ILN())then
call UnitAddAbilityBJ('A0I2',DWV)
call UnitAddAbilityBJ('A1DA',DWV)
call SetUnitAbilityLevelSwapped('A0I2',DWV,GetUnitAbilityLevelSwapped('A18K',DWV))
endif
set DWV=null
endfunction
function IPN takes nothing returns nothing
set CCE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CCE,SC[0])
call TriggerAddAction(CCE,function IMN)
endfunction
function IQN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[$F])
endfunction
function ISN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[16])
endfunction
function ITN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[17])
endfunction
function IUN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[18])
endfunction
function IWN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[19])
endfunction
function IYN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[20])
endfunction
function IZN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[21])
endfunction
function I_N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[22])
endfunction
function I0N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[23])
endfunction
function I1N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[24])
endfunction
function I2N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[25])
endfunction
function I3N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[26])
endfunction
function I4N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[27])
endfunction
function I5N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[28])
endfunction
function I6N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[29])
endfunction
function I7N takes nothing returns nothing
if(IQN())then
call UnitAddAbilityBJ('A0HL',D3V)
call SetUnitAbilityLevelSwapped('A0HL',D3V,GetUnitAbilityLevelSwapped('A191',D3V))
endif
if(ISN())then
call UnitAddAbilityBJ('A18N',D3V)
call SetUnitAbilityLevelSwapped('A18N',D3V,GetUnitAbilityLevelSwapped('A191',D3V))
endif
if(ITN())then
call UnitAddAbilityBJ('A18O',D3V)
call SetUnitAbilityLevelSwapped('A18O',D3V,GetUnitAbilityLevelSwapped('A191',D3V))
endif
if(IUN())then
call UnitAddAbilityBJ('A18P',D3V)
call SetUnitAbilityLevelSwapped('A18P',D3V,GetUnitAbilityLevelSwapped('A192',D3V))
endif
if(IWN())then
call UnitAddAbilityBJ('A18Q',D3V)
call SetUnitAbilityLevelSwapped('A18Q',D3V,GetUnitAbilityLevelSwapped('A192',D3V))
endif
if(IYN())then
call UnitAddAbilityBJ('A0HO',D3V)
call SetUnitAbilityLevelSwapped('A0HO',D3V,GetUnitAbilityLevelSwapped('A192',D3V))
endif
if(IZN())then
call UnitAddAbilityBJ('A18R',D3V)
call SetUnitAbilityLevelSwapped('A18R',D3V,GetUnitAbilityLevelSwapped('A193',D3V))
endif
if(I_N())then
call UnitAddAbilityBJ('A18T',D3V)
call SetUnitAbilityLevelSwapped('A18T',D3V,GetUnitAbilityLevelSwapped('A193',D3V))
endif
if(I0N())then
call UnitAddAbilityBJ('A18S',D3V)
call SetUnitAbilityLevelSwapped('A18S',D3V,GetUnitAbilityLevelSwapped('A193',D3V))
endif
if(I1N())then
call UnitAddAbilityBJ('A18U',D3V)
call SetUnitAbilityLevelSwapped('A18U',D3V,GetUnitAbilityLevelSwapped('A194',D3V))
endif
if(I2N())then
call UnitAddAbilityBJ('A18Y',D3V)
call SetUnitAbilityLevelSwapped('A18Y',D3V,GetUnitAbilityLevelSwapped('A194',D3V))
endif
if(I3N())then
call UnitAddAbilityBJ('A18Z',D3V)
call SetUnitAbilityLevelSwapped('A18Z',D3V,GetUnitAbilityLevelSwapped('A194',D3V))
endif
if(I4N())then
call UnitAddAbilityBJ('A18V',D3V)
call SetUnitAbilityLevelSwapped('A18V',D3V,GetUnitAbilityLevelSwapped('A195',D3V))
endif
if(I5N())then
call UnitAddAbilityBJ('A18W',D3V)
call SetUnitAbilityLevelSwapped('A18W',D3V,GetUnitAbilityLevelSwapped('A195',D3V))
endif
if(I6N())then
call UnitAddAbilityBJ('A18X',D3V)
call SetUnitAbilityLevelSwapped('A18X',D3V,GetUnitAbilityLevelSwapped('A195',D3V))
endif
set D3V=null
endfunction
function I8N takes nothing returns nothing
set CDE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CDE,SC[1])
call TriggerAddAction(CDE,function I7N)
endfunction
function I9N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[30])
endfunction
function AVN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[31])
endfunction
function AEN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[32])
endfunction
function AXN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[33])
endfunction
function AON takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[34])
endfunction
function ARN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[35])
endfunction
function AIN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[36])
endfunction
function AAN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[37])
endfunction
function ANN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[38])
endfunction
function ABN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[39])
endfunction
function ACN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[40])
endfunction
function ADN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[41])
endfunction
function AFN takes nothing returns nothing
if(I9N())then
call UnitAddAbilityBJ('A1BQ',GIV)
call SetUnitAbilityLevelSwapped('A1BQ',GIV,GetUnitAbilityLevelSwapped('A1C4',GIV))
endif
if(AVN())then
call UnitAddAbilityBJ('A1BW',GIV)
call SetUnitAbilityLevelSwapped('A1BW',GIV,GetUnitAbilityLevelSwapped('A1C4',GIV))
endif
if(AEN())then
call UnitAddAbilityBJ('A1BX',GIV)
call SetUnitAbilityLevelSwapped('A1BX',GIV,GetUnitAbilityLevelSwapped('A1C4',GIV))
endif
if(AXN())then
call UnitAddAbilityBJ('A1BZ',GIV)
call SetUnitAbilityLevelSwapped('A1BZ',GIV,GetUnitAbilityLevelSwapped('A1C5',GIV))
endif
if(AON())then
call UnitAddAbilityBJ('A1BY',GIV)
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GIV))+1),GetOwningPlayer(GIV))
if(GetUnitAbilityLevelSwapped('A1C5',GIV))==2 then
call SetUnitAbilityLevelSwapped('A1BY',GIV,GetUnitAbilityLevelSwapped('A1C5',GIV))
call SetPlayerTechResearchedSwap('R02N',(GetPlayerTechCountSimple('R02N',GetOwningPlayer(GIV))+1),GetOwningPlayer(GIV))
endif
endif
if(ARN())then
call UnitAddAbilityBJ('A1C0',GIV)
call SetUnitAbilityLevelSwapped('A1C0',GIV,GetUnitAbilityLevelSwapped('A1C5',GIV))
endif
if(AIN())then
call UnitAddAbilityBJ('A1C1',GIV)
call SetUnitAbilityLevelSwapped('A1C1',GIV,GetUnitAbilityLevelSwapped('A1C6',GIV))
endif
if(AAN())then
call UnitAddAbilityBJ('A1C2',GIV)
call SetUnitAbilityLevelSwapped('A1C2',GIV,GetUnitAbilityLevelSwapped('A1C6',GIV))
endif
if(ANN())then
call UnitAddAbilityBJ('A18T',GIV)
call SetUnitAbilityLevelSwapped('A18T',GIV,GetUnitAbilityLevelSwapped('A1C6',GIV))
endif
if(ABN())then
call UnitAddAbilityBJ('A1C9',GIV)
call SetUnitAbilityLevelSwapped('A1C9',GIV,GetUnitAbilityLevelSwapped('A1CD',GIV))
endif
if(ACN())then
call UnitAddAbilityBJ('A1C7',GIV)
call SetUnitAbilityLevelSwapped('A1C7',GIV,GetUnitAbilityLevelSwapped('A1CD',GIV))
endif
if(ADN())then
call UnitAddAbilityBJ('A1C3',GIV)
call SetUnitAbilityLevelSwapped('A1C3',GIV,GetUnitAbilityLevelSwapped('A1CD',GIV))
endif
set GIV=null
endfunction
function AGN takes nothing returns nothing
set CFE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CFE,SC[2])
call TriggerAddAction(CFE,function AFN)
endfunction
function AHN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[68])
endfunction
function AJN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[69])
endfunction
function AKN takes nothing returns nothing
if(AHN())then
call UnitAddAbilityBJ('A18T',GAV)
call SetUnitAbilityLevelSwapped('A18T',GAV,GetUnitAbilityLevelSwapped('A1UI',GAV))
endif
if(AJN())then
call UnitAddAbilityBJ('A0C2',GAV)
call SetUnitAbilityLevelSwapped('A0C2',GAV,GetUnitAbilityLevelSwapped('A1UI',GAV))
set GNV=GAV
call EnableTrigger(Q9V)
endif
set GAV=null
endfunction
function ALN takes nothing returns nothing
local trigger AMN
set AMN=CreateTrigger()
call TriggerRegisterDialogEventBJ(AMN,SC[3])
call TriggerAddAction(AMN,function AKN)
endfunction
function APN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[76])
endfunction
function AQN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[77])
endfunction
function ASN takes nothing returns nothing
if(APN())then
call UnitAddAbilityBJ('A11C',GBV)
call SetUnitAbilityLevelSwapped('A11C',GBV,GetUnitAbilityLevelSwapped('A1Y3',GBV))
endif
if(AQN())then
call UnitAddAbilityBJ('A1Y2',GBV)
call SetUnitAbilityLevelSwapped('A1Y2',GBV,GetUnitAbilityLevelSwapped('A1Y3',GBV))
endif
set GBV=null
endfunction
function ATN takes nothing returns nothing
local trigger AUN
set AUN=CreateTrigger()
call TriggerRegisterDialogEventBJ(AUN,SC[4])
call TriggerAddAction(AUN,function ASN)
endfunction
function AWN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[70])
endfunction
function AYN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[71])
endfunction
function AZN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[72])
endfunction
function A_N takes nothing returns nothing
if(AWN())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Last Bounty has been cancelled by|r "+(GetPlayerName(GetTriggerPlayer())))
set FIV=0
set FNV=0
set NG=null
endif
if(AYN())then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Last Repeatable Bounty has been cancelled by|r "+(GetPlayerName(GetTriggerPlayer())))
set FAV=0
set FNV=0
set BG=null
endif
if(AZN())then
call DialogClear(SC[5])
set FNV=0
endif
endfunction
function A0N takes nothing returns nothing
set CGE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CGE,SC[5])
call TriggerAddAction(CGE,function A_N)
endfunction
function A1N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[73])
endfunction
function A2N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[74])
endfunction
function A3N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[75])
endfunction
function A4N takes nothing returns nothing
if(A1N())then
call UnitAddItemById(HJ,'I0DJ')
set HJ=null
endif
if(A2N())then
call UnitAddItemById(HJ,'I0HR')
set HJ=null
endif
if(A3N())then
call UnitAddItemById(HJ,'I0HS')
set HJ=null
endif
endfunction
function A5N takes nothing returns nothing
local trigger A6N
set A6N=CreateTrigger()
call TriggerRegisterDialogEventBJ(A6N,SC[9])
call TriggerAddAction(A6N,function A4N)
endfunction
function A7N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[65])
endfunction
function A8N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[66])
endfunction
function A9N takes nothing returns nothing
if(A7N())then
call UnitAddAbilityBJ('A09W',JKV)
endif
if(A8N())then
call UnitAddAbilityBJ('A1GZ',JKV)
endif
endfunction
function NVN takes nothing returns nothing
set CHE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CHE,JLV)
call TriggerAddAction(CHE,function A9N)
endfunction
function NEN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[42])
endfunction
function NXN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[43])
endfunction
function NON takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[44])
endfunction
function NRN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[45])
endfunction
function NIN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[46])
endfunction
function NAN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[47])
endfunction
function NNN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[48])
endfunction
function NBN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[49])
endfunction
function NCN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[50])
endfunction
function NDN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[67])
endfunction
function NFN takes nothing returns nothing
set VH=0
if(NEN())then
call UnitAddAbilityBJ('A1CG',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CG'
endif
if(NXN())then
call UnitAddAbilityBJ('A1CF',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CF'
endif
if(NON())then
call UnitAddAbilityBJ('A1CI',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CI'
endif
if(NRN())then
call UnitAddAbilityBJ('A1CH',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CH'
endif
if(NIN())then
call UnitAddAbilityBJ('A1CJ',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CJ'
endif
if(NAN())then
call UnitAddAbilityBJ('A1CK',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CK'
endif
if(NNN())then
call UnitAddAbilityBJ('A1CM',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CM'
endif
if(NBN())then
call UnitAddAbilityBJ('A1CN',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CN'
endif
if(NCN())then
call UnitAddAbilityBJ('A1CL',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1CL'
endif
if(NDN())then
call UnitAddAbilityBJ('A1U4',GMV)
set ZB[GetConvertedPlayerId(GetOwningPlayer(GMV))]='A1U4'
endif
set GMV=null
endfunction
function NGN takes nothing returns nothing
set CJE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CJE,SC[7])
call TriggerAddAction(CJE,function NFN)
endfunction
function NHN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[51])
endfunction
function NJN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[52])
endfunction
function NKN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[53])
endfunction
function NLN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[54])
endfunction
function NMN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[55])
endfunction
function NPN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[56])
endfunction
function NQN takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[57])
endfunction
function NSN takes nothing returns nothing
if(NHN())then
set GHV=3
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X5',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X5',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NJN())then
set GHV=7
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X9',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X9',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NKN())then
set GHV=4
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X6',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X6',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NLN())then
set GHV=5
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X7',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X7',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NMN())then
set GHV=2
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X4',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X4',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NPN())then
set GHV=6
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X8',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X8',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if(NQN())then
set GHV=8
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1XA',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1XA',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
endfunction
function NTN takes nothing returns nothing
set CKE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CKE,SC[6])
call TriggerAddAction(CKE,function NSN)
endfunction
function NUN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DO')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function NWN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DM')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function NYN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DP')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function NZN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DN')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N_N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0F5')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N0N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0H7')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N1N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0FI')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N2N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HM')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N3N takes nothing returns boolean
return(GetItemUserData(GetManipulatedItem())==17)
endfunction
function N4N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DR')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N5N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0J4')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N6N takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I0CN')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitIllusionBJ(GetTriggerUnit())==false))!=null
endfunction
function N7N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0FJ')and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function N8N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0G3')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function N9N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0D9')
endfunction
function BVN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HK')and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function BEN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HI')and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function BXN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HN')and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function BON takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HJ')and(GetUnitPointValue(GetTriggerUnit())!=$FA)
endfunction
function BRN takes nothing returns nothing
if(NUN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1 then
call UnitAddAbilityBJ('A161',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(NWN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]==1 then
call UnitAddAbilityBJ('A162',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(NYN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]==1 then
call UnitAddAbilityBJ('A15Z',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(NZN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]==1 then
call UnitAddAbilityBJ('A160',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(N_N())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]==1 then
call UnitAddAbilityBJ('A19U',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddAbilityBJ('A19T',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(N0N())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==1 then
call UnitAddAbilityBJ('A1ER',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(N1N())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]==1 then
call UnitAddAbilityBJ('A1AK',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddAbilityBJ('A1AJ',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(N2N())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]+1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]==1 then
call UnitAddAbilityBJ('A1GL',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(N3N())then
call RemoveItem(GetManipulatedItem())
endif
if(N4N())then
set BQV=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_ADD,($A*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_ADD,($A*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_ADD,(16*GetItemCharges(GetManipulatedItem())))
endif
if(N5N())then
set BQV=GetTriggerUnit()
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_ADD,$3E8)
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_ADD,$3E8)
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_ADD,$640)
endif
if(N6N())then
if(QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==null)then
set XVV=GetUnitLoc(GetTriggerUnit())
set QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),'h05N',XVV,bj_UNIT_FACING)
call ShowUnitHide(QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddAbilityBJ('A10T',QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveLocation(XVV)
endif
endif
if(N7N())then
call QBE(GetTriggerUnit(),2,QFE(GetTriggerUnit(),2)+'d')
endif
if(N8N())then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
call SetItemCharges(GetManipulatedItem(),GetPlayerTechCountSimple('R05W',GetOwningPlayer(GetTriggerUnit())))
else
if GetUnitAbilityLevelSwapped('A084',GetTriggerUnit())>0 then
call SetItemCharges(GetManipulatedItem(),GetUnitAbilityLevelSwapped('A084',GetTriggerUnit()))
endif
endif
endif
if(N9N())then
if GetRandomInt(1,$A)<=3 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set HB=GetRandomInt(1,3)
if HB==1 then
set HB=GetRandomInt(3,7)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,HB)
set JB="+"+I2S(HB)+" |CFF20C000Agility|r"
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set HB=0
endif
if HB==2 then
set HB=GetRandomInt(4,8)
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,HB)
set JB="+"+I2S(HB)+" |cffff0000Strength|r"
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set HB=0
endif
if HB==3 then
set HB=GetRandomInt(2,$C)
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,HB)
set JB="+"+I2S(HB)+" |CFF0042FFIntelligence|r"
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set HB=0
endif
else
if GetRandomInt(1,$A)<=3 then
set HB=GetRandomInt('d',800)
call QVE(GetTriggerUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())+HB)
set ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=ZC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+HB
set JB="+"+I2S(HB)+" Max Hitpoints"
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if GetRandomInt(1,$A)<=6 then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DA',XVV)
call RemoveLocation(XVV)
set JB="Too bad! Lump of Coal"
else
set XVV=GetUnitLoc(GetTriggerUnit())
if GetRandomInt(1,300)<2 then
call CreateItemLoc('I0E0',XVV)
else
if GetRandomInt(1,'d')<5 then
call CreateItemLoc('I0AF',XVV)
else
if GetRandomInt(1,'d')<6 then
call CreateItemLoc('I09X',XVV)
else
if GetRandomInt(1,'d')<7 then
call CreateItemLoc('I0AS',XVV)
else
if GetRandomInt(1,'d')<$A then
call CreateItemLoc('I0AX',XVV)
else
if GetRandomInt(1,'d')<$B then
call CreateItemLoc('I0DN',XVV)
else
if GetRandomInt(1,'d')<$D then
call CreateItemLoc('I0CU',XVV)
else
if GetRandomInt(1,'d')<$D then
call CreateItemLoc('I0A5',XVV)
else
if GetRandomInt(1,'d')<$F then
call CreateItemLoc('I0BJ',XVV)
else
if GetRandomInt(1,'d')<21 then
call CreateItemLoc('I0B2',XVV)
else
if GetRandomInt(1,'d')<22 then
call CreateItemLoc('I0B9',XVV)
else
call CreateItemLoc('I0AM',XVV)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
set JB="You open the present and find an item inside. You got: "+GetItemName(GetLastCreatedItem())
call RemoveLocation(XVV)
endif
endif
endif
endif
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,JB)
set JB=null
set HB=0
endif
if(BVN())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)+$C8)
endif
if(BEN())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)+55)
endif
if(BXN())then
call QBE(GetTriggerUnit(),2,QFE(GetTriggerUnit(),2)+$96)
endif
if(BON())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)+90)
endif
endfunction
function BIN takes nothing returns nothing
set AFE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AFE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(AFE,function BRN)
endfunction
function BAN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DO')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BNN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DM')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BBN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0F5')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BCN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HM')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BDN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0FI')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BFN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DP')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BGN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0H7')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BHN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DN')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BJN takes nothing returns boolean
return(GetTriggerUnit()==DIV)and(D_V>=2.)
endfunction
function BKN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0DR')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BLN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0J4')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function BMN takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I0K4')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function BPN takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I0CN')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function BQN takes nothing returns nothing
if(BAN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0 then
call UnitRemoveAbilityBJ('A161',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BNN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]==0 then
call UnitRemoveAbilityBJ('A162',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BBN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]==0 then
call UnitRemoveAbilityBJ('A19U',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitRemoveAbilityBJ('A19T',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BCN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+56]==0 then
call UnitRemoveAbilityBJ('A1GL',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BDN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+48]==0 then
call UnitRemoveAbilityBJ('A1AK',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitRemoveAbilityBJ('A1AJ',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BFN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]==0 then
call UnitRemoveAbilityBJ('A15Z',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BGN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==0 then
call UnitRemoveAbilityBJ('A1ER',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BHN())then
set LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]=LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]-1
if LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]==0 then
call UnitRemoveAbilityBJ('A160',JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
endif
if(BJN())then
set G3V=8
endif
if(BKN())then
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_SUB,($A*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_SUB,($A*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_SUB,(16*GetItemCharges(GetManipulatedItem())))
endif
if(BLN())then
call ModifyHeroStat(bj_HEROSTAT_STR,BQV,bj_MODIFYMETHOD_SUB,$3E8)
call ModifyHeroStat(bj_HEROSTAT_AGI,BQV,bj_MODIFYMETHOD_SUB,$3E8)
call ModifyHeroStat(bj_HEROSTAT_INT,BQV,bj_MODIFYMETHOD_SUB,$640)
endif
if(BMN())then
call SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),GetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()))-BJ)
set BJ=0
endif
if(BPN())then
call RemoveUnit(QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
endif
if(N7N())then
call QBE(GetTriggerUnit(),2,QFE(GetTriggerUnit(),2)-'d')
endif
if(N8N())then
call SetItemCharges(GetManipulatedItem(),0)
endif
if(BVN())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)-$C8)
endif
if(BEN())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)-55)
endif
if(BXN())then
call QBE(GetTriggerUnit(),2,QFE(GetTriggerUnit(),2)-$96)
endif
if(BON())then
call QBE(GetTriggerUnit(),0,QFE(GetTriggerUnit(),0)-90)
endif
endfunction
function BSN takes nothing returns nothing
set AGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(AGE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(AGE,function BQN)
endfunction
function BTN takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())!='hrdh')and(GetUnitTypeId(GetTriggerUnit())!='hhdl')and(GetUnitTypeId(GetTriggerUnit())!='o01K')
endfunction
function BUN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00H')
endfunction
function BWN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00G')
endfunction
function BYN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I00B'
endfunction
function BZN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I00C'
endfunction
function B_N takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I010'
endfunction
function B0N takes nothing returns boolean
return GetBooleanOr(BYN(),BZN())
endfunction
function B1N takes nothing returns boolean
return(GetBooleanOr(B_N(),B0N()))
endfunction
function B2N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00I')
endfunction
function B3N takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I00F'
endfunction
function B4N takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I0LL'
endfunction
function B5N takes nothing returns boolean
return(GetBooleanOr(B3N(),B4N()))
endfunction
function B6N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I01M')
endfunction
function B7N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I01K')
endfunction
function B8N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I05N')
endfunction
function B9N takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I01D')
endfunction
function CVN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I06M')
endfunction
function CEN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I02A')
endfunction
function CXN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I01Z')
endfunction
function CON takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='arsh')
endfunction
function CRN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HY')
endfunction
function CIN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I08K')
endfunction
function CAN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I08M')
endfunction
function CNN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I08L')
endfunction
function CBN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I08N')
endfunction
function CCN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0B9')
endfunction
function CDN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0B7')
endfunction
function CFN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I08O')
endfunction
function CGN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0BP')
endfunction
function CHN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0B8')
endfunction
function CJN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0BA')
endfunction
function CKN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I006')
endfunction
function CLN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I02Q')
endfunction
function CMN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L7')
endfunction
function CPN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0AZ')
endfunction
function CQN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0B0')
endfunction
function CSN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0B1')
endfunction
function CTN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I07B')
endfunction
function CUN takes nothing returns nothing
if(BUN())then
if GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A1RN',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())-1)
endif
endif
if(BWN())then
if GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A00F',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A00F',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())-1)
endif
endif
if(B1N())then
if GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A004',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A004',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())-1)
endif
endif
if(B2N())then
if GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A1Y4',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())-1)
endif
endif
if(B5N())then
if GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A02C',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A02C',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())-1)
endif
endif
if(B6N())then
if GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A09Y',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())-1)
endif
endif
if(B7N())then
if GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A01T',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A01T',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())-1)
endif
endif
if(B8N())then
if GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0E3',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())-1)
endif
endif
if(B9N())then
if GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0PQ',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())-1)
endif
endif
if(CVN())then
if GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0UD',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())-1)
endif
endif
if(CEN())then
if GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0T4',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())-1)
endif
endif
if(CXN())then
if GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0Z1',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())-1)
endif
endif
if(CON())then
if GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0ZA',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())-1)
endif
endif
if(CRN())then
if GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A1HP',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())-1)
endif
endif
if(CIN())then
if GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VO',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())-1)
endif
endif
if(CAN())then
if GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VP',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())-1)
endif
endif
if(CNN())then
if GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VQ',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())-1)
endif
endif
if(CBN())then
if GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VR',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())-1)
endif
endif
if(CCN())then
if GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VS',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())-1)
endif
endif
if(CDN())then
if GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VT',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())-1)
endif
endif
if(CFN())then
if GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VU',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())-1)
endif
endif
if(CGN())then
if GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VV',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())-1)
endif
endif
if(CHN())then
if GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VW',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())-1)
endif
endif
if(CJN())then
if GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0VX',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())-1)
endif
endif
if(CKN())then
if GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0OT',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())-1)
endif
endif
if(CLN())then
if GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A04L',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A04L',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())-1)
endif
endif
if(CMN())then
if GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A1UL',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())-1)
endif
endif
if(CPN())then
if GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0X0',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())-1)
endif
endif
if(CQN())then
if GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0X1',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())-1)
endif
endif
if(CSN())then
if GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0X2',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())-1)
endif
endif
if(CTN())then
if GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())==1 then
call UnitRemoveAbilityBJ('A0UW',GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())>1 then
call SetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())-1)
endif
endif
endfunction
function CWN takes nothing returns nothing
local trigger CYN
set CYN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CYN,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(CYN,Condition(function BTN))
call TriggerAddAction(CYN,function CUN)
endfunction
function CZN takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())!='hrdh')and(GetUnitTypeId(GetTriggerUnit())!='hhdl')and(GetUnitTypeId(GetTriggerUnit())!='o01K')
endfunction
function C_N takes nothing returns nothing
if(BUN())then
if GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A1RN',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A1RN',GetTriggerUnit())
endif
endif
if(BWN())then
if GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A00F',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A00F',GetTriggerUnit())
endif
endif
if(B1N())then
if GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A004',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A004',GetTriggerUnit())
endif
endif
if(B2N())then
if GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A1Y4',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A1Y4',GetTriggerUnit())
endif
endif
if(B5N())then
if GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A02C',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A02C',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A02C',GetTriggerUnit())
endif
endif
if(B6N())then
if GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A09Y',GetTriggerUnit())
endif
endif
if(B7N())then
if GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A01T',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A01T',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A01T',GetTriggerUnit())
endif
endif
if(B8N())then
if GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0E3',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0E3',GetTriggerUnit())
endif
endif
if(B9N())then
if GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0PQ',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0PQ',GetTriggerUnit())
endif
endif
if(CVN())then
if GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0UD',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0UD',GetTriggerUnit())
endif
endif
if(CEN())then
if GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0T4',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0T4',GetTriggerUnit())
endif
endif
if(CXN())then
if GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0Z1',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0Z1',GetTriggerUnit())
endif
endif
if(CON())then
if GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0ZA',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0ZA',GetTriggerUnit())
endif
endif
if(CRN())then
if GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A1HP',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A1HP',GetTriggerUnit())
endif
endif
if(CIN())then
if GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VO',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VO',GetTriggerUnit())
endif
endif
if(CAN())then
if GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VP',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VP',GetTriggerUnit())
endif
endif
if(CNN())then
if GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VQ',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VQ',GetTriggerUnit())
endif
endif
if(CBN())then
if GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VR',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VR',GetTriggerUnit())
endif
endif
if(CCN())then
if GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VS',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VS',GetTriggerUnit())
endif
endif
if(CDN())then
if GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VT',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VT',GetTriggerUnit())
endif
endif
if(CFN())then
if GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VU',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VU',GetTriggerUnit())
endif
endif
if(CGN())then
if GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VV',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VV',GetTriggerUnit())
endif
endif
if(CHN())then
if GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VW',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VW',GetTriggerUnit())
endif
endif
if(CJN())then
if GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0VX',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0VX',GetTriggerUnit())
endif
endif
if(CKN())then
if GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0OT',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0OT',GetTriggerUnit())
endif
endif
if(CLN())then
if GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A04L',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A04L',GetTriggerUnit())
endif
endif
if(CMN())then
if GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A1UL',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A1UL',GetTriggerUnit())
endif
endif
if(CPN())then
if GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0X0',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0X0',GetTriggerUnit())
endif
endif
if(CQN())then
if GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0X1',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0X1',GetTriggerUnit())
endif
endif
if(CSN())then
if GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0X2',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0X2',GetTriggerUnit())
endif
endif
if(CTN())then
if GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())>=1 then
call SetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())+1)
endif
if GetUnitAbilityLevelSwapped('A0UW',GetTriggerUnit())==0 then
call UnitAddAbilityBJ('A0UW',GetTriggerUnit())
endif
endif
endfunction
function C0N takes nothing returns nothing
local trigger C1N
set C1N=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(C1N,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(C1N,Condition(function CZN))
call TriggerAddAction(C1N,function C_N)
endfunction
function C2N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[58])
endfunction
function C3N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[59])
endfunction
function C4N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[60])
endfunction
function C5N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[61])
endfunction
function C6N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[62])
endfunction
function C7N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[63])
endfunction
function C8N takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[64])
endfunction
function C9N takes nothing returns nothing
set EH=0
if(C2N())then
set GPV[2]=GPV[1]
endif
if(C3N())then
set GPV[3]=GPV[1]
endif
if(C4N())then
set GPV[4]=GPV[1]
endif
if(C5N())then
call UnitAddAbilityBJ('A05A',GPV[1])
if(IsUnitType(GPV[1],UNIT_TYPE_HERO))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GPV[1]))+'x']=1
endif
endif
if(C6N())then
if GetUnitAbilityLevelSwapped('A1D5',GPV[1])==0 then
call UnitAddAbilityBJ('A1D5',GPV[1])
if(IsUnitType(GPV[1],UNIT_TYPE_HERO))then
set LG[GetConvertedPlayerId(GetOwningPlayer(GPV[1]))+$80]=1
endif
else
if(IsUnitType(GPV[1],UNIT_TYPE_HERO))then
call SetUnitAbilityLevelSwapped('A1D5',GPV[1],GetUnitAbilityLevelSwapped('A1D5',GPV[1])+1)
set LG[GetConvertedPlayerId(GetOwningPlayer(GPV[1]))+$80]=LG[GetConvertedPlayerId(GetOwningPlayer(GPV[1]))+$80]+1
endif
endif
endif
if(C7N())then
call ModifyHeroStat(bj_HEROSTAT_STR,GPV[1],bj_MODIFYMETHOD_ADD,$82)
call ModifyHeroStat(bj_HEROSTAT_AGI,GPV[1],bj_MODIFYMETHOD_ADD,$82)
call ModifyHeroStat(bj_HEROSTAT_INT,GPV[1],bj_MODIFYMETHOD_ADD,$82)
endif
if(C8N())then
call UnitAddAbilityBJ('A1D4',GPV[1])
endif
endfunction
function DVN takes nothing returns nothing
set CLE=CreateTrigger()
call TriggerRegisterDialogEventBJ(CLE,SC[8])
call TriggerAddAction(CLE,function C9N)
endfunction
function DEN takes nothing returns boolean
return(GetSpellAbilityId()=='A1A4')
endfunction
function DXN takes nothing returns boolean
return(GetSpellAbilityId()=='A1DN')
endfunction
function DON takes nothing returns boolean
return(GetSpellAbilityId()=='A1EB')
endfunction
function DRN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0GU'))
endfunction
function DIN takes nothing returns boolean
return(GetSpellAbilityId()=='A1IX')
endfunction
function DAN takes nothing returns boolean
return(GetSpellAbilityId()=='A1WU')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B063'))
endfunction
function DNN takes nothing returns boolean
return(GetSpellAbilityId()=='A02W')and(UnitHasBuffBJ(GetSpellTargetUnit(),'B063'))
endfunction
function DBN takes nothing returns boolean
return(GetSpellAbilityId()=='A1AQ')
endfunction
function DCN takes nothing returns boolean
return(GetSpellAbilityId()=='A1AB')
endfunction
function DDN takes nothing returns boolean
return(GetSpellAbilityId()=='A06Z')
endfunction
function DFN takes nothing returns boolean
return(GetSpellAbilityId()=='A1AC')
endfunction
function DGN takes nothing returns boolean
return(GetSpellAbilityId()=='A1CZ')and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function DHN takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function DJN takes nothing returns boolean
return(GetSpellAbilityId()=='A1D0')and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function DKN takes nothing returns boolean
return(GetSpellAbilityId()=='A1D1')and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function DLN takes nothing returns boolean
return(GetSpellAbilityId()=='A1BW')
endfunction
function DMN takes nothing returns boolean
return(GetSpellAbilityId()=='A1BX')
endfunction
function DPN takes nothing returns boolean
return(GetSpellAbilityId()=='A1C1')
endfunction
function DQN takes nothing returns boolean
return(GetSpellAbilityId()=='A1BZ')
endfunction
function DSN takes nothing returns boolean
return(GetSpellAbilityId()=='A1CM')
endfunction
function DTN takes nothing returns boolean
return(GetSpellAbilityId()=='A1CN')
endfunction
function DUN takes nothing returns boolean
return(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))and(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))
endfunction
function DWN takes nothing returns boolean
return(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))and(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))
endfunction
function DYN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1A0',GetTriggerUnit())>0)
endfunction
function DZN takes nothing returns boolean
return(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))and(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)>GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))
endfunction
function D_N takes nothing returns boolean
return(GetSpellAbilityId()=='A1CL')
endfunction
function D0N takes nothing returns boolean
return(GetSpellAbilityId()=='A1C3')
endfunction
function D1N takes nothing returns boolean
return(GetSpellAbilityId()=='A1C7')
endfunction
function D2N takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function D3N takes nothing returns nothing
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())*$B),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())*7),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function D4N takes nothing returns boolean
return(GetSpellAbilityId()=='A1DE')
endfunction
function D5N takes nothing returns boolean
return(GetSpellAbilityId()=='A1AN')
endfunction
function D6N takes nothing returns boolean
return(GetSpellAbilityId()=='A1H3')
endfunction
function D7N takes nothing returns boolean
return(GetSpellAbilityId()=='A1H4')
endfunction
function D8N takes nothing returns boolean
return(FXV>(50-(2*FEV)))
endfunction
function D9N takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='n03R')
endfunction
function FVN takes nothing returns boolean
return(GetSpellAbilityId()=='A1VO')
endfunction
function FEN takes nothing returns boolean
return(GetSpellAbilityId()=='A1Y7')
endfunction
function FXN takes nothing returns boolean
return(GetSpellAbilityId()=='A12V')
endfunction
function FON takes nothing returns nothing
local unit FRN
if(DEN())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),62)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*((I2R(GetUnitAbilityLevelSwapped('A1A4',GetTriggerUnit()))*.01+.04))))),GetUnitLoc(GetTriggerUnit()),10.,12.,99.,11.,11.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DXN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(I2R(GetUnitAbilityLevelSwapped('A1DN',GetTriggerUnit()))*.03)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(I2R(GetUnitAbilityLevelSwapped('A1DN',GetTriggerUnit()))*.03)))),GetUnitLoc(GetTriggerUnit()),10.,12.,99.,11.,11.,2.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DON())then
set G7V=3
set HVV=GetTriggerUnit()
call StartTimerBJ(G8V,false,30)
endif
if(DIN())then
if(DRN())then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,5)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("+5 Base Intelligence.",XVV,10.,12.,90.,11.,80.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1A6',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A1A6',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A1A5',GetTriggerUnit()))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",GetUnitLoc(GetSpellTargetUnit()))
call RemoveLocation(XVV)
endif
if(DAN())then
call SetUnitLifeBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))*(I2R(GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit()))+2.))))
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(("+"+I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*(GetUnitAbilityLevelSwapped('A1WU',GetTriggerUnit())+2)))),XVV,10.,12.,99.,99.,4.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DNN())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,2)
call ModifyHeroStat(bj_HEROSTAT_INT,GetSpellTargetUnit(),bj_MODIFYMETHOD_ADD,3)
endif
if(DBN())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A12A',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",GetUnitLoc(GetSpellTargetUnit()))
call RemoveLocation(XVV)
endif
if(DCN())then
call UnitAddItemByIdSwapped('I0FG',GetTriggerUnit())
endif
if(DDN())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),63)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(DFN())then
call UnitAddItemByIdSwapped('I0FH',GetTriggerUnit())
endif
if(DGN())then
if VH==1 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,7.,"Someone else is using God Skill Tome right now. Try again after the player has picked a skill")
endif
if VH==0 then
set VH=1
set GMV=GetTriggerUnit()
if GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]!=null then
call UnitRemoveAbilityBJ(ZB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
set ZB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
endif
set GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GE'))
call DialogClearBJ(SC[7])
set DPV[42]=DialogAddButtonBJ(SC[7],"Blizzard (Channeling)")
set DPV[43]=DialogAddButtonBJ(SC[7],"Thunder Clap")
set DPV[44]=DialogAddButtonBJ(SC[7],"Cleave/Splash (25% in 450 AOE)")
set DPV[45]=DialogAddButtonBJ(SC[7],"Thunder(Single Target,Paralize target)")
set DPV[46]=DialogAddButtonBJ(SC[7],"Heal multiple targets")
set DPV[47]=DialogAddButtonBJ(SC[7],"Rejuvenation(heal over time)")
set DPV[48]=DialogAddButtonBJ(SC[7],"Blessing of Battle(Damage,rege and MS to self)")
set DPV[49]=DialogAddButtonBJ(SC[7],"King and Army(Dmg,AS,MS to all and high RG to self)")
set DPV[50]=DialogAddButtonBJ(SC[7],"Dark Blast(spell damage based in highest attribute)")
set DPV[67]=DialogAddButtonBJ(SC[7],"Teleport")
call DialogDisplayBJ(true,SC[7],GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(DJN())then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set GLV=GetTriggerUnit()
call DialogClearBJ(SC[6])
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GF'))
if(DHN())then
set DPV[51]=DialogAddButtonBJ(SC[6],"Enchanted Bullets")
else
set DPV[52]=DialogAddButtonBJ(SC[6],"Armagedon")
endif
set DPV[53]=DialogAddButtonBJ(SC[6],"Godly Edge(Increases your damage)")
set DPV[54]=DialogAddButtonBJ(SC[6],"Heavens Protection(Extreme Rege based in total HP, High cooldown)")
set DPV[55]=DialogAddButtonBJ(SC[6],"Death Nova")
set DPV[56]=DialogAddButtonBJ(SC[6],"The Fury(dmg%,armor and Rg to all)")
set DPV[57]=DialogAddButtonBJ(SC[6],"Divine Attributes(increases all stats for a cost of HP and Mana)")
call DialogDisplayBJ(true,SC[6],GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(DKN())then
if EH==1 then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,7.,"Someone else is using Ring of Talent right now. Try again after the player has finished")
endif
if EH==0 then
set GPV[1]=GetTriggerUnit()
set EH=1
call DialogClearBJ(SC[8])
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0GG'))
if GPV[2]==null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set DPV[58]=DialogAddButtonBJ(SC[8],"Forked Lighting 20%(Only one Hero)")
endif
if GPV[3]==null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set DPV[59]=DialogAddButtonBJ(SC[8],"Rain of Fire 3%(Only one Hero)")
endif
if GPV[4]==null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set DPV[60]=DialogAddButtonBJ(SC[8],"Heal 25% when you have less than 25% HP (20 seconds CD)")
endif
if(GetUnitAbilityLevelSwapped('A05A',GetTriggerUnit())==0)then
set DPV[61]=DialogAddButtonBJ(SC[8],"9% Life Steal")
endif
if(GetUnitAbilityLevelSwapped('A1D5',GetTriggerUnit())==0)then
set DPV[62]=DialogAddButtonBJ(SC[8],"Deal 1685 spell damage to a random enemy every second")
endif
if(GetUnitAbilityLevelSwapped('A1D5',GetTriggerUnit())==1)then
set DPV[62]=DialogAddButtonBJ(SC[8],"Deal 3370 spell damage to a random enemy every 0.9 second")
endif
if(GetUnitAbilityLevelSwapped('A1D5',GetTriggerUnit())==2)then
set DPV[62]=DialogAddButtonBJ(SC[8],"Deal 5055 spell damage to a random enemy every 0.7 second")
endif
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) then
set DPV[63]=DialogAddButtonBJ(SC[8],"+130 to all stats.")
endif
if(GetUnitAbilityLevelSwapped('A1D4',GetTriggerUnit())==0)then
set DPV[64]=DialogAddButtonBJ(SC[8],"+12000 Hit points")
endif
call DialogDisplayBJ(true,SC[8],GetOwningPlayer(GetTriggerUnit()))
endif
endif
if(DLN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((8.+I2R(GetUnitAbilityLevelSwapped('A1BW',GetTriggerUnit())))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1BW',GetTriggerUnit())+8)*GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))),XVV,10.,13.,99.,90.,78.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DMN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((28.*I2R(GetUnitAbilityLevelSwapped('A1BX',GetTriggerUnit())))*I2R(GRV)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1BX',GetTriggerUnit())*28)*GRV)),XVV,10.,13.,99.,11.,11.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DPN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((45.*I2R(GetUnitAbilityLevelSwapped('A1C1',GetTriggerUnit())))*I2R(GRV)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1C1',GetTriggerUnit())*45)*GRV)),XVV,10.,13.,99.,11.,91.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(DQN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(I2R(GRV)*(I2R(GetUnitAbilityLevelSwapped('A1BZ',GetTriggerUnit()))*35.))))
endif
if(DSN())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1CO',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1CQ',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(I2R(GetUnitLevel(GetTriggerUnit())),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(DTN())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1CP',GetLastCreatedUnit())
call UnitAddAbilityBJ('S00W',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(I2R(GetUnitLevel(GetTriggerUnit())),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1CR',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(I2R((GetUnitLevel(GetTriggerUnit())/ 2)),'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
endif
if(D_N())then
if(DZN())then
if(DYN())then
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*18)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*18)),XVV,10.,13.,86.,89.,71.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
else
if(DWN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*18)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)*18)),XVV,10.,13.,86.,89.,71.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(DUN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*18)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)*18)),XVV,10.,13.,86.,89.,71.,1.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
endif
endif
if(D0N())then
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),64)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1C3',GetTriggerUnit())*325)*GRV)),XVV,10.,14.,99.,41.,81.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
if(D1N())then
call UnitRemoveAbilityBJ('A1C8',GCV)
set GCV=GetSpellTargetUnit()
set H1V=GetTriggerUnit()
call UnitAddAbilityBJ('A1C8',GetSpellTargetUnit())
call UnitAddAbilityBJ('A1GF',GetTriggerUnit())
call UnitAddAbilityBJ('A1GG',GetTriggerUnit())
call StartTimerBJ(GGV,false,(I2R(GetUnitAbilityLevelSwapped('A1C7',GetTriggerUnit()))*5.))
endif
if(D4N())then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(1000.,GetUnitLoc(GetTriggerUnit()),Condition(function D2N)),function D3N)
call SetUnitManaBJ(GetTriggerUnit(),.0)
endif
if(D5N())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FK'))+2))
endif
if(D6N())then
set FRN=GetTriggerUnit()
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+20000.))
call UnitAddAbilityBJ('A1H5',FRN)
call UnitAddAbilityBJ('A1H7',FRN)
call UnitAddAbilityBJ('A1H8',FRN)
call mj(16.)
call UnitRemoveAbilityBJ('A1H5',FRN)
call UnitRemoveAbilityBJ('A1H7',FRN)
call UnitRemoveAbilityBJ('A1H8',FRN)
set FRN=null
endif
if(D7N())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+16000.))
set FRN=GetTriggerUnit()
call UnitAddAbilityBJ('A1H6',FRN)
call mj(18.)
call UnitRemoveAbilityBJ('A1H6',FRN)
set FRN=null
endif
if(D9N())then
set FXV=(FXV+$B)
if(D8N())then
set FXV=(FXV-(50-(FEV*2)))
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetSpellTargetUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1AF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",GetTriggerUnit())
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(340.*I2R(FEV))))
endif
endif
if(FVN())then
set HJ=GetTriggerUnit()
call DialogClearBJ(SC[9])
call RemoveItem(GetItemOfTypeFromUnitBJ(HJ,'I0KO'))
set DPV[73]=DialogAddButtonBJ(SC[9],"Undefeated")
set DPV[74]=DialogAddButtonBJ(SC[9],"Heavens")
set DPV[75]=DialogAddButtonBJ(SC[9],"Fearless")
call DialogDisplayBJ(true,SC[9],GetOwningPlayer(HJ))
endif
if(FEN())then
set FRN=GetTriggerUnit()
call UnitAddAbilityBJ('A1Y6',FRN)
call mj(11.)
call UnitRemoveAbilityBJ('A1Y6',FRN)
set FRN=null
endif
if(FXN())then
set FRN=GetTriggerUnit()
call UnitAddAbilityBJ('A1V1',FRN)
call UnitAddAbilityBJ('A10Q',FRN)
call PlaySoundOnUnitBJ(P8V,75,FRN)
call mj(13.)
call UnitRemoveAbilityBJ('A1V1',FRN)
call UnitRemoveAbilityBJ('A10Q',FRN)
set FRN=null
endif
endfunction
function FIN takes nothing returns nothing
set CME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CME,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(CME,function FON)
endfunction
function FAN takes nothing returns boolean
return(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FD'))<1)
endfunction
function FNN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FD'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetUnitLifePercent(GetTriggerUnit())<40.)
endfunction
function FBN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0FK'))and(GetUnitLifePercent(GetTriggerUnit())<40.)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FK'))>0)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function FCN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0FE'))and(GetRandomInt(1,5)<=2)
endfunction
function FDN takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03J')
endfunction
function FFN takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00P')and(GetRandomInt(1,4)==3)
endfunction
function FGN takes nothing returns boolean
return(G7V==3)and(G9V<=(8+(GetUnitAbilityLevelSwapped('A1EB',GetAttacker())*2)))and(GetUnitAbilityLevelSwapped('A1EB',GetAttacker())>0)
endfunction
function FHN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'BUsl'))and(GetUnitTypeId(GetAttacker())=='uktg')
endfunction
function FJN takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='nenf')
endfunction
function FKN takes nothing returns boolean
return(C6V>=30)
endfunction
function FLN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Aroc',GetAttacker())>=2)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function FMN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1C0',GetTriggerUnit())>0)
endfunction
function FPN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0GD'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function FQN takes nothing returns boolean
return(GetRandomInt(1,28)==4)
endfunction
function FSN takes nothing returns boolean
return(GetAttacker()==GPV[3])
endfunction
function FTN takes nothing returns boolean
return(GetRandomInt(1,5)==4)
endfunction
function FUN takes nothing returns boolean
return(GetAttacker()==GPV[2])
endfunction
function FWN takes nothing returns boolean
return(GetUnitLevel(GetAttacker())>$F)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())))and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25))and(DD==0)
endfunction
function FYN takes nothing returns boolean
return(GetTriggerUnit()==GPV[4])
endfunction
function FZN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1AX',GetTriggerUnit())>0)
endfunction
function F_N takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=11000.)
endfunction
function F0N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1AY',GetTriggerUnit())>0)
endfunction
function F1N takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function F2N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1AW',GetTriggerUnit())>0)
endfunction
function F3N takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function F4N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1AV',GetTriggerUnit())>0)
endfunction
function F5N takes nothing returns boolean
return(GetRandomInt(1,4)==1)
endfunction
function F6N takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0FY'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,33)==$D)
endfunction
function F7N takes nothing returns boolean
return(FXV>(50-(2*FEV)))
endfunction
function F8N takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='hrif')
endfunction
function F9N takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function GVN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I033'))
endfunction
function GEN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B025'))
endfunction
function GXN takes nothing returns boolean
return(FEV>18)
endfunction
function GON takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='hrif')
endfunction
function GRN takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03R')
endfunction
function GIN takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GetAttacker(),'I047'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function GAN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0M9',GetTriggerUnit())>=1)
endfunction
function GNN takes nothing returns nothing
if(FNN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+20000.))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FD'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FD'))-1))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(FAN())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FD'))
endif
endif
if(FBN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+22000.))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0FK'))-1))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(FCN())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+600.))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(FDN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.02)))
endif
if(FFN())then
call IssueTargetOrderBJ(GetAttacker(),"entanglingroots",GetTriggerUnit())
endif
if(FGN())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetAttacker(),bj_MODIFYMETHOD_ADD,(3+(3*GetUnitAbilityLevelSwapped('A1EB',GetAttacker()))))
set HEV=((HEV+3)+(3*GetUnitAbilityLevelSwapped('A1EB',GetAttacker())))
set G9V=(G9V+1)
endif
if(FHN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.5)))
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),17000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(FJN())then
call IssueImmediateOrderBJ(GetAttacker(),"howlofterror")
endif
if(FLN())then
set C6V=(C6V+1)
if(FKN())then
set C6V=0
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))*(20.*I2R(GetUnitAbilityLevelSwapped('Aroc',GetAttacker())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true)*(20*GetUnitAbilityLevelSwapped('Aroc',GetAttacker())))),XVV,10.,13.,99.,3.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endif
if(FMN())then
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\NightElf\\ThornsAura\\ThornsAuraDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A0CL',GetAttacker())
call SetUnitAbilityLevelSwapped('A0CL',GetAttacker(),2)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(I2R(GetUnitAbilityLevelSwapped('A1C0',GetTriggerUnit()))*(4.*I2R(GRV))),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_NORMAL)
endif
if(FPN())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),((GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())/ GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetAttacker()))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetAttacker(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(FSN())then
if(FQN())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1D3',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",GetUnitLoc(GetTriggerUnit()))
call RemoveLocation(XVV)
endif
endif
if(FUN())then
if(FTN())then
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1D2',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"forkedlightning",GetTriggerUnit())
call RemoveLocation(XVV)
endif
endif
if(FYN())then
if(FWN())then
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*.25)))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set DD=1
call mj(20.)
set DD=0
endif
endif
if(F6N())then
if(F5N())then
if(F4N())then
set FFV=GetRandomInt($3E80,$80E8)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1AV',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("-680 Bonus Damage!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(F3N())then
if(F2N())then
set FFV=GetRandomInt($3E80,$80E8)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1AW',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("-117 Armor!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(F1N())then
if(F0N())then
set FFV=GetRandomInt($3E80,$80E8)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(F_N())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetTriggerUnit(),1.)
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),65)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("Death!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false)or(GetUnitTypeId(GetTriggerUnit())=='H089')or(GetUnitTypeId(GetTriggerUnit())=='Udre')or(GetUnitTypeId(GetTriggerUnit())=='Ubal')then
call UnitAddAbilityBJ('A1AY',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("-11000 Hit Points.",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
else
if(FZN())then
set FFV=GetRandomInt($3E80,$80E8)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitAddAbilityBJ('A1AX',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("-63% Attack Speed!",XVV,10.,13.,99.,11.,99.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
if(F9N())then
set FXV=(FXV+1)
if(F7N())then
set FXV=(FXV-(50-(FEV*2)))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1AF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",GetAttacker())
call RemoveLocation(XVV)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())-(340.*I2R(FEV))))
endif
if(F8N())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0BG',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"stomp")
call RemoveLocation(XVV)
endif
endif
if(GRN())then
if(GVN())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(.08*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker()))))
endif
if(GEN())then
endif
if(GXN())then
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(.03*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker()))))
call SetUnitLifeBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-(417.*I2R(FEV))))
endif
if(GON())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0BG',GetLastCreatedUnit())
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"stomp")
call RemoveLocation(XVV)
endif
endif
if(GIN())then
if GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())<$8C and GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>1 then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
if GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>$8C then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-$8C)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$8C,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endif
if(GAN())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+(-1+(3*GetUnitAbilityLevelSwapped('A0M9',GetAttacker())))))
endif
endfunction
function GBN takes nothing returns nothing
local trigger GCN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GCN,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(GCN,function GNN)
endfunction
function GDN takes nothing returns boolean
return(GetSpellAbilityId()=='A1HG')
endfunction
function GFN takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())>='d')
endfunction
function GGN takes nothing returns nothing
set XGV=GetSpellTargetUnit()
if(GFN())then
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1J9',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(45.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetSpellTargetUnit())
call RemoveLocation(XVV)
else
call UnitAddAbilityBJ('A1HA',XGV)
call StartTimerBJ(E1,false,45.)
endif
endfunction
function GHN takes nothing returns nothing
set CPE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CPE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(CPE,Condition(function GDN))
call TriggerAddAction(CPE,function GGN)
endfunction
function GJN takes nothing returns nothing
call SetPlayerUnitAvailableBJ(GetUnitTypeId(EC),false,GetEnumPlayer())
endfunction
function GKN takes unit u returns nothing
local integer b
local integer c
local integer a
local real r
local player p=GetOwningPlayer(u)
call MultiboardSetItemValueBJ(AD,2,QJ[GetPlayerId(p)],"1")
call MultiboardSetItemIconBJ(AD,1,QJ[GetPlayerId(p)],ON[GetUnitPointValue(u)])
set p=null
set u=null
endfunction
function GLN takes nothing returns nothing
local integer GMN
local integer i
local integer y
local boolean re
local unit u
set i=0
if(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)==$A)then
if(YC[GetConvertedPlayerId(GetTriggerPlayer())]==false)then
if(SubStringBJ(GetEventPlayerChatString(),1,3)=="-rs")then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Random Hero from school of |c00FF0000Strength|r")
loop
exitwhen i>'d'
set GMN=GetRandomInt(0,20)
set re=true
set y=0
loop
exitwhen y>A
if(D[GMN]==NN[y])or CountUnitsInGroup(GetUnitsOfTypeIdAll(D[GMN]))==1 then
set y=A
set re=false
endif
set y=y+1
endloop
if(re)then
set i='d'
endif
set i=i+1
endloop
elseif(SubStringBJ(GetEventPlayerChatString(),1,3)=="-ra")then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Random Hero from school of |c0000FF00Agility|r")
loop
exitwhen i>'d'
set GMN=GetRandomInt(21,36)
set re=true
set y=0
loop
exitwhen y>A
if(D[GMN]==NN[y])or CountUnitsInGroup(GetUnitsOfTypeIdAll(D[GMN]))==1then
set y=A
set re=false
endif
set y=y+1
endloop
if(re)then
set i='d'
endif
set i=i+1
endloop
elseif(SubStringBJ(GetEventPlayerChatString(),1,3)=="-ri")then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Random Hero from school of |c000000FFIntelligence|r")
loop
exitwhen i>'d'
set GMN=GetRandomInt(37,54)
set re=true
set y=0
loop
exitwhen y>A
if(D[GMN]==NN[y])or CountUnitsInGroup(GetUnitsOfTypeIdAll(D[GMN]))==1then
set y=A
set re=false
endif
set y=y+1
endloop
if(re)then
set i='d'
endif
set i=i+1
endloop
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Random Hero from all schools")
loop
exitwhen i>'d'
set GMN=GetRandomInt(0,54)
set re=true
set y=0
loop
exitwhen y>A
if(D[GMN]==NN[y])or CountUnitsInGroup(GetUnitsOfTypeIdAll(D[GMN]))==1then
set y=A
set re=false
endif
set y=y+1
endloop
if(re)then
set i='d'
endif
set i=i+1
endloop
endif
if re then
set XVV=GetRectCenter(KJV)
set u=CreateUnitAtLoc(GetTriggerPlayer(),D[GMN],XVV,bj_UNIT_FACING)
call ModifyHeroSkillPoints(u,bj_MODIFYMETHOD_ADD,1)
call RemoveLocation(XVV)
set EC=u
call ForForce(GetPlayersAll(),function GJN)
call ExecuteFunc("GPN")
call UnitAddItemById(u,'I0LA')
set WC[GetConvertedPlayerId(GetTriggerPlayer())]=false
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
call GKN(u)
set NN[A]=D[GMN]
set A=A+1
endif
endif
endif
endfunction
function GQN takes nothing returns nothing
local trigger uB=CreateTrigger()
call TriggerRegisterPlayerChatEvent(uB,Player(2),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(3),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(4),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(5),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(6),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(7),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(8),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(9),"-r",true)
call TriggerRegisterPlayerChatEvent(uB,Player(2),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(3),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(4),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(5),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(6),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(7),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(8),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(9),"-ri",true)
call TriggerRegisterPlayerChatEvent(uB,Player(2),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(3),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(4),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(5),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(6),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(7),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(8),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(9),"-ra",true)
call TriggerRegisterPlayerChatEvent(uB,Player(2),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(3),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(4),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(5),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(6),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(7),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(8),"-rs",true)
call TriggerRegisterPlayerChatEvent(uB,Player(9),"-rs",true)
call TriggerAddAction(uB,function GLN)
endfunction
function GSN takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='nhcn')
endfunction
function GTN takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='nech')
endfunction
function GUN takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='nbsm')
endfunction
function GWN takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=$FA)
endfunction
function GYN takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function GZN takes nothing returns boolean
return GetBooleanAnd(GSN(),GTN())
endfunction
function G_N takes nothing returns boolean
return GetBooleanAnd(GUN(),GWN())
endfunction
function G0N takes nothing returns boolean
return GetBooleanAnd(GZN(),G_N())
endfunction
function G1N takes nothing returns boolean
return GetBooleanAnd(G0N(),GYN())
endfunction
function G2N takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit()))
endfunction
function G3N takes nothing returns nothing
local location Y8I
if IsUnit(GetEnumUnit(),JZV[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]) then
set Y8I=GetRectCenter(KHV)
endif
if IsUnit(GetEnumUnit(),JZV[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])==false then
set Y8I=GetUnitLoc(GetEnumUnit())
endif
if(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0G7'))or(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0G8'))or(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0G9'))or(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0GA'))or(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0GB'))then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I0G7'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I0G8'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I0G9'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I0GA'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I0GB'))
endif
if(UnitHasItemOfTypeBJ(GetEnumUnit(),'I0K4'))then
call SetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()),GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))-BJ)
set BJ=0
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),0))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),0)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),0)))
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),1))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),1)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),1)))
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),2))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),2)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),2)))
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),3))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),3)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),3)))
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),4))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),4)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),4)))
endif
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),5))!=null then
call CreateItemLoc(GetItemTypeId(UnitItemInSlot(GetEnumUnit(),5)),Y8I)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(UnitItemInSlot(GetEnumUnit(),5)))
endif
call RemoveLocation(Y8I)
call RemoveUnit(GetEnumUnit())
endfunction
function G4N takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function G5N takes nothing returns nothing
if GetOwningPlayer(GB)!=GetEnumPlayer()then
call SetPlayerUnitAvailableBJ(GetUnitTypeId(GB),true,GetEnumPlayer())
endif
endfunction
function G6N takes nothing returns nothing
local integer i=0
local boolean re=false
if GetUnitTypeId(GB)=='H03N' then
call SetPlayerHandicapXPBJ(GetOwningPlayer(GB),GetPlayerHandicapXPBJ(GetOwningPlayer(GB))-50.)
endif
if GetUnitTypeId(GB)=='Hvwd' then
set CF=0
set DF=1
endif
if GetUnitTypeId(GB)=='Nbbc' then
set D1V=0
set D4V=0
endif
if GetUnitTypeId(GB)=='H07A' then
set GRV=0
set F4V=0
set F0V=0
set F1V=0
set F3V=0
set F2V=0
set F6V=0
set GOV=0
set GVV=0
set F8V=0
set F7V=0
set F5V=0
set GEV=0
set GXV=0
set F9V=0
endif
if GetUnitTypeId(GB)=='Edem' then
set JAV=0
endif
if GetUnitTypeId(GB)=='Hmgd' then
call SetPlayerTechMaxAllowedSwap('h02D',1,GetOwningPlayer(GB))
call SetPlayerTechMaxAllowedSwap('h02Q',1,GetOwningPlayer(GB))
call DisableTrigger(YZV)
endif
if GetUnitTypeId(GB)=='H05D' then
call DisableTrigger(Q8V)
endif
if GetUnitTypeId(GB)=='Huth' then
call DisableTrigger(Q9V)
endif
loop
exitwhen i>=54
if GetUnitTypeId(GB)==D[i]then
if XD[i]==1 then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"The hero has been removed from the hero barracks")
else
call ForForce(GetPlayersAll(),function G5N)
set XD[i]=1
endif
set i=54
else
set i=i+1
endif
endloop
set Z6=GetUnitsOfPlayerMatching(GetOwningPlayer(GB),Condition(function G2N))
call ForGroupBJ(Z6,function G4N)
call DestroyGroup(Z6)
set Z6=GetUnitsOfPlayerMatching(GetOwningPlayer(GB),Condition(function G1N))
call ForGroupBJ(Z6,function G3N)
call DestroyGroup(Z6)
set GB=null
endfunction
function G7N takes nothing returns boolean
return(WC[GetConvertedPlayerId(GetTriggerPlayer())])
endfunction
function G8N takes nothing returns nothing
local integer G9N
if UC[GetConvertedPlayerId(GetTriggerPlayer())]<4 then
set GB=JZV[GetConvertedPlayerId(GetTriggerPlayer())]
set UC[GetConvertedPlayerId(GetTriggerPlayer())]=UC[GetConvertedPlayerId(GetTriggerPlayer())]+1
if UC[GetConvertedPlayerId(GetTriggerPlayer())]<2 then
set YC[GetConvertedPlayerId(GetTriggerPlayer())]=false
endif
if UC[GetConvertedPlayerId(GetTriggerPlayer())]==2 then
set YC[GetConvertedPlayerId(GetTriggerPlayer())]=true
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You can no longer pick a random hero by using -r -rs -ra -ri")
endif
call SetPlayerMaxHeroesAllowed(UC[GetConvertedPlayerId(GetTriggerPlayer())]+1,GetOwningPlayer(GB))
call ExecuteFunc("G6N")
if GetPlayerTechCountSimple('R02P',GetTriggerPlayer())>0 then
set G9N=GetPlayerTechCountSimple('R02P',GetTriggerPlayer())-GetPlayerTechCountSimple('R01M',GetTriggerPlayer())
call SetPlayerTechResearchedSwap('R01M',GetPlayerTechCountSimple('R01M',GetTriggerPlayer())+G9N,GetTriggerPlayer())
set G9N=0
endif
set JZV[GetConvertedPlayerId(GetTriggerPlayer())]=null
set JQV[GetConvertedPlayerId(GetTriggerPlayer())]=0
set XVV=Location(-10614.,-11284.)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),XVV,1.)
call RemoveLocation(XVV)
call DisableTrigger(VQE)
call AdjustPlayerStateBJ($A,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ($C8,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call EnableTrigger(VQE)
endif
set XVV=GetUnitLoc(PG[GetConvertedPlayerId(GetTriggerPlayer())])
call RemoveUnit(PG[GetConvertedPlayerId(GetTriggerPlayer())])
set PG[GetConvertedPlayerId(GetTriggerPlayer())]=null
set PG[GetConvertedPlayerId(GetTriggerPlayer())]=CreateUnitAtLoc(GetTriggerPlayer(),'nhcn',XVV,270)
call RemoveLocation(XVV)
if UC[GetConvertedPlayerId(GetTriggerPlayer())]>=3 then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"You can no longer repick.")
set WC[GetConvertedPlayerId(GetTriggerPlayer())]=false
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"Repicks used: "+I2S(UC[GetConvertedPlayerId(GetTriggerPlayer())])+"/3")
endif
if ZC[GetConvertedPlayerId(GetTriggerPlayer())]>0 then
set ZC[GetConvertedPlayerId(GetTriggerPlayer())]=0
endif
endfunction
function HVN takes nothing returns nothing
set CSE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(CSE,Player(2),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(3),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(4),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(5),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(6),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(7),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(8),"-repick",true)
call TriggerRegisterPlayerChatEvent(CSE,Player(9),"-repick",true)
call TriggerAddCondition(CSE,Condition(function G7N))
call TriggerAddAction(CSE,function G8N)
endfunction
function HEN takes nothing returns nothing
set XVV=GetUnitLoc(PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
call RemoveUnit(PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
set PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]=null
set PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]=CreateUnitAtLoc(GetOwningPlayer(GetLastReplacedUnitBJ()),'N05M',XVV,270)
call RemoveLocation(XVV)
call SuspendHeroXPBJ(false,PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
if OD[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]==0 then
call UnitAddAbilityBJ('AIpl',PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
else
if OD[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]==1 then
call UnitAddAbilityBJ('A0G2',PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
else
if OD[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]==2 then
call UnitAddAbilityBJ('A0G3',PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
endif
endif
endif
call UnitAddAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
call UnitAddAbilityBJ('A1QP',PG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
if GetOwningPlayer(GetLastReplacedUnitBJ())==GetOwningPlayer(GLV)then
if GHV==2 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X4',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X4',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==3 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X5',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X5',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==4 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X6',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X6',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==5 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X7',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X7',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==6 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X8',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X8',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==7 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1X9',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1X9',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
if GHV==8 then
call UnitRemoveAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call UnitAddAbilityBJ('A1XA',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))])
call SetUnitAbilityLevelSwapped('A1XA',PG[GetConvertedPlayerId(GetOwningPlayer(GLV))],2)
endif
endif
endfunction
function HXN takes nothing returns nothing
set OTV=GetRandomInt(1,5)
set OQV=GetRandomInt(1,9)
set XVV=GetRectCenter(LGV)
call CreateNUnitsAtLoc(1,'h05N',Player(bj_PLAYER_NEUTRAL_EXTRA),XVV,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0XU',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0XX',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0XY',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0XW',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0XV',GetLastCreatedUnit())
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(XVV)
endfunction
function GPN takes nothing returns nothing
set XVV=GetUnitLoc(PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
call RemoveUnit(PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
set PG[GetConvertedPlayerId(GetOwningPlayer(EC))]=null
set PG[GetConvertedPlayerId(GetOwningPlayer(EC))]=CreateUnitAtLoc(GetOwningPlayer(EC),'N05M',XVV,270)
call RemoveLocation(XVV)
call SuspendHeroXPBJ(false,PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
if OD[GetConvertedPlayerId(GetOwningPlayer(EC))]==0 then
call UnitAddAbilityBJ('AIpl',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
else
if OD[GetConvertedPlayerId(GetOwningPlayer(EC))]==1 then
call UnitAddAbilityBJ('A0G2',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
else
if OD[GetConvertedPlayerId(GetOwningPlayer(EC))]==2 then
call UnitAddAbilityBJ('A0G3',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
endif
endif
endif
call UnitAddAbilityBJ('A1XB',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
call UnitAddAbilityBJ('A1QP',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
if GetUnitTypeId(EC)=='Hvwd'then
set SF=EC
endif
if GetUnitTypeId(EC)=='H03N'then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(EC)),"|cffff0000Little Child cant change his attack type with weapons like Excalibur or Dragon Slayer.|r ")
call SetPlayerHandicapXPBJ(GetOwningPlayer(EC),GetPlayerHandicapXPBJ(GetOwningPlayer(EC))+50.)
endif
if GetUnitTypeId(EC)=='Hapm'then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(EC)),"|cffff0000Admiral cant change his attack type with weapons like Excalibur or Dragon Slayer.|r ")
endif
if GetUnitTypeId(EC)=='H05L'then
call ExecuteFunc("HXN")
set OSV=EC
endif
if GetUnitTypeId(EC)=='H072'then
call SetPlayerTechResearchedSwap('R02H',1,GetOwningPlayer(EC))
endif
if GetUnitTypeId(EC)=='Edem'then
set JKV=EC
endif
if GetUnitTypeId(EC)=='H07A'then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(EC)),"You can check your completed tasks with -tasks")
set JFV=EC
endif
if GetUnitTypeId(EC)=='H062'then
set IJV=EC
endif
if GetUnitTypeId(EC)=='Hmgd'then
call EnableTrigger(YZV)
endif
if GetUnitTypeId(EC)=='Hmkg'then
call SetPlayerAbilityAvailableBJ(true,'A116',GetOwningPlayer(EC))
endif
if GetUnitTypeId(EC)=='Uvng'then
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Necromancer has been chosen. First summon will cause a small lag spike|r ")
endif
if GetUnitTypeId(EC)=='H05D'then
set PA=EC
endif
if GetUnitTypeId(EC)=='H07L' or GetUnitTypeId(EC)=='H07M' then
set JWV[GetConvertedPlayerId(GetOwningPlayer(EC))]=1
set JYV[GetConvertedPlayerId(GetOwningPlayer(EC))]=1
if GetUnitTypeId(EC)=='H07L'then
set J5V[GetConvertedPlayerId(GetOwningPlayer(EC))]=EC
endif
if GetUnitTypeId(EC)=='H07M'then
set J6V[GetConvertedPlayerId(GetOwningPlayer(EC))]=EC
endif
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(EC)),"Hero Abilities can be selected in your Horn of Cenarius")
call UnitAddAbilityBJ('A1JR',PG[GetConvertedPlayerId(GetOwningPlayer(EC))])
call PingMinimapForPlayer(GetOwningPlayer(EC),GetUnitX(PG[GetConvertedPlayerId(GetOwningPlayer(EC))]),GetUnitY(PG[GetConvertedPlayerId(GetOwningPlayer(EC))]),$A)
endif
set WC[GetConvertedPlayerId(GetOwningPlayer(EC))]=true
set YC[GetConvertedPlayerId(GetOwningPlayer(EC))]=true
set JZV[GetConvertedPlayerId(GetOwningPlayer(EC))]=EC
call SetPlayerMaxHeroesAllowed(0,GetOwningPlayer(EC))
call SelectUnitForPlayerSingle(EC,GetOwningPlayer(EC))
set EC=null
endfunction
function QKE takes nothing returns nothing
call UnitAddAbilityBJ('A1Y6',GB)
call UnitAddAbilityBJ('A0B6',GB)
call UnitAddAbilityBJ('A1RN',GB)
call UnitAddAbilityBJ('A00E',GB)
call UnitAddAbilityBJ('A00F',GB)
call UnitAddAbilityBJ('A004',GB)
call UnitAddAbilityBJ('A00G',GB)
call UnitAddAbilityBJ('A1Y4',GB)
call UnitAddAbilityBJ('A02C',GB)
call UnitAddAbilityBJ('A00H',GB)
call UnitAddAbilityBJ('A09Y',GB)
call UnitAddAbilityBJ('A01U',GB)
call UnitAddAbilityBJ('A01T',GB)
call UnitAddAbilityBJ('A0E3',GB)
call UnitAddAbilityBJ('A0PQ',GB)
call UnitAddAbilityBJ('A0UD',GB)
call UnitAddAbilityBJ('A0T4',GB)
call UnitAddAbilityBJ('A049',GB)
call UnitAddAbilityBJ('A0Z1',GB)
call UnitAddAbilityBJ('A03L',GB)
call UnitAddAbilityBJ('A037',GB)
call UnitAddAbilityBJ('A0ZA',GB)
call UnitAddAbilityBJ('A1HP',GB)
call UnitAddAbilityBJ('A17P',GB)
call UnitAddAbilityBJ('A11G',GB)
call UnitAddAbilityBJ('A0LF',GB)
call UnitAddAbilityBJ('A09D',GB)
call UnitAddAbilityBJ('A0AT',GB)
call UnitAddAbilityBJ('A075',GB)
call UnitAddAbilityBJ('A076',GB)
call UnitAddAbilityBJ('A077',GB)
call UnitAddAbilityBJ('A078',GB)
call UnitAddAbilityBJ('A0CI',GB)
call UnitAddAbilityBJ('A0A4',GB)
call UnitAddAbilityBJ('A0GC',GB)
call UnitAddAbilityBJ('A0OG',GB)
call UnitAddAbilityBJ('A0PA',GB)
call UnitAddAbilityBJ('A0A5',GB)
call UnitAddAbilityBJ('A0P2',GB)
call UnitAddAbilityBJ('A0P3',GB)
call UnitAddAbilityBJ('A0VO',GB)
call UnitAddAbilityBJ('A0VP',GB)
call UnitAddAbilityBJ('A0VQ',GB)
call UnitAddAbilityBJ('A0VR',GB)
call UnitAddAbilityBJ('A0VS',GB)
call UnitAddAbilityBJ('A0VT',GB)
call UnitAddAbilityBJ('A0VU',GB)
call UnitAddAbilityBJ('A0VV',GB)
call UnitAddAbilityBJ('A0VW',GB)
call UnitAddAbilityBJ('A0VX',GB)
call UnitAddAbilityBJ('A028',GB)
call UnitAddAbilityBJ('A1JR',GB)
call UnitAddAbilityBJ('A0OT',GB)
call UnitAddAbilityBJ('A04L',GB)
call UnitAddAbilityBJ('A1UL',GB)
call UnitAddAbilityBJ('A0X0',GB)
call UnitAddAbilityBJ('A0X1',GB)
call UnitAddAbilityBJ('A0X2',GB)
call UnitAddAbilityBJ('A0UW',GB)
call UnitAddAbilityBJ('A04D',GB)
call UnitAddAbilityBJ('A084',GB)
call UnitAddAbilityBJ('A1K8',GB)
call UnitAddAbilityBJ('A1K7',GB)
call UnitAddAbilityBJ('A1K6',GB)
call UnitAddAbilityBJ('A1K5',GB)
call UnitAddAbilityBJ('A1K4',GB)
call UnitAddAbilityBJ('A0M4',GB)
set GB=null
endfunction
function HON takes nothing returns boolean
return(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO))!=null
endfunction
function HRN takes nothing returns nothing
set EC=GetSoldUnit()
call ExecuteFunc("GPN")
endfunction
function HIN takes nothing returns nothing
local trigger HAN
set HAN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HAN,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(HAN,Condition(function HON))
call TriggerAddAction(HAN,function HRN)
endfunction
function HNN takes nothing returns nothing
call UnitRemoveAbilityBJ('A1HA',XGV)
endfunction
function HBN takes nothing returns nothing
set CQE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(CQE,E1)
call TriggerAddAction(CQE,function HNN)
endfunction
function HCN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0GJ'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I03K'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0EE'))and(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=75000)
endfunction
function HDN takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0EE'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I03K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0GJ'))
call SetPlayerStateBJ(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)-75000))
call UnitAddItemByIdSwapped('I0HT',GetManipulatingUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function HFN takes nothing returns nothing
set F1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F1E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(F1E,Condition(function HCN))
call TriggerAddAction(F1E,function HDN)
endfunction
function HGN takes nothing returns boolean
return(GetSpellAbilityId()=='A1HI')
endfunction
function HHN takes nothing returns boolean
return(Q0<$F4240)
endfunction
function HJN takes nothing returns nothing
set Q0=(GetUnitLevel(GetTriggerUnit())*((GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)+(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)+GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))*2))
if(HHN())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R(Q0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S(Q0),XVV,12.,12.,50.,'d',50.,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),1000000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call CreateTextTagLocBJ(I2S($F4240),XVV,12.,12.,50.,'d',50.,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function HKN takes nothing returns nothing
set F2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F2E,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(F2E,Condition(function HGN))
call TriggerAddAction(F2E,function HJN)
endfunction
function HLN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0D1'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0FF'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0FE'))and(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$249F0)
endfunction
function HMN takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0D1'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0FF'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0FE'))
call SetPlayerStateBJ(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)-$249F0))
call UnitAddItemByIdSwapped('I0HU',GetManipulatingUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function HPN takes nothing returns nothing
set F3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F3E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(F3E,Condition(function HLN))
call TriggerAddAction(F3E,function HMN)
endfunction
function HQN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HV')
endfunction
function HSN takes nothing returns nothing
call UnitAddAbilityBJ('A1HL',GetManipulatingUnit())
endfunction
function HTN takes nothing returns nothing
set F4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F4E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(F4E,Condition(function HQN))
call TriggerAddAction(F4E,function HSN)
endfunction
function HUN takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='hslv' or GetItemTypeId(GetManipulatedItem())=='pclr' or GetItemTypeId(GetManipulatedItem())=='pghe' or GetItemTypeId(GetManipulatedItem())=='pgma' or GetItemTypeId(GetManipulatedItem())=='phea' or GetItemTypeId(GetManipulatedItem())=='pnvl' or GetItemTypeId(GetManipulatedItem())=='pman' or GetItemTypeId(GetManipulatedItem())=='stwp' or GetItemTypeId(GetManipulatedItem())=='fgrg' or GetItemTypeId(GetManipulatedItem())=='rej3' or GetItemTypeId(GetManipulatedItem())=='pnvu' or GetItemTypeId(GetManipulatedItem())=='rej4' or GetItemTypeId(GetManipulatedItem())=='rej2' or GetItemTypeId(GetManipulatedItem())=='pspd' or GetItemTypeId(GetManipulatedItem())=='I02M' or GetItemTypeId(GetManipulatedItem())=='fgrg' or GetItemTypeId(GetManipulatedItem())=='I0K0' or GetItemTypeId(GetManipulatedItem())=='I0DA'
endfunction
function HWN takes nothing returns nothing
local item it
local item im=GetManipulatedItem()
local integer i
local integer c
local integer bc
local integer mc=6
local unit u=GetTriggerUnit()
if GetItemTypeId(im)=='hslv' or GetItemTypeId(im)=='pclr' or GetItemTypeId(im)=='pghe' or GetItemTypeId(im)=='pgma' or GetItemTypeId(im)=='phea' or GetItemTypeId(im)=='pman' or GetItemTypeId(im)=='fgrg' or GetItemTypeId(im)=='I0K0'then
set mc=20
endif
if GetItemTypeId(im)=='I0DA' then
set mc='d'
endif
set c=GetItemCharges(im)
set i=1
loop
exitwhen i>6
set it=UnitItemInSlot(u,i-1)
if(it!=null)and(it!=im)and(GetItemTypeId(it)==GetItemTypeId(im))then
set bc=GetItemCharges(it)
if(bc+c)>=mc then
call SetItemCharges(it,mc)
set c=c-mc+bc
else
call SetItemCharges(it,bc+c)
set c=0
exitwhen true
endif
endif
set i=i+1
endloop
if c==0 then
call RemoveItem(im)
else
call SetItemCharges(im,c)
endif
set u=null
set it=null
set im=null
endfunction
function HYN takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(t,Condition(function HUN))
call TriggerAddAction(t,function HWN)
endfunction
function HZN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HV')
endfunction
function H_N takes nothing returns boolean
return true
endfunction
function H0N takes nothing returns nothing
if(H_N())then
call UnitRemoveAbilityBJ('A1HN',GetEnumUnit())
endif
endfunction
function H1N takes nothing returns nothing
call UnitRemoveAbilityBJ('A1HL',GetManipulatingUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function H0N)
endfunction
function H2N takes nothing returns nothing
set F5E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F5E,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(F5E,Condition(function HZN))
call TriggerAddAction(F5E,function H1N)
endfunction
function H3N takes nothing returns boolean
return(GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function H4N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>='d')and(GetRandomInt(1,21)==5)
endfunction
function H5N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>=98)and(GetRandomInt(1,45)==5)
endfunction
function H6N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>='d')and(GetRandomInt(1,35)==5)
endfunction
function H7N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>='d')and(GetRandomInt(1,35)==5)and(O1!=5)
endfunction
function H8N takes nothing returns boolean
return(X1!=5)and(GetUnitLevel(GetDyingUnit())>='s')and(GetRandomInt(1,38)==5)
endfunction
function H9N takes nothing returns nothing
if(H8N())then
set XVV=GetUnitLoc(GetDyingUnit())
set KN=CreateItemLoc('I0HV',XVV)
set X1=5
call RemoveLocation(XVV)
else
if(H7N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0HX',XVV)
set O1=5
call RemoveLocation(XVV)
else
if(H6N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0HW',XVV)
call RemoveLocation(XVV)
else
if(H5N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0HY',XVV)
else
if(H4N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0I1',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endfunction
function JVN takes nothing returns nothing
set F6E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F6E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(F6E,Condition(function H3N))
call TriggerAddAction(F6E,function H9N)
endfunction
function JEN takes nothing returns boolean
return(GetSpellAbilityId()=='A1HL')
endfunction
function JXN takes nothing returns nothing
call SetItemDroppableBJ(KN,false)
call TriggerSleepAction(160.)
call SetItemDroppableBJ(KN,true)
endfunction
function JON takes nothing returns nothing
set F8E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F8E,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(F8E,Condition(function JEN))
call TriggerAddAction(F8E,function JXN)
endfunction
function JRN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0HX'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I07A'))
endfunction
function JIN takes nothing returns nothing
call EnableTrigger(F9E)
call EnableTrigger(GVE)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I07A'))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0HX'),GetItemCharges(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0HX'))+1)
call ModifyHeroStat(bj_HEROSTAT_STR,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,'d')
call ModifyHeroStat(bj_HEROSTAT_AGI,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,'d')
call ModifyHeroStat(bj_HEROSTAT_INT,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,'d')
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JAN takes nothing returns nothing
set F7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F7E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(F7E,Condition(function JRN))
call TriggerAddAction(F7E,function JIN)
endfunction
function JNN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HX')
endfunction
function JBN takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,('d'*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_AGI,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,('d'*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_INT,GetManipulatingUnit(),bj_MODIFYMETHOD_ADD,('d'*GetItemCharges(GetManipulatedItem())))
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JCN takes nothing returns nothing
set F9E=CreateTrigger()
call DisableTrigger(F9E)
call TriggerRegisterAnyUnitEventBJ(F9E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(F9E,Condition(function JNN))
call TriggerAddAction(F9E,function JBN)
endfunction
function JDN takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0HX')
endfunction
function JFN takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetManipulatingUnit(),bj_MODIFYMETHOD_SUB,('d'*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_AGI,GetManipulatingUnit(),bj_MODIFYMETHOD_SUB,('d'*GetItemCharges(GetManipulatedItem())))
call ModifyHeroStat(bj_HEROSTAT_INT,GetManipulatingUnit(),bj_MODIFYMETHOD_SUB,('d'*GetItemCharges(GetManipulatedItem())))
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JGN takes nothing returns nothing
set GVE=CreateTrigger()
call DisableTrigger(GVE)
call TriggerRegisterAnyUnitEventBJ(GVE,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(GVE,Condition(function JDN))
call TriggerAddAction(GVE,function JFN)
endfunction
function JHN takes nothing returns boolean
return(GetSpellAbilityId()=='A1HR')
endfunction
function JJN takes nothing returns nothing
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_NEGATIVE,GetSpellAbilityUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call RemoveLocation(XVV)
call TriggerSleepAction(2)
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_NEGATIVE,GetSpellAbilityUnit())
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JKN takes nothing returns nothing
set CUE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CUE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(CUE,Condition(function JHN))
call TriggerAddAction(CUE,function JJN)
endfunction
function JLN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I03X'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I02P'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I058'))and(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=90000)
endfunction
function JMN takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I03X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I02P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I058'))
call UnitAddItemByIdSwapped('I0HZ',GetManipulatingUnit())
call SetPlayerStateBJ(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)-90000))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JPN takes nothing returns nothing
set CTE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(CTE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(CTE,Condition(function JLN))
call TriggerAddAction(CTE,function JMN)
endfunction
function JQN takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0D3'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0CH'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I021'))and(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=70000)
endfunction
function JSN takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0D3'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0CH'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I021'))
call UnitAddItemByIdSwapped('I0IL',GetManipulatingUnit())
call SetPlayerStateBJ(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetManipulatingUnit()),PLAYER_STATE_RESOURCE_GOLD)-70000))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function JTN takes nothing returns nothing
local trigger JUN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(JUN,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(JUN,Condition(function JQN))
call TriggerAddAction(JUN,function JSN)
endfunction
function JWN takes nothing returns boolean
return(GetSpellAbilityId()=='A1HT')
endfunction
function JYN takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))<=$FA0)and(GetUnitAbilityLevelSwapped('A1HT',GetTriggerUnit())==1)
endfunction
function JZN takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))<=$3A98)and(GetUnitAbilityLevelSwapped('A1HT',GetTriggerUnit())==2)
endfunction
function J_N takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))<=$9C40)and(GetUnitAbilityLevelSwapped('A1HT',GetTriggerUnit())==3)
endfunction
function J0N takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit()))<=$186A0)and(GetUnitAbilityLevelSwapped('A1HT',GetTriggerUnit())==4)
endfunction
function J1N takes nothing returns nothing
if(JYN()or JZN()or J_N()or J0N())then
call SetUnitLifeBJ(GetSpellTargetUnit(),1.)
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),17)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(XVV,"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
else
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*.28),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function J2N takes nothing returns nothing
set GEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GEE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GEE,Condition(function JWN))
call TriggerAddAction(GEE,function J1N)
endfunction
function J3N takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B07H'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetUnitAbilityLevelSwapped('A1PV',GetAttacker())>=1)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function J4N takes nothing returns nothing
set XVV=GetUnitLoc(GetAttacker())
set FCV=GetUnitLoc(GetTriggerUnit())
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),$D)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagLocBJ(I2S(((GetUnitAbilityLevelSwapped('A1PV',GetAttacker())*2)*R2I(DistanceBetweenPoints(FCV,XVV)))),XVV,0,$A,50.,'d',50.,0)
call RemoveLocation(XVV)
call RemoveLocation(FCV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endfunction
function J5N takes nothing returns nothing
set GXE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GXE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(GXE,Condition(function J3N))
call TriggerAddAction(GXE,function J4N)
endfunction
function J6N takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'BHab'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function J7N takes nothing returns nothing
call TriggerSleepAction(.45)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetAttacker(),true))*(I2R(GetUnitAbilityLevelSwapped('AHab',GetAttacker()))+.0)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetAttacker())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_INT,GetAttacker(),true)*R2I((.0+I2R(GetUnitAbilityLevelSwapped('AHab',GetAttacker())))))),XVV,0,$A,50.,30.,50.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endfunction
function J8N takes nothing returns nothing
set GOE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GOE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(GOE,Condition(function J6N))
call TriggerAddAction(GOE,function J7N)
endfunction
function J9N takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1PV')
endfunction
function KVN takes nothing returns nothing
call SetPlayerTechResearchedSwap('R02W',(GetPlayerTechCountSimple('R02W',GetOwningPlayer(GetLearningUnit()))+1),GetOwningPlayer(GetLearningUnit()))
endfunction
function KEN takes nothing returns nothing
set GRE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GRE,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(GRE,Condition(function J9N))
call TriggerAddAction(GRE,function KVN)
endfunction
function KXN takes nothing returns boolean
return(GetIssuedOrderIdBJ()==$D0004)
endfunction
function KON takes nothing returns boolean
return(GetIssuedOrderIdBJ()==$D0019)
endfunction
function KRN takes nothing returns boolean
return(GetBooleanOr(KXN(),KON()))
endfunction
function KIN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1Y5',GetTriggerUnit())>=1)
endfunction
function KAN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B08I'))
endfunction
function KNN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B08F'))
endfunction
function KBN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B004'))
endfunction
function KCN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'BHab'))
endfunction
function KDN takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B07H'))
endfunction
function KFN takes nothing returns nothing
if(KDN())then
call DisableTrigger(GXE)
call TriggerSleepAction(3)
call EnableTrigger(GXE)
else
if(KCN())then
call DisableTrigger(GOE)
call TriggerSleepAction(3)
call EnableTrigger(GOE)
else
if(KBN())then
call DisableTrigger(OPE)
call TriggerSleepAction(3)
call EnableTrigger(OPE)
else
if(KNN())then
call DisableTrigger(GYE)
call TriggerSleepAction(1.5)
call EnableTrigger(GYE)
else
if(KAN())then
call DisableTrigger(GGE)
call TriggerSleepAction(1.5)
call EnableTrigger(GGE)
endif
endif
endif
endif
endif
if(KIN())then
call DisableTrigger(OGE)
call TriggerSleepAction(3)
call EnableTrigger(OGE)
endif
endfunction
function KGN takes nothing returns nothing
set GIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GIE,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(GIE,Condition(function KRN))
call TriggerAddAction(GIE,function KFN)
endfunction
function KHN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CJ',GetAttacker())>=1)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function KJN takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),69)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(((GetHeroStatBJ(bj_HEROSTAT_STR,GetAttacker(),true)+GetHeroStatBJ(bj_HEROSTAT_AGI,GetAttacker(),true))+GetHeroStatBJ(bj_HEROSTAT_INT,GetAttacker(),true))*3),XVV,0,$A,80.,50.,'d',0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endfunction
function KKN takes nothing returns nothing
set OPE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OPE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OPE,Condition(function KHN))
call TriggerAddAction(OPE,function KJN)
endfunction
function KLN takes nothing returns boolean
return(GetSpellAbilityId()=='A0T5')and(GetUnitLevel(GetSpellTargetUnit())>='d')
endfunction
function KMN takes nothing returns boolean
return(GetRandomInt(1,24)==5)
endfunction
function KPN takes nothing returns boolean
return(GetRandomInt(1,24)==5)
endfunction
function KQN takes nothing returns boolean
return(GetRandomInt(1,25)==5)
endfunction
function KSN takes nothing returns boolean
return(GetRandomInt(1,28)==5)
endfunction
function KTN takes nothing returns boolean
return(GetRandomInt(1,24)==5)
endfunction
function KUN takes nothing returns boolean
return(GetRandomInt(1,25)==5)
endfunction
function KWN takes nothing returns boolean
return(GetRandomInt(1,28)==5)
endfunction
function KYN takes nothing returns boolean
return(GetRandomInt(1,24)==5)
endfunction
function KZN takes nothing returns boolean
return(GetRandomInt(1,25)==5)
endfunction
function K_N takes nothing returns boolean
return(GetRandomInt(1,25)==5)and(GetUnitLevel(GetSpellTargetUnit())>='n')
endfunction
function K0N takes nothing returns boolean
return(GetRandomInt(1,24)==5)
endfunction
function K1N takes nothing returns boolean
return(GetRandomInt(1,25)==5)
endfunction
function K2N takes nothing returns boolean
return(GetRandomInt(1,28)==5)and(GetUnitLevel(GetSpellTargetUnit())>=$82)
endfunction
function K3N takes nothing returns nothing
if(K2N())then
call UnitAddItemByIdSwapped('I0FW',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(K1N())then
call UnitAddItemByIdSwapped('I0FN',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(K0N())then
call UnitAddItemByIdSwapped('I0FR',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(K_N())then
call UnitAddItemByIdSwapped('I0EP',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KZN())then
call UnitAddItemByIdSwapped('I0FL',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KYN())then
call UnitAddItemByIdSwapped('I0FV',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KWN())then
call UnitAddItemByIdSwapped('I0FM',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KUN())then
call UnitAddItemByIdSwapped('I0FX',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KTN())then
call UnitAddItemByIdSwapped('I0GC',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KSN())then
call UnitAddItemByIdSwapped('I0BW',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KQN())then
call UnitAddItemByIdSwapped('I0BK',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KPN())then
call UnitAddItemByIdSwapped('I0FZ',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
else
if(KMN())then
call UnitAddItemByIdSwapped('I0BU',GetSpellAbilityUnit())
call CreateTextTagLocBJ("Item +1!!",GetUnitLoc(GetTriggerUnit()),30.,13.,90.,20.,100.,1.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),40.,90)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function K4N takes nothing returns nothing
set GAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GAE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GAE,Condition(function KLN))
call TriggerAddAction(GAE,function K3N)
endfunction
function K5N takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B07K'))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function K6N takes nothing returns boolean
return(GetRandomInt(1,$A)==5)and(GetUnitAbilityLevelSwapped('A1PC',GetAttacker())>=1)
endfunction
function K7N takes nothing returns nothing
if(K6N())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),70)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function K8N takes nothing returns nothing
set GNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GNE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(GNE,Condition(function K5N))
call TriggerAddAction(GNE,function K7N)
endfunction
function K9N takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0FU'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0EV'))and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I02L'))
endfunction
function LVN takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0FU'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0EV'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I02L'))
call UnitAddItemByIdSwapped('I0I0',GetManipulatingUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function LEN takes nothing returns nothing
set GBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GBE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(GBE,Condition(function K9N))
call TriggerAddAction(GBE,function LVN)
endfunction
function LXN takes nothing returns boolean
return(RE[VE]==0)
endfunction
function LON takes nothing returns boolean
return(GetUnitUserData(ZV[VE])==0)
endfunction
function LRN takes nothing returns boolean
return(EE==32)
endfunction
function LIN takes nothing returns boolean
return(XE==0)
endfunction
function LAN takes nothing returns boolean
return(IE)and(GetUnitUserData(GetFilterUnit())==0)
endfunction
function LNN takes nothing returns nothing
call ExecuteFunc("LBN")
endfunction
function LCN takes nothing returns nothing
if(LON())then
set RE[VE]=(RE[VE]-1)
if(LXN())then
set WV[YV[VE]]=WV[VE]
set YV[WV[VE]]=YV[VE]
set YV[VE]=0
set OE=.0
set OE=2.
set OE=.0
set ZV[VE]=null
set WV[VE]=XE
set XE=VE
endif
endif
endfunction
function LDN takes nothing returns boolean
local integer LFN=VE
local integer LGN
if(LAN())then
set EE=(EE+1)
if(LRN())then
set EE=0
set VE=WV[0]
loop
exitwhen VE==0
set LGN=WV[VE]
call LCN()
set VE=LGN
endloop
endif
if(LIN())then
set VE=(UV+1)
set UV=VE
else
set VE=XE
set XE=WV[VE]
endif
set ZV[VE]=GetFilterUnit()
call SetUnitUserData(ZV[VE],VE)
set YV[WV[0]]=VE
set WV[VE]=WV[0]
set WV[0]=VE
set RE[VE]=1
set OE=.0
set OE=1.
set OE=.0
set VE=LFN
endif
return false
endfunction
function LBN takes nothing returns nothing
local integer i=bj_MAX_PLAYER_SLOTS
local boolexpr b=Filter(function LDN)
local region re=CreateRegion()
local trigger t=GetTriggeringTrigger()
local rect r=GetWorldBounds()
call RegionAddRect(re,r)
call TriggerRegisterEnterRegion(t,re,b)
call TriggerClearActions(t)
call TriggerAddAction(t,function LCN)
set IE=true
loop
set i=i-1
call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup,Player(i),b)
exitwhen i==0
endloop
call RemoveRect(r)
set re=null
set r=null
set t=null
set b=null
set OE=3.
set OE=.0
endfunction
function LHN takes nothing returns nothing
set PX=CreateTrigger()
call TriggerAddAction(PX,function LNN)
endfunction
function LJN takes nothing returns nothing
set VX='A1YH'
set KE='A1V2'
set YE=-1
set ZE=1
set DE=2
set FE=3
set HE=4
set GE=5
set JE=6
set LX=.67
set KX=.8
set JX=1.67
set CE=1
set BE=1
endfunction
function LKN takes nothing returns nothing
set QX=CreateTrigger()
call TriggerAddAction(QX,function LJN)
endfunction
function LLN takes nothing returns nothing
local integer i=EO-2
set EO=i+1
if i>=0 then
set XO=SX[i]
set FX=SE[i]
set GX=TE[i]
set HX=UE[i]
set NX=TX[i]
set EX=UX[i]
endif
endfunction
function LMN takes boolean LPN returns nothing
if LPN then
set BX=false
set DX=0
endif
if MX!=null then
call DestroyTrigger(MX)
set MX=null
if NX then
call SetWidgetLife(HX,RMaxBJ(WE,.41))
if WE<=.405 then
if EX<0 then
call SetUnitExploded(HX,true)
endif
call DisableTrigger(AE)
call UnitDamageTarget(GX,HX,-999,false,false,null,DAMAGE_TYPE_UNIVERSAL,null)
call EnableTrigger(AE)
endif
elseif GetUnitAbilityLevel(HX,VX)>0 then
call UnitRemoveAbility(HX,VX)
call SetWidgetLife(HX,WE)
endif
if FX!=.0 and not WX[GetUnitUserData(GX)]then
set OO=.0
set OO=1.
set OO=.0
endif
call LLN()
endif
endfunction
function LQN takes nothing returns nothing
if CE>1 then
set YX=.0
set YX=1.
set YX=.0
set CE=1
endif
set BE=1
set RO=null
call GroupClear(ZX)
endfunction
function LSN takes nothing returns nothing
set AX=false
call LMN(true)
call LQN()
set HX=null
set GX=null
endfunction
function LTN takes nothing returns boolean
call LMN(true)
return false
endfunction
function LUN takes nothing returns boolean
local boolean LWN=CX
local integer i
local integer e=BE
local integer a=CE
local string s
local real LYN
local real M1E
local real LZN
local unit u
local unit f
call LMN(false)
set i=EO-1
if i<0 then
set u=HX
set f=GX
elseif i<16 then
set SX[i]=XO
set SE[i]=FX
set TE[i]=GX
set UE[i]=HX
set TX[i]=NX
set UX[i]=EX
else
set s="WARNING: Recursion error when dealing damage! Make sure when you deal damage from within a DamageEvent trigger, do it like this:

"
set s=s+"Trigger - Turn off (This Trigger)
"
set s=s+"Unit - Cause...
"
set s=s+"Trigger - Turn on (This Trigger)"
call ClearTextMessages()
call DisplayTimedTextToPlayer(GetLocalPlayer(),.0,.0,999.,s)
return false
endif
set EO=i+2
set LYN=GetEventDamage()
set HX=GetTriggerUnit()
set GX=GetEventDamageSource()
set FX=LYN
set EX=DX
set DX=0
set CX=BX
set BX=false
if i<0 then
if EX==0 then
if f==GX then
if IsUnitInGroup(HX,ZX)then
set BE=BE+1
set RO=HX
else
set CE=CE+1
endif
else
set u=GX
set GX=f
call LQN()
set GX=u
endif
call GroupAddUnit(ZX,HX)
endif
if not AX then
set AX=true
call TimerStart(VO,.0,false,function LSN)
endif
endif
if LYN==.0 then
if not WX[GetUnitUserData(GX)]then
set XO=.0
set NE=.0
set NE=2.
set NE=.0
endif
call LLN()
else
set u=HX
set NX=LYN<.0
if NX then
set LYN=-FX
set M1E=1.
if IsUnitType(u,UNIT_TYPE_ETHEREAL)and not IsUnitType(u,UNIT_TYPE_HERO)then
set M1E=M1E*JX
endif
if GetUnitAbilityLevel(u,'Aegr')>0 then
set M1E=M1E*KX
endif
if XX!=0 and IsUnitType(u,UNIT_TYPE_HERO)then
set i=6
loop
set i=i-1
if GetItemTypeId(UnitItemInSlot(u,i))==XX then
set M1E=M1E*LX
exitwhen true
endif
exitwhen i==0
endloop
endif
set FX=LYN*M1E
endif
set XO=LYN
set ME=.0
if not CX then
set ME=1.
if not CX then
set ME=2.
set ME=3.
set ME=4.
set ME=5.
endif
endif
set CX=LWN
if FX>=1. then
set ME=6.
endif
set ME=.0
if not WX[GetUnitUserData(GX)]then
set NE=.0
set NE=1.
set NE=3.
set NE=.0
endif
call LMN(true)
set M1E=GetWidgetLife(u)
set MX=CreateTrigger()
call TriggerAddCondition(MX,Filter(function LTN))
if not NX then
if FX!=LYN then
set M1E=M1E+LYN-FX
if GetUnitState(u,UNIT_STATE_MAX_LIFE)<M1E then
set WE=M1E-LYN
call UnitAddAbility(u,VX)
endif
call SetWidgetLife(u,RMaxBJ(M1E,.42))
endif
call TriggerRegisterUnitStateEvent(MX,u,UNIT_STATE_LIFE,LESS_THAN,RMaxBJ(.41,M1E-LYN/2.))
else
set WE=GetUnitState(u,UNIT_STATE_MAX_LIFE)
set LZN=M1E
if M1E+LYN*.75>WE then
set M1E=RMaxBJ(WE-LYN/2.,1.)
call SetWidgetLife(u,M1E)
set M1E=(M1E+WE)/2.
else
set M1E=M1E+LYN*.5
endif
set WE=LZN-(LYN-(LYN-FX))
call TriggerRegisterUnitStateEvent(MX,u,UNIT_STATE_LIFE,GREATER_THAN,M1E)
endif
endif
set u=null
set f=null
return false
endfunction
function L_N takes nothing returns nothing
set AE=CreateTrigger()
call TriggerAddCondition(AE,Filter(function LUN))
endfunction
function L0N takes nothing returns boolean
local integer i=VE
local unit u
if OE==1. then
set u=ZV[i]
if GetUnitAbilityLevel(u,'Aloc')==0 and TriggerEvaluate(QX)then
set QE[i]=true
call TriggerRegisterUnitEvent(AE,u,EVENT_UNIT_DAMAGED)
call UnitAddAbility(u,KE)
call UnitMakeAbilityPermanent(u,true,KE)
endif
set u=null
else
set WX[i]=false
if QE[i]then
set QE[i]=false
set PE=PE+1
if PE==32 then
set PE=0
call DestroyTrigger(AE)
call L_N()
set i=WV[0]
loop
exitwhen i==0
if QE[i]then
call TriggerRegisterUnitEvent(AE,ZV[i],EVENT_UNIT_DAMAGED)
endif
set i=WV[i]
endloop
endif
endif
endif
return false
endfunction
function L1N takes nothing returns nothing
local unit u=CreateUnit(Player(bj_PLAYER_NEUTRAL_EXTRA),'uloc',0,0,0)
local integer i=bj_MAX_PLAYERS
local trigger t=CreateTrigger()
call TriggerRegisterVariableEvent(t,"OE",EQUAL,1.)
call TriggerRegisterVariableEvent(t,"OE",EQUAL,2.)
call TriggerAddCondition(t,Filter(function L0N))
set t=null
if QX==null then
call ExecuteFunc("LJN")
else
call TriggerExecute(QX)
endif
call L_N()
set IO=CreateTrigger()
call TriggerAddCondition(IO,Filter(function LTN))
loop
set i=i-1
call SetPlayerAbilityAvailable(Player(i),KE,false)
exitwhen i==0
endloop
call UnitAddAbility(u,VX)
call UnitAddAbility(u,KE)
call RemoveUnit(u)
set u=null
endfunction
function L2N takes nothing returns boolean
return(NX)and(UnitHasBuffBJ(GX,'Bdcl'))and(UnitHasBuffBJ(HX,'Bdtl'))
endfunction
function L3N takes nothing returns nothing
call SetUnitLifeBJ(GX,(GetUnitStateSwap(UNIT_STATE_LIFE,GX)+FX))
endfunction
function L4N takes nothing returns nothing
set AO=CreateTrigger()
call TriggerRegisterVariableEvent(AO,"OO",EQUAL,1.)
call TriggerAddCondition(AO,Condition(function L2N))
call TriggerAddAction(AO,function L3N)
endfunction
function L5N takes nothing returns boolean
return(NX)and(GetUnitCurrentOrder(GX)==$D0106)
endfunction
function L6N takes nothing returns nothing
set EX=YE
endfunction
function L7N takes nothing returns nothing
set NO=CreateTrigger()
call TriggerRegisterVariableEvent(NO,"ME",EQUAL,1.)
call TriggerAddCondition(NO,Condition(function L5N))
call TriggerAddAction(NO,function L6N)
endfunction
function L8N takes nothing returns boolean
return(UnitHasBuffBJ(HX,'BNms'))
endfunction
function L9N takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A3'))
endfunction
function MVN takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0AE'))
endfunction
function MEN takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0AE'))
endfunction
function MXN takes nothing returns boolean
return(GetBooleanOr(L8N(),L9N()))
endfunction
function MON takes nothing returns boolean
return(GetBooleanOr(MVN(),MEN()))
endfunction
function MRN takes nothing returns boolean
return(GetBooleanOr(MXN(),MON()))and(UnitHasBuffBJ(HX,'B025')==false)and(UnitHasBuffBJ(HX,'B07I')==false)and(UnitHasBuffBJ(HX,'B0AD')==false)
endfunction
function Trig_Mana_Shield_Fix_Func004Func005C takes nothing returns boolean
return(RX==0)
endfunction
function MIN takes nothing returns boolean
return(FX<(OX-.01))
endfunction
function MAN takes nothing returns boolean
return true
endfunction
function MNN takes nothing returns nothing
if(MAN())then
set OX=GetUnitStateSwap(UNIT_STATE_MANA,HX)
if NX then
if GetUnitAbilityLevelSwapped('ANms',HX)>=1 and UnitHasBuffBJ(HX,'B0AE') then
set RX=GetUnitAbilityLevelSwapped('ANms',HX)
set IX=((.5*I2R(RX))+.5)
endif
if GetUnitAbilityLevelSwapped('A11S',HX)>=1 then
set RX=GetUnitAbilityLevelSwapped('A11S',HX)
set IX=((.7*I2R(RX))+1.3)
endif
endif
if NX==false then
if GetUnitAbilityLevelSwapped('ANms',HX)>=1 and UnitHasBuffBJ(HX,'B0AE') then
set RX=GetUnitAbilityLevelSwapped('ANms',HX)
set IX=((.35*I2R(RX))+.3)
endif
if GetUnitAbilityLevelSwapped('A11S',HX)>=1 then
set RX=GetUnitAbilityLevelSwapped('A11S',HX)
set IX=((.5*I2R(RX))+1.)
endif
endif
if GetUnitAbilityLevelSwapped('ACmf',HX)==1 and UnitHasBuffBJ(HX,'BNms') then
set RX=GetUnitAbilityLevelSwapped('ACmf',HX)
set IX=((.5*I2R(RX))+.3)
endif
if GetUnitAbilityLevelSwapped('A1IR',HX)>=1 and UnitHasBuffBJ(HX,'B0A3') then
set RX=GetUnitAbilityLevelSwapped('A1IR',HX)
set IX=((.15*I2R(RX))+.35)
endif
if GetUnitAbilityLevelSwapped('A16W',HX)>=1 then
set RX=GetUnitAbilityLevelSwapped('A16W',HX)
set IX=((.5*I2R(RX))+2.)
endif
if EX!=GE then
if GetUnitAbilityLevelSwapped('A0TV',HX)>=1 then
set RX=GetUnitAbilityLevelSwapped('A0TV',HX)
set IX=((1.7*I2R(RX))+.8)
endif
endif
if EX==GE then
if GetUnitAbilityLevelSwapped('A0TV',HX)>=1 then
set RX=GetUnitAbilityLevelSwapped('A0TV',HX)
set IX=((5.*I2R(RX))+5.)
endif
endif
set OX=(OX*IX)
if(MIN())then
set OX=(OX-FX)
set FX=.0
set OX=(OX/ IX)
else
set FX=(FX-OX)
set OX=.0
call IssueImmediateOrderBJ(HX,"manashieldoff")
call UnitRemoveBuffBJ('BNms',HX)
set EX=FE
endif
call SetUnitManaBJ(HX,OX)
endif
endfunction
function MBN takes nothing returns nothing
set BO=CreateTrigger()
call TriggerRegisterVariableEvent(BO,"ME",EQUAL,6.)
call TriggerAddCondition(BO,Condition(function MRN))
call TriggerAddAction(BO,function MNN)
endfunction
function MCN takes nothing returns boolean
return(GetUnitDefaultMoveSpeed(ZV[VE])!=.0)
endfunction
function MDN takes nothing returns boolean
return(OE==.0)
endfunction
function MFN takes nothing returns nothing
if(MDN())then
set VE=FO[0]
loop
exitwhen VE==0
set KO=GetUnitX(ZV[VE])
set MO=GetUnitY(ZV[VE])
if KO!=JO[VE]or MO!=LO[VE]then
set JO[VE]=KO
set LO[VE]=MO
if not HO[VE]and GetUnitTypeId(ZV[VE])!=0 then
set HO[VE]=true
set PO=1.
set PO=.0
endif
elseif HO[VE]then
set HO[VE]=false
set PO=2.
set PO=.0
endif
set VE=FO[VE]
endloop
else
if OE==1 then
if(MCN())then
set GO[FO[0]]=VE
set FO[VE]=FO[0]
set FO[0]=VE
set JO[VE]=GetUnitX(ZV[VE])
set LO[VE]=GetUnitY(ZV[VE])
endif
elseif GO[VE]!=0 or FO[0]==VE then
set HO[VE]=false
set FO[GO[VE]]=FO[VE]
set GO[FO[VE]]=GO[VE]
set GO[VE]=0
endif
endif
endfunction
function MGN takes nothing returns nothing
set CO=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(CO,.05)
call TriggerRegisterVariableEvent(CO,"OE",EQUAL,1.)
call TriggerRegisterVariableEvent(CO,"OE",EQUAL,2.)
call TriggerAddAction(CO,function MFN)
endfunction
function MHN takes nothing returns boolean
return(NX)
endfunction
function MJN takes nothing returns boolean
return(EX==GE)and(FX>=1)
endfunction
function MKN takes nothing returns boolean
return(EX==JE)and(DV==1)and(FX>=1)
endfunction
function MLN takes nothing returns boolean
return(EX==FE)and(NX==false)and(FX>=1)
endfunction
function MMN takes nothing returns boolean
return(EX==FE)and(NX)and(FX>=1)
endfunction
function MPN takes nothing returns boolean
return(EX==DE)
endfunction
function MQN takes nothing returns boolean
return(EX==ZE)
endfunction
function MSN takes nothing returns boolean
return(EX==HE)
endfunction
function MTN takes nothing returns nothing
set FDV=GetUnitLoc(HX)
if(MSN())then
call CreateTextTagUnitBJ(("Blocked"+"!"),HX,0,7.,50.,50.,50.,.0)
else
if(MQN())then
call CreateTextTagLocBJ(I2S(R2I(FX))+"!",FDV,.0,9.,$A0,10.,15.,0)
else
if(MPN())then
if FX<=-1 then
call CreateTextTagLocBJ("+"+I2S(R2I(RAbsBJ(FX))),FDV,0,8.,5.,100.,10.,0)
endif
else
if(MKN())then
call CreateTextTagLocBJ(""+I2S(R2I(FX)),FDV,0,8.,255.,69.,.0,0)
set DV=0
else
if(MLN())then
call CreateTextTagLocBJ(""+I2S(R2I(FX)),FDV,0,8.,255.,69.,.0,0)
else
if(MMN())then
call CreateTextTagLocBJ(""+I2S(R2I(FX)),FDV,0,8.,65.,10.,65.,0)
else
if(MJN())then
call CreateTextTagLocBJ(I2S(R2I(FX)),FDV,.0,8.,'}',5.,10.,0)
else
if(MHN())then
if FX>=1 then
call CreateTextTagLocBJ(I2S(R2I(FX)),FDV,0,8.,10.,30.,100.,0)
endif
else
if FX>=1 then
call CreateTextTagLocBJ(I2S(R2I(FX)),FDV,0,8.,'d',50.,50.,0)
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(FDV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),.83)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,GetRandomReal(10.,90.))
endfunction
function MUN takes nothing returns nothing
set DO=CreateTrigger()
call TriggerRegisterVariableEvent(DO,"NE",EQUAL,3.)
call TriggerAddAction(DO,function MTN)
endfunction
function MWN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=2)
endfunction
function MYN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',E6V)==2)and(E9V>=1)
endfunction
function MZN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',E6V)==3)and(E9V>=2)
endfunction
function M_N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',E6V)==4)and(E9V>=3)
endfunction
function M0N takes nothing returns nothing
set E6V=GetSpellAbilityUnit()
set E5V=(GetHeroLevel(E6V)*(GetUnitAbilityLevelSwapped('A0BR',E6V)*20))
if(M_N())then
call ModifyHeroStat(bj_HEROSTAT_INT,E6V,bj_MODIFYMETHOD_ADD,E5V)
set XVV=GetUnitLoc(E6V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(E8V,false,7.)
set E9V=0
call DisableTrigger(GetTriggeringTrigger())
else
if(MZN())then
call ModifyHeroStat(bj_HEROSTAT_INT,E6V,bj_MODIFYMETHOD_ADD,E5V)
set XVV=GetUnitLoc(E6V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(E8V,false,7.)
set E9V=0
call DisableTrigger(GetTriggeringTrigger())
else
if(MYN())then
call ModifyHeroStat(bj_HEROSTAT_INT,E6V,bj_MODIFYMETHOD_ADD,E5V)
set XVV=GetUnitLoc(E6V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call StartTimerBJ(E8V,false,7.)
set E9V=0
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endfunction
function M1N takes nothing returns nothing
set HNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HNE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(HNE,Condition(function MWN))
call TriggerAddAction(HNE,function M0N)
endfunction
function M2N takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_INT,E6V,bj_MODIFYMETHOD_SUB,E5V)
call EnableTrigger(HNE)
endfunction
function M3N takes nothing returns nothing
set HBE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(HBE,E8V)
call TriggerAddAction(HBE,function M2N)
endfunction
function M4N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=2)
endfunction
function M5N takes nothing returns nothing
set E9V=(E9V+1)
call TriggerSleepAction(5.)
set E9V=0
endfunction
function M6N takes nothing returns nothing
set HCE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HCE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(HCE,Condition(function M4N))
call TriggerAddAction(HCE,function M5N)
endfunction
function M7N takes nothing returns boolean
return(GetSpellAbilityId()=='A0BS')and(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=2)
endfunction
function M8N takes nothing returns nothing
call EnableTrigger(HFE)
call TriggerSleepAction(3.)
call DisableTrigger(HFE)
endfunction
function M9N takes nothing returns nothing
set HDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HDE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(HDE,Condition(function M7N))
call TriggerAddAction(HDE,function M8N)
endfunction
function PVN takes nothing returns boolean
return(GetSpellAbilityId()=='A0BU')and(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=2)
endfunction
function PEN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=3)
endfunction
function PXN takes nothing returns nothing
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),((I2R(GetUnitAbilityLevelSwapped('A0BS',GetSpellAbilityUnit()))+I2R(GetUnitAbilityLevelSwapped('A0BU',GetSpellAbilityUnit())))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ("|cff7fffd4Song of Fire and Light:|r",GetSpellAbilityUnit(),0,10.,'d','d','d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(PEN())then
call EnableTrigger(HGE)
call TriggerSleepAction(1.8)
call DisableTrigger(HGE)
endif
call TriggerSleepAction(1.)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function PON takes nothing returns nothing
set HFE=CreateTrigger()
call DisableTrigger(HFE)
call TriggerRegisterAnyUnitEventBJ(HFE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(HFE,Condition(function PVN))
call TriggerAddAction(HFE,function PXN)
endfunction
function PRN takes nothing returns boolean
return(GetSpellAbilityId()=='A0BT')and(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())>=3)
endfunction
function PIN takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())==4)
endfunction
function PAN takes nothing returns nothing
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),((I2R(GetUnitAbilityLevelSwapped('A0BS',GetSpellAbilityUnit()))+(I2R(GetUnitAbilityLevelSwapped('A0BU',GetSpellAbilityUnit()))+I2R(GetUnitAbilityLevelSwapped('A0BT',GetSpellAbilityUnit()))))*(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true))*1.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ("|cff8a2be2Ancient Daedric Spell:|r",GetSpellAbilityUnit(),0,10.,'d','d','d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(PIN())then
call EnableTrigger(HHE)
call TriggerSleepAction(1.5)
call DisableTrigger(HHE)
endif
call TriggerSleepAction(1.)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function PNN takes nothing returns nothing
set HGE=CreateTrigger()
call DisableTrigger(HGE)
call TriggerRegisterAnyUnitEventBJ(HGE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(HGE,Condition(function PRN))
call TriggerAddAction(HGE,function PAN)
endfunction
function PBN takes nothing returns boolean
return(GetSpellAbilityId()=='A0BV')and(GetUnitAbilityLevelSwapped('A0BR',GetSpellAbilityUnit())==4)
endfunction
function PCN takes nothing returns nothing
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),((I2R(GetUnitAbilityLevelSwapped('A0BS',GetSpellAbilityUnit()))+(I2R(GetUnitAbilityLevelSwapped('A0BU',GetSpellAbilityUnit()))+(I2R(GetUnitAbilityLevelSwapped('A0BV',GetSpellAbilityUnit()))+I2R(GetUnitAbilityLevelSwapped('A0BT',GetSpellAbilityUnit())))))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),(.09*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ("|cffff0000Final Wisdom:|r",GetSpellAbilityUnit(),0,10.,'d','d','d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function PDN takes nothing returns nothing
set HHE=CreateTrigger()
call DisableTrigger(HHE)
call TriggerRegisterAnyUnitEventBJ(HHE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(HHE,Condition(function PBN))
call TriggerAddAction(HHE,function PCN)
endfunction
function PFN takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n049')and(GetUnitLifePercent(GetAttacker())<=30.)and(GetUnitAbilityLevelSwapped('A0V4',GetAttacker())==0)
endfunction
function PGN takes nothing returns boolean
return(GetUnitTypeId(GetAttackedUnitBJ())=='n049')or(GetUnitTypeId(GetAttackedUnitBJ())=='n048')or(GetUnitTypeId(GetAttackedUnitBJ())=='n047')or(GetUnitTypeId(GetAttackedUnitBJ())=='n046')or(GetUnitTypeId(GetAttackedUnitBJ())=='n045')or(GetUnitTypeId(GetAttackedUnitBJ())=='n044')or(GetUnitTypeId(GetAttackedUnitBJ())=='n043')
endfunction
function PHN takes nothing returns boolean
return(GetRandomInt(1,5)==2)and(PGN())
endfunction
function PJN takes nothing returns nothing
if(PFN())then
call CreateTextTagUnitBJ("STRUN! BAH QO!",GetAttacker(),0,13.,100.,.0,.0,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
set XVV=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLocFacingLocBJ(1,'h08I',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1I6',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(18.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",XVV)
call UnitAddAbilityBJ('A0V4',GetAttacker())
call TriggerSleepAction(80.)
call UnitRemoveAbilityBJ('A0V4',GetAttacker())
call RemoveLocation(XVV)
endif
if(PHN())then
call IssuePointOrderLocBJ(GetAttackedUnitBJ(),"breathoffrost",GetUnitLoc(GetAttacker()))
endif
endfunction
function PKN takes nothing returns nothing
set OEE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OEE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(OEE,function PJN)
endfunction
function PLN takes nothing returns boolean
return((GetOwningPlayer(GetLeavingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitType(GetLeavingUnit(),UNIT_TYPE_ANCIENT)))!=null
endfunction
function PMN takes nothing returns nothing
set XVV=GetRectCenter(MZV)
call SetUnitPositionLocFacingLocBJ(GetLeavingUnit(),XVV,XVV)
call RemoveLocation(XVV)
call SetUnitLifePercentBJ(GetLeavingUnit(),'d')
endfunction
function PPN takes nothing returns nothing
set OOE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(OOE,MYV)
call TriggerAddCondition(OOE,Condition(function PLN))
call TriggerAddAction(OOE,function PMN)
endfunction
function Trig_DragonSpawn_Func001Func001Func001Func001Func001Func001Func003Func001C takes nothing returns boolean
return true
endfunction
function PQN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n049')
endfunction
function PSN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n048')
endfunction
function PTN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n047')
endfunction
function PUN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n046')
endfunction
function PWN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n045')
endfunction
function PYN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n044')
endfunction
function PZN takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n043')
endfunction
function P_N takes nothing returns nothing
if(PZN())then
call ExecuteFunc("HJX")
else
if(PYN())then
call ExecuteFunc("HKX")
else
if(PWN())then
call ExecuteFunc("HLX")
else
if(PUN())then
call ExecuteFunc("HMX")
else
if(PTN())then
call ExecuteFunc("HPX")
else
if(PSN())then
call ExecuteFunc("HSX")
endif
if(PQN())then
call ExecuteFunc("HUX")
endif
endif
endif
endif
endif
endif
endfunction
function P0N takes nothing returns nothing
set OXE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OXE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(OXE,function P_N)
endfunction
function P1N takes nothing returns boolean
return(GetSpellAbilityId()=='A1I8')
endfunction
function P2N takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call SetUnitAbilityLevelSwapped('A028',GetSpellTargetUnit(),71)
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call TriggerSleepAction(.5)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function P3N takes nothing returns nothing
set OIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(OIE,Condition(function P1N))
call TriggerAddAction(OIE,function P2N)
endfunction
function P4N takes nothing returns boolean
return((GetSpellAbilityId()=='A1I7')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function P5N takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetSpellTargetUnit())
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellAbilityUnit(),"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function P6N takes nothing returns nothing
set ORE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ORE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(ORE,Condition(function P4N))
call TriggerAddAction(ORE,function P5N)
endfunction
function P7N takes nothing returns boolean
return(GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function P8N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>=99)and(GetRandomInt(1,55)==5)
endfunction
function P9N takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>=99)and(GetRandomInt(1,58)==5)
endfunction
function QVN takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>='e')and(GetRandomInt(1,60)==5)
endfunction
function QEN takes nothing returns boolean
return(GetUnitLevel(GetDyingUnit())>='x')and(GetRandomInt(1,55)==5)
endfunction
function QXN takes nothing returns nothing
if(QEN())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0I3',XVV)
else
if(QVN())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0I4',XVV)
else
if(P9N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0I5',XVV)
else
if(P8N())then
set XVV=GetUnitLoc(GetDyingUnit())
call CreateItemLoc('I0I6',XVV)
endif
endif
endif
endif
endfunction
function QON takes nothing returns nothing
set OAE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OAE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OAE,Condition(function P7N))
call TriggerAddAction(OAE,function QXN)
endfunction
function QRN takes nothing returns nothing
call AdjustPlayerStateBJ(8020,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(8020,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function QIN takes nothing returns nothing
set GCE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(GCE,Player(2),"-ezmod",false)
call TriggerAddAction(GCE,function QRN)
endfunction
function QAN takes nothing returns nothing
set JBV=true
call DisplayTimedTextToForce(GetPlayersAll(),8.,("QuickMode has been selected XP gain is doubled, Bounty Gold and XP rewards are doubled. Creeps and Bosses spawn and respawn twice as fast."))
call AdjustPlayerStateBJ($7BC,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ($7BC,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerHandicapXPBJ(Player(2),200.)
call SetPlayerHandicapXPBJ(Player(3),200.)
call SetPlayerHandicapXPBJ(Player(4),200.)
call SetPlayerHandicapXPBJ(Player(5),200.)
call SetPlayerHandicapXPBJ(Player(6),200.)
call SetPlayerHandicapXPBJ(Player(7),200.)
call SetPlayerHandicapXPBJ(Player(8),200.)
call SetPlayerHandicapXPBJ(Player(9),200.)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function QNN takes nothing returns nothing
set JJ=CreateTrigger()
call TriggerRegisterPlayerChatEvent(JJ,Player(2),"-fastmode",false)
call TriggerAddAction(JJ,function QAN)
endfunction
function QBN takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),8.,("No victory mode has been selected. Killing dark force's base will no longer end the game and will instead stop wave spawns (Not bosses)"))
set BF=1
call DisableTrigger(GetTriggeringTrigger())
endfunction
function QCN takes nothing returns nothing
set GDE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(GDE,Player(2),"-novictory",false)
call TriggerAddAction(GDE,function QBN)
endfunction
function QDN takes nothing returns boolean
return(GetFilterPlayer()==GetTriggerPlayer())
endfunction
function QFN takes nothing returns boolean
return(GetEventPlayerChatString()=="-flameon")
endfunction
function QGN takes nothing returns boolean
return(GetFilterPlayer()==GetTriggerPlayer())
endfunction
function QHN takes nothing returns boolean
return(GetEventPlayerChatString()=="-flameoff")
endfunction
function QJN takes nothing returns boolean
return(GetFilterPlayer()==GetTriggerPlayer())
endfunction
function QKN takes nothing returns boolean
return(GetEventPlayerChatString()=="-flame")
endfunction
function QLN takes nothing returns nothing
if(QKN())then
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function QJN)),10.,("Infernal Flames: "+I2S(C7V)))
else
if(QHN())then
set C8V=true
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function QGN)),10.,"Infernal flames deactivated. Type -flameon to activate again.")
else
if(QFN())then
set C8V=false
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function QDN)),10.,"Infernal flames now activated.")
endif
endif
endif
endfunction
function QMN takes nothing returns nothing
set ONE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(ONE,Player(2),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(3),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(4),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(5),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(6),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(7),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(8),"-flame",false)
call TriggerRegisterPlayerChatEvent(ONE,Player(9),"-flame",false)
call TriggerAddAction(ONE,function QLN)
endfunction
function QPN takes nothing returns boolean
return(GetSpellAbilityId()=='A1IE')
endfunction
function QQN takes nothing returns boolean
return(IsUnitAliveBJ(GetEnumUnit()))and(IsUnitEnemy(GetEnumUnit(),GetTriggerPlayer()))
endfunction
function QSN takes nothing returns nothing
if(QQN())then
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetEnumUnit(),I2R((GetHeroStatBJ(bj_HEROSTAT_STR,GetSpellAbilityUnit(),true)*(GetUnitAbilityLevelSwapped('A1IE',GetSpellAbilityUnit())*5))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetSpellAbilityUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellAbilityUnit())+((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetSpellAbilityUnit(),true))*I2R(GetUnitAbilityLevelSwapped('A1IE',GetSpellAbilityUnit())))*1)))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S((GetHeroStatBJ(bj_HEROSTAT_STR,GetSpellAbilityUnit(),true)*(GetUnitAbilityLevelSwapped('A1IE',GetSpellAbilityUnit())*5))),XVV,0,11.,'d',50.,50.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
endif
endfunction
function QTN takes nothing returns nothing
set bj_wantDestroyGroup=true
set XVV=GetUnitLoc(GetTriggerUnit())
call ForGroupBJ(GetUnitsInRangeOfLocAll(600.,XVV),function QSN)
call RemoveLocation(XVV)
endfunction
function QUN takes nothing returns nothing
set OFE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OFE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OFE,Condition(function QPN))
call TriggerAddAction(OFE,function QTN)
endfunction
function QWN takes nothing returns boolean
return(GetSpellAbilityId()=='A1ID')
endfunction
function QYN takes nothing returns nothing
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*(.02+(.04*I2R(GetUnitAbilityLevelSwapped('A1ID',GetSpellAbilityUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call ModifyHeroStat(bj_HEROSTAT_STR,GetSpellAbilityUnit(),bj_MODIFYMETHOD_ADD,30)
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function QZN takes nothing returns nothing
set ODE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ODE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ODE,Condition(function QWN))
call TriggerAddAction(ODE,function QYN)
endfunction
function Q_N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==4)and(GetHeroLevel(E7V)>=42)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q0N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==4)and(GetHeroLevel(E7V)>=35)and(GetHeroLevel(E7V)<42)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q1N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==4)and(GetHeroLevel(E7V)<35)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q2N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==3)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q3N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==2)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q4N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('S016',E7V)==1)and(GetUnitLifePercent(E7V)<=40.)
endfunction
function Q5N takes nothing returns nothing
if(Q4N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,30)
call DisableTrigger(OBE)
call TriggerSleepAction(7.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,30)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
else
if(Q3N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,$96)
call DisableTrigger(OBE)
call TriggerSleepAction(12.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,$96)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
else
if(Q2N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,600)
call DisableTrigger(OBE)
call TriggerSleepAction(17.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,600)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
else
if(Q1N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,$3E8)
call DisableTrigger(OBE)
call TriggerSleepAction(27.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,$3E8)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
else
if(Q0N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,$5DC)
call DisableTrigger(OBE)
call TriggerSleepAction(27.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,$5DC)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
else
if(Q_N())then
set XVV=GetUnitLoc(E7V)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_ADD,$A28)
call DisableTrigger(OBE)
call TriggerSleepAction(27.)
call CreateTextTagLocBJ("Battle Wounds Effect Will Last in 3 Seconds!",XVV,.0,10.,'d','d','d',0)
call RemoveLocation(XVV)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call TriggerSleepAction(3.)
call ModifyHeroStat(bj_HEROSTAT_STR,E7V,bj_MODIFYMETHOD_SUB,$A28)
call TriggerSleepAction(20.)
call EnableTrigger(OBE)
endif
endif
endif
endif
endif
endif
endfunction
function Q6N takes nothing returns nothing
set OCE=CreateTrigger()
call TriggerAddAction(OCE,function Q5N)
endfunction
function Q7N takes nothing returns boolean
return(GetUnitTypeId(GetAttackedUnitBJ())=='N04A')and(UnitHasBuffBJ(GetAttackedUnitBJ(),'B07N'))
endfunction
function Q8N takes nothing returns nothing
set E7V=GetAttackedUnitBJ()
call ConditionalTriggerExecute(OCE)
endfunction
function Q9N takes nothing returns nothing
set OBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OBE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OBE,Condition(function Q7N))
call TriggerAddAction(OBE,function Q8N)
endfunction
function SVN takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y6')
endfunction
function SEN takes nothing returns nothing
set AC=GetSpellAbilityUnit()
set NC=GetSpellTargetUnit()
call EnableTrigger(GUE)
call TriggerSleepAction(8.)
call DisableTrigger(GUE)
endfunction
function SXN takes nothing returns nothing
set GHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GHE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GHE,Condition(function SVN))
call TriggerAddAction(GHE,function SEN)
endfunction
function SON takes nothing returns boolean
return(UnitHasBuffBJ(NC,'Bdtl'))
endfunction
function SRN takes nothing returns nothing
call UnitDamageTargetBJ(AC,NC,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,NC)*(.0075*I2R(GetUnitAbilityLevelSwapped('A0Y6',AC)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifePercentBJ(AC,(GetUnitLifePercent(AC)+(.75*I2R(GetUnitAbilityLevelSwapped('A0Y6',AC)))))
endfunction
function SIN takes nothing returns nothing
set GUE=CreateTrigger()
call DisableTrigger(GUE)
call TriggerRegisterTimerEventPeriodic(GUE,1.)
call TriggerAddCondition(GUE,Condition(function SON))
call TriggerAddAction(GUE,function SRN)
endfunction
function SAN takes nothing returns nothing
set G7='A1IJ'
set H7[1]=100.
set H7[2]=200.
set H7[3]=400.
set H7[4]=600.
set H7[5]=900.
set H7[6]=1200.
set H7[7]=1500.
set H7[8]=1900.
set H7[9]=2300.
set J7[1]=900.
set J7[2]=900.
set J7[3]=900.
set J7[4]=900.
set J7[5]=900.
set J7[6]=900.
set J7[7]=900.
set J7[8]=900.
set J7[9]=900.
set K7[1]=100.
set K7[2]=100.
set K7[3]=100.
set K7[4]=100.
set K7[5]=100.
set K7[6]=100.
set K7[7]=100.
set K7[8]=100.
set K7[9]=100.
set L7[1]=2000.
set L7[2]=2000.
set L7[3]=2000.
set L7[4]=2000.
set L7[5]=2000.
set L7[6]=2000.
set L7[7]=2000.
set L7[8]=2000.
set L7[9]=2000.
set M7='u00S'
set P7="Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl"
endfunction
function SNN takes nothing returns nothing
set O_E=CreateTrigger()
call TriggerAddAction(O_E,function SAN)
endfunction
function SBN takes nothing returns boolean
return(GetSpellAbilityId()==G7)
endfunction
function SCN takes nothing returns boolean
return(Q7==0)
endfunction
function SDN takes nothing returns boolean
return(U7>0)
endfunction
function SFN takes nothing returns nothing
if(SCN())then
call EnableTrigger(RIE)
endif
if(SDN())then
set U7=(U7-1)
set S7=W7[U7]
else
set S7=T7
set T7=(T7+1)
endif
set Y7[S7]=GetTriggerUnit()
set Z7=GetUnitLoc(Y7[S7])
set V8=GetSpellTargetLoc()
set E8[S7]=AngleBetweenPoints(Z7,V8)
call CreateNUnitsAtLoc(1,M7,GetOwningPlayer(Y7[S7]),Z7,E8[S7])
set X8[S7]=GetLastCreatedUnit()
set O8[S7]=false
set R8[S7]=GetUnitAbilityLevelSwapped(G7,Y7[S7])
set I8[S7]=K7[R8[S7]]
set A8[S7]=.0
set N8[S7]=L7[R8[S7]]
set B8[S7]=H7[R8[S7]]
set B8[S7]=(B8[S7]+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Y7[S7],true))*I2R(R8[S7])))
call RemoveLocation(Z7)
call RemoveLocation(V8)
set C8[Q7]=S7
set Q7=(Q7+1)
endfunction
function SGN takes nothing returns nothing
set RRE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RRE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RRE,Condition(function SBN))
call TriggerAddAction(RRE,function SFN)
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Y7[S7])))
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002002002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Y7[S7])))))!=null
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Y7[S7])))))))!=null
endfunction
function Trig_SEARLOOP_Func002Func003Func002Func006002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Y7[S7])))))))))!=null
endfunction
function SHN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Y7[S7])))))))))))!=null
endfunction
function SJN takes nothing returns boolean
return(UnitHasBuffBJ(G8,H8))
endfunction
function SKN takes nothing returns boolean
return(IsUnitGroupEmptyBJ(F8)==false)
endfunction
function SLN takes nothing returns boolean
return(A8[S7]<J7[R8[S7]])
endfunction
function SMN takes nothing returns boolean
return(Q7==0)
endfunction
function SPN takes nothing returns boolean
return(O8[S7]==false)
endfunction
function SQN takes nothing returns nothing
set D8=0
loop
exitwhen D8>(Q7-1)
set S7=C8[D8]
if(SPN())then
if(SLN())then
set A8[S7]=(A8[S7]+(.03*N8[S7]))
set Z7=GetUnitLoc(X8[S7])
set V8=PolarProjectionBJ(Z7,(.03*N8[S7]),E8[S7])
call SetUnitPositionLoc(X8[S7],V8)
set F8=GetUnitsInRangeOfLocMatching(I8[S7],Z7,Condition(function SHN))
if(SKN())then
call KillUnit(X8[S7])
set G8=GroupPickRandomUnit(F8)
call AddSpecialEffectTargetUnitBJ("chest",G8,P7)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("chest",G8,P7)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("chest",G8,P7)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(SJN())then
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(Y7[S7]),GetUnitLoc(G8),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1IH',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",G8)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
endif
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(Y7[S7]),GetUnitLoc(G8),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",G8)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitDamageTargetBJ(Y7[S7],G8,B8[S7],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303 "+(I2S(R2I(B8[S7]))+"|r")),G8,0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
set G8=null
set O8[S7]=true
endif
call DestroyGroup(F8)
call RemoveLocation(Z7)
call RemoveLocation(V8)
else
set O8[S7]=true
endif
else
call KillUnit(X8[S7])
set Y7[S7]=null
set X8[S7]=null
set Q7=(Q7-1)
set C8[D8]=C8[Q7]
set W7[U7]=S7
set U7=(U7+1)
set D8=(D8-1)
if(SMN())then
call DisableTrigger(RIE)
return
endif
endif
set D8=D8+1
endloop
endfunction
function SSN takes nothing returns nothing
set RIE=CreateTrigger()
call DisableTrigger(RIE)
call TriggerRegisterTimerEventPeriodic(RIE,.03)
call TriggerAddAction(RIE,function SQN)
endfunction
function STN takes nothing returns nothing
set J8='A1IK'
set K8[1]=300.
set K8[2]=300.
set K8[3]=300.
set K8[4]=300.
set K8[5]=300.
set K8[6]=300.
set K8[7]=300.
set K8[8]=300.
set K8[9]=300.
set L8[1]=100.
set L8[2]=200.
set L8[3]=300.
set L8[4]=500.
set L8[5]=700.
set L8[6]=1000.
set L8[7]=1300.
set L8[8]=1600.
set L8[9]=1900.
set M8[1]=.25
set M8[2]=.25
set M8[3]=.25
set M8[4]=.25
set M8[5]=.25
set M8[6]=.25
set M8[7]=.25
set M8[8]=.25
set M8[9]=.25
set P8[1]=1.
set P8[2]=1.
set P8[3]=1.
set P8[4]=1.
set P8[5]=1.
set P8[6]=1.
set P8[7]=1.
set P8[8]=1.
set P8[9]=1.
set Q8="Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl"
endfunction
function SUN takes nothing returns nothing
set RAE=CreateTrigger()
call TriggerAddAction(RAE,function STN)
endfunction
function SWN takes nothing returns boolean
return(GetSpellAbilityId()==J8)
endfunction
function SYN takes nothing returns boolean
return(S8==0)
endfunction
function SZN takes nothing returns boolean
return(W8>0)
endfunction
function S_N takes nothing returns nothing
if(SYN())then
call EnableTrigger(RBE)
endif
if(SZN())then
set W8=(W8-1)
set T8=Y8[W8]
else
set T8=U8
set U8=(U8+1)
endif
set Z8[T8]=GetTriggerUnit()
set VVV[T8]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u00T',GetOwningPlayer(Z8[T8]),VVV[T8],bj_UNIT_FACING)
set VEV[T8]=GetLastCreatedUnit()
set VXV=GetUnitAbilityLevelSwapped(J8,Z8[T8])
set VOV[T8]=L8[VXV]
set VOV[T8]=(VOV[T8]+((I2R(GetUnitAbilityLevelSwapped(J8,Z8[T8]))*1.6)*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Z8[T8],true))))
set VRV[T8]=M8[VXV]
set VIV[T8]=(VOV[T8]+(M8[VXV]*VOV[T8]))
set VAV[T8]=P8[VXV]
set VNV[T8]=K8[VXV]
set VBV[S8]=T8
set S8=(S8+1)
endfunction
function S0N takes nothing returns nothing
set RNE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RNE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RNE,Condition(function SWN))
call TriggerAddAction(RNE,function S_N)
endfunction
function Trig_POFLOOP_Func002Func003Func005002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_POFLOOP_Func002Func003Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_POFLOOP_Func002Func003Func005002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_POFLOOP_Func002Func003Func005002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z8[T8])))
endfunction
function Trig_POFLOOP_Func002Func003Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z8[T8]))))
endfunction
function Trig_POFLOOP_Func002Func003Func005002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z8[T8])))))))!=null
endfunction
function S1N takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(Z8[T8])))))))))!=null
endfunction
function S2N takes nothing returns boolean
return(UnitHasBuffBJ(VFV,H8))
endfunction
function S3N takes nothing returns nothing
set VFV=GetEnumUnit()
if(S2N())then
call UnitDamageTargetBJ(Z8[T8],VFV,VIV[T8]*4,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303 "+(I2S(R2I(VIV[T8]*4))+"|r")),VFV,0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
call UnitDamageTargetBJ(Z8[T8],VFV,VOV[T8],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303"+(I2S(R2I(VIV[T8]))+"|r")),VFV,0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(Z8[T8]),GetUnitLoc(VFV),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",VFV)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
set VFV=null
endfunction
function S4N takes nothing returns boolean
return(S8==0)
endfunction
function S5N takes nothing returns boolean
return(VAV[T8]>.0)
endfunction
function S6N takes nothing returns nothing
set VCV=0
loop
exitwhen VCV>(S8-1)
set T8=VBV[VCV]
if(S5N())then
set VAV[T8]=(VAV[T8]-.03)
else
call CreateNUnitsAtLoc(1,'u00U',GetOwningPlayer(Z8[T8]),VVV[T8],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call AddSpecialEffectLocBJ(VVV[T8],Q8)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set VDV=GetUnitsInRangeOfLocMatching(VNV[T8],VVV[T8],Condition(function S1N))
call ForGroupBJ(VDV,function S3N)
call KillUnit(VEV[T8])
set Z8[T8]=null
set VEV[T8]=null
call DestroyGroup(VDV)
call RemoveLocation(VVV[T8])
set S8=(S8-1)
set VBV[VCV]=VBV[S8]
set Y8[W8]=T8
set W8=(W8+1)
set VCV=(VCV-1)
if(S4N())then
call DisableTrigger(RBE)
return
endif
endif
set VCV=VCV+1
endloop
endfunction
function S7N takes nothing returns nothing
set RBE=CreateTrigger()
call DisableTrigger(RBE)
call TriggerRegisterTimerEventPeriodic(RBE,.03)
call TriggerAddAction(RBE,function S6N)
endfunction
function S8N takes nothing returns nothing
set VGV='A1IL'
set VHV[1]=400.
set VHV[2]=400.
set VHV[3]=400.
set VHV[4]=400.
set VHV[5]=400.
set VHV[6]=400.
set VHV[7]=400.
set VHV[8]=400.
set VHV[9]=400.
set VJV[1]=100.
set VJV[2]=200.
set VJV[3]=400.
set VJV[4]=600.
set VJV[5]=900.
set VJV[6]=1200.
set VJV[7]=1500.
set VJV[8]=1900.
set VJV[9]=2300.
set VKV="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"
set VLV="Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl"
endfunction
function S9N takes nothing returns nothing
set RCE=CreateTrigger()
call TriggerAddAction(RCE,function S8N)
endfunction
function TVN takes nothing returns boolean
return(GetSpellAbilityId()==VGV)
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(VMV)))
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002002002002 takes nothing returns boolean
return(GetFilterUnit()!=VPV)
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(VMV))),(GetFilterUnit()!=VPV))
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(VMV))),(GetFilterUnit()!=VPV))))
endfunction
function Trig_CONFLAGRATIONSTART_Func013Func002002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(VMV))),(GetFilterUnit()!=VPV)))))))!=null
endfunction
function TEN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(VMV))),(GetFilterUnit()!=VPV)))))))))!=null
endfunction
function TXN takes nothing returns nothing
set VWV=GetEnumUnit()
call UnitDamageTargetBJ(VMV,VWV,VSV,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303 "+(I2S(R2I(VSV))+"|r")),VWV,0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
call AddSpecialEffectTargetUnitBJ("chest",VWV,"Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set VWV=null
endfunction
function TON takes nothing returns boolean
return(UnitHasBuffBJ(VPV,H8))
endfunction
function TRN takes nothing returns nothing
set VMV=GetTriggerUnit()
set VPV=GetSpellTargetUnit()
set VQV=GetUnitAbilityLevelSwapped(VGV,VMV)
set VSV=VJV[VQV]
set VSV=(VSV+((I2R(VQV)*1.4)*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,VMV,true))))
call AddSpecialEffectTargetUnitBJ("origin",VPV,VKV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",VPV,VLV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set VTV=GetUnitLoc(VPV)
call CreateNUnitsAtLoc(1,'u00U',GetOwningPlayer(VMV),VTV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
if(TON())then
set VUV=GetUnitsInRangeOfLocMatching(VHV[VQV],VTV,Condition(function TEN))
call ForGroupBJ(VUV,function TXN)
call DestroyGroup(VUV)
endif
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(VMV),GetUnitLoc(VPV),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",VPV)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitDamageTargetBJ(VMV,VPV,VSV,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303 "+(I2S(R2I(VSV))+"|r")),VPV,0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
set VMV=null
set VPV=null
set VQV=0
set VSV=.0
set VSV=.0
call RemoveLocation(VTV)
endfunction
function TIN takes nothing returns nothing
set RDE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RDE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RDE,Condition(function TVN))
call TriggerAddAction(RDE,function TRN)
endfunction
function TAN takes nothing returns nothing
local integer i=0
set i=0
loop
exitwhen(i>1)
set LS[i]=CreateGroup()
set i=i+1
endloop
set S4=CreateGroup()
set Y4=0
set i=0
loop
exitwhen(i>1)
set V5[i]=0
set i=i+1
endloop
set E5=0
set i=0
loop
exitwhen(i>1)
set X5[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set I5[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set A5[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set N5[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set B5[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set C5[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set D5[i]=0
set i=i+1
endloop
set F5=CreateGroup()
set QQ=CreateGroup()
set SQ=0
set i=0
loop
exitwhen(i>1)
set WQ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set ES[i]=CreateGroup()
set i=i+1
endloop
set XS=CreateGroup()
set OS=0
set AS=0
set i=0
loop
exitwhen(i>1)
set NS[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set BS[i]=false
set i=i+1
endloop
set XQ=DialogCreate()
set i=0
loop
exitwhen(i>8)
set RQ[i]="notstarted"
set i=i+1
endloop
set i=0
loop
exitwhen(i>18)
set IQ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>2)
set AQ[i]=CreateTimer()
set i=i+1
endloop
set NQ=CreateGroup()
set CQ=DialogCreate()
set i=0
loop
exitwhen(i>3)
set GQ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>4)
set HQ[i]=0
set i=i+1
endloop
set JQ=DialogCreate()
set LQ=DialogCreate()
set VYV='A1IM'
set GQ[1]=$C
set GQ[2]=6
set GQ[3]=3
set WP=0
set YP=0
set ZP=CreateGroup()
set VQ=0
set i=0
loop
exitwhen(i>1)
set PP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set QP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set SP[i]=CreateGroup()
set i=i+1
endloop
set TP=0
set UP=0
set FQ=CreateGroup()
set FQ=GetUnitsInRectAll(H5)
set MP=CreateTimer()
set i=0
loop
exitwhen(i>4)
set AW[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set LN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set DN[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set QN[i]=""
set i=i+1
endloop
set UN=0
set WN=0
set i=0
loop
exitwhen(i>1)
set YN[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set ZN[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VB[i]=0
set i=i+1
endloop
set EB=false
set i=0
loop
exitwhen(i>1)
set OB[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set IB[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set AB[i]=0
set i=i+1
endloop
set PB=""
set QB=0
set SB=0
set i=0
loop
exitwhen(i>1)
set UB[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set MM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set QM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set SM[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set TM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set WM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set YM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set ZM[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set VP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set EP[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set OP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set RP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set IP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set AP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set NP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set BP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set CP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set DP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set FP[i]=0
set i=i+1
endloop
set ZK=0
set VL=0
set EL=0
set IL=""
set NL=""
set CL=0
set DL=0
set FL=0
set GL=0
set HL=0
set JL=0
set KL=0
set LL=0
set ML=0
set PL=0
set QL=0
set SL=0
set TL=0
set YL=0
set ZL=0
set XM=0
set OM=0
set RM=0
set IM=0
set AM=0
set NM=0
set FM=CreateGroup()
set GM=0
set HM=CreateGroup()
set JM=0
set KM=0
set LM=0
set SJ=0
set TJ=0
set UJ=0
set WJ=0
set YJ=0
set ZJ=0
set VK=0
set EK=0
set XK=""
set OK=0
set RK=""
set IK=""
set AK=0
set NK=0
set BK=0
set CK=0
set GK=true
set JK=CreateGroup()
set KK=CreateGroup()
set i=0
loop
exitwhen(i>1)
set LK[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set QK[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set SK[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set TK[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set UK[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set WK[i]=0
set i=i+1
endloop
set BB[0]=GetRectCenterX(KIV)
set BB[1]=GetRectCenterX(KAV)
set BB[2]=GetRectCenterX(KNV)
set BB[3]=GetRectCenterX(KBV)
set BB[4]=GetRectCenterX(KGV)
set BB[5]=GetRectCenterX(KFV)
set BB[6]=GetRectCenterX(KDV)
set BB[7]=GetRectCenterX(KCV)
set CB[0]=GetRectCenterY(KIV)
set CB[1]=GetRectCenterY(KAV)
set CB[2]=GetRectCenterY(KNV)
set CB[3]=GetRectCenterY(KBV)
set CB[4]=GetRectCenterY(KGV)
set CB[5]=GetRectCenterY(KFV)
set CB[6]=GetRectCenterY(KDV)
set CB[7]=GetRectCenterY(KCV)
set DB[0]=0
set DB[1]=0
set DB[2]=1
set DB[3]=0
set VZV[1]=500.
set VZV[2]=500.
set VZV[3]=500.
set VZV[4]=500.
set VZV[5]=500.
set VZV[6]=500.
set VZV[7]=500.
set VZV[8]=500.
set VZV[9]=500.
set V_V[1]=4
set V_V[2]=5
set V_V[3]=6
set V_V[4]=7
set V_V[5]=8
set V_V[6]=9
set V_V[7]=$A
set V_V[8]=$B
set V_V[9]=$C
set V0V[1]=100.
set V0V[2]=200.
set V0V[3]=300.
set V0V[5]=500.
set V0V[5]=700.
set V0V[6]=1000.
set V0V[7]=1300.
set V0V[8]=1600.
set V0V[9]=1900.
set V1V[1]=900.
set V1V[2]=900.
set V1V[3]=900.
set V1V[4]=900.
set V1V[5]=900.
set V1V[6]=900.
set V1V[7]=900.
set V1V[8]=900.
set V1V[9]=900.
set V2V=25.
set V3V="Abilities\\Spells\\Other\\Volcano\\VolcanoMissile.mdl"
set V4V='u00V'
set PN='A1PQ'
set LN[1]=200.
set LN[2]=200.
set LN[3]=200.
set LN[4]=200.
set MN[1]=100000.
set MN[2]=150000.
set MN[3]=200000.
set MN[4]=250000.
set SB=150.
set PB="attack"
set QB=50.
set OB[1]=1000.
set OB[2]=1000.
set OB[3]=1000.
set OB[4]=1000.
set IB[1]=1000.
set IB[2]=1000.
set IB[3]=1000.
set IB[4]=1000.
set QN[1]="Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl"
set QN[2]="Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl"
set EB=false
set YB='h08C'
set KB=GetRectCenter(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,'hpea',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(GetPlayableMapRect()),bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
set WB=GetLastCreatedUnit()
call RemoveLocation(KB)
set MM[5]=$B
set MM[6]=9
set MM[7]=1
set PM=Location(0,0)
set QM[1]=.0
set SM[1]="Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl"
set SM[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"
call Preload("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl")
call Preload("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call InitHashtableBJ()
set YK=GetLastCreatedHashtableBJ()
set QL=5.
set SL=1.
set KL=50000.
set LL=25000.
set ML=300.
set PL=100.
set ZK=5.
set VL=1.
set KM=10.
set LM=2.
set TL=20.
set CL=200.
set DL=50.
set EL=2.
set JM=5.
set NM=2.
set RM=300.
set GM=1.
set RL='A1LM'
set XL='u012'
set CM='u013'
set AL='u014'
set IL="Objects\\Spawnmodels\\NightElf\\NEDeathSmall\\NEDeathSmall.mdl"
set NL="CLPB"
endfunction
function TNN takes nothing returns nothing
set RFE=CreateTrigger()
call TriggerAddAction(RFE,function TAN)
endfunction
function TBN takes nothing returns boolean
return(GetSpellAbilityId()==VYV)
endfunction
function TCN takes nothing returns boolean
return(V5V==0)
endfunction
function TDN takes nothing returns boolean
return(V8V>0)
endfunction
function TFN takes nothing returns nothing
if(TCN())then
call EnableTrigger(RHE)
endif
if(TDN())then
set V8V=(V8V-1)
set V6V=V9V[V8V]
else
set V6V=V7V
set V7V=(V7V+1)
endif
set EVV[V6V]=GetTriggerUnit()
set EEV[V6V]=GetSpellTargetUnit()
set EXV=GetUnitAbilityLevelSwapped(VYV,EVV[V6V])
set EOV[V6V]=VZV[EXV]
set ERV[V6V]=V_V[EXV]
set EIV[V6V]=V0V[EXV]
set EIV[V6V]=(EIV[V6V]+((I2R(EXV)*1.6)*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,EVV[V6V],true))))
set EAV[V6V]=V1V[EXV]
set ENV=GetUnitLoc(EVV[V6V])
set EBV=GetUnitLoc(EEV[V6V])
set ECV=AngleBetweenPoints(ENV,EBV)
call CreateNUnitsAtLoc(1,V4V,GetOwningPlayer(EVV[V6V]),ENV,ECV)
set EDV[V6V]=GetLastCreatedUnit()
call RemoveLocation(ENV)
call RemoveLocation(EBV)
set EFV[V5V]=V6V
set V5V=(V5V+1)
endfunction
function TGN takes nothing returns nothing
set RGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RGE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RGE,Condition(function TBN))
call TriggerAddAction(RGE,function TFN)
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V])))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002002002002 takes nothing returns boolean
return(GetFilterUnit()!=EEV[V6V])
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func006002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))!=null
endfunction
function THN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))))!=null
endfunction
function TJN takes nothing returns boolean
return(IsUnitGroupEmptyBJ(EJV)==false)
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V])))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002002002002 takes nothing returns boolean
return(GetFilterUnit()!=EEV[V6V])
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func013002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))!=null
endfunction
function TKN takes nothing returns boolean
return(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))))!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V])))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002002002002 takes nothing returns boolean
return(GetFilterUnit()!=EEV[V6V])
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V]))))
endfunction
function Trig_PYROCLASMLOOP_Func002Func003Func011Func009Func014Func006002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))!=null
endfunction
function TLN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(EVV[V6V]))),(GetFilterUnit()!=EEV[V6V])))))))))!=null
endfunction
function TMN takes nothing returns boolean
return(IsUnitGroupEmptyBJ(EJV)==false)
endfunction
function TPN takes nothing returns boolean
return(IsUnitGroupEmptyBJ(EJV)==false)
endfunction
function TQN takes nothing returns boolean
return(UnitHasBuffBJ(EEV[V6V],H8))
endfunction
function TSN takes nothing returns boolean
return(EHV>V2V)
endfunction
function TTN takes nothing returns boolean
return(V5V==0)
endfunction
function TUN takes nothing returns boolean
return(ERV[V6V]>0)
endfunction
function TWN takes nothing returns nothing
set EGV=0
loop
exitwhen EGV>(V5V-1)
set V6V=EFV[EGV]
if(TUN())then
set ENV=GetUnitLoc(EDV[V6V])
set EBV=GetUnitLoc(EEV[V6V])
set EHV=DistanceBetweenPoints(ENV,EBV)
set ECV=AngleBetweenPoints(ENV,EBV)
call RemoveLocation(ENV)
call RemoveLocation(EBV)
if(TSN())then
set ENV=GetUnitLoc(EDV[V6V])
set EBV=PolarProjectionBJ(ENV,(.03*EAV[V6V]),ECV)
call SetUnitPositionLocFacingBJ(EDV[V6V],EBV,ECV)
call RemoveLocation(ENV)
call RemoveLocation(EBV)
else
call UnitDamageTargetBJ(EVV[V6V],EEV[V6V],EIV[V6V],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303 "+(I2S(R2I(EIV[V6V]))+"|r")),EEV[V6V],0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
call AddSpecialEffectTargetUnitBJ("origin",EEV[V6V],V3V)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(TQN())then
set ENV=GetUnitLoc(EDV[V6V])
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(EVV[V6V]),ENV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",EEV[V6V])
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
set EJV=GetUnitsInRangeOfLocMatching(EOV[V6V],ENV,Condition(function TKN))
if(TPN())then
set EEV[V6V]=GroupPickRandomUnit(EJV)
set EBV=GetUnitLoc(EEV[V6V])
set ECV=AngleBetweenPoints(ENV,EBV)
call KillUnit(EDV[V6V])
call CreateNUnitsAtLoc(1,V4V,GetOwningPlayer(EVV[V6V]),ENV,ECV)
set EDV[V6V]=GetLastCreatedUnit()
call RemoveLocation(EBV)
call DestroyGroup(EJV)
call RemoveLocation(ENV)
set ERV[V6V]=(ERV[V6V]-1)
else
set ENV=GetUnitLoc(EDV[V6V])
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(EVV[V6V]),ENV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",EEV[V6V])
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
set EJV=GetUnitsInRangeOfLocMatching(EOV[V6V],ENV,Condition(function TLN))
if(TMN())then
set EEV[V6V]=GroupPickRandomUnit(EJV)
set EBV=GetUnitLoc(EEV[V6V])
set ECV=AngleBetweenPoints(ENV,EBV)
call KillUnit(EDV[V6V])
call CreateNUnitsAtLoc(1,V4V,GetOwningPlayer(EVV[V6V]),ENV,ECV)
set EDV[V6V]=GetLastCreatedUnit()
call RemoveLocation(EBV)
call DestroyGroup(EJV)
call RemoveLocation(ENV)
set ERV[V6V]=(ERV[V6V]-1)
else
set ERV[V6V]=0
endif
endif
else
set ENV=GetUnitLoc(EDV[V6V])
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(EVV[V6V]),ENV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitAddAbilityBJ('A1II',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",EEV[V6V])
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
set EJV=GetUnitsInRangeOfLocMatching(EOV[V6V],ENV,Condition(function THN))
if(TJN())then
set EEV[V6V]=GroupPickRandomUnit(EJV)
set EBV=GetUnitLoc(EEV[V6V])
set ECV=AngleBetweenPoints(ENV,EBV)
call KillUnit(EDV[V6V])
call CreateNUnitsAtLoc(1,V4V,GetOwningPlayer(EVV[V6V]),ENV,ECV)
set EDV[V6V]=GetLastCreatedUnit()
call RemoveLocation(EBV)
call DestroyGroup(EJV)
call RemoveLocation(ENV)
set ERV[V6V]=(ERV[V6V]-1)
else
set ERV[V6V]=0
endif
endif
endif
else
call KillUnit(EDV[V6V])
set EVV[V6V]=null
set EEV[V6V]=null
set EDV[V6V]=null
set V5V=(V5V-1)
set EFV[EGV]=EFV[V5V]
set V9V[V8V]=V6V
set V8V=(V8V+1)
set EGV=(EGV-1)
if(TTN())then
call DisableTrigger(RHE)
return
endif
endif
set EGV=EGV+1
endloop
endfunction
function TYN takes nothing returns nothing
set RHE=CreateTrigger()
call DisableTrigger(RHE)
call TriggerRegisterTimerEventPeriodic(RHE,.03)
call TriggerAddAction(RHE,function TWN)
endfunction
function TZN takes nothing returns nothing
set H8='B07Q'
set EKV='A1II'
set ELV=4.
set EMV=.01
set EPV=100.
set EQV="Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl"
endfunction
function T_N takes nothing returns nothing
set RJE=CreateTrigger()
call TriggerAddAction(RJE,function TZN)
endfunction
function T0N takes nothing returns boolean
return(GetSpellAbilityId()==EKV)
endfunction
function T1N takes nothing returns boolean
return(ESV==0)
endfunction
function T2N takes nothing returns boolean
return(EWV>0)
endfunction
function Trig_BLAZESTART_Func011Func002001 takes nothing returns boolean
return(E0V[ETV]>80.)
endfunction
function Trig_BLAZESTART_Func011Func002002 takes nothing returns boolean
return(IsUnitAliveBJ(E_V[ETV]))
endfunction
function T3N takes nothing returns boolean
return(GetBooleanAnd((E0V[ETV]>80.),(IsUnitAliveBJ(E_V[ETV])==false)))
endfunction
function T4N takes nothing returns nothing
if(T1N())then
call EnableTrigger(RLE)
endif
if(T2N())then
set EWV=(EWV-1)
set ETV=EYV[EWV]
else
set ETV=EUV
set EUV=(EUV+1)
endif
set EZV[ETV]=GetTriggerUnit()
set E_V[ETV]=GetSpellTargetUnit()
set E0V[ETV]=(EMV*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,E_V[ETV]))
set E1V[ETV]=ELV
set E2V[ETV]=AddSpecialEffectTargetUnitBJ("chest",E_V[ETV],EQV)
call UnitPauseTimedLifeBJ(true,EZV[ETV])
if(T3N())then
set E0V[ETV]=EPV
endif
set E3V[ESV]=ETV
set ESV=(ESV+1)
endfunction
function T5N takes nothing returns nothing
set RKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RKE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(RKE,Condition(function T0N))
call TriggerAddAction(RKE,function T4N)
endfunction
function T6N takes nothing returns boolean
return(UnitHasBuffBJ(E_V[ETV],H8))
endfunction
function T7N takes nothing returns boolean
return(ESV==0)
endfunction
function T8N takes nothing returns boolean
return(E1V[ETV]>.0)
endfunction
function T9N takes nothing returns nothing
set E4V=0
loop
exitwhen E4V>(ESV-1)
set ETV=E3V[E4V]
if(T8N())then
set E1V[ETV]=(E1V[ETV]-.1)
if(T6N())then
call UnitDamageTargetBJ(EZV[ETV],E_V[ETV],(.1*E0V[ETV]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
else
call DestroyEffectBJ(E2V[ETV])
call UnitPauseTimedLifeBJ(false,EZV[ETV])
set EZV[ETV]=null
set E_V[ETV]=null
set ESV=(ESV-1)
set E3V[E4V]=E3V[ESV]
set EYV[EWV]=ETV
set EWV=(EWV+1)
set E4V=(E4V-1)
if(T7N())then
call DisableTrigger(RLE)
return
endif
endif
set E4V=E4V+1
endloop
endfunction
function UVN takes nothing returns nothing
set RLE=CreateTrigger()
call DisableTrigger(RLE)
call TriggerRegisterTimerEventPeriodic(RLE,.1)
call TriggerAddAction(RLE,function T9N)
endfunction
function UEN takes nothing returns boolean
return((UnitHasBuffBJ(GetAttacker(),'B07R'))and(IsUnitIdType(GetUnitTypeId(GetAttacker()),UNIT_TYPE_HERO))and(IsUnitIllusionBJ(GetAttacker())==false)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_MAGIC_IMMUNE)==false))!=null
endfunction
function UXN takes nothing returns nothing
set BN=GetUnitLoc(GetAttackedUnitBJ())
set CN=R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())-GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker()))/2.1)
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),66)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(GetAttacker()),BN,bj_UNIT_FACING)
call UnitAddAbilityBJ('A1IO',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetAttackedUnitBJ())
call CreateTextTagUnitBJ(("|c000060FF"+(I2S(CN)+"|r")),GetAttackedUnitBJ(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
call RemoveLocation(BN)
endfunction
function UON takes nothing returns nothing
set OGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OGE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OGE,Condition(function UEN))
call TriggerAddAction(OGE,function UXN)
endfunction
function URN takes nothing returns boolean
return(GetSpellAbilityId()=='A1IP')
endfunction
function UIN takes nothing returns boolean
return(GetSpellAbilityId()=='A1IN')
endfunction
function UAN takes nothing returns nothing
local unit UNN
if(UIN())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('S017',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('S017',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A1IN',GetTriggerUnit()))
call UnitApplyTimedLifeBJ(4.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"move",GetTriggerUnit())
call RemoveLocation(XVV)
set UNN=GetTriggerUnit()
call UnitAddAbilityBJ('A1Y5',UNN)
call mj(5.)
call UnitRemoveAbilityBJ('A1Y5',UNN)
set UNN=null
else
if(URN())then
call SetUnitLifePercentBJ(GetTriggerUnit(),10.)
endif
endif
endfunction
function UBN takes nothing returns nothing
set OHE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OHE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(OHE,function UAN)
endfunction
function UCN takes nothing returns nothing
set A7=Location(0,0)
call CreateNUnitsAtLoc(1,'h07K',Player(PLAYER_NEUTRAL_PASSIVE),A7,bj_UNIT_FACING)
set N7=GetLastCreatedUnit()
call ShowUnitHide(N7)
call RemoveLocation(A7)
set S5='A1IS'
set T5='A1IW'
set U5='h07I'
set W5='h07J'
call InitHashtableBJ()
set E6=GetLastCreatedHashtableBJ()
set X6[1]=300.
set X6[2]=425.
set X6[3]=550.
set X6[4]=675.
set O6[1]=225.
set O6[2]=225.
set O6[3]=225.
set O6[4]=225.
set R6[1]=$61A8
set R6[2]=$EA60
set R6[3]=90000
set R6[4]=$30D40
set I6[1]=200.
set I6[2]=250.
set I6[3]=300.
set I6[4]=350.
set A6[1]=3000.
set A6[2]=5000.
set A6[3]=6000.
set A6[4]=10000.
set N6[1]=500.
set N6[2]=500.
set N6[3]=500.
set N6[4]=500.
set B6[1]=5.
set B6[2]=6.
set B6[3]=7.
set B6[4]=8.
set C6[1]=2.
set C6[2]=2.5
set C6[3]=3.
set C6[4]=3.5
set D6[1]=950.
set D6[2]=950.
set D6[3]=950.
set D6[4]=950.
set F6[1]=1
set F6[2]=2
set F6[3]=3
set F6[4]=4
set G6=DAMAGE_TYPE_UNIVERSAL
set H6="Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl"
set J6="Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl"
set K6=false
set L6=false
endfunction
function UDN takes nothing returns nothing
set OKE=CreateTrigger()
call TriggerAddAction(OKE,function UCN)
endfunction
function UFN takes nothing returns boolean
return(GetSpellAbilityId()==S5)
endfunction
function UGN takes nothing returns nothing
set M6=GetUnitAbilityLevelSwapped(S5,GetTriggerUnit())
set A7=GetSpellTargetLoc()
set P6=1
set B7=GetTriggerUnit()
loop
exitwhen P6>F6[M6]
set Q6=PolarProjectionBJ(A7,X6[M6],((360./ I2R(F6[M6]))*I2R(P6)))
call CreateNUnitsAtLoc(1,U5,GetTriggerPlayer(),A7,(((360./ I2R(F6[M6]))*I2R(P6))+90.))
set S6=GetHandleIdBJ(GetLastCreatedUnit())
set I7=GetLastCreatedUnit()
call UnitAddAbilityBJ(T5,I7)
call SetUnitX(I7,GetLocationX(Q6))
call SetUnitY(I7,GetLocationY(Q6))
call SetUnitVertexColorBJ(I7,'d','d','d',35.)
call UnitApplyTimedLifeBJ(B6[M6],'BTLF',I7)
call SetUnitFlyHeightBJ(I7,N6[M6],(N6[M6]/ B6[M6]))
call GroupAddUnitSimple(I7,T6)
call SaveIntegerBJ(M6,0,S6,E6)
call SaveRealBJ(((360.*.03)*(C6[M6]/ B6[M6])),1,S6,E6)
call SaveRealBJ(X6[M6],2,S6,E6)
call SaveRealBJ((A6[M6]/ .03),3,S6,E6)
call SaveRealBJ(((360./ I2R(F6[M6]))*I2R(P6)),4,S6,E6)
call SaveRealBJ(X6[M6],5,S6,E6)
call SaveRealBJ(B6[M6],6,S6,E6)
call RemoveLocation(Q6)
set P6=P6+1
endloop
call SaveBooleanBJ(true,7,S6,E6)
call RemoveLocation(A7)
call EnableTrigger(OLE)
endfunction
function UHN takes nothing returns nothing
set OJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OJE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OJE,Condition(function UFN))
call TriggerAddAction(OJE,function UGN)
endfunction
function UJN takes nothing returns boolean
return(GetUnitCurrentOrder(N7)==$D0032)
endfunction
function UKN takes nothing returns nothing
call IssueTargetDestructableOrder(N7,"harvest",GetEnumDestructable())
if(UJN())then
call KillDestructable(GetEnumDestructable())
endif
call IssueImmediateOrderBJ(N7,"stop")
endfunction
function ULN takes nothing returns boolean
return(K6)
endfunction
function Trig_MP_Loop_Func001Func001Func017002003001001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)!=null
endfunction
function Trig_MP_Loop_Func001Func001Func017002003001001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))
endfunction
function Trig_MP_Loop_Func001Func001Func017002003001001 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func017002003001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_MP_Loop_Func001Func001Func017002003001 takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func017002003002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function UMN takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit())))),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))!=null
endfunction
function UPN takes nothing returns nothing
set V7=GetEnumUnit()
call UnitAddAbilityBJ('A028',V7)
call SetUnitAbilityLevelSwapped('A028',V7,72)
call UnitDamageTargetBJ(B7,V7,.1,ATTACK_TYPE_CHAOS,G6)
call AddSpecialEffectTargetUnitBJ("origin",V7,H6)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003001001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003001001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003001001 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003001 takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func006002003002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function UQN takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit())))),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))!=null
endfunction
function USN takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),79)
call UnitDamageTargetBJ(B7,GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,G6)
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003001001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003001001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003001001 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7)))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003001 takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='nfgo')
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003002002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='nfgt')
endfunction
function Trig_MP_Loop_Func001Func001Func020Func001Func010Func002002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function UTN takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I7))))),(IsUnitAliveBJ(GetFilterUnit())))),(GetBooleanAnd((GetUnitTypeId(GetFilterUnit())!='nfgo'),(GetUnitTypeId(GetFilterUnit())!='nfgt')))))!=null
endfunction
function UUN takes nothing returns nothing
set V7=GetEnumUnit()
set O7=GetUnitLoc(V7)
call SetUnitFacingToFaceLocTimed(V7,A7,0)
set R7=GetHandleId(V7)
call SaveRealBJ(AngleBetweenPoints(Y6,O7),0,R7,E6)
call SaveRealBJ(I6[M6],1,R7,E6)
call SaveRealBJ(D6[M6],2,R7,E6)
call RemoveLocation(O7)
endfunction
function UWN takes nothing returns boolean
return(L6)
endfunction
function UYN takes nothing returns boolean
return(LoadBooleanBJ(7,S6,E6))
endfunction
function UZN takes nothing returns boolean
return(IsUnitGroupEmptyBJ(T6))and(IsUnitGroupEmptyBJ(X7))
endfunction
function U_N takes nothing returns boolean
return(U6<=.0)
endfunction
function U0N takes nothing returns nothing
set I7=GetEnumUnit()
set S6=GetHandleId(I7)
set M6=LoadIntegerBJ(0,S6,E6)
set U6=LoadRealBJ(2,S6,E6)
set W6=LoadRealBJ(4,S6,E6)
set Q6=GetUnitLoc(I7)
set A7=PolarProjectionBJ(Q6,U6,(W6+180.))
set W6=(W6+LoadRealBJ(1,S6,E6))
call SaveRealBJ(W6,4,S6,E6)
set U6=(U6-(LoadRealBJ(5,S6,E6)*(.03/ LoadRealBJ(6,S6,E6))))
call SaveRealBJ(U6,2,S6,E6)
set Y6=PolarProjectionBJ(A7,U6,W6)
call SetUnitFacingTimed(I7,(W6+90.),.0)
call SetUnitX(I7,GetLocationX(Y6))
call SetUnitY(I7,GetLocationY(Y6))
if(ULN())then
call EnumDestructablesInCircleBJ(O6[M6],Y6,function UKN)
endif
set Z6=GetUnitsInRangeOfLocMatching(O6[M6],Y6,Condition(function UMN))
call ForGroupBJ(Z6,function UPN)
call DestroyGroup(Z6)
if(U_N())then
if(UYN())then
call CreateNUnitsAtLoc(1,W5,GetOwningPlayer(I7),Y6,bj_UNIT_FACING)
set V7=GetLastCreatedUnit()
set E7=(X6[M6]/ 1.7)
call SetUnitScalePercent(V7,E7,.0,.0)
set Z6=GetUnitsInRangeOfLocMatching(X6[M6],Y6,Condition(function UQN))
call ForGroupBJ(Z6,function USN)
call DestroyGroup(Z6)
call KillUnit(V7)
if(UWN())then
set Z6=GetUnitsInRangeOfLocMatching(X6[M6],Y6,Condition(function UTN))
call GroupAddGroup(Z6,X7)
call ForGroupBJ(Z6,function UUN)
endif
endif
call FlushChildHashtableBJ(S6,E6)
call GroupRemoveUnitSimple(I7,T6)
if(UZN())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
call RemoveLocation(A7)
call RemoveLocation(Q6)
call RemoveLocation(Y6)
endfunction
function U1N takes nothing returns boolean
return(IsUnitGroupEmptyBJ(T6)==false)
endfunction
function U2N takes nothing returns boolean
return(IsTerrainPathableBJ(Q6,PATHING_TYPE_WALKABILITY)==false)
endfunction
function U3N takes nothing returns boolean
return(IsUnitGroupEmptyBJ(T6))and(IsUnitGroupEmptyBJ(X7))
endfunction
function U4N takes nothing returns boolean
return(U6<=.0)
endfunction
function U5N takes nothing returns nothing
set I7=GetEnumUnit()
set S6=GetHandleId(I7)
set A7=GetUnitLoc(I7)
set Q6=PolarProjectionBJ(A7,(LoadRealBJ(2,S6,E6)*.03),LoadRealBJ(0,S6,E6))
set W6=AngleBetweenPoints(Q6,A7)
if(U2N())then
call SetUnitX(I7,GetLocationX(Q6))
call SetUnitY(I7,GetLocationY(Q6))
endif
call AddSpecialEffectLocBJ(Q6,J6)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set U6=LoadRealBJ(1,S6,E6)
set U6=(U6-(LoadRealBJ(2,S6,E6)*.03))
call SaveRealBJ(U6,1,S6,E6)
if(U4N())then
call GroupRemoveUnitSimple(I7,X7)
call FlushChildHashtableBJ(S6,E6)
if(U3N())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
call RemoveLocation(A7)
call RemoveLocation(Q6)
endfunction
function U6N takes nothing returns boolean
return(IsUnitGroupEmptyBJ(X7)==false)
endfunction
function U7N takes nothing returns nothing
if(U1N())then
call ForGroupBJ(T6,function U0N)
endif
if(U6N())then
call ForGroupBJ(X7,function U5N)
endif
endfunction
function U8N takes nothing returns nothing
set OLE=CreateTrigger()
call DisableTrigger(OLE)
call TriggerRegisterTimerEventPeriodic(OLE,.04)
call TriggerAddAction(OLE,function U7N)
endfunction
function U9N takes nothing returns boolean
return(GetSpellAbilityId()=='A1IU')
endfunction
function WVN takes nothing returns nothing
set F7=GetSpellAbilityUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'n04B',GetOwningPlayer(F7),GetUnitLoc(F7),GetUnitLoc(F7))
set D7[1]=GetLastCreatedUnit()
call UnitAddAbilityBJ('A1IV',D7[1])
call SetUnitAbilityLevelSwapped('A1IV',D7[1],GetUnitAbilityLevelSwapped('A1IU',F7))
call UnitApplyTimedLifeBJ(4.2,'BTLF',GetLastCreatedUnit())
endfunction
function WEN takes nothing returns nothing
set OME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OME,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OME,Condition(function U9N))
call TriggerAddAction(OME,function WVN)
endfunction
function WXN takes nothing returns boolean
return(GetSpellAbilityId()=='A1IX')
endfunction
function Trig_Skill1ArEclipse_Func005002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Skill1ArEclipse_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_Skill1ArEclipse_Func005002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Skill1ArEclipse_Func005002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(0)))
endfunction
function Trig_Skill1ArEclipse_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0))))
endfunction
function Trig_Skill1ArEclipse_Func005002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))!=null
endfunction
function WON takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))))!=null
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func001002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func001Func001Func003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function WRN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07U')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))
endfunction
function WIN takes nothing returns boolean
return(WRN())
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func008001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func008002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func008002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill1ArEclipse_Func006Func005Func008002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function WAN takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function Trig_Skill1ArEclipse_Func006Func006Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill1ArEclipse_Func006Func006Func001002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill1ArEclipse_Func006Func006Func001002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill1ArEclipse_Func006Func006Func001002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function WNN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function WBN takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[32]),C7[32],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1J1',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",GetEnumUnit())
if(WAN())then
call UnitDamageTargetBJ(HN[32],GetEnumUnit(),I2R((DN[33]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[33])+" x (2)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
if(WIN())then
call UnitDamageTargetBJ(HN[32],GetEnumUnit(),I2R((DN[33]*3)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[33])+" x (3)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
call UnitDamageTargetBJ(HN[32],GetEnumUnit(),I2R(DN[33]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[33])+"|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
if(WNN())then
call UnitDamageTargetBJ(HN[32],GetEnumUnit(),I2R((DN[33]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[33])+" x (4)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
endfunction
function WCN takes nothing returns nothing
set HN[32]=GetSpellAbilityUnit()
set C7[32]=GetSpellTargetLoc()
set DN[32]=(GetUnitAbilityLevelSwapped('A1IX',HN[32])*GetHeroStatBJ(bj_HEROSTAT_INT,HN[32],true))
set DN[33]=R2I((1.8*I2R(DN[32])))
set GN[32]=GetUnitsInRangeOfLocMatching(350.,GetSpellTargetLoc(),Condition(function WON))
call ForGroupBJ(GN[32],function WBN)
call DestroyGroup(GN[32])
call RemoveLocation(C7[32])
endfunction
function WDN takes nothing returns nothing
set GJE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GJE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GJE,Condition(function WXN))
call TriggerAddAction(GJE,function WCN)
endfunction
function WFN takes nothing returns boolean
return(GetSpellAbilityId()=='A1J5')
endfunction
function WGN takes nothing returns nothing
set HN[30]=GetSpellAbilityUnit()
set C7[30]=GetSpellTargetLoc()
set DN[30]=(GetUnitAbilityLevelSwapped('A1J5',HN[30])*GetHeroStatBJ(bj_HEROSTAT_INT,HN[30],true))
set DN[31]=R2I((.9*I2R(DN[30])))
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[30]),C7[30],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(5.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1IY',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",C7[30])
call TriggerSleepAction(1.)
call EnableTrigger(GLE)
endfunction
function WHN takes nothing returns nothing
set GSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GSE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GSE,Condition(function WFN))
call TriggerAddAction(GSE,function WGN)
endfunction
function Trig_LoopArmage_Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_LoopArmage_Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_LoopArmage_Func001002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_LoopArmage_Func001002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(0)))
endfunction
function Trig_LoopArmage_Func001002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0))))
endfunction
function Trig_LoopArmage_Func001002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))!=null
endfunction
function WJN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))))!=null
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func001002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage_Func003Func005Func001Func002Func003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function WKN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07U')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))
endfunction
function WLN takes nothing returns boolean
return(WKN())
endfunction
function Trig_LoopArmage_Func003Func005Func008001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage_Func003Func005Func008002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_LoopArmage_Func003Func005Func008002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage_Func003Func005Func008002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function WMN takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function Trig_LoopArmage_Func003Func006Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage_Func003Func006Func001002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_LoopArmage_Func003Func006Func001002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage_Func003Func006Func001002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function WPN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function WQN takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[30]),C7[30],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1J2',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"faeriefire",GetEnumUnit())
if(WMN())then
call UnitDamageTargetBJ(HN[30],GetEnumUnit(),I2R((DN[31]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[31])+" x (2)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
if(WLN())then
call UnitDamageTargetBJ(HN[30],GetEnumUnit(),I2R((DN[31]*3)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[31])+" x (3)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
call UnitDamageTargetBJ(HN[30],GetEnumUnit(),I2R(DN[31]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(WPN())then
call UnitDamageTargetBJ(HN[30],GetEnumUnit(),I2R((DN[31]*4)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[31])+" x (4)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
endfunction
function WSN takes nothing returns boolean
return(JN[$B]==2)
endfunction
function WTN takes nothing returns nothing
set GN[30]=GetUnitsInRangeOfLocMatching(400.,C7[30],Condition(function WJN))
set JN[$B]=(JN[$B]+1)
call ForGroupBJ(GN[30],function WQN)
if(WSN())then
set JN[$B]=0
call DestroyGroup(GN[30])
call RemoveLocation(C7[30])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function WUN takes nothing returns nothing
set GLE=CreateTrigger()
call DisableTrigger(GLE)
call TriggerRegisterTimerEventPeriodic(GLE,1.)
call TriggerAddAction(GLE,function WTN)
endfunction
function WWN takes nothing returns boolean
return(GetSpellAbilityId()=='A1J6')
endfunction
function WYN takes nothing returns nothing
set HN[34]=GetSpellAbilityUnit()
set C7[34]=GetSpellTargetLoc()
set DN[34]=(GetUnitAbilityLevelSwapped('A1J6',HN[34])*GetHeroStatBJ(bj_HEROSTAT_INT,HN[34],true))
set DN[35]=R2I((.3*I2R(DN[34])))
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[34]),C7[34],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1IZ',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"deathanddecay",C7[34])
call EnableTrigger(GME)
endfunction
function WZN takes nothing returns nothing
set GKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GKE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GKE,Condition(function WWN))
call TriggerAddAction(GKE,function WYN)
endfunction
function Trig_LoopArmage3_Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_LoopArmage3_Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_LoopArmage3_Func001002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_LoopArmage3_Func001002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(0)))
endfunction
function Trig_LoopArmage3_Func001002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0))))
endfunction
function Trig_LoopArmage3_Func001002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))!=null
endfunction
function W_N takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))))!=null
endfunction
function W0N takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V')==false)
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func001002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage3_Func003Func002Func001Func002Func003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function W1N takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(UnitHasBuffBJ(GetEnumUnit(),'B07S'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07U')),(UnitHasBuffBJ(GetEnumUnit(),'B07S'))))
endfunction
function W2N takes nothing returns boolean
return(W1N())
endfunction
function Trig_LoopArmage3_Func003Func002Func008001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_LoopArmage3_Func003Func002Func008002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage3_Func003Func002Func008002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage3_Func003Func002Func008002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function W3N takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07T')),(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function Trig_LoopArmage3_Func003Func003Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage3_Func003Func003Func001002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_LoopArmage3_Func003Func003Func001002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_LoopArmage3_Func003Func003Func001002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U')))
endfunction
function W4N takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))))
endfunction
function W5N takes nothing returns nothing
if(W0N())then
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[34]),C7[34],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1J3',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"cripple",GetEnumUnit())
endif
if(W3N())then
call UnitDamageTargetBJ(HN[34],GetEnumUnit(),I2R((DN[35]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[35])+" x (2)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
if(W2N())then
call UnitDamageTargetBJ(HN[34],GetEnumUnit(),I2R((DN[35]*3)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[35])+" x (3)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
call UnitDamageTargetBJ(HN[34],GetEnumUnit(),I2R(DN[35]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(W4N())then
call UnitDamageTargetBJ(HN[34],GetEnumUnit(),I2R((DN[35]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[35])+" x (2)|r")),GetEnumUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
endfunction
function W6N takes nothing returns boolean
return(JN[$C]==5)
endfunction
function W7N takes nothing returns nothing
set GN[34]=GetUnitsInRangeOfLocMatching(350.,C7[34],Condition(function W_N))
set JN[$C]=(JN[$C]+1)
call ForGroupBJ(GN[34],function W5N)
if(W6N())then
set JN[$C]=0
call DestroyGroup(GN[34])
call RemoveLocation(C7[34])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function W8N takes nothing returns nothing
set GME=CreateTrigger()
call DisableTrigger(GME)
call TriggerRegisterTimerEventPeriodic(GME,1.)
call TriggerAddAction(GME,function W7N)
endfunction
function W9N takes nothing returns boolean
return(GetSpellAbilityId()=='A1J7')
endfunction
function YVN takes nothing returns nothing
set HN[36]=GetSpellAbilityUnit()
set C7[36]=GetSpellTargetLoc()
set DN[36]=(GetUnitAbilityLevelSwapped('A1J7',HN[36])*GetHeroStatBJ(bj_HEROSTAT_INT,HN[36],true))
set DN[37]=R2I((.01*I2R(DN[36])))
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[36]),C7[36],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1J0',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",C7[36])
call EnableTrigger(GPE)
endfunction
function YEN takes nothing returns nothing
set GTE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GTE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GTE,Condition(function W9N))
call TriggerAddAction(GTE,function YVN)
endfunction
function Trig_Skill4LightningLoop_Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Skill4LightningLoop_Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_Skill4LightningLoop_Func001002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Skill4LightningLoop_Func001002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(0)))
endfunction
function Trig_Skill4LightningLoop_Func001002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0))))
endfunction
function Trig_Skill4LightningLoop_Func001002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))!=null
endfunction
function YXN takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(IsUnitEnemy(GetFilterUnit(),Player(0)))))))))!=null
endfunction
function YON takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U')==false)
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func001002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07U'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func001Func002Func003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function YRN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07U')),(UnitHasBuffBJ(GetEnumUnit(),'B07V'))))
endfunction
function YIN takes nothing returns boolean
return(YRN())
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill4LightningLoop_Func003Func002Func002002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07T')))
endfunction
function YAN takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(GetBooleanOr((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(UnitHasBuffBJ(GetEnumUnit(),'B07T'))))))
endfunction
function Trig_Skill4LightningLoop_Func003Func003Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07V'))
endfunction
function Trig_Skill4LightningLoop_Func003Func003Func001002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07S'))
endfunction
function Trig_Skill4LightningLoop_Func003Func003Func001002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetEnumUnit(),'B07T'))
endfunction
function Trig_Skill4LightningLoop_Func003Func003Func001002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07T')))
endfunction
function YNN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07V')),(GetBooleanAnd((UnitHasBuffBJ(GetEnumUnit(),'B07S')),(UnitHasBuffBJ(GetEnumUnit(),'B07T'))))))
endfunction
function YBN takes nothing returns nothing
if(YON())then
call CreateNUnitsAtLoc(1,'h07F',GetOwningPlayer(HN[36]),C7[36],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1J4',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
endif
if(YAN())then
if(YIN())then
call UnitDamageTargetBJ(HN[36],GetEnumUnit(),I2R((DN[37]*3)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(HN[36],GetEnumUnit(),I2R(DN[37]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(YNN())then
call UnitDamageTargetBJ(HN[36],GetEnumUnit(),I2R((DN[37]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function YCN takes nothing returns boolean
return(JN[$D]=='d')
endfunction
function YDN takes nothing returns nothing
set GN[36]=GetUnitsInRangeOfLocMatching(275.,C7[36],Condition(function YXN))
set JN[$D]=(JN[$D]+1)
call ForGroupBJ(GN[36],function YBN)
if(YCN())then
set JN[$D]=0
call DestroyGroup(GN[36])
call RemoveLocation(C7[36])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function YFN takes nothing returns nothing
set GPE=CreateTrigger()
call DisableTrigger(GPE)
call TriggerRegisterTimerEventPeriodic(GPE,.05)
call TriggerAddAction(GPE,function YDN)
endfunction
function YGN takes nothing returns boolean
return(GetSpellAbilityId()=='A1J8')
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func001002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func001002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func001002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func002002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func003002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func003002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func003002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func004001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func004002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func004002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func001Func001Func007Func004002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')))
endfunction
function YHN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))))
endfunction
function YJN takes nothing returns boolean
return(YHN())
endfunction
function Trig_Skill5_Func003Func001Func003Func001001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func003Func001002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func003Func002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func003Func002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func003Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func001Func003Func003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func001Func003Func004001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func003Func004002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func003Func005001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func001Func003Func005002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func001Func003Func006001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func001Func003Func006002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function YKN takes nothing returns boolean
return(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))or(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))
endfunction
function YLN takes nothing returns boolean
return(YKN())
endfunction
function Trig_Skill5_Func003Func002Func007001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func002Func007002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func002Func007002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func002Func007002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func002Func007002002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')))
endfunction
function Trig_Skill5_Func003Func002Func007002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')))))
endfunction
function YMN takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(GetBooleanAnd((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))))))))
endfunction
function Trig_Skill5_Func003Func003001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07T'))
endfunction
function Trig_Skill5_Func003Func003002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07V'))
endfunction
function Trig_Skill5_Func003Func003002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07U'))
endfunction
function Trig_Skill5_Func003Func003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))
endfunction
function Trig_Skill5_Func003Func003002002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')))
endfunction
function Trig_Skill5_Func003Func003002 takes nothing returns boolean
return GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S')))))
endfunction
function YPN takes nothing returns boolean
return(GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07T')),(GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07V')),(GetBooleanOr((UnitHasBuffBJ(GetSpellTargetUnit(),'B07U')),(UnitHasBuffBJ(GetSpellTargetUnit(),'B07S'))))))))
endfunction
function YQN takes nothing returns nothing
set HN[38]=GetSpellAbilityUnit()
set DN[38]=(GetUnitAbilityLevelSwapped('A1J8',HN[38])*(GetHeroStatBJ(bj_HEROSTAT_INT,HN[38],true)*3))
if(YPN())then
if(YLN())then
if(YJN())then
call UnitDamageTargetBJ(HN[38],GetSpellTargetUnit(),I2R((DN[38]*4)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[38])+" x (4)|r")),GetSpellTargetUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
else
call UnitDamageTargetBJ(HN[38],GetSpellTargetUnit(),I2R((DN[38]*3)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FEBA0E"+(I2S(DN[38])+" x (3)|r")),GetSpellTargetUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
else
call UnitDamageTargetBJ(HN[38],GetEnumUnit(),I2R((DN[38]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(YMN())then
call UnitDamageTargetBJ(HN[38],GetSpellTargetUnit(),I2R((DN[38]*2)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303"+(I2S((DN[38]*2))+"|r")),GetSpellTargetUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
else
call UnitDamageTargetBJ(HN[38],GetSpellTargetUnit(),I2R(DN[38]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(("|c00FF0303"+(I2S(DN[38])+"|r")),GetSpellTargetUnit(),0,$A,100.,100.,'d',0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),4.)
endif
endfunction
function YSN takes nothing returns nothing
set GQE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GQE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(GQE,Condition(function YGN))
call TriggerAddAction(GQE,function YQN)
endfunction
function YTN takes nothing returns boolean
if(IsUnitType(GetDyingUnit(),UNIT_TYPE_SUMMONED))then
return false
endif
if(IsUnitIllusion(GetDyingUnit()))then
return false
endif
if((GetUnitTypeId(GetDyingUnit())=='ntrg'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ntrt'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nogm'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nmdr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nwzd'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nwwg'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n05E'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nlkl'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nlsn'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nlpr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nlds'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nspr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nssp'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ngst'))then
if(GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))then
return true
endif
endif
if((GetUnitTypeId(GetDyingUnit())=='nfra'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nftb'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nftr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nepl'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ndrw'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nass'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nrog'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='ngrk'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nggr'))then
return true
endif
if(GetUnitTypeId(GetDyingUnit())=='nsgt')then
if(not(GetOwningPlayer(GetDyingUnit())==Player(1)))then
return true
endif
endif
if((GetUnitTypeId(GetDyingUnit())=='njgb'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nmgr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nwlt'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nstl'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n01G'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n01H'))then
return true
endif
return false
endfunction
function YUN takes nothing returns nothing
local timer YWN=GetExpiredTimer()
local integer YYN=GetHandleId(YWN)
local unit YZN=LoadUnitHandle(SG,YYN,0)
local location Y_N
if(GetUnitState(YZN,UNIT_STATE_LIFE)>0)then
set Y_N=GetUnitLoc(YZN)
else
set Y_N=LoadLocationHandle(SG,YYN,1)
endif
call CreateUnitAtLoc(Player($C),LoadInteger(SG,YYN,2),Y_N,GetRandomReal(0,360.))
call FlushChildHashtable(SG,YYN)
call DestroyTimer(YWN)
set YWN=null
set YZN=null
call RemoveLocation(Y_N)
set Y_N=null
endfunction
function Y0N takes nothing returns nothing
local timer Y1N=CreateTimer()
local integer YYN=GetHandleId(Y1N)
local unit YZN=GetDyingUnit()
call SaveUnitHandle(SG,YYN,0,YZN)
call SaveLocationHandle(SG,YYN,1,GetUnitLoc(YZN))
call SaveInteger(SG,YYN,2,GetUnitTypeId(YZN))
if JBV==false then
call TimerStart(Y1N,90.,false,function YUN)
endif
if JBV then
call TimerStart(Y1N,45.,false,function YUN)
endif
set Y1N=null
set YZN=null
endfunction
function Y2N takes nothing returns nothing
local trigger Y3N=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Y3N,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Y3N,Condition(function YTN))
call TriggerAddAction(Y3N,function Y0N)
endfunction
function Y4N takes nothing returns nothing
call StartTimerBJ(RIV,false,.0)
call PauseTimerBJ(true,RIV)
set RAV=1
set XVV=GetRectCenter(KDV)
set G2V=0
set G1V=4
set AEV=$3E8
call DestroyTimerDialogBJ(RBV)
call CreateNUnitsAtLocFacingLocBJ(1,'h05V',Player(1),XVV,XVV)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_RED)
call SetUnitVertexColor(GetLastCreatedUnit(),$FF,20,20,$FF)
call StartTimerBJ(AXV,false,5.)
set N7V=3
set RNV=GetLastCreatedUnit()
call RemoveLocation(XVV)
call DestroyTrigger(SSV)
endfunction
function Y5N takes nothing returns nothing
set SSV=CreateTrigger()
call DisableTrigger(SSV)
call TriggerRegisterPlayerChatEvent(SSV,Player(2),"-OH LAWD HE COMIN",false)
call TriggerAddAction(SSV,function Y4N)
endfunction
function Y6N takes nothing returns nothing
call DialogClearBJ(L5)
call DialogSetMessageBJ(L5,"Difficulty")
set M5[1]=DialogAddButtonBJ(L5,"|c00FFFC01NORMAL|r")
set M5[2]=DialogAddButtonBJ(L5,"|c00FEBA0EHARD|r")
set M5[3]=DialogAddButtonBJ(L5,"|c00FF0303VERY HARD|r")
set M5[4]=DialogAddButtonBJ(L5,"|c00FF0303HELL|r")
call DialogDisplayBJ(true,L5,Player(2))
endfunction
function Y7N takes nothing returns nothing
set OSE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(OSE,Player(2),"-difficulty",false)
call TriggerAddAction(OSE,function Y6N)
endfunction
function Y8N takes nothing returns boolean
return(GetClickedButtonBJ()==M5[1])
endfunction
function Y9N takes nothing returns boolean
return(GetClickedButtonBJ()==M5[2])
endfunction
function ZVN takes nothing returns boolean
return(GetClickedButtonBJ()==M5[3])
endfunction
function ZEN takes nothing returns boolean
return(GetClickedButtonBJ()==M5[4])
endfunction
function ZXN takes nothing returns nothing
if(Y8N())then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0ENORMAL MODE|r
")
return
endif
if(Y9N())then
set FJ=1
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EHARD MODE - Neutrals And Dark Force units will have 150% hp and bonus 25% damage 25% attack speed! .|r
")
endif
if(ZVN())then
set FJ=2
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EVERY HARD MODE Neutrals And Dark Force units will have 200% hp and bonus 50% damage 50% attack speed!.|r")
endif
if(ZEN())then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EHELL MODE Neutral units will have 300% hp and bonus 100% damage 100% attack speed, Dark Force units will have 300% hp and bonus 50% damage 50% attack speed !.|r")
set FJ=3
endif
endfunction
function ZON takes nothing returns nothing
set OQE=CreateTrigger()
call TriggerRegisterDialogEventBJ(OQE,L5)
call TriggerAddAction(OQE,function ZXN)
endfunction
function ZRN takes nothing returns nothing
call DialogClearBJ(P5)
call DialogSetMessageBJ(P5,"Difficulty")
set Q5[1]=DialogAddButtonBJ(P5,"|c00FFFC01NORMAL|r")
set Q5[2]=DialogAddButtonBJ(P5,"|c00FEBA0EHARD|r")
set Q5[3]=DialogAddButtonBJ(P5,"|c00FF0303VERY HARD|r")
set Q5[4]=DialogAddButtonBJ(P5,"|c00FF0303HELL|r")
call DialogDisplayBJ(true,P5,Player(2))
endfunction
function ZIN takes nothing returns nothing
set OUE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(OUE,Player(2),"-bossdiff",true)
call TriggerAddAction(OUE,function ZRN)
endfunction
function ZAN takes nothing returns boolean
return(GetClickedButtonBJ()==Q5[1])
endfunction
function ZNN takes nothing returns boolean
return(GetClickedButtonBJ()==Q5[2])
endfunction
function ZBN takes nothing returns boolean
return(GetClickedButtonBJ()==Q5[3])
endfunction
function ZCN takes nothing returns boolean
return(GetClickedButtonBJ()==Q5[4])
endfunction
function ZDN takes nothing returns nothing
if(ZAN())then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0ENORMAL MODE|r
")
return
endif
if(ZNN())then
set GJ=1
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EHARD MODE - All Neutral Bosses And End game Dark Force Bosses will have 75% hp and 50% attack speed bonus! Also their skills are stronger.|r
")
endif
if(ZBN())then
set GJ=2
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EVERY HARD MODE All Neutral Bosses And End game Dark Force Bosses will have 150% hp and 100% attack speed bonus!.Also their skills are stronger.|r")
endif
if(ZCN())then
set GJ=3
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|c00FEBA0EHELL MODE All Neutral Bosses And End game Dark Force Bosses will have 250% hp and 150% attack speed bonus!.Also their skills are stronger.|r")
endif
endfunction
function ZFN takes nothing returns nothing
set OTE=CreateTrigger()
call TriggerRegisterDialogEventBJ(OTE,P5)
call TriggerAddAction(OTE,function ZDN)
endfunction
function ZGN takes nothing returns boolean
return(GetSpellAbilityId()=='A1PQ')
endfunction
function ZHN takes nothing returns boolean
return(UN==1)
endfunction
function ZJN takes nothing returns nothing
set UN=(UN+1)
set SN[UN]=GetTriggerUnit()
set TB[UN]=GetTriggerPlayer()
set UB[UN]=GetUnitAbilityLevelSwapped(PN,SN[UN])
set KB=GetUnitLoc(SN[UN])
set LB=GetSpellTargetLoc()
set VB[UN]=AngleBetweenPoints(KB,LB)
set MB=PolarProjectionBJ(KB,SB,VB[UN])
set AB[UN]=((OB[UB[UN]]/(IB[UB[UN]]*.03))*.03)
call CreateNUnitsAtLoc(1,YB,TB[UN],MB,VB[UN])
set TN[UN]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(AB[UN],'BTLF',TN[UN])
call SetUnitTimeScalePercent(TN[UN],QB)
call SetUnitAnimation(TN[UN],PB)
call RemoveLocation(MB)
set ZN[UN]=CreateGroup()
if(ZHN())then
call EnableTrigger(RXE)
endif
endfunction
function ZKN takes nothing returns nothing
set REE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(REE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(REE,Condition(function ZGN))
call TriggerAddAction(REE,function ZJN)
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),TB[WN]))
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),ZN[WN])!=true)
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002002002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),ZN[WN])!=true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))!=null
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),ZN[WN])!=true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))))!=null
endfunction
function Trig_Elemental_Wave_Loop_Func001Func006002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),TB[WN])),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),ZN[WN])!=true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))))))!=null
endfunction
function ZLN takes nothing returns boolean
return(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),TB[WN])),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),ZN[WN])!=true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)))))))))!=null
endfunction
function ZMN takes nothing returns nothing
set NB=GetEnumUnit()
call UnitDamageTargetBJ(SN[WN],NB,MN[UB[WN]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("chest",NB,QN[2])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call GroupAddUnitSimple(NB,ZN[WN])
endfunction
function ZPN takes nothing returns boolean
return(GetUnitCurrentOrder(WB)==$D0032)
endfunction
function ZQN takes nothing returns nothing
call IssueTargetDestructableOrder(WB,"harvest",GetEnumDestructable())
if(ZPN())then
call KillDestructable(GetEnumDestructable())
endif
call IssueImmediateOrderBJ(WB,"stop")
endfunction
function ZSN takes nothing returns boolean
return(EB)
endfunction
function ZTN takes nothing returns boolean
return(IsUnitDeadBJ(TN[WN]))
endfunction
function ZUN takes nothing returns boolean
return(UN==0)
endfunction
function ZWN takes nothing returns nothing
set WN=1
loop
exitwhen WN>UN
set KB=GetUnitLoc(TN[WN])
set LB=PolarProjectionBJ(KB,(IB[UB[WN]]*.03),VB[WN])
call SetUnitPositionLoc(TN[WN],LB)
call AddSpecialEffectLocBJ(KB,QN[1])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set YN[WN]=GetUnitsInRangeOfLocMatching(LN[UB[WN]],KB,Condition(function ZLN))
call ForGroupBJ(YN[WN],function ZMN)
if(ZSN())then
call EnumDestructablesInCircleBJ(LN[UB[WN]],KB,function ZQN)
endif
if(ZTN())then
call DestroyGroup(ZN[WN])
call RemoveUnit(TN[WN])
set TN[WN]=TN[UN]
set TN[UN]=null
set SN[WN]=SN[UN]
set SN[UN]=null
set VB[WN]=VB[UN]
set VB[UN]=.0
set WN=(WN-1)
set UN=(UN-1)
endif
call DestroyGroup(YN[WN])
call RemoveLocation(KB)
call RemoveLocation(LB)
set WN=WN+1
endloop
if(ZUN())then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function ZYN takes nothing returns nothing
set RXE=CreateTrigger()
call DisableTrigger(RXE)
call TriggerRegisterTimerEventPeriodic(RXE,.03)
call TriggerAddAction(RXE,function ZWN)
endfunction
function ZZN takes nothing returns boolean
return((IsUnitType(GetOrderedUnit(),UNIT_TYPE_HERO)==false)and(GetItemType(GetOrderTargetItem())==ITEM_TYPE_POWERUP))!=null
endfunction
function Z_N takes nothing returns nothing
call RemoveItem(GetOrderTargetItem())
endfunction
function Z0N takes nothing returns nothing
set GWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GWE,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(GWE,Condition(function ZZN))
call TriggerAddAction(GWE,function Z_N)
endfunction
function Z1N takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n03T')
endfunction
function Z2N takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n018')
endfunction
function Z3N takes nothing returns boolean
return(GetBooleanOr(Z1N(),Z2N()))
endfunction
function Z4N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LK',R1)>=1)
endfunction
function Z5N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LK',R1)>=1)and(GetAttackedUnitBJ()==H1[1])and(GetUnitAbilityLevelSwapped('A1L8',H1[1])>=1)
endfunction
function Z6N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LK',R1)>=1)and(GetAttackedUnitBJ()==H1[1])and(GetUnitAbilityLevelSwapped('A1L8',H1[1])==20)
endfunction
function Z7N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LC',R1)>=1)
endfunction
function Z8N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LC',R1)>=1)and(GetAttackedUnitBJ()==H1[2])and(GetUnitAbilityLevelSwapped('A1L9',H1[2])>=1)
endfunction
function Z9N takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LC',R1)>=1)and(GetAttackedUnitBJ()==H1[2])and(GetUnitAbilityLevelSwapped('A1L9',H1[2])==18)
endfunction
function VVB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LD',R1)>=1)
endfunction
function VEB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LD',R1)>=1)and(GetAttackedUnitBJ()==H1[3])and(GetUnitAbilityLevelSwapped('A1LA',H1[3])>=1)
endfunction
function VXB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LD',R1)>=1)and(GetAttackedUnitBJ()==H1[3])and(GetUnitAbilityLevelSwapped('A1LA',H1[3])==16)
endfunction
function VOB takes nothing returns nothing
set R1=GetAttacker()
if(Z6N())then
call SetUnitAbilityLevelSwapped('A1L8',H1[1],20)
call StartTimerBJ(DJV[1],false,6.)
else
if(Z5N())then
call SetUnitAbilityLevelSwapped('A1L8',H1[1],(GetUnitAbilityLevelSwapped('A1L8',H1[1])+1))
call StartTimerBJ(DJV[1],false,6.)
else
if(Z4N())then
call UnitRemoveAbilityBJ('A1L8',H1[1])
set H1[1]=GetAttackedUnitBJ()
call UnitAddAbilityBJ('A1L8',H1[1])
call StartTimerBJ(DJV[1],false,6.)
endif
endif
endif
if(Z9N())then
call SetUnitAbilityLevelSwapped('A1L9',H1[2],18)
call StartTimerBJ(DJV[2],false,6.)
else
if(Z8N())then
call SetUnitAbilityLevelSwapped('A1L9',H1[2],(GetUnitAbilityLevelSwapped('A1L9',H1[2])+1))
call StartTimerBJ(DJV[2],false,6.)
else
if(Z7N())then
call UnitRemoveAbilityBJ('A1L9',H1[2])
set H1[2]=GetAttackedUnitBJ()
call UnitAddAbilityBJ('A1L9',H1[2])
call StartTimerBJ(DJV[2],false,6.)
endif
endif
endif
if(VXB())then
call SetUnitAbilityLevelSwapped('A1LA',H1[3],16)
call StartTimerBJ(DJV[3],false,6.)
else
if(VEB())then
call SetUnitAbilityLevelSwapped('A1LA',H1[3],(GetUnitAbilityLevelSwapped('A1LA',H1[3])+1))
call StartTimerBJ(DJV[3],false,6.)
else
if(VVB())then
call UnitRemoveAbilityBJ('A1LA',H1[3])
set H1[3]=GetAttackedUnitBJ()
call UnitAddAbilityBJ('A1LA',H1[3])
call StartTimerBJ(DJV[3],false,6.)
endif
endif
endif
endfunction
function VRB takes nothing returns nothing
set GYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GYE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(GYE,Condition(function Z3N))
call TriggerAddAction(GYE,function VOB)
endfunction
function VIB takes nothing returns nothing
call UnitRemoveAbilityBJ('A1L8',H1[1])
endfunction
function VAB takes nothing returns nothing
set GZE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(GZE,DJV[1])
call TriggerAddAction(GZE,function VIB)
endfunction
function VNB takes nothing returns nothing
call UnitRemoveAbilityBJ('A1L9',H1[2])
endfunction
function VBB takes nothing returns nothing
set G_E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(G_E,DJV[2])
call TriggerAddAction(G_E,function VNB)
endfunction
function VCB takes nothing returns nothing
call UnitRemoveAbilityBJ('A1LA',H1[3])
endfunction
function VDB takes nothing returns nothing
set G0E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(G0E,DJV[3])
call TriggerAddAction(G0E,function VCB)
endfunction
function VFB takes nothing returns boolean
return(GetSpellAbilityId()=='A1L7')
endfunction
function VGB takes nothing returns boolean
return(GetSpellAbilityId()=='A1L6')
endfunction
function VHB takes nothing returns boolean
return(GetSpellAbilityId()=='A1L5')
endfunction
function VJB takes nothing returns boolean
return(GetSpellAbilityId()=='A1L4')
endfunction
function VKB takes nothing returns nothing
if(VJB())then
call UnitRemoveAbilityBJ('A1L4',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L6',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L7',GetTriggerUnit())
call UnitAddAbilityBJ('A0LK',GetTriggerUnit())
else
if(VHB())then
call UnitRemoveAbilityBJ('A1L4',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L6',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L7',GetTriggerUnit())
call UnitAddAbilityBJ('A1LC',GetTriggerUnit())
else
if(VGB())then
call UnitRemoveAbilityBJ('A1L4',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L6',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L7',GetTriggerUnit())
call UnitAddAbilityBJ('A1LD',GetTriggerUnit())
else
if(VFB())then
call UnitRemoveAbilityBJ('A1L4',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L5',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L6',GetTriggerUnit())
call UnitRemoveAbilityBJ('A1L7',GetTriggerUnit())
call UnitAddAbilityBJ('A1LB',GetTriggerUnit())
endif
endif
endif
endif
endfunction
function VLB takes nothing returns nothing
set G1E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(G1E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(G1E,function VKB)
endfunction
function VMB takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(1))
endfunction
function VPB takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnitBJ())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function VQB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1LF',GetTriggerUnit())==1)and(GetBooleanOr(VMB(),VPB()))
endfunction
function VSB takes nothing returns boolean
return(K1>='n')
endfunction
function VTB takes nothing returns boolean
return(J1>=30)
endfunction
function VUB takes nothing returns boolean
return(GetFilterPlayer()==GetOwningPlayer(I1))
endfunction
function VWB takes nothing returns nothing
set J1=(J1+1)
set K1=(K1+1)
if(VSB())then
set L1=GetRandomInt(5000,(GetHeroLevel(I1)*$7D0))
set KF=KF+1
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function VUB)),10.,("The Titans have Accepted your Sacrifice. You are Granted 1 Ability Token (Current Ability Tokens: "+I2S(KF)+"). Worker is granted experience by: "+I2S(L1)))
set K1=0
call AddHeroXPSwapped(L1,I1,true)
call AddSpecialEffectTargetUnitBJ("overhead",I1,"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(VTB())then
set JF=JF+1
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function VUB)),10.,("A Titan has accepted your pity sacrifice. You are granted 1 Enhancement Token (Current Enhancement Tokens: "+I2S(JF)+")"))
set J1=0
endif
endfunction
function VYB takes nothing returns nothing
set G2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(G2E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(G2E,Condition(function VQB))
call TriggerAddAction(G2E,function VWB)
endfunction
function VZB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LE')
endfunction
function V_B takes nothing returns nothing
set G5[2]=GetSpellAbilityUnit()
set J5[2]=GetUnitLoc(G5[2])
set J5[3]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h07T',GetOwningPlayer(G5[2]),J5[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
set G5[3]=GetLastCreatedUnit()
set J5[4]=PolarProjectionBJ(GetUnitLoc(G5[2]),100.,GetUnitFacing(G5[2]))
call CreateNUnitsAtLoc(1,'h07T',GetOwningPlayer(G5[2]),J5[4],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',GetLastCreatedUnit())
set G5[4]=GetLastCreatedUnit()
set J5[5]=PolarProjectionBJ(J5[3],65.,GetUnitFacing(G5[3]))
call EnableTrigger(OWE)
endfunction
function V0B takes nothing returns nothing
set OYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OYE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OYE,Condition(function VZB))
call TriggerAddAction(OYE,function V_B)
endfunction
function Trig_Time_Move_Loop_Func001002003001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),Player(0)))
endfunction
function Trig_Time_Move_Loop_Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Time_Move_Loop_Func001002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Time_Move_Loop_Func001002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function V1B takes nothing returns boolean
return(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),Player(0))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit()))))))!=null
endfunction
function V2B takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_Time_Move_Loop_Func003002003001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),Player(0)))
endfunction
function Trig_Time_Move_Loop_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Time_Move_Loop_Func003002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Time_Move_Loop_Func003002003002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit()))))!=null
endfunction
function V3B takes nothing returns boolean
return(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),Player(0))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit()))))))!=null
endfunction
function V4B takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),J5[5])
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function V5B takes nothing returns nothing
set K5[2]=GetUnitsInRangeOfLocMatching(50.,J5[3],Condition(function V1B))
call ForGroupBJ(K5[2],function V2B)
set K5[3]=GetUnitsInRangeOfLocMatching(50.,J5[4],Condition(function V3B))
call ForGroupBJ(K5[3],function V4B)
endfunction
function V6B takes nothing returns nothing
set OWE=CreateTrigger()
call DisableTrigger(OWE)
call TriggerRegisterTimerEventPeriodic(OWE,.05)
call TriggerAddAction(OWE,function V5B)
endfunction
function V7B takes nothing returns boolean
return(GetSpellAbilityId()==RL)
endfunction
function V8B takes nothing returns nothing
set VM=GetTriggerUnit()
set UL=GetUnitLoc(VM)
set YL=I2R(GetUnitAbilityLevelSwapped(RL,VM))
set OM=.0
set ZL=1
loop
exitwhen ZL>(R2I(ZK)+(R2I(VL)*GetUnitAbilityLevelSwapped(RL,VM)))
set OM=(OM+(360./(ZK+(VL*YL))))
set WL=PolarProjectionBJ(UL,CL,OM)
set AM=.0
call CreateNUnitsAtLoc(1,CM,GetOwningPlayer(VM),WL,bj_UNIT_FACING)
set EM=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ((KM+(LM*YL)),'BTLF',EM)
call SetUnitFlyHeightBJ(EM,RM,.0)
set IM=1
loop
exitwhen IM>R2I(NM)
set AM=(AM+(360./ NM))
set BM=PolarProjectionBJ(WL,DL,AM)
call CreateNUnitsAtLoc(1,XL,Player(PLAYER_NEUTRAL_PASSIVE),BM,bj_UNIT_FACING)
set DM=GetLastCreatedUnit()
set XM=GetHandleId(DM)
call SetUnitFlyHeightBJ(DM,RM,.0)
call SaveUnitHandleBJ(VM,1,XM,YK)
call SaveIntegerBJ(4,2,XM,YK)
call SaveUnitHandleBJ(EM,3,XM,YK)
call SaveRealBJ(AM,6,XM,YK)
call SaveRealBJ(DL,7,XM,YK)
call SaveRealBJ(RM,8,XM,YK)
call GroupAddUnitSimple(DM,FM)
call RemoveLocation(BM)
set IM=IM+1
endloop
set XM=GetHandleId(EM)
call CreateNUnitsAtLoc(1,AL,Player(PLAYER_NEUTRAL_PASSIVE),WL,bj_UNIT_FACING)
call SetUnitFlyHeightBJ(GetLastCreatedUnit(),RM,.0)
call UnitApplyTimedLifeBJ(GM,'BTLF',GetLastCreatedUnit())
call SaveUnitHandleBJ(VM,1,XM,YK)
call SaveIntegerBJ(1,2,XM,YK)
call SaveRealBJ((KL+(LL*YL)),3,XM,YK)
call SaveRealBJ((ML+(PL*YL)),4,XM,YK)
call SaveRealBJ((QL+(SL*YL)),5,XM,YK)
call SaveRealBJ(OM,6,XM,YK)
call SaveRealBJ(RM,8,XM,YK)
call SaveUnitHandleBJ(VM,9,XM,YK)
call GroupAddUnitSimple(EM,FM)
call RemoveLocation(WL)
set ZL=ZL+1
endloop
call EnableTrigger(XZE)
call EnableTrigger(XYE)
call RemoveLocation(UL)
endfunction
function V9B takes nothing returns nothing
set XWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XWE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XWE,Condition(function V7B))
call TriggerAddAction(XWE,function V8B)
endfunction
function EVB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==CM)
endfunction
function EEB takes nothing returns boolean
return(LoadRealBJ(8,XM,YK)>=10.)
endfunction
function EXB takes nothing returns boolean
return(IsUnitGroupEmptyBJ(FM))
endfunction
function EOB takes nothing returns nothing
set VM=GetTriggerUnit()
set XM=GetHandleId(VM)
if(EEB())then
set UL=GetUnitLoc(VM)
call CreateNUnitsAtLoc(1,'u013',Player(PLAYER_NEUTRAL_PASSIVE),UL,bj_UNIT_FACING)
call SetUnitFlyHeightBJ(GetLastCreatedUnit(),LoadRealBJ(8,XM,YK),.0)
call UnitApplyTimedLifeBJ(GM,'BTLF',GetLastCreatedUnit())
call RemoveLocation(UL)
endif
call GroupRemoveUnitSimple(VM,FM)
call FlushChildHashtableBJ(XM,YK)
if(EXB())then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(XZE)
endif
call RemoveUnit(VM)
endfunction
function ERB takes nothing returns nothing
set XYE=CreateTrigger()
call DisableTrigger(XYE)
call TriggerRegisterAnyUnitEventBJ(XYE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(XYE,Condition(function EVB))
call TriggerAddAction(XYE,function EOB)
endfunction
function EIB takes nothing returns boolean
return((IsUnitType(EM,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitType(EM,UNIT_TYPE_STRUCTURE)==false)and(IsUnitInGroup(EM,FM)==false)and(IsUnitAliveBJ(EM))and(IsUnitType(EM,UNIT_TYPE_GROUND))and(IsUnitEnemy(EM,GetOwningPlayer(VM)))and(LoadUnitHandleBJ(9,XM,YK)==LoadUnitHandleBJ(1,XM,YK)))!=null
endfunction
function EAB takes nothing returns nothing
set EM=GetEnumUnit()
if(EIB())then
call SaveUnitHandleBJ(EM,9,XM,YK)
call SaveIntegerBJ(2,2,XM,YK)
call GroupAddUnitSimple(EM,FM)
call UnitPauseTimedLifeBJ(true,VM)
endif
endfunction
function ENB takes nothing returns boolean
return(LoadIntegerBJ(2,XM,YK)==1)
endfunction
function EBB takes nothing returns boolean
return(RectContainsLoc(GetPlayableMapRect(),BM))
endfunction
function ECB takes nothing returns boolean
return(DistanceBetweenPoints(UL,WL)<=50.)
endfunction
function EDB takes nothing returns boolean
return(LoadIntegerBJ(2,XM,YK)==2)
endfunction
function EFB takes nothing returns boolean
return(LoadRealBJ(8,XM,YK)<=10.)
endfunction
function EGB takes nothing returns boolean
return(LoadIntegerBJ(2,XM,YK)==3)
endfunction
function EHB takes nothing returns boolean
return(IsUnitAliveBJ(LoadUnitHandleBJ(3,XM,YK)))
endfunction
function EJB takes nothing returns boolean
return(LoadIntegerBJ(2,XM,YK)==4)
endfunction
function EKB takes nothing returns nothing
set VM=GetEnumUnit()
set XM=GetHandleId(VM)
if(ENB())then
set OM=(LoadRealBJ(6,XM,YK)+EL)
call SaveRealBJ(OM,6,XM,YK)
set UL=GetUnitLoc(LoadUnitHandleBJ(1,XM,YK))
set FL=GetLocationX(UL)
set GL=GetLocationY(UL)
call SetUnitX(VM,FL+CL*Cos(OM*bj_DEGTORAD))
call SetUnitY(VM,GL+CL*Sin(OM*bj_DEGTORAD))
set HM=GetUnitsInRangeOfLocAll(LoadRealBJ(4,XM,YK),UL)
call ForGroupBJ(HM,function EAB)
call RemoveLocation(UL)
call DestroyGroup(HM)
endif
if(EDB())then
set UL=GetUnitLoc(VM)
set EM=LoadUnitHandleBJ(9,XM,YK)
set WL=GetUnitLoc(EM)
set YL=LoadRealBJ(5,XM,YK)
set OM=AngleBetweenPoints(UL,WL)
set BM=PolarProjectionBJ(UL,YL,OM)
if(EBB())then
set FL=GetUnitX(VM)
set GL=GetUnitY(VM)
call SetUnitX(VM,FL+YL*Cos(OM*bj_DEGTORAD))
call SetUnitY(VM,GL+YL*Sin(OM*bj_DEGTORAD))
else
call KillUnit(VM)
endif
if(ECB())then
call SaveIntegerBJ(3,2,XM,YK)
endif
call RemoveLocation(WL)
call RemoveLocation(UL)
endif
if(EGB())then
if(EFB())then
set UL=GetUnitLoc(VM)
call UnitDamageTargetBJ(LoadUnitHandleBJ(1,XM,YK),LoadUnitHandleBJ(9,XM,YK),LoadRealBJ(3,XM,YK),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectLocBJ(UL,IL)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call GroupRemoveUnitSimple(LoadUnitHandleBJ(9,XM,YK),FM)
call KillUnit(VM)
call RemoveLocation(UL)
else
set YL=(LoadRealBJ(8,XM,YK)-TL)
call SaveRealBJ(YL,8,XM,YK)
call SetUnitFlyHeightBJ(EM,YL,.0)
endif
endif
if(EJB())then
if(EHB())then
call DestroyLightningBJ(LoadLightningHandleBJ(9,XM,YK))
set OM=(LoadRealBJ(6,XM,YK)+JM)
call SaveRealBJ(OM,6,XM,YK)
set UL=GetUnitLoc(LoadUnitHandleBJ(3,XM,YK))
set WL=GetUnitLoc(VM)
call SaveRealBJ(LoadRealBJ(8,GetHandleIdBJ(LoadUnitHandleBJ(3,XM,YK)),YK),8,XM,YK)
set YL=LoadRealBJ(8,XM,YK)
call SetUnitFlyHeightBJ(VM,YL,.0)
set HL=GetLocationZ(UL)+YL
set JL=GetLocationZ(WL)+YL
set BL=AddLightningEx(NL,true,GetLocationX(UL),GetLocationY(UL),HL,GetLocationX(WL),GetLocationY(WL),JL)
call SaveLightningHandleBJ(BL,9,XM,YK)
set YL=LoadRealBJ(7,XM,YK)
set FL=GetLocationX(UL)
set GL=GetLocationY(UL)
call SetUnitX(VM,FL+YL*Cos(OM*bj_DEGTORAD))
call SetUnitY(VM,GL+YL*Sin(OM*bj_DEGTORAD))
call RemoveLocation(WL)
call RemoveLocation(UL)
else
call DestroyLightningBJ(LoadLightningHandleBJ(9,XM,YK))
call FlushChildHashtableBJ(XM,YK)
call RemoveUnit(VM)
endif
endif
endfunction
function ELB takes nothing returns nothing
call ForGroupBJ(FM,function EKB)
endfunction
function EMB takes nothing returns nothing
set XZE=CreateTrigger()
call DisableTrigger(XZE)
call TriggerRegisterTimerEventPeriodic(XZE,.03)
call TriggerAddAction(XZE,function ELB)
endfunction
function EPB takes nothing returns boolean
return(GetSpellAbilityId()=='A1QQ')
endfunction
function EQB takes nothing returns boolean
return(MM[1]==0)
endfunction
function ESB takes nothing returns boolean
return(MM[1]>MM[3])
endfunction
function ETB takes nothing returns nothing
if(EQB())then
call EnableTrigger(X0E)
endif
set MM[1]=(MM[1]+1)
if(ESB())then
set TM[MM[1]]=MM[1]
set MM[3]=MM[1]
endif
set MM[2]=TM[MM[1]]
set UM[MM[2]]=GetTriggerUnit()
set IP[MM[2]]=GetSpellTargetX()
set NP[MM[2]]=GetSpellTargetY()
set WM[MM[2]]=(5+(GetUnitAbilityLevelSwapped('A1QQ',UM[MM[2]])*1))
set YM[(MM[2]*6)]=1400.
set YM[((MM[2]*6)+1)]=((I2R(GetUnitAbilityLevelSwapped('A1QQ',UM[MM[2]]))*2500.)*1)
set YM[((MM[2]*6)+2)]=(200.+(100.*I2R(GetUnitAbilityLevelSwapped('A1QQ',UM[MM[2]]))))
set YM[((MM[2]*6)+3)]=9.
set YM[((MM[2]*6)+4)]=40.
set YM[((MM[2]*6)+5)]=(10.+(2.*I2R(GetUnitAbilityLevelSwapped('A1QQ',UM[MM[2]]))))
set ZM[(MM[2]*2)]=(170.+(10.*I2R(GetUnitAbilityLevelSwapped('A1QQ',UM[MM[2]]))))
set ZM[((MM[2]*2)+1)]=125.
set VP[MM[2]]=0
set EP[(MM[2]*4)]=true
set EP[((MM[2]*4)+1)]=true
set EP[((MM[2]*4)+2)]=false
set EP[((MM[2]*4)+3)]=false
call MoveLocation(PM,IP[MM[2]],NP[MM[2]])
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
set OP[MM[4]]=(YM[(MM[2]*6)]-50.)
set RP[MM[4]]=IP[MM[2]]
set AP[MM[4]]=NP[MM[2]]
set BP[MM[4]]=((360./ I2R(WM[MM[2]]))*I2R(XP[2]))
set CP[MM[4]]=200.
set DP[MM[4]]=(CP[MM[4]]/ YM[((MM[2]*6)+4)])
set FP[MM[4]]=(OP[MM[4]]/ YM[((MM[2]*6)+4)])
set QM[1]=GetLocationZ(PM)
set QM[2]=(OP[MM[4]]+QM[1])
set QM[3]=(YM[(MM[2]*6)]+QM[1])
set GP[MM[4]]=AddLightningEx("DRAM",false,RP[MM[4]],AP[MM[4]],QM[2],IP[MM[2]],NP[MM[2]],QM[3])
set XP[2]=XP[2]+1
endloop
endfunction
function EUB takes nothing returns nothing
set X_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(X_E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(X_E,Condition(function EPB))
call TriggerAddAction(X_E,function ETB)
endfunction
function EWB takes nothing returns boolean
return(OP[(MM[2]*MM[6])]<=.0)
endfunction
function EYB takes nothing returns boolean
return(EP[((MM[2]*4)+1)])
endfunction
function EZB takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function E_B takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function E0B takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function E1B takes nothing returns boolean
return(GetRandomInt(1,20)==1)
endfunction
function E2B takes nothing returns boolean
return(VP[MM[2]]==MM[5])
endfunction
function E3B takes nothing returns boolean
return(DistanceBetweenPoints(JP,PM)>=YM[((MM[2]*6)+2)])
endfunction
function E4B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function E5B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function E6B takes nothing returns boolean
return GetBooleanAnd(E4B(),E5B())
endfunction
function E7B takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(UM[MM[2]]))==false)
endfunction
function E8B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function E9B takes nothing returns boolean
return GetBooleanAnd(E7B(),E8B())
endfunction
function XVB takes nothing returns boolean
return GetBooleanAnd(E6B(),E9B())
endfunction
function XEB takes nothing returns nothing
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),73)
call UnitDamageTargetBJ(UM[MM[2]],GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endfunction
function XXB takes nothing returns boolean
return(GetUnitCurrentOrder(KP)==$D0032)
endfunction
function XOB takes nothing returns boolean
return(IsDestructableAliveBJ(GetEnumDestructable()))
endfunction
function XRB takes nothing returns nothing
if(XOB())then
call IssueTargetDestructableOrder(KP,"harvest",GetEnumDestructable())
if(XXB())then
call KillDestructable(GetEnumDestructable())
endif
call IssueImmediateOrderBJ(KP,"stop")
endif
endfunction
function XIB takes nothing returns boolean
return(MM[7]==1)
endfunction
function XAB takes nothing returns boolean
return(VP[MM[2]]==MM[5])
endfunction
function XNB takes nothing returns boolean
return(YM[((MM[2]*6)+5)]<=.0)
endfunction
function XBB takes nothing returns boolean
return(EP[((MM[2]*4)+2)])
endfunction
function XCB takes nothing returns boolean
return(OP[(MM[2]*MM[6])]>=(YM[(MM[2]*6)]-50.))
endfunction
function XDB takes nothing returns boolean
return(EP[((MM[2]*4)+3)])
endfunction
function XFB takes nothing returns boolean
return(MM[1]==0)
endfunction
function XGB takes nothing returns boolean
return(EP[(MM[2]*4)])
endfunction
function XHB takes nothing returns nothing
set XP[1]=1
loop
exitwhen XP[1]>MM[1]
set MM[2]=TM[XP[1]]
if(XGB())then
if(EYB())then
call MoveLocation(PM,IP[MM[2]],NP[MM[2]])
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
set RP[MM[4]]=RP[MM[4]]+DP[MM[4]]*Cos(BP[MM[4]]*bj_DEGTORAD)
set AP[MM[4]]=AP[MM[4]]+DP[MM[4]]*Sin(BP[MM[4]]*bj_DEGTORAD)
set OP[MM[4]]=(OP[MM[4]]-FP[MM[4]])
set JP=Location(RP[MM[4]],AP[MM[4]])
set QM[1]=GetLocationZ(PM)
set QM[4]=GetLocationZ(JP)
set QM[2]=(OP[MM[4]]+QM[4])
set QM[3]=(YM[(MM[2]*6)]+QM[1])
call MoveLightningEx(GP[MM[4]],true,RP[MM[4]],AP[MM[4]],QM[2],IP[MM[2]],NP[MM[2]],QM[3])
call RemoveLocation(JP)
set XP[2]=XP[2]+1
endloop
if(EWB())then
set EP[((MM[2]*4)+1)]=false
set EP[((MM[2]*4)+2)]=true
set XP[3]=1
loop
exitwhen XP[3]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[3]-1))
set BP[MM[4]]=GetRandomReal(0,360.)
set XP[3]=XP[3]+1
endloop
endif
endif
if(XBB())then
set YM[((MM[2]*6)+5)]=(YM[((MM[2]*6)+5)]-.03)
set VP[MM[2]]=(VP[MM[2]]+1)
call MoveLocation(PM,IP[MM[2]],NP[MM[2]])
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
if(E_B())then
else
if(EZB())then
set BP[MM[4]]=(BP[MM[4]]+10.)
else
set BP[MM[4]]=(BP[MM[4]]-10.)
endif
endif
if(E1B())then
if(E0B())then
set BP[MM[4]]=(BP[MM[4]]+90.)
else
set BP[MM[4]]=(BP[MM[4]]-90.)
endif
endif
set RP[MM[4]]=RP[MM[4]]+YM[((MM[2]*6)+3)]*Cos(BP[MM[4]]*bj_DEGTORAD)
set AP[MM[4]]=AP[MM[4]]+YM[((MM[2]*6)+3)]*Sin(BP[MM[4]]*bj_DEGTORAD)
set JP=Location(RP[MM[4]],AP[MM[4]])
set QM[1]=GetLocationZ(PM)
set QM[4]=GetLocationZ(JP)
set QM[2]=(OP[MM[2]]+QM[4])
set QM[3]=(YM[(MM[2]*6)]+QM[1])
call MoveLightningEx(GP[MM[4]],true,RP[MM[4]],AP[MM[4]],QM[2],IP[MM[2]],NP[MM[2]],QM[3])
if(E2B())then
call AddSpecialEffectLocBJ(JP,SM[1])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(JP,SM[2])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(E3B())then
set BP[MM[4]]=AngleBetweenPoints(JP,PM)
endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(ZM[(MM[2]*2)],JP,Condition(function XVB)),function XEB)
if(XIB())then
call EnumDestructablesInCircleBJ(ZM[((MM[2]*2)+1)],JP,function XRB)
endif
call RemoveLocation(JP)
set XP[2]=XP[2]+1
endloop
if(XAB())then
set VP[MM[2]]=0
endif
if(XNB())then
set EP[((MM[2]*4)+2)]=false
set EP[((MM[2]*4)+3)]=true
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
set JP=Location(RP[MM[4]],AP[MM[4]])
set BP[MM[4]]=AngleBetweenPoints(JP,PM)
set CP[MM[4]]=DistanceBetweenPoints(JP,PM)
set DP[MM[4]]=(CP[MM[4]]/ YM[((MM[2]*6)+4)])
call RemoveLocation(JP)
set XP[2]=XP[2]+1
endloop
endif
endif
if(XDB())then
call MoveLocation(PM,IP[MM[2]],NP[MM[2]])
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
set RP[MM[4]]=RP[MM[4]]+DP[MM[4]]*Cos(BP[MM[4]]*bj_DEGTORAD)
set AP[MM[4]]=AP[MM[4]]+DP[MM[4]]*Sin(BP[MM[4]]*bj_DEGTORAD)
set OP[MM[4]]=(OP[MM[4]]+FP[MM[4]])
set JP=Location(RP[MM[4]],AP[MM[4]])
set QM[1]=GetLocationZ(PM)
set QM[4]=GetLocationZ(JP)
set QM[2]=(OP[MM[4]]+QM[4])
set QM[3]=(YM[(MM[2]*6)]+QM[1])
call MoveLightningEx(GP[MM[4]],true,RP[MM[4]],AP[MM[4]],QM[2],IP[MM[2]],NP[MM[2]],QM[3])
call RemoveLocation(JP)
set XP[2]=XP[2]+1
endloop
if(XCB())then
set EP[((MM[2]*4)+3)]=false
set EP[(MM[2]*4)]=false
endif
endif
else
set XP[2]=1
loop
exitwhen XP[2]>WM[MM[2]]
set MM[4]=((MM[2]*MM[6])+(XP[2]-1))
call DestroyLightningBJ(GP[MM[4]])
set XP[2]=XP[2]+1
endloop
set TM[XP[1]]=TM[MM[1]]
set TM[MM[1]]=MM[2]
set MM[1]=(MM[1]-1)
set XP[1]=(XP[1]-1)
if(XFB())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
set XP[1]=XP[1]+1
endloop
endfunction
function XJB takes nothing returns nothing
set X0E=CreateTrigger()
call DisableTrigger(X0E)
call TriggerRegisterTimerEventPeriodic(X0E,.03)
call TriggerAddAction(X0E,function XHB)
endfunction
function XKB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07T')
endfunction
function XLB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hrdh')
endfunction
function XMB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='hhdl')
endfunction
function XPB takes nothing returns boolean
return(GetBooleanOr(XLB(),XMB()))
endfunction
function XQB takes nothing returns nothing
if(XPB())then
call DisplayTimedTextToForce(GetPlayersAll(),4.,("A "+(GetUnitName(GetTriggerUnit())+(" of "+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+" has died.")))))
set XVV=GetUnitLoc(GetTriggerUnit())
call PingMinimapLocForForce(GetPlayersAll(),XVV,10.)
call RemoveLocation(XVV)
else
if(XKB())then
call DisableTrigger(OWE)
call DestroyGroup(K5[2])
call DestroyGroup(K5[3])
call RemoveLocation(J5[2])
call RemoveLocation(J5[3])
call RemoveLocation(J5[4])
call RemoveLocation(J5[5])
call RemoveLocation(J5[6])
endif
endif
endfunction
function XSB takes nothing returns nothing
set G3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(G3E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(G3E,function XQB)
endfunction
function XTB takes nothing returns nothing
call EnableTrigger(HAE)
call TriggerRegisterTimerEventPeriodic(HAE,41.)
endfunction
function XUB takes nothing returns nothing
call TriggerRegisterTimerEventPeriodic(HIE,41.)
call EnableTrigger(HIE)
endfunction
function XWB takes nothing returns nothing
local trigger XYB=CreateTrigger()
call TriggerRegisterTimerEventSingle(XYB,24.)
call TriggerAddAction(XYB,function XTB)
endfunction
function XZB takes nothing returns nothing
local trigger X_B=CreateTrigger()
call TriggerRegisterTimerEventSingle(X_B,52.)
call TriggerAddAction(X_B,function XUB)
endfunction
function X0B takes nothing returns nothing
set AW[3]=3
set BW=3
if JBV==false then
call StartTimerBJ(B8V,false,615.)
endif
if JBV then
call StartTimerBJ(B8V,false,307.)
endif
endfunction
function X1B takes nothing returns nothing
if(BW==3)then
set AW[3]=4
set BW=(BW+1)
if JBV==false then
call StartTimerBJ(B8V,false,492.)
endif
if JBV then
call StartTimerBJ(B8V,false,246.)
endif
elseif(BW==4)then
set BW=(BW+1)
set AW[3]=5
if JBV==false then
call StartTimerBJ(B8V,false,492.)
endif
if JBV then
call StartTimerBJ(B8V,false,246.)
endif
elseif(BW==5)then
set BW=(BW+1)
set AW[3]=6
if JBV==false then
call StartTimerBJ(B8V,false,1394.)
endif
if JBV then
call StartTimerBJ(B8V,false,697.)
endif
elseif(BW==6)then
set BW=(BW+1)
set AW[3]=7
endif
endfunction
function X2B takes nothing returns nothing
set ROE=CreateTrigger()
call DisableTrigger(ROE)
if JBV==false then
call TriggerRegisterTimerEventSingle(ROE,222.)
endif
if JBV then
call TriggerRegisterTimerEventSingle(ROE,111.)
endif
call TriggerAddAction(ROE,function X0B)
endfunction
function X3B takes nothing returns nothing
local trigger X4B=CreateTrigger()
call TriggerRegisterTimerExpireEvent(X4B,B8V)
call TriggerAddAction(X4B,function X1B)
endfunction
function X5B takes nothing returns nothing
local integer b
local integer g
set g=0
loop
exitwhen g>XB
set b=0
loop
exitwhen b>3
if DB[b]==1 then
if g==0 then
call CreateUnit(Player(0),'hfoo',BB[b]-90,CB[b],90)
call TriggerSleepAction(.01)
call CreateUnit(Player(0),'hfoo',BB[b],CB[b],90)
call TriggerSleepAction(.01)
call CreateUnit(Player(0),'hfoo',BB[b]+90,CB[b],90)
call TriggerSleepAction(.01)
call CreateUnit(Player(0),'nhea',BB[b]-$9B,CB[b]-$96,90)
endif
call TriggerSleepAction(.01)
if AW[3]>=3 then
call CreateUnit(Player(0),'hrif',BB[b]+$96,CB[b]-'d',90)
endif
call TriggerSleepAction(.01)
if AW[3]>=4 then
call CreateUnit(Player(0),'hhes',BB[b]+80,CB[b]+50,90)
endif
call TriggerSleepAction(.01)
if AW[3]>=5 then
call CreateUnit(Player(0),'eshd',BB[b]-50,CB[b]-$C8,90)
endif
call TriggerSleepAction(.01)
if AW[3]>=6 then
call CreateUnit(Player(0),'hmpr',BB[b]+85,CB[b]-$DC,90)
endif
call TriggerSleepAction(.01)
if AW[3]>=7 then
call CreateUnit(Player(0),'hkni',BB[b]-80,CB[b]+'d',90)
endif
endif
set b=b+1
endloop
set g=g+1
endloop
endfunction
function X6B takes nothing returns nothing
local integer r
local integer b
local integer g
set g=0
loop
exitwhen g>XB
set b=4
loop
exitwhen b>7
if DB[b-4]==1 then
if g==0 then
call CreateUnit(Player(1),'uske',BB[b]-'x',CB[b],270)
call TriggerSleepAction(.01)
call CreateUnit(Player(1),'uske',BB[b]-40,CB[b],270)
call TriggerSleepAction(.01)
call CreateUnit(Player(1),'uske',BB[b]+40,CB[b],270)
call TriggerSleepAction(.01)
call CreateUnit(Player(1),'uske',BB[b]+'x',CB[b],270)
call TriggerSleepAction(.01)
if(GetRandomInt(1,2)==1)then
call CreateUnit(Player(1),'ucry',BB[b]-'x',CB[b]+$C8,270)
else
call CreateUnit(Player(1),'nnwa',BB[b]-'x',CB[b]+$C8,270)
endif
endif
call TriggerSleepAction(.01)
if AW[3]>=3 then
set r=GetRandomInt(1,3)
if r==1 then
call CreateUnit(Player(1),'nzom',BB[b]-70,CB[b]-90,270)
elseif r==2 then
call CreateUnit(Player(1),'ugho',BB[b]-70,CB[b]-90,270)
else
call CreateUnit(Player(1),'nits',BB[b]+50,CB[b]+'x',270)
endif
endif
call TriggerSleepAction(.01)
if AW[3]>=4 then
call CreateUnit(Player(1),'uabo',BB[b]+$B4,CB[b]-$A0,270)
endif
call TriggerSleepAction(.01)
if AW[3]>=5 then
set r=GetRandomInt(1,3)
if r==1 then
call CreateUnit(Player(1),'nska',BB[b]+$B4,CB[b]+$96,270)
elseif r==2 then
call CreateUnit(Player(1),'nskf',BB[b]+$B4,CB[b]+$96,270)
else
call CreateUnit(Player(1),'n00P',BB[b]+$B4,CB[b]+$96,270)
endif
endif
call TriggerSleepAction(.01)
if AW[3]>=6 then
call CreateUnit(Player(1),'ngh2',BB[b]+50,CB[b]+$C8,270)
endif
call TriggerSleepAction(.01)
if AW[3]>=7 then
call CreateUnit(Player(1),'npfm',BB[b]-'x',CB[b]-$AA,270)
endif
endif
set b=b+1
endloop
set g=g+1
endloop
endfunction
function X7B takes nothing returns nothing
set HIE=CreateTrigger()
call DisableTrigger(HIE)
call TriggerAddAction(HIE,function X5B)
endfunction
function X8B takes nothing returns nothing
set HAE=CreateTrigger()
call DisableTrigger(HAE)
call TriggerAddAction(HAE,function X6B)
endfunction
function X9B takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())==283)
endfunction
function OVB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OEB takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=283)
endfunction
function OXB takes nothing returns boolean
return GetBooleanAnd(OVB(),OEB())
endfunction
function OOB takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=283)
endfunction
function ORB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OIB takes nothing returns boolean
return GetBooleanAnd(OOB(),ORB())
endfunction
function OAB takes nothing returns nothing
call AddHeroXPSwapped((((NZV/(NYV+N_V))*NYV)/ N_V),GetEnumUnit(),false)
endfunction
function ONB takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())==283)
endfunction
function OBB takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function ONB)))>0)
endfunction
function OCB takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=283)
endfunction
function ODB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OFB takes nothing returns boolean
return GetBooleanAnd(OCB(),ODB())
endfunction
function OGB takes nothing returns nothing
call AddHeroXPSwapped(((GetUnitLevel(GetTriggerUnit())*'d')/ CountUnitsInGroup(XEV)),GetEnumUnit(),false)
endfunction
function OHB takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=20)
endfunction
function OJB takes nothing returns boolean
return(GetUnitPointValue(GetFilterUnit())!=283)
endfunction
function OKB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OLB takes nothing returns boolean
return GetBooleanAnd(OJB(),OKB())
endfunction
function OMB takes nothing returns nothing
call AddHeroXPSwapped(((GetUnitLevel(GetTriggerUnit())*$B4)/ CountUnitsInGroup(XEV)),GetEnumUnit(),false)
endfunction
function OPB takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=45)
endfunction
function OQB takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function OSB takes nothing returns nothing
if(OQB())then
if(OBB())then
set NYV=CountUnitsInGroup(GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function X9B)))
set NZV=(GetUnitLevel(GetTriggerUnit())*25)
set N_V=CountUnitsInGroup(GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function OXB)))
set XEV=GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function OIB))
call ForGroupBJ(XEV,function OAB)
call DestroyGroup(XEV)
endif
if(OHB())then
set XEV=GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function OFB))
call ForGroupBJ(XEV,function OGB)
call DestroyGroup(XEV)
endif
if(OPB())then
set XEV=GetUnitsInRangeOfLocMatching(1100.,GetUnitLoc(GetTriggerUnit()),Condition(function OLB))
call ForGroupBJ(XEV,function OMB)
call DestroyGroup(XEV)
endif
endif
endfunction
function OTB takes nothing returns nothing
set OZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OZE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(OZE,function OSB)
endfunction
function OUB takes nothing returns boolean
return(GetSpellAbilityId()=='A1MF')
endfunction
function OWB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function OYB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function OZB takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),G4))
endfunction
function O_B takes nothing returns boolean
return GetBooleanAnd(OYB(),OZB())
endfunction
function O0B takes nothing returns boolean
return GetBooleanAnd(OWB(),O_B())
endfunction
function O1B takes nothing returns nothing
call UnitDamageTargetBJ(F4,GetEnumUnit(),P4,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function O2B takes nothing returns nothing
set F4=GetTriggerUnit()
set G4=GetOwningPlayer(F4)
set H4=GetSpellTargetLoc()
set J4=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),F4)
set K4=400.
set M4=I2R(((GetHeroStatBJ(bj_HEROSTAT_INT,F4,true)*2)+R2I((GetUnitStateSwap(UNIT_STATE_MAX_MANA,F4)*.1))))
set P4=(M4*I2R(J4))
set L4=18
set T4='A1MG'
set U4='A1MH'
set S4=GetUnitsInRangeOfLocMatching(K4,H4,Condition(function O0B))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=L4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set Q4=PolarProjectionBJ(H4,50.,(360.*(I2R(GetForLoopIndexA())/ I2R(L4))))
call CreateNUnitsAtLoc(1,'h07F',G4,H4,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.5,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ(T4,GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"carrionswarm",Q4)
call RemoveLocation(Q4)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(S4,function O1B)
call CreateNUnitsAtLoc(1,'h07F',G4,H4,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.5,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ(U4,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(U4,GetLastCreatedUnit(),J4)
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"thunderclap")
call AddSpecialEffectLocBJ(H4,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(H4,"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(H4)
call DestroyGroup(S4)
endfunction
function O3B takes nothing returns nothing
local trigger O4B=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O4B,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O4B,Condition(function OUB))
call TriggerAddAction(O4B,function O2B)
endfunction
function O5B takes nothing returns nothing
set D2[1]="Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl"
set F2[1]="origin"
set D2[2]="Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl"
set F2[2]="origin"
set D2[3]="Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl"
set C2[1]=600
set R2[1]=7
set Y1=.49
endfunction
function O6B takes nothing returns nothing
set G5E=CreateTrigger()
call TriggerAddAction(G5E,function O5B)
endfunction
function O7B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07W')
endfunction
function O8B takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function O9B takes nothing returns nothing
set G6E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(G6E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(G6E,Condition(function O7B))
call TriggerAddAction(G6E,function O8B)
endfunction
function RVB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LQ')
endfunction
function REB takes nothing returns boolean
return(Z1==0)
endfunction
function RXB takes nothing returns boolean
return(Z1>E2)
endfunction
function ROB takes nothing returns nothing
if(REB())then
call EnableTrigger(G8E)
endif
set Z1=(Z1+1)
if(RXB())then
set V2[Z1]=Z1
set E2=Z1
endif
set X2=V2[Z1]
set M1[X2]=GetTriggerUnit()
set Q1[X2]=GetTriggerPlayer()
set P1[X2]=GetUnitAbilityLevelSwapped('A1LQ',M1[X2])
set W1[X2]=AddSpecialEffectTargetUnitBJ(D2[1],M1[X2],D2[1])
set I2[X2]=.0
set A2[X2]=.0
endfunction
function RRB takes nothing returns nothing
set G7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(G7E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(G7E,Condition(function RVB))
call TriggerAddAction(G7E,function ROB)
endfunction
function RIB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Q1[X2]))
endfunction
function RAB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function RNB takes nothing returns boolean
return GetBooleanAnd(RIB(),RAB())
endfunction
function RBB takes nothing returns boolean
return(I2[X2]>=Y1)and(IsUnitAliveBJ(M1[X2]))
endfunction
function RCB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Q1[X2]))
endfunction
function RDB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function RFB takes nothing returns boolean
return GetBooleanAnd(RCB(),RDB())
endfunction
function RGB takes nothing returns nothing
call IssueTargetOrderBJ(GetLastCreatedUnit(),"purge",GetEnumUnit())
endfunction
function RHB takes nothing returns boolean
return(Z1==0)
endfunction
function RJB takes nothing returns boolean
return(A2[X2]>=I2R(R2[P1[X2]]))and(IsUnitAliveBJ(M1[X2]))
endfunction
function RKB takes nothing returns nothing
set O2=1
loop
exitwhen O2>Z1
set X2=V2[O2]
set I2[X2]=(I2[X2]+.03)
set A2[X2]=(A2[X2]+.03)
if(RBB())then
set I2[X2]=.0
set U1=GetUnitLoc(M1[X2])
set S1=GetUnitsInRangeOfLocMatching(650.,U1,Condition(function RNB))
set T1[X2]=FirstOfGroup(S1)
call CreateNUnitsAtLoc(1,'h07W',Q1[X2],U1,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A1LR',GetLastCreatedUnit(),P1[X2])
call IssueTargetOrderBJ(GetLastCreatedUnit(),"chainlightning",T1[X2])
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call AddSpecialEffectLocBJ(U1,D2[3])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(U1)
call DestroyGroup(S1)
set T1[X2]=null
endif
if(RJB())then
set B2=GetUnitLoc(M1[X2])
set N2=GetUnitsInRangeOfLocMatching(I2R(C2[P1[X2]]),B2,Condition(function RFB))
call CreateNUnitsAtLoc(1,'h07W',Q1[X2],B2,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1LS',GetLastCreatedUnit())
call ForGroupBJ(N2,function RGB)
call RemoveLocation(B2)
call DestroyGroup(N2)
call DestroyEffectBJ(W1[X2])
call AddSpecialEffectTargetUnitBJ(D2[2],M1[X2],D2[2])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set V2[O2]=V2[Z1]
set V2[Z1]=X2
set Z1=(Z1-1)
set O2=(O2-1)
if(RHB())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
set O2=O2+1
endloop
endfunction
function RLB takes nothing returns nothing
set G8E=CreateTrigger()
call DisableTrigger(G8E)
call TriggerRegisterTimerEventPeriodic(G8E,.03)
call TriggerAddAction(G8E,function RKB)
endfunction
function RMB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LT')
endfunction
function RPB takes nothing returns boolean
return(H2==0)
endfunction
function RQB takes nothing returns boolean
return(H2>K2)
endfunction
function RSB takes nothing returns nothing
if(RPB())then
call EnableTrigger(O1E)
endif
set H2=(H2+1)
if(RQB())then
set J2[H2]=H2
set K2=H2
endif
set L2=J2[H2]
set M2[L2]=GetTriggerUnit()
set P2[L2]=GetOwningPlayer(GetTriggerUnit())
set Q2[L2]=GetSpellTargetUnit()
set S2[L2]=GetUnitAbilityLevelSwapped('A1LT',GetTriggerUnit())
set T2[L2]=(6+(3*S2[L2]))
set U2[L2]=(9000*S2[L2])
set W2[L2]=600.
call AddSpecialEffectTargetUnitBJ("weapon",M2[L2],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")
set Y2[L2]=0
set Z2[L2]=false
set V3[L2]=GetLastCreatedEffectBJ()
call PauseUnitBJ(true,M2[L2])
call SetUnitVertexColorBJ(M2[L2],40.,40.,40.,40.)
call SetUnitTimeScalePercent(M2[L2],200.)
endfunction
function RTB takes nothing returns nothing
set O0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O0E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O0E,Condition(function RMB))
call TriggerAddAction(O0E,function RSB)
endfunction
function RUB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function RWB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function RYB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),P2[L2]))
endfunction
function RZB takes nothing returns boolean
return GetBooleanAnd(RWB(),RYB())
endfunction
function R_B takes nothing returns boolean
return GetBooleanAnd(RUB(),RZB())
endfunction
function R0B takes nothing returns boolean
return(H2==0)
endfunction
function R1B takes nothing returns boolean
return(IsUnitAliveBJ(M2[L2]))and(Y2[L2]<=T2[L2])and(CountUnitsInGroup(O3[1])>0)
endfunction
function R2B takes nothing returns boolean
return(Z2[L2])
endfunction
function R3B takes nothing returns nothing
set E3=1
loop
exitwhen E3>H2
set L2=J2[E3]
set Y2[L2]=(Y2[L2]+1)
set X3[1]=GetUnitLoc(Q2[L2])
set O3[1]=GetUnitsInRangeOfLocMatching(W2[L2],X3[1],Condition(function R_B))
if(R2B())then
call SetUnitPositionLoc(M2[L2],X3[1])
call SetUnitFacingToFaceLocTimed(M2[L2],X3[1],0)
call UnitAddAbilityBJ('A028',Q2[L2])
call SetUnitAbilityLevelSwapped('A028',Q2[L2],74)
call UnitDamageTargetBJ(M2[L2],Q2[L2],.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitAnimation(M2[L2],"attack")
call AddSpecialEffectTargetUnitBJ("origin",M2[L2],"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set Z2[L2]=false
else
if(R1B())then
set R3[L2]=GroupPickRandomUnit(O3[1])
set X3[2]=GetUnitLoc(R3[L2])
set X3[3]=PolarProjectionBJ(X3[2],50.,GetRandomDirectionDeg())
call SetUnitPositionLoc(M2[L2],X3[3])
call SetUnitFacingToFaceLocTimed(M2[L2],X3[2],0)
call UnitAddAbilityBJ('A028',Q2[L2])
call SetUnitAbilityLevelSwapped('A028',Q2[L2],74)
call UnitDamageTargetBJ(M2[L2],R3[L2],.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call SetUnitAnimation(M2[L2],"attack")
call AddSpecialEffectTargetUnitBJ("origin",M2[L2],"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(X3[2])
call RemoveLocation(X3[3])
else
call DestroyEffectBJ(V3[L2])
call PauseUnitBJ(false,M2[L2])
call SetUnitVertexColorBJ(M2[L2],0,0,0,0)
call ResetUnitAnimation(M2[L2])
set J2[E3]=J2[H2]
set J2[H2]=L2
set H2=(H2-1)
set E3=(E3-1)
if(R0B())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
call RemoveLocation(X3[1])
call DestroyGroup(O3[1])
set E3=E3+1
endloop
endfunction
function R4B takes nothing returns nothing
set O1E=CreateTrigger()
call DisableTrigger(O1E)
call TriggerRegisterTimerEventPeriodic(O1E,.3)
call TriggerAddAction(O1E,function R3B)
endfunction
function R5B takes nothing returns boolean
return(GetSpellAbilityId()=='A1PP')
endfunction
function R6B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function R7B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function R8B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function R9B takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),KK)==false)
endfunction
function IVB takes nothing returns boolean
return GetBooleanAnd(R8B(),R9B())
endfunction
function IEB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function IXB takes nothing returns boolean
return GetBooleanAnd(IVB(),IEB())
endfunction
function IOB takes nothing returns boolean
return GetBooleanAnd(R7B(),IXB())
endfunction
function IRB takes nothing returns boolean
return GetBooleanAnd(R6B(),IOB())
endfunction
function IIB takes nothing returns boolean
return(LK[1]==0)
endfunction
function IAB takes nothing returns boolean
return(GK)
endfunction
function INB takes nothing returns nothing
if(IIB())then
call EnableTrigger(XUE)
endif
set LK[1]=(LK[1]+1)
set LK[2]=(LK[2]+1)
set MK[LK[2]]=GetEnumUnit()
set PK[LK[2]]=GetTriggerUnit()
set QK[LK[2]]=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set SK[LK[2]]=.0
set TK[LK[2]]=.0
set UK[LK[2]]=GetRandomReal((UJ+(WJ*(I2R(QK[LK[2]])-1))),(YJ+(ZJ*(I2R(QK[LK[2]])-1))))
set WK[LK[2]]=(1.8/ GetRandomReal((VK*(1+EK)),(VK*(1.-EK))))
call GroupAddUnitSimple(MK[LK[2]],KK)
call UnitAddAbilityBJ('Arav',MK[LK[2]])
call UnitRemoveAbilityBJ('Arav',MK[LK[2]])
if(IAB())then
call PauseUnitBJ(true,MK[LK[2]])
endif
set HK[2]=GetUnitLoc(MK[LK[2]])
call AddSpecialEffectLocBJ(HK[2],RK)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(HK[2])
endfunction
function IBB takes nothing returns nothing
set SJ=400.
set TJ=50.
set UJ=300.
set WJ=100.
set YJ=600.
set ZJ=200.
set VK=1.45
set EK=.2
set XK="Abilities\\Spells\\Undead\\OrbOfDeath\\OrbOfDeathMissile.mdl"
set OK=.3
set RK="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"
set IK="Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl"
set AK=100.
set NK=50.
set BK=100000.
set CK=50000.
set DK=ATTACK_TYPE_CHAOS
set FK=DAMAGE_TYPE_UNIVERSAL
set GK=true
set HK[1]=GetSpellTargetLoc()
set JK=GetUnitsInRangeOfLocMatching((SJ+(TJ*(I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))-1))),HK[1],Condition(function IRB))
call ForGroupBJ(JK,function INB)
call RemoveLocation(HK[1])
call DestroyGroup(JK)
endfunction
function ICB takes nothing returns nothing
set XTE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(XTE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XTE,Condition(function R5B))
call TriggerAddAction(XTE,function IBB)
endfunction
function IDB takes nothing returns boolean
return(GK)
endfunction
function IFB takes nothing returns boolean
return(LK[1]==0)
endfunction
function IGB takes nothing returns boolean
return(TK[LK[3]]>=OK)
endfunction
function IHB takes nothing returns boolean
return(SK[LK[3]]<180.)
endfunction
function IJB takes nothing returns boolean
return(MK[LK[3]]!=null)
endfunction
function IKB takes nothing returns nothing
set LK[3]=1
loop
exitwhen LK[3]>LK[2]
if(IJB())then
if(IHB())then
set SK[LK[3]]=(SK[LK[3]]+WK[LK[3]])
set TK[LK[3]]=(TK[LK[3]]+.01)
call SetUnitFlyHeightBJ(MK[LK[3]],((SinBJ(SK[LK[3]])*UK[LK[3]])+GetUnitDefaultFlyHeight(MK[LK[3]])),.0)
if(IGB())then
call AddSpecialEffectTargetUnitBJ("chest",MK[LK[3]],XK)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set TK[LK[3]]=.0
endif
else
set HK[1]=GetUnitLoc(MK[LK[3]])
call GroupRemoveUnitSimple(MK[LK[3]],KK)
if(IDB())then
call PauseUnitBJ(false,MK[LK[3]])
endif
call AddSpecialEffectLocBJ(HK[1],IK)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitFlyHeightBJ(MK[LK[3]],GetUnitDefaultFlyHeight(MK[LK[3]]),.0)
call UnitAddAbilityBJ('A028',MK[LK[3]])
call SetUnitAbilityLevelSwapped('A028',MK[LK[3]],75)
call UnitDamageTargetBJ(PK[LK[3]],MK[LK[3]],.1,DK,FK)
call RemoveLocation(HK[1])
set MK[LK[3]]=null
set LK[1]=(LK[1]-1)
if(IFB())then
set LK[2]=0
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
set LK[3]=LK[3]+1
endloop
endfunction
function ILB takes nothing returns nothing
set XUE=CreateTrigger()
call DisableTrigger(XUE)
call TriggerRegisterTimerEventPeriodic(XUE,.01)
call TriggerAddAction(XUE,function IKB)
endfunction
function IMB takes nothing returns nothing
set T3[1]=1
set T3[2]=2
set T3[3]=3
set T3[4]=4
set T3[5]=5
set T3[6]=6
set T3[7]=7
set T3[8]=8
set T3[9]=9
set U3=25.
set W3="Attack"
set Y3="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"
set Z3="weapon"
set I4=250.
set V4=80.
set A4=.4
set E4=100.
set N4=6
set B4=5
set C4="Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl"
set D4="chest"
endfunction
function IPB takes nothing returns nothing
set FYE=CreateTrigger()
call TriggerAddAction(FYE,function IMB)
endfunction
function IQB takes nothing returns boolean
return(GetSpellAbilityId()=='A1M9')
endfunction
function ISB takes nothing returns boolean
return(I3==0)
endfunction
function ITB takes nothing returns nothing
if(ISB())then
call EnableTrigger(F_E)
endif
set I3=(I3+1)
set A3=(A3+1)
set F3[A3]=true
set G3[A3]=true
set B3[A3]=GetTriggerUnit()
set O4[1]=(25.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*2.))
set O4[2]=(50.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*4.))
set O4[3]=(100.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*6))
set O4[4]=(150.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*8))
set O4[5]=(200.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*$A))
set O4[6]=(250.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*$C))
set O4[7]=(300.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*$E))
set O4[8]=(350.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*16))
set O4[9]=(400.+(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,B3[A3],true))*18))
set C3[A3]=GetSpellTargetUnit()
set R4[A3]=GetUnitAbilityLevelSwapped('A1M9',B3[A3])
call SetUnitTimeScalePercent(B3[A3],I4)
set S3[A3]=AddSpecialEffectTargetUnitBJ(Z3,B3[A3],Y3)
set P3[A3]=T3[R4[A3]]
call PauseUnitBJ(true,B3[A3])
endfunction
function IUB takes nothing returns nothing
set FZE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FZE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(FZE,Condition(function IQB))
call TriggerAddAction(FZE,function ITB)
endfunction
function IWB takes nothing returns boolean
return(IsUnitPausedBJ(C3[N3])!=true)
endfunction
function IYB takes nothing returns boolean
return(I3==0)
endfunction
function IZB takes nothing returns boolean
return(IsUnitAliveBJ(B3[N3])!=true)or(IsUnitAliveBJ(C3[N3])!=true)or(P3[N3]==0)
endfunction
function I_B takes nothing returns boolean
return(IZB())
endfunction
function I0B takes nothing returns boolean
return(M3[N3]==B4)
endfunction
function I1B takes nothing returns boolean
return(D3[N3]<=E4)
endfunction
function I2B takes nothing returns boolean
return(G3[N3])
endfunction
function I3B takes nothing returns boolean
return(F3[N3])
endfunction
function I4B takes nothing returns nothing
set N3=1
loop
exitwhen N3>A3
if(I3B())then
if(I2B())then
set L3=GetUnitLoc(C3[N3])
set K3=GetUnitLoc(B3[N3])
set Q3[N3]=AngleBetweenPoints(K3,L3)
call SetUnitFacingTimed(B3[N3],Q3[N3],.0)
set X4=PolarProjectionBJ(K3,U3,Q3[N3])
call RemoveLocation(K3)
call SetUnitX(B3[N3],GetUnitX(B3[N3])+U3*Cos(Q3[N3]*bj_DEGTORAD))
call SetUnitY(B3[N3],GetUnitY(B3[N3])+U3*Sin(Q3[N3]*bj_DEGTORAD))
set D3[N3]=DistanceBetweenPoints(X4,L3)
call SetUnitAnimationByIndex(B3[N3],N4)
call CreateNUnitsAtLoc(1,'h07X',GetOwningPlayer(B3[N3]),X4,Q3[N3])
call SetUnitVertexColorBJ(GetLastCreatedUnit(),40,40,40,V4)
call UnitApplyTimedLifeBJ(A4,'BTLF',GetLastCreatedUnit())
call SetUnitAnimationByIndex(GetLastCreatedUnit(),N4)
call RemoveLocation(X4)
call RemoveLocation(L3)
if(I1B())then
set G3[N3]=false
call PauseUnitBJ(true,C3[N3])
endif
else
set M3[N3]=(M3[N3]+1)
if(I0B())then
call StopSoundBJ(FPE,false)
set M3[N3]=0
call SetUnitAnimation(B3[N3],W3)
call UnitDamageTargetBJ(B3[N3],C3[N3],O4[R4[N3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ(D4,C3[N3],C4)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call PlaySoundOnUnitBJ(FPE,'d',C3[N3])
set P3[N3]=(P3[N3]-1)
if(IWB())then
call PauseUnitBJ(true,C3[N3])
endif
if(I_B())then
call IssueImmediateOrderBJ(B3[N3],"stop")
set F3[N3]=false
call DestroyEffectBJ(S3[N3])
call PauseUnitBJ(false,C3[N3])
call PauseUnitBJ(false,B3[N3])
call SetUnitTimeScalePercent(B3[N3],'d')
set F3[N3]=false
set G3[N3]=false
set B3[N3]=null
set C3[N3]=null
set D3[N3]=.0
set P3[N3]=0
set I3=(I3-1)
if(IYB())then
set A3=0
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
set N3=N3+1
endloop
endfunction
function I5B takes nothing returns nothing
set F_E=CreateTrigger()
call DisableTrigger(F_E)
call TriggerRegisterTimerEventPeriodic(F_E,.04)
call TriggerAddAction(F_E,function I4B)
endfunction
function I6B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h07X')
endfunction
function I7B takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function I8B takes nothing returns nothing
set F0E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(F0E,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(F0E,Condition(function I6B))
call TriggerAddAction(F0E,function I7B)
endfunction
function I9B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function AVB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function AEB takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=Player(0))
endfunction
function AXB takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=Player(1))
endfunction
function AOB takes nothing returns boolean
return GetBooleanAnd(I9B(),AVB())
endfunction
function ARB takes nothing returns boolean
return GetBooleanAnd(AXB(),AEB())
endfunction
function AIB takes nothing returns boolean
return GetBooleanAnd(AOB(),ARB())
endfunction
function AAB takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(KRV,Condition(function AIB)))<1)
endfunction
function ANB takes nothing returns boolean
return(GetTriggerUnit()==Y0)
endfunction
function ABB takes nothing returns nothing
if(AAB())then
set XVV=GetRectCenter(KRV)
call SetUnitPositionLoc(Y0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Y0))
call SetUnitManaBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Y0))
else
set XEV=GetUnitsInRectMatching(KRV,Condition(function AIB))
call IssueTargetOrderBJ(Y0,"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
if(ANB())then
set XVV=GetRectCenter(KRV)
call SetUnitPositionLoc(Y0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Y0))
call SetUnitManaBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Y0))
endif
endfunction
function ACB takes nothing returns nothing
set WPV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WPV,KRV)
call TriggerAddAction(WPV,function ABB)
endfunction
function ADB takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>'d')
endfunction
function AFB takes nothing returns nothing
set XVV=GetRectCenter(KRV)
call SetUnitPositionLoc(Y0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Y0))
call SetUnitManaBJ(Y0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Y0))
endfunction
function AGB takes nothing returns nothing
set G9E=CreateTrigger()
call TriggerRegisterLeaveRectSimple(G9E,KRV)
call TriggerAddCondition(G9E,Condition(function ADB))
call TriggerAddAction(G9E,function AFB)
endfunction
function AHB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function AJB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function AKB takes nothing returns boolean
return GetBooleanAnd(AHB(),AJB())
endfunction
function ALB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function AMB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function APB takes nothing returns boolean
return GetBooleanAnd(ALB(),AMB())
endfunction
function AQB takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(DCE,Condition(function APB)))<1)
endfunction
function ASB takes nothing returns boolean
return(GetTriggerUnit()==Z0)
endfunction
function ATB takes nothing returns nothing
if(AQB())then
set XVV=GetRectCenter(DCE)
call SetUnitPositionLoc(Z0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Z0))
call SetUnitManaBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Z0))
else
set XEV=GetUnitsInRectMatching(DCE,Condition(function AKB))
call IssueTargetOrderBJ(Z0,"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
if(ASB())then
set XVV=GetRectCenter(DCE)
call SetUnitPositionLoc(Z0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Z0))
call SetUnitManaBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Z0))
endif
endfunction
function AUB takes nothing returns nothing
set WQV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WQV,DCE)
call TriggerAddAction(WQV,function ATB)
endfunction
function AWB takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>'d')
endfunction
function AYB takes nothing returns nothing
set XVV=GetRectCenter(DCE)
call SetUnitPositionLoc(Z0,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Z0))
call SetUnitManaBJ(Z0,GetUnitStateSwap(UNIT_STATE_MAX_MANA,Z0))
endfunction
function AZB takes nothing returns nothing
set HVE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(HVE,DCE)
call TriggerAddCondition(HVE,Condition(function AWB))
call TriggerAddAction(HVE,function AYB)
endfunction
function A_B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function A0B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function A1B takes nothing returns boolean
return GetBooleanAnd(A_B(),A0B())
endfunction
function A2B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function A3B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function A4B takes nothing returns boolean
return GetBooleanAnd(A2B(),A3B())
endfunction
function A5B takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRectMatching(DDE,Condition(function A4B)))<1)
endfunction
function A6B takes nothing returns boolean
return(GetTriggerUnit()==V1)
endfunction
function A7B takes nothing returns nothing
if(A5B())then
set XVV=GetRectCenter(DDE)
call SetUnitPositionLoc(V1,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,V1))
call SetUnitManaBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_MANA,V1))
if GetUnitTypeId(GetTriggerUnit())=='u00X' then
call EnableTrigger(KVV)
endif
else
set XEV=GetUnitsInRectMatching(DDE,Condition(function A1B))
call IssueTargetOrderBJ(V1,"attack",GroupPickRandomUnit(XEV))
call DestroyGroup(XEV)
endif
if(A6B())then
set XVV=GetRectCenter(DDE)
call SetUnitPositionLoc(V1,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,V1))
call SetUnitManaBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_MANA,V1))
if GetUnitTypeId(GetTriggerUnit())=='u00X' then
call EnableTrigger(KVV)
endif
endif
endfunction
function A8B takes nothing returns nothing
set WSV=CreateTrigger()
call TriggerRegisterLeaveRectSimple(WSV,DDE)
call TriggerAddAction(WSV,function A7B)
endfunction
function A9B takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(GetTriggerUnit())>'d')
endfunction
function NVB takes nothing returns nothing
set XVV=GetRectCenter(DDE)
call SetUnitPositionLoc(V1,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,V1))
call SetUnitManaBJ(V1,GetUnitStateSwap(UNIT_STATE_MAX_MANA,V1))
endfunction
function NEB takes nothing returns nothing
set HEE=CreateTrigger()
call TriggerRegisterLeaveRectSimple(HEE,DDE)
call TriggerAddCondition(HEE,Condition(function A9B))
call TriggerAddAction(HEE,function NVB)
endfunction
function NXB takes nothing returns nothing
local unit u
call SetUnitManaBJ(GetAttackedUnitBJ(),GetUnitStateSwap(UNIT_STATE_MANA,GetAttackedUnitBJ())-('n'*GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ())))
set XVV=GetUnitLoc(GetAttackedUnitBJ())
set u=CreateUnitAtLoc(GetOwningPlayer(GetAttackedUnitBJ()),'h07Y',XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call UnitApplyTimedLife(u,'BHwe',2.)
call UnitAddAbilityBJ('A0Y2',u)
call SetUnitAbilityLevelSwapped('A0Y2',u,GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ()))
call IssueTargetOrderById(u,$D0132,GetAttackedUnitBJ())
endfunction
function NOB takes nothing returns boolean
return(GetRandomInt(1,33)==5)
endfunction
function NRB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1M4',GetAttackedUnitBJ())==0)
endfunction
function NIB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1M4',GetAttackedUnitBJ())>=1)and(GetUnitAbilityLevelSwapped('A1M4',GetAttackedUnitBJ())!=$F)
endfunction
function NAB takes nothing returns boolean
return(GetRandomInt(1,33)==5)
endfunction
function NNB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ())==0)
endfunction
function NBB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ())>=1)and(GetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ())!=$F)
endfunction
function NCB takes nothing returns boolean
return(GetRandomInt(1,33)==5)
endfunction
function NDB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02S',GetAttacker())==9)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function NFB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P9',GetAttackedUnitBJ())==1)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ())))
endfunction
function NGB takes nothing returns boolean
return(GetUnitLifePercent(T0)<=40.)and(GetRandomInt(1,$F)==3)
endfunction
function NHB takes nothing returns boolean
return(GetRandomInt(1,20)==3)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function NJB takes nothing returns boolean
return(GetRandomInt(1,7)==3)and(UnitHasBuffBJ(GetAttacker(),'B025'))
endfunction
function NKB takes nothing returns boolean
return((GetRandomInt(1,7)==2)and(IsUnitType(GetAttacker(),UNIT_TYPE_MAGIC_IMMUNE)))!=null
endfunction
function NLB takes nothing returns boolean
return(GetUnitLifePercent(T0)<=70.)and(GetRandomInt(1,7)==2)
endfunction
function NMB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00Y')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NPB takes nothing returns boolean
return(GetUnitLifePercent(W0)<=55.)
endfunction
function NQB takes nothing returns boolean
return(GetUnitLifePercent(W0)<=80.)
endfunction
function NSB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04D')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NTB takes nothing returns boolean
return(GetUnitLifePercent(U0)<=70.)
endfunction
function NUB takes nothing returns boolean
return(GetRandomInt(1,20)==3)
endfunction
function NWB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04E')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function NYB takes nothing returns boolean
return(GetUnitLifePercent(S0)<=60.)
endfunction
function NZB takes nothing returns boolean
return(GetRandomInt(1,$F)==3)
endfunction
function N_B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04F')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function N0B takes nothing returns boolean
return(GetUnitLifePercent(T0)<=40.)and(GetRandomInt(1,$A)==3)
endfunction
function N1B takes nothing returns boolean
return(GetRandomInt(1,20)==3)
endfunction
function N2B takes nothing returns boolean
return(GetRandomInt(1,7)==3)and(UnitHasBuffBJ(GetTriggerUnit(),'B025'))
endfunction
function N3B takes nothing returns boolean
return(GetUnitLifePercent(T0)<=70.)and(GetRandomInt(1,7)==2)
endfunction
function N4B takes nothing returns boolean
return((GetRandomInt(1,7)==2)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)))!=null
endfunction
function N5B takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00Y')and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function N6B takes nothing returns boolean
return(GetUnitLifePercent(W0)<=55.)
endfunction
function N7B takes nothing returns boolean
return(GetUnitLifePercent(W0)<=80.)
endfunction
function N8B takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04D')and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function N9B takes nothing returns boolean
return(GetUnitLifePercent(U0)<=70.)
endfunction
function BVB takes nothing returns boolean
return(GetRandomInt(1,$F)==3)
endfunction
function BEB takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04E')and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BXB takes nothing returns boolean
return(GetUnitLifePercent(S0)<=60.)
endfunction
function BOB takes nothing returns boolean
return(GetRandomInt(1,$F)==3)
endfunction
function BRB takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04F')and(GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function BIB takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B08H'))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function BAB takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04G')and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function BNB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())>0)and(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())<8)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,50)<=4+(1*GetUnitAbilityLevelSwapped('A1R5',GetAttacker())))
endfunction
function BBB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==8)and(GetRandomInt(1,50)<=$F)
endfunction
function BCB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==9)and(GetRandomInt(1,50)<=21)
endfunction
function BDB takes nothing returns boolean
return(GetBooleanOr(BBB(),BCB()))and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))
endfunction
function BFB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0OJ',GetAttacker())>0)and(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker())))and(GetRandomInt(1,20)<=9)
endfunction
function BGB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ())>0)and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ())))and(GetUnitStateSwap(UNIT_STATE_MANA,GetAttackedUnitBJ())>'n'*GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ()))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetRandomInt(1,20)==3)
endfunction
function BHB takes nothing returns nothing
if(NDB())then
if(NCB())then
if(NBB())then
call SetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ(),(GetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ())+1))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("Armor Reduction "+"-10"),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(NNB())then
call UnitAddAbilityBJ('A1JE',GetAttackedUnitBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("Armor Reduction "+"-10"),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set P0=GetRandomInt($4E20,($BB8*GetHeroLevel(GetAttacker())))
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(P0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("Spell Damage "+I2S(P0)),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
else
if(NAB())then
if(NIB())then
call SetUnitAbilityLevelSwapped('A1M4',GetAttackedUnitBJ(),(GetUnitAbilityLevelSwapped('A1JE',GetAttackedUnitBJ())+1))
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("-5% "+"Attack Speed!"),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(NRB())then
call UnitAddAbilityBJ('A1M4',GetAttackedUnitBJ())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("-5% "+"Attack Speed!"),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set P0=GetRandomInt($4E20,($BB8*GetHeroLevel(GetAttacker())))
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(P0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("Spell Damage "+I2S(P0)),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
else
if(NOB())then
set P0=GetRandomInt($4E20,($BB8*GetHeroLevel(GetAttacker())))
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),I2R(P0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(("Spell Damage "+I2S(P0)),XVV,0,$A,90.,80.,70.,0)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
if(NFB())then
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),(((I2R(GetUnitAbilityLevelSwapped('A1M5',GetAttackedUnitBJ()))/ 2.)+.5)*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetAttackedUnitBJ(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(N_B())then
set S0=GetTriggerUnit()
call UnitRemoveBuffBJ('BPSE',S0)
call UnitRemoveBuffBJ('B014',S0)
call UnitRemoveBuffBJ('B00J',S0)
call UnitRemoveBuffBJ('B02J',S0)
call UnitRemoveBuffBJ('B03H',S0)
if(NYB())then
call IssuePointOrderLocBJ(S0,"flamestrike",GetUnitLoc(GetAttacker()))
call EnableTrigger(FUE)
call TriggerSleepAction(8.)
call DisableTrigger(FUE)
endif
if(NZB())then
call IssueTargetOrderBJ(S0,"shadowstrike",GetAttacker())
endif
else
if(NWB())then
set U0=GetTriggerUnit()
call UnitRemoveBuffBJ('BPSE',U0)
call UnitRemoveBuffBJ('B014',U0)
call UnitRemoveBuffBJ('B00J',U0)
call UnitRemoveBuffBJ('B02J',U0)
call UnitRemoveBuffBJ('B03H',U0)
call UnitRemoveBuffBJ('B03L',U0)
if(NTB())then
call IssueImmediateOrderBJ(U0,"whirlwind")
endif
if(NUB())then
call IssueTargetOrderBJ(U0,"chainlightning",GetAttacker())
endif
else
if(NSB())then
set W0=GetTriggerUnit()
call UnitRemoveBuffBJ('BPSE',W0)
call UnitRemoveBuffBJ('B014',W0)
call UnitRemoveBuffBJ('B00J',W0)
call UnitRemoveBuffBJ('B02J',W0)
call UnitRemoveBuffBJ('B03H',W0)
if(NPB())then
call IssuePointOrderLocBJ(W0,"blizzard",GetUnitLoc(GetAttacker()))
endif
if(NQB())then
call IssueTargetOrderBJ(W0,"chainlightning",GetAttacker())
endif
else
if(NMB())then
set T0=GetTriggerUnit()
call UnitRemoveBuffBJ('BPSE',T0)
call UnitRemoveBuffBJ('B014',T0)
call UnitRemoveBuffBJ('B03H',T0)
call UnitRemoveBuffBJ('B00J',T0)
call UnitRemoveBuffBJ('B02J',T0)
if(NGB())then
call IssueTargetOrderBJ(T0,"curse",GetAttacker())
endif
if(NHB())then
call IssueTargetOrderBJ(T0,"drunkenhaze",GetAttacker())
endif
if(NJB())then
call IssueTargetOrderBJ(T0,"curse",GetAttacker())
endif
if(NKB())then
call IssueTargetOrderBJ(T0,"attack",GetAttacker())
endif
if(NLB())then
call IssuePointOrderLocBJ(T0,"blizzard",GetUnitLoc(GetAttacker()))
endif
endif
endif
endif
endif
if(BRB())then
set S0=GetAttacker()
if(BXB())then
call IssuePointOrderLocBJ(S0,"flamestrike",GetUnitLoc(GetTriggerUnit()))
call EnableTrigger(FUE)
call TriggerSleepAction(8.)
call DisableTrigger(FUE)
endif
if(BOB())then
call IssueTargetOrderBJ(S0,"shadowstrike",GetTriggerUnit())
endif
else
if(BEB())then
set U0=GetAttacker()
if(N9B())then
call IssueImmediateOrderBJ(U0,"whirlwind")
endif
if(BVB())then
call IssueTargetOrderBJ(U0,"chainlightning",GetTriggerUnit())
endif
else
if(N8B())then
set W0=GetAttacker()
if(N6B())then
call IssuePointOrderLocBJ(W0,"blizzard",GetUnitLoc(GetTriggerUnit()))
endif
if(N7B())then
call IssueTargetOrderBJ(W0,"chainlightning",GetTriggerUnit())
endif
else
if(N5B())then
set T0=GetAttacker()
if(N0B())then
call IssueTargetOrderBJ(T0,"curse",GetTriggerUnit())
endif
if(N1B())then
call IssueTargetOrderBJ(T0,"drunkenhaze",GetTriggerUnit())
endif
if(N2B())then
call IssueTargetOrderBJ(T0,"curse",GetTriggerUnit())
endif
if(N4B())then
call IssueTargetOrderBJ(T0,"attack",GetTriggerUnit())
else
if(N3B())then
call IssuePointOrderLocBJ(T0,"blizzard",GetUnitLoc(GetTriggerUnit()))
endif
endif
endif
endif
endif
endif
if(BIB())then
call SetUnitLifePercentBJ(GetTriggerUnit(),(GetUnitLifePercent(GetAttackedUnitBJ())+10.))
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(BAB())then
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),5000,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(BNB())then
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==1)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),275,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==2)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),550,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==3)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),800,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==4)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$4B0,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==5)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$640,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==6)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$898,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==7)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$BB8,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(BDB())then
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==8)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),5500,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
if(GetUnitAbilityLevelSwapped('A1R5',GetAttacker())==9)then
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),$2904+(4*GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(BFB())then
call mj(.2)
call UnitAddAbilityBJ('A028',GetAttackedUnitBJ())
call SetUnitAbilityLevelSwapped('A028',GetAttackedUnitBJ(),82)
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(BGB())then
if C0E[3]==null then
call ExecuteFunc("NXB")
else
if C0E[4]==null and GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ())>=5 then
call ExecuteFunc("NXB")
else
if C0E[5]==null and GetUnitAbilityLevelSwapped('A0TY',GetAttackedUnitBJ())==9 then
call ExecuteFunc("NXB")
endif
endif
endif
endif
endfunction
function BJB takes nothing returns nothing
set FQE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FQE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(FQE,function BHB)
endfunction
function BKB takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B08I'))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function BLB takes nothing returns boolean
return(GetAttackedUnitBJ()==L0)and(UnitHasBuffBJ(GetAttacker(),'B08I'))and(GetAttacker()==SF)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function BMB takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(SF)))and(GetAttacker()==SF)and(GetUnitAbilityLevelSwapped('A02P',GetAttacker())==1)and(GetAttackedUnitBJ()==L0)and(IsUnitIllusionBJ(GetAttacker())==false)and(M0!=25)
endfunction
function BPB takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(SF)))and(GetUnitAbilityLevelSwapped('A02P',GetAttacker())==2)and(GetAttackedUnitBJ()==L0)and(GetAttacker()==SF)and(IsUnitIllusionBJ(GetAttacker())==false)and(M0!=50)
endfunction
function BQB takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(SF)))and(GetUnitAbilityLevelSwapped('A02P',GetAttacker())==3)and(GetAttackedUnitBJ()==L0)and(GetAttacker()==SF)and(IsUnitIllusionBJ(GetAttacker())==false)and(M0!=75)
endfunction
function BSB takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(SF)))and(GetUnitAbilityLevelSwapped('A02P',GetAttacker())==4)and(GetAttackedUnitBJ()==L0)and(IsUnitIllusionBJ(GetAttacker())==false)and(GetAttacker()==SF)and(M0!='}')
endfunction
function BTB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A04D',GetAttacker())==0)and(GetAttacker()==SF)and(GetAttackedUnitBJ()==L0)and(IsUnitIllusionBJ(GetAttacker())==false)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(SF)))
endfunction
function BUB takes nothing returns nothing
if(BTB())then
call UnitAddAbilityBJ('A04D',SF)
endif
if(BSB())then
call StartTimerBJ(DYV,false,7.)
set M0=(M0+1)
call SetUnitAbilityLevelSwapped('A04D',SF,M0)
call ModifyHeroStat(bj_HEROSTAT_AGI,SF,bj_MODIFYMETHOD_ADD,3)
else
if(BQB())then
call StartTimerBJ(DYV,false,7.)
set M0=(M0+1)
call SetUnitAbilityLevelSwapped('A04D',SF,M0)
call ModifyHeroStat(bj_HEROSTAT_AGI,SF,bj_MODIFYMETHOD_ADD,3)
else
if(BPB())then
call StartTimerBJ(DYV,false,7.)
set M0=(M0+1)
call SetUnitAbilityLevelSwapped('A04D',SF,M0)
call ModifyHeroStat(bj_HEROSTAT_AGI,SF,bj_MODIFYMETHOD_ADD,3)
else
if(BMB())then
call StartTimerBJ(DYV,false,7.)
set M0=(M0+1)
call SetUnitAbilityLevelSwapped('A04D',SF,M0)
call ModifyHeroStat(bj_HEROSTAT_AGI,SF,bj_MODIFYMETHOD_ADD,3)
else
if(BLB())then
call StartTimerBJ(DYV,false,7.)
else
if(BKB())then
set L0=GetAttackedUnitBJ()
call StartTimerBJ(DYV,false,.0)
endif
endif
endif
endif
endif
endif
endfunction
function BWB takes nothing returns nothing
set GGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(GGE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(GGE,Condition(function BKB))
call TriggerAddAction(GGE,function BUB)
endfunction
function BYB takes nothing returns nothing
call UnitRemoveAbilityBJ('A04D',SF)
call ModifyHeroStat(bj_HEROSTAT_AGI,SF,bj_MODIFYMETHOD_SUB,M0*3)
set M0=0
endfunction
function BZB takes nothing returns nothing
set FTE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(FTE,DYV)
call TriggerAddAction(FTE,function BYB)
endfunction
function B_B takes nothing returns nothing
call SetUnitLifePercentBJ(S0,(GetUnitLifePercent(S0)+2.))
set XVV=GetUnitLoc(S0)
call CreateNUnitsAtLoc(1,'n04G',GetOwningPlayer(S0),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
endfunction
function B0B takes nothing returns nothing
set FUE=CreateTrigger()
call DisableTrigger(FUE)
call TriggerRegisterTimerEventPeriodic(FUE,1.5)
call TriggerAddAction(FUE,function B_B)
endfunction
function B1B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B2B takes nothing returns boolean
return(GetRandomInt(1,20)==5)
endfunction
function B3B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B4B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B5B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B6B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B7B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B8B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function B9B takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function CVB takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function CEB takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function CXB takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function COB takes nothing returns boolean
return(GetRandomInt(1,30)==5)
endfunction
function CRB takes nothing returns boolean
return(GetRandomInt(1,35)==5)
endfunction
function CIB takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function CAB takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u00Y')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function CNB takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n04D')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function CBB takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n04E')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function CCB takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n04F')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function CDB takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='nane')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function CFB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04G')
endfunction
function CGB takes nothing returns nothing
if(CDB())then
if JBV==false then
call mj(120.)
endif
if JBV then
call mj(60.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'n04F',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(KRV))
set Y0=GetLastCreatedUnit()
call RemoveLocation(XVV)
else
if(CCB())then
if(B1B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E2',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
endif
if(B2B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DS',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call RemoveLocation(XVV)
endif
if(B3B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HJ',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02O',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(120.)
endif
if JBV then
call mj(60.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'n04E',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(KRV))
set Y0=GetLastCreatedUnit()
call RemoveLocation(XVV)
else
if(CBB())then
if(B4B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FI',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
endif
if(B5B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I07F',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HL',XVV)
call RemoveLocation(XVV)
endif
if(B6B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H2',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EW',XVV)
call RemoveLocation(XVV)
endif
if(B7B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G1',XVV)
call RemoveLocation(XVV)
endif
call RemoveItemFromStock(A1,'I0J2')
set QG[5]=0
if JBV==false then
call mj(120.)
endif
if JBV then
call mj(60.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'n04D',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(KRV))
set Y0=GetLastCreatedUnit()
call RemoveLocation(XVV)
else
if(CNB())then
if(B8B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0G0',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CX',XVV)
call RemoveLocation(XVV)
endif
if(B9B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H8',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F7',XVV)
call RemoveLocation(XVV)
endif
if(CVB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HM',XVV)
call RemoveLocation(XVV)
endif
if(CEB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0I6',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DF',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(120.)
endif
if JBV then
call mj(60.)
endif
set XVV=Location(-8213.,1846.)
call CreateNUnitsAtLocFacingLocBJ(1,'u00Y',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,GetRectCenter(KRV))
set Y0=GetLastCreatedUnit()
call RemoveLocation(XVV)
else
if(CAB())then
if(CXB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H9',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0I5',XVV)
call RemoveLocation(XVV)
endif
if(COB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0I3',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H6',XVV)
call RemoveLocation(XVV)
endif
if(CRB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DI',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EW',XVV)
call RemoveLocation(XVV)
endif
if(CIB())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H7',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HO',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
endif
if(CFB())then
call SetUnitLifeBJ(GetKillingUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnit())-5000.))
call SetUnitLifeBJ(GetKillingUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetKillingUnit())*.1)))
call AddSpecialEffectTargetUnitBJ("overhead",GetKillingUnitBJ(),"Abilities\\Weapons\\ChimaeraAcidMissile\\ChimaeraAcidMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endfunction
function CHB takes nothing returns nothing
set FWE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FWE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(FWE,function CGB)
endfunction
function CJB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LV')
endfunction
function CKB takes nothing returns boolean
return(GetSpellAbilityId()=='A02R')
endfunction
function CLB takes nothing returns boolean
return(GetUnitLevel(GetSpellTargetUnit())>='x')
endfunction
function CMB takes nothing returns nothing
if(CKB())then
call EnableTrigger(FUE)
call TriggerSleepAction(8.)
call DisableTrigger(FUE)
else
if(CJB())then
call SetUnitLifePercentBJ(W0,(GetUnitLifePercent(W0)+6.))
call AddSpecialEffectTargetUnitBJ("overhead",W0,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(("|c000000FFFROST|r"+"..."),GetUnitLoc(GetAttackedUnitBJ()),0,$A,100.,100.,100.,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
else
if(CLB())then
call UnitRemoveBuffBJ('BPSE',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B03H',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B00J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B02J',GetSpellTargetUnit())
call UnitRemoveBuffBJ('B014',GetSpellTargetUnit())
endif
endif
endif
endfunction
function CPB takes nothing returns nothing
set FSE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FSE,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddAction(FSE,function CMB)
endfunction
function CQB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LV')
endfunction
function CSB takes nothing returns boolean
return(IsUnitGroupEmptyBJ(TU))
endfunction
function CTB takes nothing returns nothing
set QU=GetTriggerUnit()
set SU=GetSpellTargetUnit()
set ZU[1]=GetUnitLoc(QU)
set ZU[2]=GetUnitLoc(SU)
set ZU[3]=PolarProjectionBJ(ZU[1],70.,AngleBetweenPoints(ZU[1],ZU[2]))
set YU[1]=(160000.+(30000.*I2R(GetUnitAbilityLevelSwapped('A1LV',QU))))
set YU[2]=(80000.+(30000.*I2R(GetUnitAbilityLevelSwapped('A1LV',QU))))
set VW[1]=5
set YU[1]=(YU[1]/ I2R(VW[1]))
call CreateNUnitsAtLoc(1,'h07Z',GetOwningPlayer(QU),ZU[3],AngleBetweenPoints(ZU[1],ZU[2]))
call SaveUnitHandleBJ(QU,0,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveUnitHandleBJ(SU,1,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveRealBJ(YU[1],2,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveRealBJ(YU[2],3,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveIntegerBJ(VW[1],4,GetHandleIdBJ(GetLastCreatedUnit()),PU)
if(CSB())then
call EnableTrigger(O3E)
endif
call GroupAddUnitSimple(GetLastCreatedUnit(),TU)
call RemoveLocation(ZU[1])
call RemoveLocation(ZU[2])
call RemoveLocation(ZU[3])
endfunction
function CUB takes nothing returns nothing
set O2E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O2E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O2E,Condition(function CQB))
call TriggerAddAction(O2E,function CTB)
endfunction
function CWB takes nothing returns boolean
return(IsUnitGroupEmptyBJ(WU))
endfunction
function CYB takes nothing returns boolean
return(DistanceBetweenPoints(ZU[1],ZU[2])>=100.)
endfunction
function CZB takes nothing returns nothing
set QU=LoadUnitHandleBJ(0,GetHandleIdBJ(GetEnumUnit()),PU)
set SU=LoadUnitHandleBJ(1,GetHandleIdBJ(GetEnumUnit()),PU)
set ZU[1]=GetUnitLoc(GetEnumUnit())
set ZU[2]=GetUnitLoc(SU)
set ZU[3]=PolarProjectionBJ(ZU[1],8.,AngleBetweenPoints(ZU[1],ZU[2]))
set YU[1]=LoadRealBJ(3,GetHandleIdBJ(GetEnumUnit()),PU)
set VW[1]=LoadIntegerBJ(4,GetHandleIdBJ(GetEnumUnit()),PU)
if(CYB())then
call SetUnitPositionLocFacingBJ(GetEnumUnit(),ZU[3],AngleBetweenPoints(ZU[1],ZU[2]))
else
call CreateNUnitsAtLoc(1,'h07Y',GetOwningPlayer(QU),ZU[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1M2',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"ensnare",SU)
call UnitDamageTargetBJ(QU,SU,YU[1],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set YU[1]=(360./ I2R(VW[1]))
set YU[2]=.0
set YU[3]=LoadRealBJ(2,GetHandleIdBJ(GetEnumUnit()),PU)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=VW[1]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set ZU[4]=PolarProjectionBJ(ZU[2],100.,YU[2])
call AddSpecialEffectLocBJ(ZU[4],"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,'h07V',GetOwningPlayer(QU),ZU[1],bj_UNIT_FACING)
call UnitAddAbilityBJ('Arav',GetLastCreatedUnit())
call UnitRemoveAbilityBJ('Arav',GetLastCreatedUnit())
call SaveUnitHandleBJ(QU,0,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveUnitHandleBJ(SU,1,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveRealBJ(YU[3],2,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveRealBJ(YU[2],3,GetHandleIdBJ(GetLastCreatedUnit()),PU)
call SaveRealBJ(.0,4,GetHandleIdBJ(GetLastCreatedUnit()),PU)
if(CWB())then
call EnableTrigger(O4E)
endif
call GroupAddUnitSimple(GetLastCreatedUnit(),WU)
set YU[2]=(YU[2]+YU[1])
call RemoveLocation(ZU[4])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),PU)
call GroupRemoveUnitSimple(GetEnumUnit(),WU)
call RemoveUnit(GetEnumUnit())
endif
call RemoveLocation(ZU[1])
call RemoveLocation(ZU[2])
call RemoveLocation(ZU[3])
endfunction
function C_B takes nothing returns boolean
return(IsUnitGroupEmptyBJ(TU))
endfunction
function C0B takes nothing returns nothing
call ForGroupBJ(TU,function CZB)
if(C_B())then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function C1B takes nothing returns nothing
set O3E=CreateTrigger()
call DisableTrigger(O3E)
call TriggerRegisterTimerEventPeriodic(O3E,.03)
call TriggerAddAction(O3E,function C0B)
endfunction
function C2B takes nothing returns boolean
return(YU[2]<=300.)
endfunction
function C3B takes nothing returns boolean
return(IsUnitGroupEmptyBJ(UU))
endfunction
function C4B takes nothing returns boolean
return(YU[2]>=600.)
endfunction
function C5B takes nothing returns nothing
set SU=LoadUnitHandleBJ(1,GetHandleIdBJ(GetLastCreatedUnit()),PU)
set YU[1]=LoadRealBJ(3,GetHandleIdBJ(GetEnumUnit()),PU)
set YU[1]=(YU[1]+2.5)
set YU[2]=LoadRealBJ(4,GetHandleIdBJ(GetEnumUnit()),PU)
set YU[2]=(YU[2]+6.)
set ZU[1]=GetUnitLoc(SU)
set ZU[2]=PolarProjectionBJ(ZU[1],YU[2],YU[1])
call SetUnitPositionLocFacingBJ(GetEnumUnit(),ZU[2],YU[1])
if(C2B())then
set YU[3]=7.
else
set YU[3]=-7.
endif
call SetUnitFlyHeightBJ(GetEnumUnit(),(GetUnitFlyHeight(GetEnumUnit())+YU[3]),.0)
call SaveRealBJ(YU[1],3,GetHandleIdBJ(GetEnumUnit()),PU)
call SaveRealBJ(YU[2],4,GetHandleIdBJ(GetEnumUnit()),PU)
if(C4B())then
call SetUnitFlyHeightBJ(GetEnumUnit(),GetUnitDefaultFlyHeight(GetEnumUnit()),.0)
call AddSpecialEffectLocBJ(ZU[2],"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call GroupRemoveUnitSimple(GetEnumUnit(),WU)
if(C3B())then
call EnableTrigger(O5E)
endif
call GroupAddUnitSimple(GetEnumUnit(),UU)
endif
call RemoveLocation(ZU[1])
call RemoveLocation(ZU[2])
endfunction
function C6B takes nothing returns boolean
return(IsUnitGroupEmptyBJ(WU))
endfunction
function C7B takes nothing returns nothing
call ForGroupBJ(WU,function C5B)
if(C6B())then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function C8B takes nothing returns nothing
set O4E=CreateTrigger()
call DisableTrigger(O4E)
call TriggerRegisterTimerEventPeriodic(O4E,.03)
call TriggerAddAction(O4E,function C7B)
endfunction
function C9B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function DVB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)!=true)!=null
endfunction
function DEB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)!=true)!=null
endfunction
function DXB takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())!=true)
endfunction
function DOB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(QU)))
endfunction
function DRB takes nothing returns boolean
return GetBooleanAnd(DXB(),DOB())
endfunction
function DIB takes nothing returns boolean
return GetBooleanAnd(DEB(),DRB())
endfunction
function DAB takes nothing returns boolean
return GetBooleanAnd(DVB(),DIB())
endfunction
function DNB takes nothing returns boolean
return GetBooleanAnd(C9B(),DAB())
endfunction
function DBB takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h07Y',GetOwningPlayer(QU),ZU[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A1M2',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"ensnare",GetEnumUnit())
call UnitDamageTargetBJ(QU,GetEnumUnit(),YU[1],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function DCB takes nothing returns boolean
return(YU[2]>=.0)
endfunction
function DDB takes nothing returns nothing
set QU=LoadUnitHandleBJ(0,GetHandleIdBJ(GetEnumUnit()),PU)
set SU=LoadUnitHandleBJ(1,GetHandleIdBJ(GetEnumUnit()),PU)
set YU[1]=LoadRealBJ(3,GetHandleIdBJ(GetEnumUnit()),PU)
set YU[1]=(YU[1]+5.)
set YU[2]=LoadRealBJ(4,GetHandleIdBJ(GetEnumUnit()),PU)
set YU[2]=(YU[2]-7.)
set ZU[1]=GetUnitLoc(SU)
set ZU[2]=PolarProjectionBJ(ZU[1],YU[2],YU[1])
if(DCB())then
call SetUnitPositionLocFacingBJ(GetEnumUnit(),ZU[2],YU[1])
call SaveRealBJ(YU[1],3,GetHandleIdBJ(GetEnumUnit()),PU)
call SaveRealBJ(YU[2],4,GetHandleIdBJ(GetEnumUnit()),PU)
else
call AddSpecialEffectLocBJ(ZU[1],"war3mapImported\\FrostBlast.mdx")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set YU[1]=LoadRealBJ(2,GetHandleIdBJ(GetEnumUnit()),PU)
set EW=GetUnitsInRangeOfLocMatching(600.,ZU[1],Condition(function DNB))
call ForGroupBJ(EW,function DBB)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),PU)
call GroupRemoveUnitSimple(GetEnumUnit(),UU)
call RemoveUnit(GetEnumUnit())
call DestroyGroup(EW)
endif
call RemoveLocation(ZU[1])
call RemoveLocation(ZU[2])
endfunction
function DFB takes nothing returns boolean
return(IsUnitGroupEmptyBJ(UU))
endfunction
function DGB takes nothing returns nothing
call ForGroupBJ(UU,function DDB)
if(DFB())then
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function DHB takes nothing returns nothing
set O5E=CreateTrigger()
call DisableTrigger(O5E)
call TriggerRegisterTimerEventPeriodic(O5E,.03)
call TriggerAddAction(O5E,function DGB)
endfunction
function DJB takes nothing returns nothing
call InitHashtableBJ()
set BT=GetLastCreatedHashtableBJ()
set QT=CreateGroup()
set ZS=200.
set VT=500.
set UT=100.
set FU=100.
set HU=450.
set XT=4.
set XU=2.
set RU=12.
set DT=5
set BU=$F
set US=250.
set WS=50.
set IU=500.
set FT=3.
set GT=3.
set AU=13.
set RT='h082'
set OT='h084'
set EU='h083'
set ZT=.22
set JT='A1MI'
set KT='A1MJ'
set LU=ATTACK_TYPE_NORMAL
set KU=DAMAGE_TYPE_UNIVERSAL
set JU="slow"
set CU="Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl"
set DU="Abilities\\Weapons\\WaterElementalMissile\\WaterElementalMissile.mdl"
endfunction
function DKB takes nothing returns nothing
set O8E=CreateTrigger()
call TriggerAddAction(O8E,function DJB)
endfunction
function DLB takes nothing returns boolean
return(GetSpellAbilityId()==JT)
endfunction
function DMB takes nothing returns boolean
return(GU>HU)and(HU>.0)
endfunction
function DPB takes nothing returns boolean
return(HT>AU)and(AU>.0)
endfunction
function DQB takes nothing returns boolean
return(OU>RU)and(RU>.0)
endfunction
function DSB takes nothing returns boolean
return(YS>IU)and(IU>.0)
endfunction
function DTB takes nothing returns boolean
return(WT==0)
endfunction
function DUB takes nothing returns nothing
set IT=GetTriggerUnit()
set MT=GetSpellTargetLoc()
set LT=I2R(GetUnitAbilityLevelSwapped(JT,IT))
set TT=0
set NU=0
set ET=(ZS+(VT*LT))
set GU=(UT+(LT*FU))
if(DMB())then
set GU=(HU/ 100.)
else
set GU=(1.*((UT/ 100.)+(LT*(FU/ 100.))))
endif
set ET=(ET+(GU*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,IT,true))))
set HT=(FT+(GT*LT))
set YS=(US+(WS*LT))
set OU=(XT+(XU*LT))
if(DPB())then
set HT=AU
endif
if(DQB())then
set OU=RU
endif
if(DSB())then
set YS=IU
endif
call CreateNUnitsAtLoc(1,EU,GetTriggerPlayer(),MT,bj_UNIT_FACING)
set NT=GetLastCreatedUnit()
call SetUnitExplodedBJ(NT,true)
call UnitApplyTimedLifeBJ(HT,'BTLF',NT)
call CreateNUnitsAtLoc(1,OT,GetTriggerPlayer(),MT,bj_UNIT_FACING)
set NT=GetLastCreatedUnit()
call GroupAddUnitSimple(NT,QT)
call SetUnitExplodedBJ(NT,true)
call UnitApplyTimedLifeBJ(HT,'BTLF',NT)
call SetUnitScalePercent(NT,(YS*ZT),.0,.0)
set MU=CreateItemLoc('texp',MT)
call SetItemVisibleBJ(false,MU)
set CT=GetHandleIdBJ(GetLastCreatedUnit())
call SaveUnitHandleBJ(IT,1,CT,BT)
call SaveRealBJ(ET,2,CT,BT)
call SaveRealBJ(YS,3,CT,BT)
call SaveLocationHandleBJ(MT,4,CT,BT)
call SaveIntegerBJ(TT,5,CT,BT)
call SaveRealBJ(OU,6,CT,BT)
call SaveUnitHandleBJ(IT,1,CT,BT)
call SaveRealBJ(OU,6,CT,BT)
call SaveIntegerBJ(NU,7,CT,BT)
call SaveItemHandleBJ(MU,8,CT,BT)
if(DTB())then
call EnableTrigger(RVE)
endif
set WT=(WT+1)
endfunction
function DWB takes nothing returns nothing
set O9E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O9E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O9E,Condition(function DLB))
call TriggerAddAction(O9E,function DUB)
endfunction
function DYB takes nothing returns boolean
return(IsUnitDeadBJ(YT))or(GetUnitTypeId(YT)==0)
endfunction
function DZB takes nothing returns boolean
return(DistanceBetweenPoints(PT,VU)<=2.)and(GetUnitTypeId(YT)!='nfgo')and(GetUnitTypeId(YT)!='nfgt')
endfunction
function D_B takes nothing returns boolean
return((IsUnitType(YT,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(YT,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitDeadBJ(YT)==false)and(IsUnitHiddenBJ(YT)==false)and(IsUnitEnemy(YT,GetOwningPlayer(IT))))!=null
endfunction
function D0B takes nothing returns nothing
set YT=GetEnumUnit()
if(D_B())then
set PT=GetUnitLoc(YT)
set ST=AngleBetweenPoints(PT,MT)
call UnitDamageTargetBJ(IT,YT,(ET*(.03*I2R(DT))),LU,KU)
call UnitDamageTargetBJ(IT,YT,((GetUnitStateSwap(UNIT_STATE_LIFE,YT)*.01)/ 3.),LU,KU)
set VU=PolarProjectionBJ(PT,OU,ST)
call RemoveLocation(PT)
call SetItemVisibleBJ(true,MU)
call SetItemPositionLoc(MU,VU)
set PT=GetItemLoc(MU)
call SetItemVisibleBJ(false,MU)
if(DZB())then
set ST=GetUnitFacing(YT)
call SetUnitX(YT,GetLocationX(VU))
call SetUnitY(YT,GetLocationY(VU))
call SetUnitFacingTimed(YT,ST,0)
endif
call RemoveLocation(PT)
call RemoveLocation(VU)
endif
endfunction
function D1B takes nothing returns boolean
return(TT==DT)
endfunction
function D2B takes nothing returns boolean
return((IsUnitType(YT,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(YT,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitDeadBJ(YT)==false)and(IsUnitHiddenBJ(YT)==false)and(IsUnitEnemy(YT,GetOwningPlayer(IT))))!=null
endfunction
function D3B takes nothing returns nothing
set YT=GetEnumUnit()
if(D2B())then
set PT=GetUnitLoc(YT)
call AddSpecialEffectLocBJ(PT,DU)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call IssueTargetOrder(AT,JU,YT)
call RemoveLocation(PT)
endif
endfunction
function D4B takes nothing returns boolean
return(NU==BU)
endfunction
function D5B takes nothing returns boolean
return(WT==0)
endfunction
function D6B takes nothing returns boolean
return(DYB())
endfunction
function D7B takes nothing returns nothing
set YT=GetEnumUnit()
set CT=GetHandleIdBJ(GetEnumUnit())
if(D6B())then
call GroupRemoveUnitSimple(YT,QT)
set WT=(WT-1)
set MT=LoadLocationHandleBJ(4,CT,BT)
call RemoveLocation(MT)
set MU=LoadItemHandleBJ(8,CT,BT)
call RemoveItem(MU)
call FlushChildHashtableBJ(CT,BT)
if(D5B())then
call DisableTrigger(GetTriggeringTrigger())
endif
else
set IT=LoadUnitHandleBJ(1,CT,BT)
set ET=LoadRealBJ(2,CT,BT)
set YS=LoadRealBJ(3,CT,BT)
set MT=LoadLocationHandleBJ(4,CT,BT)
set TT=LoadIntegerBJ(5,CT,BT)
set TT=(TT+1)
call SaveIntegerBJ(TT,5,CT,BT)
set OU=LoadRealBJ(6,CT,BT)
set NU=LoadIntegerBJ(7,CT,BT)
set NU=(NU+1)
call SaveIntegerBJ(NU,7,CT,BT)
set MU=LoadItemHandleBJ(8,CT,BT)
if(D1B())then
call AddSpecialEffectLocBJ(MT,CU)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set TT=0
call SaveIntegerBJ(TT,5,CT,BT)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(YS,MT),function D0B)
endif
if(D4B())then
set NU=0
call SaveIntegerBJ(NU,7,CT,BT)
call CreateNUnitsAtLoc(1,'h082',GetOwningPlayer(IT),MT,bj_UNIT_FACING)
set AT=GetLastCreatedUnit()
call UnitAddAbilityBJ(KT,AT)
call UnitApplyTimedLifeBJ(.45,'BTLF',AT)
call SetUnitExplodedBJ(AT,true)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(YS,MT),function D3B)
endif
endif
endfunction
function D8B takes nothing returns nothing
call ForGroupBJ(QT,function D7B)
endfunction
function D9B takes nothing returns nothing
set RVE=CreateTrigger()
call DisableTrigger(RVE)
call TriggerRegisterTimerEventPeriodic(RVE,.03)
call TriggerAddAction(RVE,function D8B)
endfunction
function FVB takes nothing returns boolean
return(GetSpellAbilityId()=='A1ME')
endfunction
function FEB takes nothing returns nothing
set CS=(CS+1)
set HS=10.
set MS=150.
set SS=250.
set TS=10.
set DS[CS]=GetTriggerUnit()
set PS=I2R((GetHeroStatBJ(bj_HEROSTAT_INT,DS[CS],true)*GetUnitAbilityLevelSwapped('A1ME',DS[CS])))
set QS=50.
set JS[CS]=GetRandomDirectionDeg()
set LS[CS]=CreateGroup()
set FS[1]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h081',GetOwningPlayer(GetTriggerUnit()),FS[1],bj_UNIT_FACING)
set KS[CS]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(HS,'BTLF',GetLastCreatedUnit())
set FS[2]=PolarProjectionBJ(FS[1],SS,JS[CS])
call SetUnitPositionLoc(KS[CS],FS[2])
call RemoveLocation(FS[1])
call RemoveLocation(FS[2])
call EnableTrigger(FCE)
call EnableTrigger(FDE)
endfunction
function FXB takes nothing returns nothing
set FBE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FBE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(FBE,Condition(function FVB))
call TriggerAddAction(FBE,function FEB)
endfunction
function FOB takes nothing returns nothing
call SetUnitFlyHeightBJ(GetEnumUnit(),GetUnitDefaultFlyHeight(GetEnumUnit()),1000.)
call GroupRemoveUnitSimple(GetEnumUnit(),LS[GS])
endfunction
function FRB takes nothing returns boolean
return(CS==0)
endfunction
function FIB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function FAB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function FNB takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),LS[GS])==false)
endfunction
function FBB takes nothing returns boolean
return GetBooleanAnd(FAB(),FNB())
endfunction
function FCB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(DS[GS])))
endfunction
function FDB takes nothing returns boolean
return GetBooleanAnd(FBB(),FCB())
endfunction
function FFB takes nothing returns boolean
return GetBooleanAnd(FIB(),FDB())
endfunction
function FGB takes nothing returns nothing
call UnitDamageTargetBJ(DS[GS],GetEnumUnit(),((PS+(.02*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())))+((I2R(GetUnitAbilityLevelSwapped('A1ME',DS[GS]))*1)*QS)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call GroupAddUnitSimple(GetEnumUnit(),LS[GS])
call UnitAddAbilityBJ('Aave',GetEnumUnit())
call UnitRemoveAbilityBJ('Aave',GetEnumUnit())
call SetUnitFlyHeightBJ(GetEnumUnit(),.0,.0)
endfunction
function FHB takes nothing returns boolean
return(JS[GS]==360.)
endfunction
function FJB takes nothing returns boolean
return(IsUnitAliveBJ(KS[GS]))
endfunction
function FKB takes nothing returns nothing
set GS=1
loop
exitwhen GS>CS
if(FJB())then
set FS[1]=GetUnitLoc(DS[GS])
set FS[2]=PolarProjectionBJ(FS[1],SS,JS[GS])
call SetUnitPositionLoc(KS[GS],FS[2])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.,FS[2],Condition(function FFB)),function FGB)
call RemoveLocation(FS[1])
call RemoveLocation(FS[2])
if(FHB())then
set JS[GS]=.0
else
set JS[GS]=(JS[GS]+TS)
endif
else
call ForGroupBJ(LS[GS],function FOB)
call GroupClear(LS[GS])
call GroupAddGroup(LS[CS],LS[GS])
call DestroyGroup(LS[GS])
set JS[GS]=JS[CS]
set DS[GS]=DS[CS]
set KS[GS]=KS[CS]
set CS=(CS-1)
if(FRB())then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(FDE)
endif
endif
set GS=GS+1
endloop
endfunction
function FLB takes nothing returns nothing
set FCE=CreateTrigger()
call DisableTrigger(FCE)
call TriggerRegisterTimerEventPeriodic(FCE,.05)
call TriggerAddAction(FCE,function FKB)
endfunction
function FMB takes nothing returns boolean
return(GetUnitFlyHeight(GetEnumUnit())<MS)
endfunction
function FPB takes nothing returns nothing
if(FMB())then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitFlyHeightBJ(GetEnumUnit(),(GetUnitFlyHeight(GetEnumUnit())+10.),.0)
else
call GroupRemoveUnitSimple(GetEnumUnit(),LS[GS])
call PauseUnitBJ(false,GetEnumUnit())
call SetUnitFlyHeightBJ(GetEnumUnit(),GetUnitDefaultFlyHeight(GetEnumUnit()),1000.)
endif
endfunction
function FQB takes nothing returns nothing
set GS=1
loop
exitwhen GS>CS
call ForGroupBJ(LS[GS],function FPB)
set GS=GS+1
endloop
endfunction
function FSB takes nothing returns nothing
set FDE=CreateTrigger()
call DisableTrigger(FDE)
call TriggerRegisterTimerEventPeriodic(FDE,.05)
call TriggerAddAction(FDE,function FQB)
endfunction
function FTB takes nothing returns boolean
return(GetSpellAbilityId()=='A1LW')
endfunction
function FUB takes nothing returns boolean
return(CountUnitsInGroup(QQ)==0)
endfunction
function FWB takes nothing returns nothing
if(FUB())then
call EnableTrigger(X8E)
endif
set SQ=(SQ+1)
set TQ[SQ]=GetSpellAbilityUnit()
set UQ[SQ]=GetSpellTargetUnit()
set WQ[SQ]=5
set YQ[1]=GetUnitLoc(TQ[SQ])
set YQ[2]=GetUnitLoc(UQ[SQ])
call CreateNUnitsAtLoc(1,'h085',GetOwningPlayer(TQ[SQ]),YQ[1],AngleBetweenPoints(YQ[1],YQ[2]))
set ZQ[SQ]=GetLastCreatedUnit()
call GroupAddUnitSimple(ZQ[SQ],QQ)
call RemoveLocation(YQ[1])
call RemoveLocation(YQ[2])
endfunction
function FYB takes nothing returns nothing
set X7E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(X7E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(X7E,Condition(function FTB))
call TriggerAddAction(X7E,function FWB)
endfunction
function FZB takes nothing returns boolean
return(IsUnitDeadBJ(UQ[VS]))or(UQ[VS]==null)
endfunction
function F_B takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(TQ[VS])))
endfunction
function F0B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function F1B takes nothing returns boolean
return(GetFilterUnit()!=UQ[VS])
endfunction
function F2B takes nothing returns boolean
return GetBooleanAnd(F0B(),F1B())
endfunction
function F3B takes nothing returns boolean
return GetBooleanAnd(F_B(),F2B())
endfunction
function F4B takes nothing returns boolean
return(CountUnitsInGroup(QQ)==0)
endfunction
function F5B takes nothing returns boolean
return(IsUnitDeadBJ(UQ[VS]))or(UQ[VS]==null)
endfunction
function F6B takes nothing returns boolean
return(F5B())
endfunction
function F7B takes nothing returns boolean
return(FZB())
endfunction
function F8B takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(TQ[VS])))
endfunction
function F9B takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function GVB takes nothing returns boolean
return(GetFilterUnit()!=UQ[VS])
endfunction
function GEB takes nothing returns boolean
return GetBooleanAnd(F9B(),GVB())
endfunction
function GXB takes nothing returns boolean
return GetBooleanAnd(F8B(),GEB())
endfunction
function GOB takes nothing returns boolean
return(CountUnitsInGroup(QQ)==0)
endfunction
function GRB takes nothing returns boolean
return(WQ[VS]==0)
endfunction
function GIB takes nothing returns boolean
return(DistanceBetweenPoints(YQ[1],YQ[3])<=18.)
endfunction
function GAB takes nothing returns boolean
return(IsUnitAliveBJ(UQ[VS]))and(IsUnitEnemy(UQ[VS],GetOwningPlayer(TQ[VS])))
endfunction
function GNB takes nothing returns boolean
return(IsUnitInGroup(ZQ[VS],QQ))
endfunction
function GBB takes nothing returns nothing
set VS=1
loop
exitwhen VS>SQ
if(GNB())then
if(GAB())then
set YQ[1]=GetUnitLoc(ZQ[VS])
set YQ[3]=GetUnitLoc(UQ[VS])
set YQ[2]=PolarProjectionBJ(YQ[1],15.,AngleBetweenPoints(YQ[1],YQ[3]))
call SetUnitPositionLoc(ZQ[VS],YQ[2])
if(GIB())then
set WQ[VS]=(WQ[VS]-1)
call UnitDamageTargetBJ(TQ[VS],UQ[VS],I2R(((GetHeroStatBJ(bj_HEROSTAT_INT,TQ[VS],true)*2)*GetUnitAbilityLevelSwapped('A1LW',TQ[VS]))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateNUnitsAtLoc(1,'h080',GetOwningPlayer(TQ[VS]),YQ[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",UQ[VS])
call AddSpecialEffectTargetUnitBJ("origin",UQ[VS],"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set ES[VS]=GetUnitsInRangeOfLocMatching(400.,YQ[3],Condition(function GXB))
set UQ[VS]=null
set UQ[VS]=GroupPickRandomUnit(ES[VS])
call DestroyGroup(ES[VS])
if(GRB())then
call GroupRemoveUnitSimple(ZQ[VS],QQ)
call UnitApplyTimedLifeBJ(.1,'BTLF',ZQ[VS])
set WQ[VS]=0
set ZQ[VS]=null
set TQ[VS]=null
set UQ[VS]=null
if(GOB())then
set SQ=0
call DisableTrigger(X8E)
endif
endif
endif
call RemoveLocation(YQ[1])
call RemoveLocation(YQ[3])
call RemoveLocation(YQ[2])
else
if(F7B())then
set WQ[VS]=(WQ[VS]-1)
call AddSpecialEffectTargetUnitBJ("origin",UQ[VS],"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set YQ[3]=GetUnitLoc(UQ[VS])
set ES[VS]=GetUnitsInRangeOfLocMatching(400.,YQ[3],Condition(function F3B))
set UQ[VS]=null
set UQ[VS]=GroupPickRandomUnit(ES[VS])
call DestroyGroup(ES[VS])
call RemoveLocation(YQ[3])
if(F6B())then
call GroupRemoveUnitSimple(ZQ[VS],QQ)
call UnitApplyTimedLifeBJ(.1,'BTLF',ZQ[VS])
set WQ[VS]=0
set ZQ[VS]=null
set TQ[VS]=null
set UQ[VS]=null
if(F4B())then
set SQ=0
call DisableTrigger(X8E)
endif
endif
endif
endif
endif
set VS=VS+1
endloop
endfunction
function GCB takes nothing returns nothing
set X8E=CreateTrigger()
call DisableTrigger(X8E)
call TriggerRegisterTimerEventPeriodic(X8E,.02)
call TriggerAddAction(X8E,function GBB)
endfunction
function GDB takes nothing returns boolean
return(GetSpellAbilityId()=='A1MD')
endfunction
function GFB takes nothing returns boolean
return(CountUnitsInGroup(XS)==0)
endfunction
function GGB takes nothing returns boolean
return(IsUnitInGroup(RS[OS],XS)==false)
endfunction
function GHB takes nothing returns nothing
if(GFB())then
call EnableTrigger(OVE)
endif
set OS=(OS+1)
set RS[OS]=GetSpellTargetUnit()
if(GGB())then
call PauseUnitBJ(true,RS[OS])
set IS[1]=GetUnitLoc(RS[AS])
call AddSpecialEffectLocBJ(IS[1],"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(IS[1])
set NS[OS]=1.
set BS[OS]=false
call UnitAddAbilityBJ('Arav',RS[OS])
call UnitRemoveAbilityBJ('Arav',RS[OS])
call GroupAddUnitSimple(RS[OS],XS)
else
set RS[OS]=null
set OS=(OS-1)
endif
endfunction
function GJB takes nothing returns nothing
set X9E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(X9E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(X9E,Condition(function GDB))
call TriggerAddAction(X9E,function GHB)
endfunction
function GKB takes nothing returns boolean
return(CountUnitsInGroup(XS)==0)
endfunction
function GLB takes nothing returns boolean
return(IsUnitDeadBJ(RS[AS]))
endfunction
function GMB takes nothing returns boolean
return(BS[AS])
endfunction
function GPB takes nothing returns boolean
return(NS[AS]<=325.)
endfunction
function GQB takes nothing returns boolean
return(BS[AS]==false)
endfunction
function GSB takes nothing returns boolean
return(GetRandomInt(1,8)==5)
endfunction
function GTB takes nothing returns boolean
return(CountUnitsInGroup(XS)==0)
endfunction
function GUB takes nothing returns boolean
return(NS[AS]<=.0)
endfunction
function GWB takes nothing returns boolean
return(IsUnitAliveBJ(RS[AS]))and(IsUnitEnemy(RS[AS],GetOwningPlayer(TQ[VS])))
endfunction
function GYB takes nothing returns boolean
return(IsUnitInGroup(RS[AS],XS))
endfunction
function GZB takes nothing returns nothing
set AS=1
loop
exitwhen AS>OS
if(GYB())then
if(GWB())then
if(GQB())then
if(GPB())then
set NS[AS]=(NS[AS]+10.)
call SetUnitFlyHeightBJ(RS[AS],NS[AS],.0)
else
set BS[AS]=true
endif
else
if(GMB())then
set NS[AS]=(NS[AS]-20.)
call SetUnitFlyHeightBJ(RS[AS],NS[AS],.0)
endif
endif
if(GSB())then
set IS[1]=GetUnitLoc(RS[AS])
call AddSpecialEffectLocBJ(IS[1],"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(IS[1])
endif
if(GUB())then
call SetUnitFlyHeightBJ(RS[AS],.0,9999999.)
call PauseUnitBJ(false,RS[AS])
call GroupRemoveUnitSimple(RS[AS],XS)
set RS[AS]=null
set NS[AS]=.0
set BS[AS]=false
if(GTB())then
set OS=0
call DisableTrigger(OVE)
endif
endif
else
if(GLB())then
call SetUnitFlyHeightBJ(RS[AS],.0,400.)
call PauseUnitBJ(false,RS[AS])
call GroupRemoveUnitSimple(RS[AS],XS)
set RS[AS]=null
set NS[AS]=.0
set BS[AS]=false
if(GKB())then
set OS=0
call DisableTrigger(OVE)
endif
endif
endif
endif
set AS=AS+1
endloop
endfunction
function G_B takes nothing returns nothing
set OVE=CreateTrigger()
call DisableTrigger(OVE)
call TriggerRegisterTimerEventPeriodic(OVE,.02)
call TriggerAddAction(OVE,function GZB)
endfunction
function G0B takes nothing returns nothing
set YW[0]=true
set YW[1]=false
set YW[2]=false
set YW[3]=true
set YW[4]=true
set ZW=200.
set VY=250.
set EY=100.
set XY=300.
set OY=200.
set RY=.8
set IY=20.
set AY=90000.
set NY=15000.
set BY=900.
set CY=.05
set DY=.8
set FY=12.
set GY=550.
set HY=4.
set JY=3
set KY=0
set LY=5
set MY=2
set PY=3.
set QY=6.
set SY=150.
set TY=200.
set UY=2.
set WY=100.
set YY=100.
set ZY=100.
set VZ=100.
set EZ=100.
set XZ=.0
set OZ=.0
set RZ=.0
set IZ="war3mapImported\\Sun.mdx"
set AZ="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"
set NZ="Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl"
set BZ="Abilities\\Spells\\Other\\Tornado\\Tornado_Target.mdl"
set CZ="Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl"
set DZ='A1LL'
set FZ='u00Z'
endfunction
function G1B takes nothing returns nothing
set FJE=CreateTrigger()
call TriggerAddAction(FJE,function G0B)
endfunction
function G2B takes nothing returns boolean
return(GetSpellAbilityId()==DZ)
endfunction
function G3B takes nothing returns boolean
return(MZ==1)
endfunction
function G4B takes nothing returns nothing
set GZ=GetTriggerUnit()
set HZ=GetUnitLoc(GZ)
set JZ=GetSpellTargetLoc()
set KZ=AngleBetweenPoints(HZ,JZ)
call CreateNUnitsAtLoc(1,FZ,Player(PLAYER_NEUTRAL_PASSIVE),HZ,bj_UNIT_FACING)
set LZ=GetLastCreatedUnit()
call AddSpecialEffectTargetUnitBJ("origin",LZ,IZ)
call SetUnitScalePercent(LZ,ZY,.0,.0)
call SetUnitFlyHeightBJ(LZ,XZ,.0)
set MZ=(MZ+1)
set PZ[MZ]=GZ
set QZ[MZ]=GetOwningPlayer(GZ)
set SZ=GetUnitAbilityLevelSwapped(DZ,GZ)
set TZ=I2R(SZ)
set UZ[MZ]=GetLastCreatedEffectBJ()
set WZ[MZ]=LZ
set YZ[MZ]=(VY+(EY*TZ))
set ZZ[MZ]=(AY+(NY*TZ))
set V0[MZ]=(XY+(OY*TZ))
set E0[MZ]=DistanceBetweenPoints(HZ,JZ)
set WZ[MZ]=LZ
set X0[MZ]=KZ
set O0[MZ]=.0
set R0[MZ]=LZ
set I0[MZ]=1
set KZ=.0
set A0[MZ]=.0
set N0[MZ]=.0
set B0[MZ]=.0
set C0[MZ]=.0
call RemoveLocation(JZ)
if(G3B())then
call EnableTrigger(FLE)
endif
set D0=(JY+(KY*SZ))
set F0=1
loop
exitwhen F0>D0
set KZ=(KZ+(360./ I2R(D0)))
set JZ=PolarProjectionBJ(HZ,SY,KZ)
call CreateNUnitsAtLoc(1,FZ,Player(PLAYER_NEUTRAL_PASSIVE),JZ,bj_UNIT_FACING)
set G0=GetLastCreatedUnit()
call AddSpecialEffectTargetUnitBJ("origin",G0,AZ)
call SetUnitScalePercent(G0,WY,.0,.0)
call SetUnitFlyHeightBJ(G0,WY,.0)
call RemoveLocation(JZ)
set MZ=(MZ+1)
set UZ[MZ]=GetLastCreatedEffectBJ()
set X0[MZ]=KZ
set I0[MZ]=2
set WZ[MZ]=LZ
set R0[MZ]=G0
set YZ[MZ]=.0
set PZ[MZ]=GZ
set QZ[MZ]=GetOwningPlayer(GZ)
set B0[MZ]=.0
set A0[MZ]=.0
set N0[MZ]=.0
set C0[MZ]=.0
set O0[MZ]=.0
set ZZ[MZ]=.0
set V0[MZ]=.0
set F0=F0+1
endloop
set D0=(LY+(MY*SZ))
set F0=1
loop
exitwhen F0>D0
set KZ=(KZ+(360./ I2R(D0)))
set JZ=PolarProjectionBJ(HZ,SY,KZ)
call CreateNUnitsAtLoc(1,FZ,Player(PLAYER_NEUTRAL_PASSIVE),JZ,bj_UNIT_FACING)
set G0=GetLastCreatedUnit()
call AddSpecialEffectTargetUnitBJ("origin",G0,BZ)
call SetUnitScalePercent(G0,WY,.0,.0)
call SetUnitFlyHeightBJ(G0,OZ,.0)
call RemoveLocation(JZ)
set MZ=(MZ+1)
set UZ[MZ]=GetLastCreatedEffectBJ()
set X0[MZ]=KZ
set I0[MZ]=3
set WZ[MZ]=LZ
set R0[MZ]=G0
set YZ[MZ]=.0
set PZ[MZ]=GZ
set QZ[MZ]=GetOwningPlayer(GZ)
set A0[MZ]=.0
set N0[MZ]=.0
set C0[MZ]=.0
set O0[MZ]=.0
set ZZ[MZ]=.0
set V0[MZ]=.0
set F0=F0+1
endloop
call RemoveLocation(HZ)
endfunction
function G5B takes nothing returns nothing
set FKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FKE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(FKE,Condition(function G2B))
call TriggerAddAction(FKE,function G4B)
endfunction
function G6B takes nothing returns boolean
return(MZ==0)
endfunction
function G7B takes nothing returns boolean
return(C0[F0]<.0)
endfunction
function G8B takes nothing returns boolean
return(I0[F0]==4)
endfunction
function G9B takes nothing returns boolean
return(J0>IY)
endfunction
function HVB takes nothing returns boolean
return((IsUnitType(LZ,UNIT_TYPE_GROUND)==YW[0])and(IsUnitType(LZ,UNIT_TYPE_STRUCTURE)==YW[1])and(IsUnitType(LZ,UNIT_TYPE_MAGIC_IMMUNE)==YW[2])and(IsUnitEnemy(LZ,QZ[F0])==YW[3])and(IsUnitAliveBJ(LZ)==YW[4])and(IsUnitPausedBJ(LZ)==false))!=null
endfunction
function HEB takes nothing returns nothing
set LZ=GetEnumUnit()
if(HVB())then
set JZ=GetUnitLoc(LZ)
set UW=GetUnitX(LZ)
set WW=GetUnitY(LZ)
set KZ=Atan2(GetUnitY(R0[F0])-GetUnitY(LZ),GetUnitX(R0[F0])-GetUnitX(LZ))
set J0=(V0[F0]/(DistanceBetweenPoints(HZ,JZ)*RY))
if(G9B())then
set J0=IY
endif
call SetUnitX(LZ,UW+J0*Cos(KZ))
call SetUnitY(LZ,WW+J0*Sin(KZ))
call RemoveLocation(JZ)
endif
endfunction
function HXB takes nothing returns boolean
return(A0[MZ]>GY)
endfunction
function HOB takes nothing returns boolean
return((IsUnitType(LZ,UNIT_TYPE_GROUND)==YW[0])and(IsUnitType(LZ,UNIT_TYPE_STRUCTURE)==YW[1])and(IsUnitType(LZ,UNIT_TYPE_MAGIC_IMMUNE)==YW[2])and(IsUnitEnemy(LZ,QZ[F0])==YW[3])and(IsUnitAliveBJ(LZ)==YW[4])and(IsUnitPausedBJ(LZ)==false))!=null
endfunction
function HRB takes nothing returns nothing
set LZ=GetEnumUnit()
if(HOB())then
set JZ=GetUnitLoc(LZ)
call UnitAddAbilityBJ('A028',LZ)
call SetUnitAbilityLevelSwapped('A028',LZ,77)
call UnitDamageTargetBJ(PZ[F0],LZ,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set MZ=(MZ+1)
set UZ[MZ]=AddSpecialEffectTargetUnitBJ("origin",LZ,NZ)
set X0[MZ]=AngleBetweenPoints(HZ,JZ)
set N0[MZ]=.0
set A0[MZ]=(BY/(DistanceBetweenPoints(HZ,JZ)*CY))
if(HXB())then
set A0[MZ]=GY
endif
set B0[MZ]=(A0[MZ]*DY)
set C0[MZ]=GetUnitFlyHeight(LZ)
set I0[MZ]=4
set R0[MZ]=LZ
set YZ[MZ]=.0
set PZ[MZ]=LZ
set QZ[MZ]=GetOwningPlayer(LZ)
set O0[MZ]=.0
set WZ[MZ]=LZ
set ZZ[MZ]=.0
set V0[MZ]=.0
call UnitAddAbilityBJ('Arav',LZ)
call UnitRemoveAbilityBJ('Arav',LZ)
call PauseUnitBJ(true,LZ)
call RemoveLocation(JZ)
endif
endfunction
function HIB takes nothing returns boolean
return(WZ[K0]==R0[F0])and(R0[K0]!=R0[F0])
endfunction
function HAB takes nothing returns boolean
return(MZ==0)
endfunction
function HNB takes nothing returns boolean
return(O0[F0]>=E0[F0])
endfunction
function HBB takes nothing returns boolean
return(I0[F0]==1)
endfunction
function HCB takes nothing returns boolean
return(I0[F0]==2)
endfunction
function HDB takes nothing returns boolean
return(I0[F0]==3)
endfunction
function HFB takes nothing returns boolean
return(GetUnitTypeId(R0[F0])==FZ)
endfunction
function HGB takes nothing returns nothing
set F0=1
loop
exitwhen F0>MZ
set KZ=.0
if(HFB())then
if(HBB())then
set UW=GetUnitX(R0[F0])
set WW=GetUnitY(R0[F0])
set KZ=X0[F0]*bj_DEGTORAD
call SetUnitX(R0[F0],UW+HY*Cos(KZ))
call SetUnitY(R0[F0],WW+HY*Sin(KZ))
set HZ=GetUnitLoc(R0[F0])
set H0=GetUnitsInRangeOfLocAll(YZ[F0],HZ)
call ForGroupBJ(H0,function HEB)
call DestroyGroup(H0)
set O0[F0]=(O0[F0]+HY)
if(HNB())then
set H0=GetUnitsInRangeOfLocAll(ZW,HZ)
call ForGroupBJ(H0,function HRB)
call DestroyGroup(H0)
set K0=1
loop
exitwhen K0>MZ
if(HIB())then
set LZ=R0[K0]
set JZ=GetUnitLoc(LZ)
call DestroyEffectBJ(UZ[K0])
call CreateNUnitsAtLoc(1,FZ,Player(PLAYER_NEUTRAL_PASSIVE),JZ,bj_UNIT_FACING)
set G0=GetLastCreatedUnit()
call AddSpecialEffectTargetUnitBJ("origin",G0,CZ)
call SetUnitScalePercent(G0,VZ,.0,.0)
call SetUnitFlyHeightBJ(G0,RZ,.0)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(UY,'BTLF',G0)
set I0[K0]=I0[MZ]
set YZ[K0]=YZ[MZ]
set PZ[K0]=PZ[MZ]
set A0[K0]=A0[MZ]
set X0[K0]=X0[MZ]
set N0[K0]=N0[MZ]
set QZ[K0]=QZ[MZ]
set B0[K0]=B0[MZ]
set UZ[K0]=UZ[MZ]
set C0[K0]=C0[MZ]
set O0[K0]=O0[MZ]
set ZZ[K0]=ZZ[MZ]
set WZ[K0]=WZ[MZ]
set R0[K0]=R0[MZ]
set V0[K0]=V0[MZ]
set MZ=(MZ-1)
set K0=(K0-1)
call RemoveUnit(LZ)
call RemoveLocation(JZ)
endif
set K0=K0+1
endloop
call CreateNUnitsAtLoc(1,FZ,Player(PLAYER_NEUTRAL_PASSIVE),HZ,bj_UNIT_FACING)
set LZ=GetLastCreatedUnit()
call DestroyEffectBJ(UZ[F0])
call AddSpecialEffectTargetUnitBJ("origin",LZ,CZ)
call SetUnitScalePercent(LZ,VZ,.0,.0)
call SetUnitFlyHeightBJ(LZ,RZ,.0)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(UY,'BTLF',LZ)
set LZ=R0[F0]
set I0[F0]=I0[MZ]
set YZ[F0]=YZ[MZ]
set PZ[F0]=PZ[MZ]
set A0[F0]=A0[MZ]
set X0[F0]=X0[MZ]
set QZ[F0]=QZ[MZ]
set B0[F0]=B0[MZ]
set N0[F0]=N0[MZ]
set C0[F0]=C0[MZ]
set UZ[F0]=UZ[MZ]
set O0[F0]=O0[MZ]
set WZ[F0]=WZ[MZ]
set R0[F0]=R0[MZ]
set ZZ[F0]=ZZ[MZ]
set V0[F0]=V0[MZ]
set MZ=(MZ-1)
set F0=(F0-1)
call RemoveUnit(LZ)
if(HAB())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
call RemoveLocation(HZ)
endif
if(HCB())then
set UW=GetUnitX(WZ[F0])
set WW=GetUnitY(WZ[F0])
set X0[F0]=(X0[F0]+PY)
set KZ=X0[F0]*bj_DEGTORAD
call SetUnitX(R0[F0],UW+SY*Cos(KZ))
call SetUnitY(R0[F0],WW+SY*Sin(KZ))
set HZ=GetUnitLoc(WZ[F0])
call SetUnitFacingToFaceLocTimed(R0[F0],HZ,0)
call RemoveLocation(HZ)
endif
if(HDB())then
set UW=GetUnitX(WZ[F0])
set WW=GetUnitY(WZ[F0])
set X0[F0]=(X0[F0]+QY)
set KZ=X0[F0]*bj_DEGTORAD
call SetUnitX(R0[F0],UW+TY*Cos(KZ))
call SetUnitY(R0[F0],WW+TY*Sin(KZ))
endif
else
if(G8B())then
set UW=GetUnitX(R0[F0])
set WW=GetUnitY(R0[F0])
set KZ=X0[F0]*bj_DEGTORAD
call SetUnitX(R0[F0],UW+FY*Cos(KZ))
call SetUnitY(R0[F0],WW+FY*Sin(KZ))
set N0[F0]=(N0[F0]+FY)
set C0[F0]=(((4.*B0[F0])/ A0[F0])*((N0[F0]/ A0[F0])*(A0[F0]-N0[F0])))
call SetUnitFlyHeightBJ(R0[F0],C0[F0],.0)
if(G7B())then
call DestroyEffectBJ(UZ[F0])
call PauseUnitBJ(false,R0[F0])
set I0[F0]=I0[MZ]
set YZ[F0]=YZ[MZ]
set PZ[F0]=PZ[MZ]
set QZ[F0]=QZ[MZ]
set A0[F0]=A0[MZ]
set X0[F0]=X0[MZ]
set N0[F0]=N0[MZ]
set UZ[F0]=UZ[MZ]
set C0[F0]=C0[MZ]
set B0[F0]=B0[MZ]
set O0[F0]=O0[MZ]
set WZ[F0]=WZ[MZ]
set R0[F0]=R0[MZ]
set ZZ[F0]=ZZ[MZ]
set V0[F0]=V0[MZ]
set MZ=(MZ-1)
set F0=(F0-1)
if(G6B())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
set F0=F0+1
endloop
endfunction
function HHB takes nothing returns nothing
set FLE=CreateTrigger()
call DisableTrigger(FLE)
call TriggerRegisterTimerEventPeriodic(FLE,.03)
call TriggerAddAction(FLE,function HGB)
endfunction
function HJB takes nothing returns boolean
return(GetUnitTypeId(LZ)==FZ)
endfunction
function HKB takes nothing returns nothing
set LZ=GetTriggerUnit()
if(HJB())then
call RemoveUnit(LZ)
endif
endfunction
function HLB takes nothing returns nothing
set FME=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FME,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(FME,function HKB)
endfunction
function HMB takes nothing returns boolean
return(GetSpellAbilityId()=='A1MK')
endfunction
function HPB takes nothing returns boolean
return(CountUnitsInGroup(F5)==0)
endfunction
function HQB takes nothing returns nothing
if(HPB())then
call EnableTrigger(HOE)
endif
set Y4=(Y4+1)
set W4[Y4]=GetSpellAbilityUnit()
set Z4[1]=GetUnitLoc(W4[Y4])
set Z4[2]=GetSpellTargetLoc()
set V5[Y4]=.0
set N5[Y4]=1005.
set B5[Y4]=20.
set C5[Y4]=(I2R(GetUnitAbilityLevelSwapped('A1MK',W4[Y4]))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,W4[Y4],true)))
set X5[Y4]=AngleBetweenPoints(Z4[1],Z4[2])
call RemoveLocation(Z4[1])
call RemoveLocation(Z4[2])
set R5[Y4]=GetUnitLoc(W4[Y4])
call GroupAddUnitSimple(W4[Y4],F5)
endfunction
function HSB takes nothing returns nothing
set HXE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HXE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(HXE,Condition(function HMB))
call TriggerAddAction(HXE,function HQB)
endfunction
function HTB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(W4[E5])))
endfunction
function HUB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function HWB takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),A5[E5])==false)
endfunction
function HYB takes nothing returns boolean
return GetBooleanAnd(HUB(),HWB())
endfunction
function HZB takes nothing returns boolean
return GetBooleanAnd(HTB(),HYB())
endfunction
function H_B takes nothing returns nothing
call UnitDamageTargetBJ(W4[E5],GetEnumUnit(),C5[E5],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call CreateNUnitsAtLoc(1,'h085',GetOwningPlayer(W4[E5]),O5[1],bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call GroupAddUnitSimple(GetEnumUnit(),A5[E5])
endfunction
function H0B takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),A5[E5])
endfunction
function H1B takes nothing returns boolean
return(CountUnitsInGroup(F5)==0)
endfunction
function H2B takes nothing returns boolean
return(V5[E5]>=N5[E5])
endfunction
function H3B takes nothing returns nothing
set E5=1
loop
exitwhen E5>Y4
set V5[E5]=(V5[E5]+B5[E5])
set O5[1]=PolarProjectionBJ(R5[E5],V5[E5],X5[E5])
call AddSpecialEffectLocBJ(O5[1],"Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set I5[E5]=GetUnitsInRangeOfLocMatching(175.,O5[1],Condition(function HZB))
call ForGroupBJ(I5[E5],function H_B)
call DestroyGroup(I5[E5])
call RemoveLocation(O5[1])
if(H2B())then
call RemoveLocation(R5[E5])
call ForGroupBJ(A5[E5],function H0B)
call GroupRemoveUnitSimple(W4[E5],F5)
set W4[E5]=null
set V5[E5]=.0
set X5[E5]=.0
set B5[E5]=.0
set N5[E5]=.0
set C5[E5]=.0
if(H1B())then
set Y4=0
call DisableTrigger(HOE)
endif
endif
set E5=E5+1
endloop
endfunction
function H4B takes nothing returns nothing
set HOE=CreateTrigger()
call DisableTrigger(HOE)
call TriggerRegisterTimerEventPeriodic(HOE,.02)
call TriggerAddAction(HOE,function H3B)
endfunction
function H5B takes nothing returns nothing
set XW='A1LN'
set OW='B08K'
set RW="Abilities\\Spells\\Amethystun.mdx"
set IW='A1LU'
set NW='h07F'
set CW=8
set DW[1]=15000.
set DW[2]=20000.
set DW[3]=30000.
set DW[4]=40000.
set FW[1]=.15
set FW[2]=.15
set FW[3]=.15
set FW[4]=.15
endfunction
function H6B takes nothing returns nothing
set FFE=CreateTrigger()
call TriggerAddAction(FFE,function H5B)
endfunction
function H7B takes nothing returns boolean
return(GetSpellAbilityId()==XW)
endfunction
function H8B takes nothing returns boolean
return(GW==1)
endfunction
function H9B takes nothing returns nothing
set GW=(GW+1)
set HW[GW]=CW
set JW[((2*GW)-1)]=GetTriggerUnit()
set JW[(2*GW)]=GetSpellTargetUnit()
set KW[GW]=GetUnitAbilityLevelSwapped(XW,JW[((2*GW)-1)])
set LW[GW]=0
set MW[GW]=.0
if(H8B())then
call EnableTrigger(FHE)
endif
endfunction
function JVB takes nothing returns nothing
set FGE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FGE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(FGE,Condition(function H7B))
call TriggerAddAction(FGE,function H9B)
endfunction
function JEB takes nothing returns boolean
return(GW==0)
endfunction
function JXB takes nothing returns boolean
return(HW[PW]==0)
endfunction
function JOB takes nothing returns boolean
return(MW[PW]>=FW[KW[PW]])
endfunction
function JRB takes nothing returns boolean
return(LW[PW]==2)
endfunction
function JIB takes nothing returns boolean
return(MW[PW]>=1.)
endfunction
function JAB takes nothing returns boolean
return(LW[PW]==1)
endfunction
function JNB takes nothing returns boolean
return(GW==0)
endfunction
function JBB takes nothing returns boolean
return((IsUnitType(JW[PW],UNIT_TYPE_MAGIC_IMMUNE)==false)and(UnitHasBuffBJ(JW[PW],'Bvul')==false))!=null
endfunction
function JCB takes nothing returns boolean
return(UnitHasBuffBJ(JW[(2*PW)],OW))
endfunction
function JDB takes nothing returns boolean
return(LW[PW]==0)
endfunction
function JFB takes nothing returns boolean
return(GW==0)
endfunction
function JGB takes nothing returns boolean
return(IsUnitAliveBJ(JW[(2*PW)])==false)
endfunction
function JHB takes nothing returns nothing
set PW=1
loop
exitwhen PW>GW
set MW[PW]=(MW[PW]+.05)
if(JDB())then
if(JBB())then
else
set JW[((2*PW)-1)]=JW[((2*GW)-1)]
set JW[(2*PW)]=JW[(2*GW)]
set LW[PW]=LW[GW]
set MW[PW]=MW[GW]
set HW[PW]=HW[GW]
set KW[PW]=KW[GW]
call DestroyEffectBJ(QW[PW])
set QW[PW]=QW[GW]
set PW=(PW-1)
set GW=(GW-1)
if(JNB())then
call DisableTrigger(GetTriggeringTrigger())
endif
return
endif
if(JCB())then
call UnitRemoveBuffBJ('B000',JW[(2*PW)])
set QW[PW]=AddSpecialEffectTargetUnitBJ("overhead",JW[(2*PW)],RW)
set LW[PW]=1
set MW[PW]=.0
endif
else
if(JAB())then
if(JIB())then
set MW[PW]=.0
call DestroyEffectBJ(QW[PW])
call UnitAddAbilityBJ('A028',JW[(2*PW)])
call SetUnitAbilityLevelSwapped('A028',JW[(2*PW)],78)
call UnitDamageTargetBJ(JW[((2*PW)-1)],JW[(2*PW)],.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
set SW=GetUnitLoc(JW[(2*PW)])
call CreateNUnitsAtLoc(1,NW,GetOwningPlayer(JW[((2*PW)-1)]),SW,.0)
set TW=GetLastCreatedUnit()
call UnitAddAbilityBJ(IW,TW)
call UnitApplyTimedLifeBJ(1.,'BTLF',TW)
call IssueTargetOrderBJ(TW,"creepthunderbolt",JW[(2*PW)])
call RemoveLocation(SW)
set LW[PW]=2
endif
else
if(JRB())then
if(JOB())then
set HW[PW]=(HW[PW]-1)
if(JXB())then
set JW[((2*PW)-1)]=JW[((2*GW)-1)]
set JW[(2*PW)]=JW[(2*GW)]
set LW[PW]=LW[GW]
set MW[PW]=MW[GW]
set HW[PW]=HW[GW]
set KW[PW]=KW[GW]
call DestroyEffectBJ(QW[PW])
set QW[PW]=QW[GW]
set PW=(PW-1)
set GW=(GW-1)
if(JEB())then
call DisableTrigger(GetTriggeringTrigger())
endif
return
else
call AddSpecialEffectTargetUnitBJ("overhead",JW[(2*PW)],RW)
set LW[PW]=1
set MW[PW]=.0
set QW[PW]=GetLastCreatedEffectBJ()
endif
endif
endif
endif
endif
if(JGB())then
set JW[((2*PW)-1)]=JW[((2*GW)-1)]
set JW[(2*PW)]=JW[(2*GW)]
set LW[PW]=LW[GW]
set MW[PW]=MW[GW]
set HW[PW]=HW[GW]
set KW[PW]=KW[GW]
call DestroyEffectBJ(QW[PW])
set QW[PW]=QW[GW]
set PW=(PW-1)
set GW=(GW-1)
if(JFB())then
call DisableTrigger(GetTriggeringTrigger())
endif
return
endif
set PW=PW+1
endloop
endfunction
function JJB takes nothing returns nothing
set FHE=CreateTrigger()
call DisableTrigger(FHE)
call TriggerRegisterTimerEventPeriodic(FHE,.05)
call TriggerAddAction(FHE,function JHB)
endfunction
function JKB takes nothing returns boolean
local unit u=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
if(x>V)then
set x=V
elseif(x<X)then
set x=X
endif
if(y>E)then
set y=E
elseif(y<O)then
set y=O
endif
call SetUnitX(u,x)
call SetUnitY(u,y)
set u=null
return false
endfunction
function JLB takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
local rect JMB
local rect rc
if false then
set JMB=GetWorldBounds()
else
set JMB=bj_mapInitialPlayableArea
endif
set X=GetRectMinX(JMB)
set O=GetRectMinY(JMB)
set V=GetRectMaxX(JMB)
set E=GetRectMaxY(JMB)
set rc=Rect(X,O,V,E)
call RegionAddRect(r,rc)
call RemoveRect(rc)
if false then
call RemoveRect(JMB)
endif
call TriggerRegisterLeaveRegion(t,r,null)
call TriggerAddCondition(t,Condition(function JKB))
set rc=null
set JMB=null
endfunction
function JPB takes nothing returns integer
local integer JQB=PI
if(JQB!=0)then
set PI=SI[JQB]
else
set QI=QI+1
set JQB=QI
endif
if(JQB>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: xefx")
return 0
endif
set TI[JQB]=0
set WI[JQB]=null
set YI[JQB]=.0
set ZI[JQB]=$FF
set VA[JQB]=$FF
set EA[JQB]=$FF
set XA[JQB]=$FF
set OA[JQB]=0
set SI[JQB]=-1
return JQB
endfunction
function JTB takes nothing returns integer
local integer JQB=CI
if(JQB!=0)then
set CI=FI[JQB]
else
set DI=DI+1
set JQB=DI
endif
if(JQB>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: xefx__recyclebin")
return 0
endif
set HI[JQB]=0
set FI[JQB]=-1
return JQB
endfunction
function JUB takes integer JQB returns nothing
if JQB==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: xefx__recyclebin")
return
elseif(FI[JQB]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: xefx__recyclebin")
return
endif
set FI[JQB]=CI
set CI=JQB
endfunction
function JWB takes nothing returns integer
local integer JQB=RR
if(JQB!=0)then
set RR=AR[JQB]
else
set IR=IR+1
set JQB=IR
endif
if(JQB>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: xecast")
return 0
endif
set NR[JQB]=0
set BR[JQB]=1
set CR[JQB]=.0
set DR[JQB]=Player($F)
set FR[JQB]=false
set JR[JQB]=.0
set KR[JQB]=false
set QR[JQB]=0
set AR[JQB]=-1
return JQB
endfunction
function JYB takes integer JQB returns nothing
if JQB==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: xecast")
return
elseif(AR[JQB]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: xecast")
return
endif
set AR[JQB]=RR
set RR=JQB
endfunction
function JZB takes playerunitevent p,code c returns nothing
local integer i=GetHandleId(p)
local integer k=$F
if QO[i]==null then
set QO[i]=CreateTrigger()
loop
call TriggerRegisterPlayerUnitEvent(QO[i],Player(k),p,null)
exitwhen k==0
set k=k-1
endloop
endif
call TriggerAddCondition(QO[i],Filter(c))
endfunction
function J_B takes nothing returns nothing
set SO=CreateSoundFromLabel("InterfaceError",false,false,false,$A,$A)
endfunction
function J0B takes nothing returns nothing
set TO=TO+1
call TriggerEvaluate(UO)
endfunction
function J1B takes nothing returns nothing
call TimerStart(CreateTimer(),.03125,true,function J0B)
endfunction
function J2B takes nothing returns integer
return 1
endfunction
function J3B takes nothing returns integer
return 2
endfunction
function J6B takes integer JQB,integer J5B returns trigger
return LoadTriggerHandle(WO,JQB,J5B)
endfunction
function J9B takes integer JQB returns integer
return JQB
endfunction
function KEB takes integer JQB,integer J5B returns integer
return LoadInteger(WO,JQB,J5B)
endfunction
function KXB takes integer JQB,integer J5B,integer a returns nothing
call SaveInteger(WO,JQB,J5B,a)
endfunction
function KOB takes integer JQB,integer J5B returns nothing
call RemoveSavedInteger(WO,JQB,J5B)
endfunction
function KRB takes integer JQB returns nothing
call FlushChildHashtable(WO,JQB)
endfunction
function KIB takes nothing returns integer
local integer JQB=KEB(J3B(),0)
if JQB==0 then
set YO=YO+1
set JQB=YO
else
call KXB(J3B(),0,KEB(J3B(),JQB))
call KOB(J3B(),JQB)
endif
call KXB(J3B(),JQB,-1)
return JQB
endfunction
function KBB takes integer a,integer KCB returns nothing
local integer i=a+5000
if i<KCB then
call KBB(i,KCB)
set KCB=i
endif
loop
call KRB(a)
set a=a+1
exitwhen a==KCB
endloop
endfunction
function KDB takes nothing returns nothing
call TriggerEvaluate(J6B(J9B(OR),GetSpellAbilityId()))
endfunction
function s__SpellEffectEvent___S_SpellEffectEvent___M__onInit takes nothing returns nothing
set OR=KIB()
call JZB(EVENT_PLAYER_UNIT_SPELL_EFFECT,function KDB)
endfunction
function s__xecast_createA takes nothing returns integer
local integer r=JWB()
set KR[r]=true
return r
endfunction
function KFB takes nothing returns nothing
local unit u=UR[0]
local integer l
local integer r
local integer p
local real lt
call IssueImmediateOrderById(u,$D0004)
call UnitRemoveAbility(u,GetUnitUserData(u))
call SetUnitUserData(u,0)
call SetUnitFlyHeight(u,0,0)
call PauseUnit(u,false)
if(MR==50)then
call RemoveUnit(u)
else
set LR[MR]=u
set MR=MR+1
endif
set YR=YR-1
if(YR==0)then
return
endif
set p=0
set lt=WR[YR]
loop
set l=p*2+1
exitwhen l>=YR
set r=p*2+2
if(r>=YR)then
if(WR[l]<lt)then
set WR[p]=WR[l]
set UR[p]=UR[l]
set p=l
else
exitwhen true
endif
elseif(lt<=WR[l])and(lt<=WR[r])then
exitwhen true
elseif(WR[l]<WR[r])then
set WR[p]=WR[l]
set UR[p]=UR[l]
set p=l
else
set WR[p]=WR[r]
set UR[p]=UR[r]
set p=r
endif
endloop
set UR[p]=UR[YR]
set WR[p]=lt
call TimerStart(TR,WR[0]-TimerGetElapsed(SR),false,function KFB)
endfunction
function KGB takes integer JQB,unit KHB returns nothing
local unit KJB
local unit tar
if(CR[JQB]<ER)then
set KJB=PR
call SetUnitOwner(KJB,DR[JQB],false)
elseif(MR>0)then
set MR=MR-1
set KJB=LR[MR]
call SetUnitOwner(KJB,DR[JQB],false)
else
set KJB=CreateUnit(DR[JQB],'e015',0,0,0)
call TriggerRegisterUnitEvent(ZR,KJB,EVENT_UNIT_SPELL_ENDCAST)
call UnitAddAbility(KJB,'Aloc')
call UnitAddAbility(KJB,'Amrf')
call UnitRemoveAbility(KJB,'Amrf')
endif
call UnitAddAbility(KJB,NR[JQB])
call UnitResetCooldown(KJB)
call SetUnitState(KJB,UNIT_STATE_MANA,10000.)
if(BR[JQB]>1)then
call SetUnitAbilityLevel(KJB,NR[JQB],BR[JQB])
endif
if(FR[JQB])then
call SetUnitX(KJB,GR[JQB])
call SetUnitY(KJB,HR[JQB])
call SetUnitFlyHeight(KJB,JR[JQB],.0)
else
call SetUnitX(KJB,GetWidgetX(KHB))
call SetUnitY(KJB,GetWidgetY(KHB))
endif
call IssueTargetOrderById(KJB,QR[JQB],KHB)
if(CR[JQB]>=ER)then
set XI=TimerGetElapsed(SR)+CR[JQB]
set EI=YR
set YR=YR+1
loop
exitwhen(EI==0)
set VI=(EI-1)/ 2
exitwhen(WR[VI]<=XI)
set UR[EI]=UR[VI]
set WR[EI]=WR[VI]
set EI=VI
endloop
set WR[EI]=XI
set UR[EI]=KJB
call SetUnitUserData(KJB,NR[JQB])
call TimerStart(TR,WR[0]-TimerGetElapsed(SR),false,function KFB)
else
call SetUnitUserData(KJB,0)
call SetUnitFlyHeight(KJB,0,0)
call UnitRemoveAbility(KJB,NR[JQB])
endif
if(KR[JQB])then
call JYB(JQB)
endif
endfunction
function KMB takes nothing returns boolean
local unit u=GetFilterUnit()
if IsUnitInRangeXY(u,RI,II,AI)then
call KGB(NI,u)
endif
set u=null
return false
endfunction
function KSB takes nothing returns boolean
local unit u=GetTriggerUnit()
if(GetUnitUserData(u)!=0)then
call PauseUnit(u,true)
endif
set u=null
return true
endfunction
function KTB takes nothing returns nothing
local integer i=VR+1
local unit u
set BI=Condition(function KMB)
set OI=CreateGroup()
set ZR=CreateTrigger()
loop
exitwhen(i==0)
set u=CreateUnit(Player($F),'e015',0,0,0)
call TriggerRegisterUnitEvent(ZR,u,EVENT_UNIT_SPELL_ENDCAST)
call UnitAddAbility(u,'Aloc')
call UnitAddAbility(u,'Amrf')
call UnitRemoveAbility(u,'Amrf')
set LR[MR]=u
set MR=MR+1
set i=i-1
endloop
call TriggerAddCondition(ZR,Condition(function KSB))
set MR=MR-1
set PR=LR[MR]
set TR=CreateTimer()
set SR=CreateTimer()
call TimerStart(SR,$C*60*60,false,null)
endfunction
function KUB takes nothing returns nothing
call KTB()
endfunction
function KWB takes nothing returns nothing
local integer JQB=JI[KI]
loop
exitwhen JQB==0
call RemoveUnit(GI[JQB])
set GI[JQB]=null
set MI=MI-1
call JUB(JQB)
set JQB=HI[JQB]
endloop
set JI[KI]=0
set LI=KI
set KI=KI+1
if KI>R2I(4./ .5+1.)then
set KI=0
endif
if MI!=0 then
call TimerStart(XR,.5,false,function KWB)
endif
endfunction
function KZB takes nothing returns nothing
set XR=CreateTimer()
endfunction
function K7B takes nothing returns boolean
return(GetSpellAbilityId()=='AUcb')
endfunction
function K8B takes nothing returns nothing
local integer K9B=0
local boolean LVB=false
local integer HP=0
set FTV=(GetUnitAbilityLevelSwapped('A1NC',GetSpellAbilityUnit())*$AA)
set FZV=(GetPlayerTechCountSimple('R02Q',GetOwningPlayer(GetSpellAbilityUnit()))*$B4)
set HP=(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('AUcb',GetSpellAbilityUnit()))*4+FTV+FZV
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]!=null then
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8])-JC[0])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('AUcb',GetSpellAbilityUnit()))*4+FTV+FZV))
set JC[0]=HP
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]!=null then
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16])-JC[1])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('AUcb',GetSpellAbilityUnit()))*4+FTV+FZV))
set JC[1]=HP
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]==null or DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]==null then
set FMV=CreateUnit(GetOwningPlayer(GetSpellAbilityUnit()),'n00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),$B4)
call QVE(FMV,UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+HP)
call SetUnitLifePercentBJ(FMV,'d')
call UnitAddAbilityBJ('A1N8',FMV)
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]==null and LVB==false then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]=FMV
set JC[0]=HP
set K9B=8
if HC[1]>0 then
if HC[1]==1 then
call UnitAddAbilityBJ('A1XW',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8])
endif
if HC[1]==2 then
call UnitAddAbilityBJ('A1XX',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8])
endif
if FC[6]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],FC[6],0)
if GC[6]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],0),GC[6])
endif
endif
if FC[7]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],FC[7],1)
if GC[7]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8],1),GC[7])
endif
endif
endif
set LVB=true
set FC[6]=0
set FC[7]=0
set GC[6]=0
set GC[7]=0
set HC[1]=0
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]==null and LVB==false then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]=FMV
set JC[1]=HP
set K9B=16
if HC[2]>0 then
if HC[2]==1 then
call UnitAddAbilityBJ('A1XW',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16])
endif
if HC[2]==2 then
call UnitAddAbilityBJ('A1XX',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16])
endif
if FC[8]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16],FC[8],0)
if GC[8]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16],0),GC[8])
endif
endif
if FC[9]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16],FC[9],1)
if GC[9]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16],1),GC[9])
endif
endif
endif
set FC[8]=0
set FC[9]=0
set GC[8]=0
set GC[9]=0
set HC[2]=0
endif
set GB=FMV
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1 then
call ExecuteFunc("LEB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==2 then
call ExecuteFunc("LXB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==3 then
call ExecuteFunc("LOB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==4 then
call ExecuteFunc("LRB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==5 then
call ExecuteFunc("LIB")
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1then
call UnitAddAbilityBJ('A01Q',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==2then
call UnitAddAbilityBJ('A1UT',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==3then
call UnitAddAbilityBJ('A1UU',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B])
endif
if MC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1then
call UnitAddAbilityBJ('A1E4',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B])
call UnitAddAbilityBJ('A0BA',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B])
endif
endif
set HP=0
set GB=null
set FMV=null
set FPV=null
set FTV=0
set FZV=0
set K9B=0
endfunction
function LAB takes nothing returns nothing
set ISE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ISE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ISE,Condition(function K7B))
call TriggerAddAction(ISE,function K8B)
endfunction
function LNB takes nothing returns boolean
return(GetSpellAbilityId()=='A070')
endfunction
function LBB takes nothing returns nothing
local integer K9B=0
local boolean LVB=false
local integer HP=0
local integer LCB=0
set FTV=(GetUnitAbilityLevelSwapped('A1NC',GetSpellAbilityUnit())*'x')
set FUV=(GetUnitAbilityLevelSwapped('A1NC',GetSpellAbilityUnit())*$C8)
set FZV=(GetPlayerTechCountSimple('R02S',GetOwningPlayer(GetSpellAbilityUnit()))*$DC)
set LCB=(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*5+'d'+FUV
set HP=(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*3+FTV+FZV
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]!=null then
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24])-JC[2])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*3+FTV+FZV))
set JC[2]=HP
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],UNIT_STATE_MAX_MANA,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24])-JC[4])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*5+'d'+FUV))
set JC[4]=LCB
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]!=null then
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32])-JC[3])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*3+FTV+FZV))
set JC[3]=HP
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],UNIT_STATE_MAX_MANA,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32])-JC[5])+(GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellAbilityUnit(),true)*GetUnitAbilityLevelSwapped('A070',GetSpellAbilityUnit()))*5+'d'+FUV))
set JC[5]=LCB
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]==null or DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]==null then
set FMV=CreateUnit(GetOwningPlayer(GetSpellAbilityUnit()),'u008',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),$B4)
call QVE(FMV,UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+HP)
call SetUnitLifePercentBJ(FMV,'d')
call QVE(FMV,UNIT_STATE_MAX_MANA,(GetUnitStateSwap(UNIT_STATE_MAX_MANA,FMV))+LCB)
call SetUnitManaPercentBJ(FMV,'d')
call UnitAddAbilityBJ('A1ND',FMV)
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]==null and LVB==false then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]=FMV
set K9B=24
set JC[2]=HP
set JC[4]=LCB
if HC[3]>0 then
if HC[3]==1 then
call UnitAddAbilityBJ('A1XW',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24])
endif
if HC[3]==2 then
call UnitAddAbilityBJ('A1XX',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24])
endif
if FC[$A]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],FC[$A],0)
if GC[$A]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],0),GC[$A])
endif
endif
if FC[$B]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],FC[$B],1)
if GC[$B]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24],1),GC[$B])
endif
endif
endif
set LVB=true
set FC[$A]=0
set FC[$B]=0
set GC[$A]=0
set GC[$B]=0
set HC[3]=0
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]==null and LVB==false then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]=FMV
set K9B=32
set JC[3]=HP
set JC[5]=LCB
if HC[4]>0 then
if HC[4]==1 then
call UnitAddAbilityBJ('A1XW',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32])
endif
if HC[4]==2 then
call UnitAddAbilityBJ('A1XX',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32])
endif
if FC[$C]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],FC[$C],0)
if GC[$C]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],0),GC[$C])
endif
endif
if FC[$D]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],FC[$D],1)
if GC[$D]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32],1),GC[$D])
endif
endif
endif
set FC[$C]=0
set FC[$D]=0
set GC[$C]=0
set GC[$D]=0
set HC[4]=0
endif
set GB=FMV
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1 then
call ExecuteFunc("LEB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==2 then
call ExecuteFunc("LXB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==3 then
call ExecuteFunc("LOB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==4 then
call ExecuteFunc("LRB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==5 then
call ExecuteFunc("LIB")
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1then
call UnitAddAbilityBJ('A01Q',FMV)
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==2then
call UnitAddAbilityBJ('A1UT',FMV)
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==3then
call UnitAddAbilityBJ('A1UU',FMV)
endif
if MC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+K9B]==1then
call UnitAddAbilityBJ('A1E4',FMV)
call UnitAddAbilityBJ('A0BA',FMV)
endif
endif
set GB=null
set FMV=null
set FTV=0
set FUV=0
set FZV=0
set K9B=0
set LCB=0
set HP=0
endfunction
function LDB takes nothing returns nothing
set ITE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ITE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ITE,Condition(function LNB))
call TriggerAddAction(ITE,function LBB)
endfunction
function LFB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8])
endfunction
function LGB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16])
endfunction
function LHB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24])
endfunction
function LJB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32])
endfunction
function LKB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endfunction
function LLB takes nothing returns boolean
return GetBooleanOr(LFB(),LGB())
endfunction
function LMB takes nothing returns boolean
return GetBooleanOr(LHB(),LJB())
endfunction
function LPB takes nothing returns boolean
return GetBooleanOr(LLB(),LMB())
endfunction
function LQB takes nothing returns boolean
return GetBooleanOr(LPB(),LKB())
endfunction
function LSB takes nothing returns boolean
return(LQB())
endfunction
function LTB takes nothing returns nothing
local integer K9B=0
if PC!=1then
if IsUnit(GetTriggerUnit(),DC[PC+8])then
set DC[PC+8]=null
set K9B=8
if GetUnitAbilityLevelSwapped('A1XW',GetTriggerUnit())==1then
set HC[1]=1
endif
if GetUnitAbilityLevelSwapped('A1XX',GetTriggerUnit())==1then
set HC[1]=2
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC+K9B]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC+K9B]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC+K9B]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[PC+K9B]=1
endif
set FC[6]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[7]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set GC[6]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[7]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
endif
if IsUnit(GetTriggerUnit(),DC[PC+16])then
set DC[PC+16]=null
set K9B=16
if GetUnitAbilityLevelSwapped('A1XW',GetTriggerUnit())==1then
set HC[2]=1
endif
if GetUnitAbilityLevelSwapped('A1XX',GetTriggerUnit())==1then
set HC[2]=2
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC+K9B]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC+K9B]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC+K9B]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[PC+K9B]=1
endif
set FC[8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[9]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set GC[8]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[9]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
endif
if IsUnit(GetTriggerUnit(),DC[PC+24])then
set DC[PC+24]=null
set K9B=24
if GetUnitAbilityLevelSwapped('A1XW',GetTriggerUnit())==1then
set HC[3]=1
endif
if GetUnitAbilityLevelSwapped('A1XX',GetTriggerUnit())==1then
set HC[3]=2
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC+K9B]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC+K9B]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC+K9B]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[PC+K9B]=1
endif
set FC[$A]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[$B]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set GC[$A]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[$B]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
endif
if IsUnit(GetTriggerUnit(),DC[PC+32])then
set DC[PC+32]=null
set K9B=32
if GetUnitAbilityLevelSwapped('A1XW',GetTriggerUnit())==1then
set HC[4]=1
endif
if GetUnitAbilityLevelSwapped('A1XX',GetTriggerUnit())==1then
set HC[4]=2
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC+K9B]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC+K9B]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC+K9B]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[PC+K9B]=1
endif
set FC[$C]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[$D]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set GC[$C]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[$D]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
endif
if IsUnit(GetTriggerUnit(),DC[PC+40])then
set DC[PC+40]=null
set K9B=40
if GetUnitAbilityLevelSwapped('A1XW',GetTriggerUnit())==1then
set HC[5]=1
endif
if GetUnitAbilityLevelSwapped('A1XX',GetTriggerUnit())==1then
set HC[5]=2
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC+K9B]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC+K9B]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC+K9B]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[PC+K9B]=1
endif
set FC[$E]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[$F]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set GC[$E]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[$F]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A1BG'))==1 and KC[PC+K9B]<1 then
set KC[PC+K9B]=1
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10D'))==1 and KC[PC+K9B]<2 then
set KC[PC+K9B]=2
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10E'))==1 and KC[PC+K9B]<3 then
set KC[PC+K9B]=3
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10F'))==1 and KC[PC+K9B]<4 then
set KC[PC+K9B]=4
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10G'))==1 and KC[PC+K9B]<5 then
set KC[PC+K9B]=5
endif
endif
if PC==1 and GetUnitAbilityLevelSwapped('A1XZ',GetTriggerUnit())==1 then
call RemoveUnit(GetTriggerUnit())
endif
set K9B=0
set PC=0
endfunction
function LUB takes nothing returns nothing
set PC=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
call ExecuteFunc("LTB")
call RemoveUnit(GetTriggerUnit())
endfunction
function LWB takes nothing returns nothing
local trigger LYB
set LYB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(LYB,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(LYB,Condition(function LSB))
call TriggerAddAction(LYB,function LUB)
endfunction
function LZB takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[PC+8])
endfunction
function L_B takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[PC+16])
endfunction
function L0B takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[PC+24])
endfunction
function L1B takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[PC+32])
endfunction
function L2B takes nothing returns boolean
return IsUnit(GetTriggerUnit(),DC[PC+40])
endfunction
function L3B takes nothing returns boolean
return GetBooleanOr(LZB(),L_B())
endfunction
function L4B takes nothing returns boolean
return GetBooleanOr(L0B(),L1B())
endfunction
function L5B takes nothing returns boolean
return GetBooleanOr(L3B(),L4B())
endfunction
function L6B takes nothing returns boolean
return GetBooleanOr(L5B(),L2B())
endfunction
function L7B takes nothing returns boolean
return(GetUnitPointValue(GetTriggerUnit())==432)
endfunction
function L8B takes nothing returns nothing
set PC=GetConvertedPlayerId(GetChangingUnitPrevOwner())
if GetOwningPlayer(GetTriggerUnit())!=Player(1)then
call DisableTrigger(QC)
call SetUnitOwner(GetTriggerUnit(),Player(PC),true)
call EnableTrigger(QC)
if IsUnit(DC[PC],GetTriggerUnit())then
call ExecuteFunc("L9B")
endif
if L5B()then
call ExecuteFunc("LTB")
endif
call RemoveUnit(GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XZ',GetTriggerUnit())==1then
call RemoveUnit(GetTriggerUnit())
endif
if GetUnitAbilityLevelSwapped('A1XZ',GetTriggerUnit())==0 and GetOwningPlayer(GetTriggerUnit())==Player(1)then
if IsUnit(DC[PC],GetTriggerUnit())then
call ExecuteFunc("L9B")
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
endif
if L6B()then
call ExecuteFunc("LTB")
if DC[9]!=null and DC[17]!=null and DC[25]!=null and DC[33]!=null and DC[41]!=null then
call RemoveUnit(GetTriggerUnit())
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==null and DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]!=null then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=GetTriggerUnit()
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]==null and DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]!=null then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+32]=GetTriggerUnit()
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]==null and DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]!=null then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+24]=GetTriggerUnit()
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]==null and DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]!=null then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+16]=GetTriggerUnit()
endif
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]==null then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+8]=GetTriggerUnit()
endif
endif
call UnitAddAbilityBJ('A1XZ',GetTriggerUnit())
endif
set PC=0
endfunction
function MVB takes nothing returns nothing
set QC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QC,EVENT_PLAYER_UNIT_CHANGE_OWNER)
call TriggerAddCondition(QC,Condition(function L7B))
call TriggerAddAction(QC,function L8B)
endfunction
function MEB takes nothing returns boolean
return(GetSpellAbilityId()=='A0V6')
endfunction
function MXB takes nothing returns boolean
return(D8V<=2)
endfunction
function MOB takes nothing returns nothing
if(MXB())then
set OJV=GetTriggerUnit()
set XVV=GetUnitLoc(GetTriggerUnit())
set D8V=R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*2.5)+(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,OJV,true)+(GetUnitLevel(OJV)*4))*5))
set D9V=D8V-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))
call UnitAddAbilityBJ('A0VB',OJV)
call QVE(OJV,UNIT_STATE_MAX_LIFE,D8V)
call SetUnitLifePercentBJ(OJV,'d')
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitVertexColorBJ(GetTriggerUnit(),'d',10.,10.,0)
call StartTimerBJ(OHV,false,(2.+(10.*I2R(GetUnitAbilityLevelSwapped('A0V6',GetTriggerUnit())))))
call RemoveLocation(XVV)
endif
endfunction
function MRB takes nothing returns nothing
set EYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(EYE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(EYE,Condition(function MEB))
call TriggerAddAction(EYE,function MOB)
endfunction
function MIB takes nothing returns nothing
set XVV=GetUnitLoc(OJV)
call QVE(OJV,UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,OJV)-D9V))
call SetUnitLifePercentBJ(OJV,'d')
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call RemoveLocation(XVV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitScalePercent(OJV,'d','d','d')
call SetUnitVertexColorBJ(OJV,'d','d','d',0)
call UnitRemoveAbilityBJ('A0VB',OJV)
set D8V=1
set D9V=0
set OJV=null
endfunction
function MAB takes nothing returns nothing
set EZE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(EZE,OHV)
call TriggerAddAction(EZE,function MIB)
endfunction
function MNB takes nothing returns boolean
return GetUnitAbilityLevelSwapped('A0GU',GetFilterUnit())==0
endfunction
function MBB takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false
endfunction
function MCB takes nothing returns boolean
return GetBooleanAnd(MNB(),MBB())
endfunction
function MDB takes nothing returns boolean
return UnitAddAbilityBJ('A0GU',GetEnumUnit())
endfunction
function MFB takes nothing returns boolean
return UnitRemoveAbilityBJ('A0GU',GetEnumUnit())
endfunction
function MGB takes nothing returns boolean
return(GetSpellAbilityId()=='A1UE')
endfunction
function MHB takes nothing returns nothing
local unit u=GetTriggerUnit()
local group g=CreateGroup()
set XVV=GetUnitLoc(u)
set g=GetUnitsInRangeOfLocMatching(700,XVV,Condition(function MCB))
call ForGroupBJ(g,function MDB)
call RemoveLocation(XVV)
call mj(30)
call ForGroupBJ(g,function MFB)
call DestroyGroup(g)
set g=null
set u=null
endfunction
function MJB takes nothing returns nothing
local trigger MKB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(MKB,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(MKB,Condition(function MGB))
call TriggerAddAction(MKB,function MHB)
endfunction
function LEB takes nothing returns nothing
call UnitAddAbilityBJ('A1BG',GB)
call UnitAddAbilityBJ('A04A',GB)
call UnitAddAbilityBJ('A1BF',GB)
endfunction
function LXB takes nothing returns nothing
call ExecuteFunc("LEB")
call UnitAddAbilityBJ('A10D',GB)
call UnitAddAbilityBJ('A109',GB)
call UnitAddAbilityBJ('A10H',GB)
endfunction
function LOB takes nothing returns nothing
call ExecuteFunc("LXB")
call UnitAddAbilityBJ('A10E',GB)
call UnitAddAbilityBJ('A10A',GB)
call UnitAddAbilityBJ('A10I',GB)
endfunction
function LRB takes nothing returns nothing
call ExecuteFunc("LOB")
call UnitAddAbilityBJ('A10F',GB)
call UnitAddAbilityBJ('A10B',GB)
call UnitAddAbilityBJ('A10J',GB)
endfunction
function LIB takes nothing returns nothing
call ExecuteFunc("LRB")
call UnitAddAbilityBJ('A10G',GB)
call UnitAddAbilityBJ('A10C',GB)
call UnitAddAbilityBJ('A10K',GB)
endfunction
function MLB takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GB,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())>=1 and GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())<8 then
call UnitApplyTimedLifeBJ(45.+(5*GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())),'BTLF',GB)
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==8 then
call UnitApplyTimedLifeBJ(88.,'BTLF',GB)
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==9 then
call UnitApplyTimedLifeBJ(100.,'BTLF',GB)
endif
call QVE(GB,UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GB)))
call QBE(GB,0,R2I(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)/$A))
call QBE(GB,1,R2I(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)/9*GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())))
call QBE(GB,2,GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())*2)
set GB=null
endfunction
function MMB takes nothing returns nothing
if(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))>=600)and(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))<$4B0)then
call SetUnitAbilityLevelSwapped('A06Q',INV,2)
endif
if(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))>=$4B0)and(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))<$708)then
call SetUnitAbilityLevelSwapped('A06Q',INV,3)
endif
if(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))>=$708)and(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))<$AF0)then
call SetUnitAbilityLevelSwapped('A06Q',INV,4)
endif
if(JQV[GetConvertedPlayerId(GetOwningPlayer(IDV))]+(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)+(GetUnitLevel(IDV)*4))>=$AF0)then
call SetUnitAbilityLevelSwapped('A06Q',INV,5)
endif
endfunction
function MPB takes nothing returns boolean
return(GetSpellAbilityId()=='A1SC')and(GetUnitAbilityLevelSwapped('A1SD',GetSpellTargetUnit())==0)
endfunction
function MQB takes nothing returns boolean
return(GetSpellAbilityId()=='A1SC')and(GetUnitAbilityLevelSwapped('A1SD',GetSpellTargetUnit())<=4)and(GetUnitAbilityLevelSwapped('A1SD',GetSpellTargetUnit())>0)
endfunction
function MSB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QP')and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())>0)and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())<=2)
endfunction
function MTB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QP')and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())>2)and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())<=4)
endfunction
function MUB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QP')and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())>4)and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())<=6)
endfunction
function MWB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QP')and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())>6)and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())<=8)
endfunction
function MYB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QP')and(GetUnitAbilityLevelSwapped('A0QP',GetTriggerUnit())==9)
endfunction
function MZB takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())>=1)and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())<=2)and(IsUnitAliveBJ(INV))
endfunction
function M_B takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())>=3)and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())<=4)and(IsUnitAliveBJ(INV))
endfunction
function M0B takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==5)and(IsUnitAliveBJ(INV))
endfunction
function M1B takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())>=6)and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())<=7)and(IsUnitAliveBJ(INV))
endfunction
function M2B takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==8)and(IsUnitAliveBJ(INV))
endfunction
function M3B takes nothing returns boolean
return(GetSpellAbilityId()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==9)and(IsUnitAliveBJ(INV))
endfunction
function M4B takes nothing returns boolean
return(GetSpellAbilityId()=='A0FQ')and(IG==0)
endfunction
function M5B takes nothing returns boolean
return(GetSpellAbilityId()=='ACwe')
endfunction
function M6B takes nothing returns boolean
return(GetSpellAbilityId()=='A0PL')
endfunction
function M7B takes nothing returns nothing
local unit M8B
if GetUnitAbilityLevelSwapped('A0PL',GG)==1 or GetUnitAbilityLevelSwapped('A0PL',GG)==2 then
set M8B=CreateUnit(GetOwningPlayer(GG),'h04N',GetUnitX(GG)+20,GetUnitY(GG)+20,GetUnitFacing(GG))
endif
if GetUnitAbilityLevelSwapped('A0PL',GG)==3 or GetUnitAbilityLevelSwapped('A0PL',GG)==4 then
set M8B=CreateUnit(GetOwningPlayer(GG),'h070',GetUnitX(GG)+20,GetUnitY(GG)+20,GetUnitFacing(GG))
endif
if GetUnitAbilityLevelSwapped('A0PL',GG)==5 then
set M8B=CreateUnit(GetOwningPlayer(GG),'h08D',GetUnitX(GG)+20,GetUnitY(GG)+20,GetUnitFacing(GG))
endif
call QVE(M8B,UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GG)*.5+(9000*GetUnitAbilityLevelSwapped('A0PL',GG))))
call UnitApplyTimedLifeBJ(45.+(15.*GetUnitAbilityLevelSwapped('A0PL',GG)),'B02S',M8B)
call QBE(M8B,0,((GetHeroStatBJ(bj_HEROSTAT_STR,GG,true))+(GetHeroStatBJ(bj_HEROSTAT_AGI,GG,true)))/20)
call QBE(M8B,1,(GetHeroStatBJ(bj_HEROSTAT_STR,GG,true))*5/2)
call AddSpecialEffectTargetUnitBJ("origin",M8B,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set M8B=null
endfunction
function M9B takes nothing returns boolean
return(GetSpellAbilityId()=='AIfu')
endfunction
function PVB takes nothing returns boolean
return(GetSpellAbilityId()=='A1C9')
endfunction
function PEB takes nothing returns boolean
return(GetSpellAbilityId()=='A1QX')
endfunction
function PXB takes nothing returns boolean
return(GetSpellAbilityId()=='AIfr')
endfunction
function POB takes nothing returns boolean
return(GetSpellAbilityId()=='A038')
endfunction
function PRB takes nothing returns boolean
return(GetSpellAbilityId()=='A0WL')
endfunction
function PIB takes nothing returns boolean
return(GetSpellAbilityId()=='A0WK')
endfunction
function PAB takes nothing returns boolean
return(GetSpellAbilityId()=='A1SL')
endfunction
function PNB takes nothing returns boolean
return(GetSpellAbilityId()=='A0CM')
endfunction
function PBB takes nothing returns boolean
return(GetSpellAbilityId()=='ANsw')
endfunction
function PCB takes nothing returns boolean
return(GetSpellAbilityId()=='AHwe')
endfunction
function PDB takes nothing returns nothing
local unit M8B
local integer PFB
if(MPB())then
call UnitAddAbilityBJ('A1SD',GetSpellTargetUnit())
call QVE(GetSpellTargetUnit(),UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.97))
endif
if(MQB())then
call IncUnitAbilityLevelSwapped('A1SD',GetSpellTargetUnit())
call QVE(GetSpellTargetUnit(),UNIT_STATE_MAX_LIFE,(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*.97))
endif
if(MSB())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'u00I',FQV,FSV,$B4)
set FTV=(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF)))/2)
call UnitApplyTimedLifeBJ(90.,'B02V',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,FTV)
call QBE(FMV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true))/20)
call QBE(FMV,1,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF))/3)
set MF=null
set FTV=0
set FPV=null
set FMV=null
endif
if(MTB())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'u00J',FQV,FSV,$B4)
set MF=GetSpellAbilityUnit()
set FTV=(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF)))/2)
call UnitApplyTimedLifeBJ(90.,'B02V',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,FTV)
call QBE(FMV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true))/20)
call QBE(FMV,1,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF))/3)
set MF=null
set FTV=0
set FPV=null
set FMV=null
endif
if(MUB())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'u00K',FQV,FSV,$B4)
set MF=GetSpellAbilityUnit()
set FTV=(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF)))/2)
call UnitApplyTimedLifeBJ(90.,'B02V',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,FTV)
call QBE(FMV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true))/20)
call QBE(FMV,1,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF))/3)
set MF=null
set FTV=0
set FPV=null
set FMV=null
endif
if(MWB())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'u00L',FQV,FSV,$B4)
set MF=GetSpellAbilityUnit()
set FTV=(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF)))/2)
call UnitApplyTimedLifeBJ(90.,'B02V',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,FTV)
call QBE(FMV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true))/20)
call QBE(FMV,1,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*GetUnitAbilityLevelSwapped('A0QP',MF))/3)
set MF=null
set FTV=0
set FPV=null
set FMV=null
endif
if(MYB())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'u00M',FQV,FSV,$B4)
set MF=GetSpellAbilityUnit()
set FTV=(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,FMV))+((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*(1+GetUnitAbilityLevelSwapped('A0QP',MF))))/2)
call UnitApplyTimedLifeBJ(90.,'B02V',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,FTV)
call QBE(FMV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true))/$F)
call QBE(FMV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)*(1+GetUnitAbilityLevelSwapped('A0QP',MF)))/2.86)))
set MF=null
set FTV=0
set FPV=null
set FMV=null
endif
if(MZB())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M_B())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M0B())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M1B())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M2B())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M3B())then
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV)-OF)+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1))*2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1)*2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if(M4B())then
set ZF=GetTriggerUnit()
call UnitAddAbilityBJ('A1V6',ZF)
call StartTimerBJ(EG,false,6+(GetUnitAbilityLevelSwapped('A0FQ',ZF)))
endif
if(M5B())then
set MF=GetSpellAbilityUnit()
set FPV=GetOwningPlayer(MF)
set FQV=GetUnitX(MF)
set FSV=GetUnitY(MF)
set FMV=CreateUnit(FPV,'ngns',FQV,FSV,$B4)
call UnitApplyTimedLifeBJ(90.,'B09U',FMV)
call QVE(FMV,UNIT_STATE_MAX_LIFE,(R2I(JQV[GetConvertedPlayerId(FPV)]+(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)+(GetUnitLevel(MF)*4)))*3+280))
call QBE(FMV,0,R2I(JQV[GetConvertedPlayerId(FPV)]+(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)+(GetUnitLevel(MF)*4)))/$E)
call QBE(FMV,1,R2I(JQV[GetConvertedPlayerId(FPV)]+(GetHeroStatBJ(bj_HEROSTAT_INT,MF,true)+(GetUnitLevel(MF)*4))))
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))<=400)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))>$C8)then
call UnitAddAbilityBJ('A017',FMV)
call UnitAddAbilityBJ('ACat',FMV)
endif
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))>400)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))<=800)then
call UnitAddAbilityBJ('A0GG',FMV)
call UnitAddAbilityBJ('ACat',FMV)
call UnitAddAbilityBJ('A1VZ',FMV)
endif
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))>800)then
call UnitAddAbilityBJ('A03W',FMV)
call UnitAddAbilityBJ('ACat',FMV)
call UnitAddAbilityBJ('A1VZ',FMV)
call SetUnitAbilityLevelSwapped('A1VZ',FMV,2)
endif
set MF=null
set FPV=null
set FMV=null
set FQV=0
set FSV=0
endif
if(M6B())then
set GG=GetTriggerUnit()
call ExecuteFunc("M7B")
call ExecuteFunc("M7B")
if GetUnitAbilityLevelSwapped('A0PL',GG)>2 then
call ExecuteFunc("M7B")
if GetUnitAbilityLevelSwapped('A0PL',GG)>4 then
call ExecuteFunc("M7B")
call ExecuteFunc("M7B")
endif
endif
set GG=null
endif
if(M9B())then
set M8B=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n02L',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimation(M8B,"birth")
call QBE(M8B,0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/20)
call QBE(M8B,1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*3/2)
call AddSpecialEffectTargetUnitBJ("origin",M8B,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))<=400)then
call UnitAddAbilityBJ('A017',M8B)
endif
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))<=$4B0)and(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))>400)then
call UnitAddAbilityBJ('A017',M8B)
call UnitAddAbilityBJ('A17B',M8B)
endif
if(JQV[GetConvertedPlayerId(GetTriggerPlayer())]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))>$4B0)then
call UnitAddAbilityBJ('A03W',M8B)
call UnitAddAbilityBJ('A17C',M8B)
endif
set M8B=null
endif
if(PVB())then
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'nrdr',GetOwningPlayer(GetTriggerUnit()),XVV,bj_UNIT_FACING)
set M8B=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(GetUnitAbilityLevelSwapped('A1C9',GetTriggerUnit())*10.+10.,'BTLF',M8B)
call SetUnitAbilityLevelSwapped('A1CC',M8B,GetUnitAbilityLevelSwapped('A1C9',GetTriggerUnit()))
call RemoveLocation(XVV)
call UnitAddAbilityBJ('A1BO',M8B)
call SetUnitAbilityLevelSwapped('A1BO',M8B,GetUnitAbilityLevelSwapped('A1BO',JFV))
call QBE(M8B,0,R2I(GRV/2*GetUnitAbilityLevelSwapped('A1C9',GetTriggerUnit())))
call QBE(M8B,1,R2I(GRV*$A*GetUnitAbilityLevelSwapped('A1C9',GetTriggerUnit())))
call QVE(M8B,UNIT_STATE_MAX_LIFE,R2I(GRV*$96*GetUnitAbilityLevelSwapped('A1C9',GetTriggerUnit()))+$7530)
if GRV>=25 then
call UnitAddAbilityBJ('A017',M8B)
endif
if GRV>=75 then
call UnitAddAbilityBJ('A0GG',M8B)
endif
if GRV>=$96 then
call UnitAddAbilityBJ('A03W',M8B)
endif
if GRV>=300 then
call UnitAddAbilityBJ('A0GG',M8B)
call UnitAddAbilityBJ('A03W',M8B)
endif
set M8B=null
endif
if(PEB())then
set M8B=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'nggr',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimation(M8B,"birth")
call UnitApplyTimedLifeBJ(210.,'BTLF',M8B)
call QVE(M8B,UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*$A+8000)
call QVE(M8B,UNIT_STATE_MAX_MANA,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/5+600)
call QBE(M8B,0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/20)
call QBE(M8B,1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*3)
call QBE(M8B,2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/$A)
call AddSpecialEffectTargetUnitBJ("origin",M8B,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set M8B=null
endif
if(PXB())then
set M8B=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'ngst',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimation(M8B,"birth")
call UnitApplyTimedLifeBJ(180.,'BTLF',M8B)
call QVE(M8B,UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*4+$898)
call QVE(M8B,UNIT_STATE_MAX_MANA,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/$A+400)
call QBE(M8B,0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/40)
call QBE(M8B,1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4))))
call QBE(M8B,2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/25)
call AddSpecialEffectTargetUnitBJ("origin",M8B,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set M8B=null
endif
if(POB())then
set M8B=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'nsog',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimation(M8B,"birth")
set XVV=GetUnitLoc(M8B)
call IssuePointOrderLocBJ(M8B,"move",XVV)
call RemoveLocation(XVV)
call UnitApplyTimedLifeBJ(50.,'BTLF',M8B)
call QVE(M8B,UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/1.5+950)
call QBE(M8B,0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/85)
call QBE(M8B,1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/8)
call QBE(M8B,2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/66)
set M8B=null
endif
if(PRB())then
set M8B=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n02O',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call SetUnitAnimation(M8B,"birth")
set XVV=GetUnitLoc(M8B)
call IssuePointOrderLocBJ(M8B,"move",XVV)
call RemoveLocation(XVV)
call UnitApplyTimedLifeBJ(90.,'BTLF',M8B)
call QVE(M8B,UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*1.5+$E10)
call QBE(M8B,0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/55)
call QBE(M8B,1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/5)
call QBE(M8B,2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/50)
set M8B=null
endif
if(PIB())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,'n02P',GetOwningPlayer(GetSpellAbilityUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2+$76C)
call QBE(GetLastCreatedUnit(),0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/45)
call QBE(GetLastCreatedUnit(),1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/2)
call QBE(GetLastCreatedUnit(),2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/42)
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n02P',GetOwningPlayer(GetSpellAbilityUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2+$76C)
call QBE(GetLastCreatedUnit(),0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/45)
call QBE(GetLastCreatedUnit(),1,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/2)
call QBE(GetLastCreatedUnit(),2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/42)
endif
if(PAB())then
set XVV=GetSpellTargetLoc()
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,'n04R',GetOwningPlayer(GetSpellAbilityUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2.8+4600)
call QBE(GetLastCreatedUnit(),0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/35)
set PFB=R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*4/3
call QBE(GetLastCreatedUnit(),1,PFB)
call QBE(GetLastCreatedUnit(),2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/35)
set XVV=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n04R',GetOwningPlayer(GetSpellAbilityUnit()),XVV,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,'BTLF',GetLastCreatedUnit())
call RemoveLocation(XVV)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call QVE(GetLastCreatedUnit(),UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2.8+4600)
call QBE(GetLastCreatedUnit(),0,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/35)
call QBE(GetLastCreatedUnit(),1,PFB)
call QBE(GetLastCreatedUnit(),2,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))/35)
set PFB=0
endif
if(PNB())then
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]!=null then
call KillUnit(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==1 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'ngz1',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==2 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'ngz2',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==3 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'ngz3',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==4 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01M',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==5 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01N',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],2)
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==6 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01O',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],2)
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==7 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01P',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],3)
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==8 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01Q',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],3)
endif
if GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())==9 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01R',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbilityBJ('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped('A0CI',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],4)
endif
call QVE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,R2I(JQV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)+(GetUnitLevel(GetTriggerUnit())*4)))*2.8+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
call QBE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],0,R2I(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)/5))
call QBE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],1,R2I(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)/6*GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())))
call QBE(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],2,GetUnitAbilityLevelSwapped('A0CM',GetTriggerUnit())*4)
set GB=DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1 then
call ExecuteFunc("LEB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==2 then
call ExecuteFunc("LXB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==3 then
call ExecuteFunc("LOB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==4 then
call ExecuteFunc("LRB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==5 then
call ExecuteFunc("LIB")
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1then
call UnitAddAbilityBJ('A01Q',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==2then
call UnitAddAbilityBJ('A1UT',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==3then
call UnitAddAbilityBJ('A1UU',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if MC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1then
call UnitAddAbilityBJ('A1E4',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitAddAbilityBJ('A0BA',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endif
if FC[0]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[0],0)
if GC[0]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],0),GC[0])
endif
endif
if FC[1]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[1],1)
if GC[1]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],1),GC[1])
endif
endif
if FC[2]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[2],2)
if GC[2]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],2),GC[2])
endif
endif
if FC[3]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[3],3)
if GC[3]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],3),GC[3])
endif
endif
if FC[4]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[4],4)
if GC[4]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],4),GC[4])
endif
endif
if FC[5]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],FC[5],5)
if GC[5]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],5),GC[5])
endif
endif
call AddSpecialEffectTargetUnitBJ("origin",DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set FC[0]=0
set FC[1]=0
set FC[2]=0
set FC[3]=0
set FC[4]=0
set FC[5]=0
set GC[0]=0
set GC[1]=0
set GC[2]=0
set GC[3]=0
set GC[4]=0
set GC[5]=0
set GB=null
endif
if(PBB())then
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==1 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01S',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==2 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01T',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==3 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01U',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==4 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01V',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==5 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01W',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01W',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==6 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01X',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01X',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==7 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01Y',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01Y',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==8 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01Z',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n01Z',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
if GetUnitAbilityLevelSwapped('ANsw',GetTriggerUnit())==9 then
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n020',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
set GB=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n020',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
call ExecuteFunc("MLB")
endif
endif
if(PCB())then
if DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]!=null then
call KillUnit(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=null
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==1 then
set PFB=40
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'hwat',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==2 then
set PFB=46
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'hwt2',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==3 then
set PFB=53
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'hwt3',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==4 then
set PFB=60
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h00W',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==5 then
set PFB=68
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h00X',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==6 then
set PFB=80
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h00Y',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==7 then
set PFB=95
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h00Z',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==8 then
set PFB='n'
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h010',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())==9 then
set DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h011',GetUnitX(GetTriggerUnit())+20,GetUnitY(GetTriggerUnit())+20,GetUnitFacing(GetTriggerUnit()))
endif
if GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())>=1 and GetUnitAbilityLevelSwapped('AHwe',GetTriggerUnit())<=8 then
call UnitApplyTimedLifeBJ(PFB,'BTLF',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
set PFB=0
endif
call UnitAddAbilityBJ('A0A4',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
call SetUnitAbilityLevelSwapped('A0A4',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40],GetUnitAbilityLevelSwapped('AHwe',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]))
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==1then
call UnitAddAbilityBJ('A01Q',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==2then
call UnitAddAbilityBJ('A1UT',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if LC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==3then
call UnitAddAbilityBJ('A1UU',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if MC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==1then
call UnitAddAbilityBJ('A1E4',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
call UnitAddAbilityBJ('A0BA',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if HC[5]>0 then
if HC[5]==1 then
call UnitAddAbilityBJ('A1XW',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if HC[5]==2 then
call UnitAddAbilityBJ('A1XX',DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40])
endif
if FC[$E]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40],FC[$E],0)
if GC[$E]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40],0),GC[$E])
endif
endif
if FC[$F]!=0 then
call UnitAddItemToSlotById(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40],FC[$F],1)
if GC[$F]!=0 then
call SetItemCharges(UnitItemInSlot(DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40],1),GC[$F])
endif
endif
endif
set FC[$E]=0
set FC[$F]=0
set GC[$E]=0
set GC[$F]=0
set HC[5]=0
set GB=DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==1 then
call ExecuteFunc("LEB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==2 then
call ExecuteFunc("LXB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==3 then
call ExecuteFunc("LOB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==4 then
call ExecuteFunc("LRB")
endif
if KC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))+40]==5 then
call ExecuteFunc("LIB")
endif
set GB=null
endif
endfunction
function PGB takes nothing returns nothing
set ZZV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZZV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(ZZV,function PDB)
endfunction
function PHB takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),DC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endfunction
function L9B takes nothing returns nothing
if PC!=1 then
set FC[0]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))
set FC[1]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))
set FC[2]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),2))
set FC[3]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),3))
set FC[4]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),4))
set FC[5]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),5))
set GC[0]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),0))
set GC[1]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),1))
set GC[2]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),2))
set GC[3]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),3))
set GC[4]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),4))
set GC[5]=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),5))
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[PC]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[PC]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[PC]=1
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A1BG'))==1 and KC[PC]<1 then
set KC[PC]=1
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10D'))==1 and KC[PC]<2 then
set KC[PC]=2
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10E'))==1 and KC[PC]<3 then
set KC[PC]=3
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10F'))==1 and KC[PC]<4 then
set KC[PC]=4
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'A10G'))==1 and KC[PC]<5 then
set KC[PC]=5
endif
endif
if PC==1 and GetUnitAbilityLevelSwapped('A1XZ',GetTriggerUnit())==1 then
call RemoveUnit(GetTriggerUnit())
endif
set DC[PC]=null
set PC=0
endfunction
function PJB takes nothing returns nothing
set PC=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
call ExecuteFunc("L9B")
call RemoveUnit(GetTriggerUnit())
endfunction
function PKB takes nothing returns nothing
local trigger PLB
set PLB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(PLB,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(PLB,Condition(function PHB))
call TriggerAddAction(PLB,function PJB)
endfunction
function PMB takes nothing returns boolean
return(IsUnit(GetTriggerUnit(),INV))
endfunction
function PPB takes nothing returns nothing
call UnitAddAbilityBJ('A1BG',INV)
call UnitAddAbilityBJ('A04A',INV)
call UnitAddAbilityBJ('A1BF',INV)
endfunction
function PQB takes nothing returns nothing
call ExecuteFunc("PPB")
call UnitAddAbilityBJ('A10D',INV)
call UnitAddAbilityBJ('A109',INV)
call UnitAddAbilityBJ('A10H',INV)
endfunction
function PSB takes nothing returns nothing
call ExecuteFunc("PQB")
call UnitAddAbilityBJ('A10E',INV)
call UnitAddAbilityBJ('A10A',INV)
call UnitAddAbilityBJ('A10I',INV)
endfunction
function PTB takes nothing returns nothing
call ExecuteFunc("PSB")
call UnitAddAbilityBJ('A10F',INV)
call UnitAddAbilityBJ('A10B',INV)
call UnitAddAbilityBJ('A10J',INV)
endfunction
function PUB takes nothing returns nothing
call ExecuteFunc("PTB")
call UnitAddAbilityBJ('A10G',INV)
call UnitAddAbilityBJ('A10C',INV)
call UnitAddAbilityBJ('A10K',INV)
endfunction
function PWB takes nothing returns nothing
if(GetUnitAbilityLevel(INV,'A1XW'))==1then
set FC[6]=GetItemTypeId(UnitItemInSlot(INV,0))
set GC[6]=GetItemCharges(UnitItemInSlot(INV,0))
set HC[0]=1
endif
if(GetUnitAbilityLevel(INV,'A1XX'))==1then
set FC[6]=GetItemTypeId(UnitItemInSlot(INV,0))
set GC[6]=GetItemCharges(UnitItemInSlot(INV,0))
set FC[7]=GetItemTypeId(UnitItemInSlot(INV,1))
set GC[7]=GetItemCharges(UnitItemInSlot(INV,1))
set HC[0]=2
endif
if(GetUnitAbilityLevel(INV,'A1BG'))==1then
set KC[0]=1
endif
if(GetUnitAbilityLevel(INV,'A10D'))==1then
set KC[0]=2
endif
if(GetUnitAbilityLevel(INV,'A10E'))==1then
set KC[0]=3
endif
if(GetUnitAbilityLevel(INV,'A10F'))==1then
set KC[0]=4
endif
if(GetUnitAbilityLevel(INV,'A10G'))==1then
set KC[0]=5
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())==1then
set LC[0]=3
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())==1then
set LC[0]=2
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())==1then
set LC[0]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())==1then
set MC[0]=1
endif
call RemoveUnit(INV)
set INV=null
call mj(20.)
set IBV=(GetUnitAbilityLevelSwapped('A1U8',IDV))
if IsUnitAliveBJ(INV)==false then
if IBV==1then
set INV=CreateUnit(GetOwningPlayer(IDV),'n006',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if IBV==2then
set INV=CreateUnit(GetOwningPlayer(IDV),'n007',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==3then
set INV=CreateUnit(GetOwningPlayer(IDV),'n008',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==4then
set INV=CreateUnit(GetOwningPlayer(IDV),'n009',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==5then
set INV=CreateUnit(GetOwningPlayer(IDV),'n00A',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==6then
set INV=CreateUnit(GetOwningPlayer(IDV),'n00B',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==7then
set INV=CreateUnit(GetOwningPlayer(IDV),'n00C',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==8then
set INV=CreateUnit(GetOwningPlayer(IDV),'n00D',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if IBV==9then
set INV=CreateUnit(GetOwningPlayer(IDV),'n04H',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1))*2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1)*2
set IBV=0
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Orc\\Reincarnation\\ReincarnationTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
endif
if HC[0]==1 then
call UnitAddAbilityBJ('A1XW',INV)
set HC[0]=0
if FC[6]!=0 then
call UnitAddItemToSlotById(INV,FC[6],0)
if GC[6]!=0 then
call SetItemCharges(UnitItemInSlot(INV,0),GC[6])
endif
endif
endif
if HC[0]==2 then
call UnitAddAbilityBJ('A1XX',INV)
set HC[0]=0
if FC[6]!=0 then
call UnitAddItemToSlotById(INV,FC[6],0)
if GC[6]!=0 then
call SetItemCharges(UnitItemInSlot(INV,0),GC[6])
endif
endif
if FC[7]!=0 then
call UnitAddItemToSlotById(INV,FC[7],1)
if GC[7]!=0 then
call SetItemCharges(UnitItemInSlot(INV,1),GC[7])
endif
endif
endif
if KC[0]==1 then
call ExecuteFunc("PPB")
set KC[0]=0
endif
if KC[0]==2 then
call ExecuteFunc("PQB")
set KC[0]=0
endif
if KC[0]==3 then
call ExecuteFunc("PSB")
set KC[0]=0
endif
if KC[0]==4 then
call ExecuteFunc("PTB")
set KC[0]=0
endif
if KC[0]==5 then
call ExecuteFunc("PUB")
set KC[0]=0
endif
if LC[0]==1 then
call UnitAddAbilityBJ('A01Q',INV)
set LC[0]=0
endif
if LC[0]==2 then
call UnitAddAbilityBJ('A1UT',INV)
set LC[0]=0
endif
if LC[0]==3 then
call UnitAddAbilityBJ('A1UU',INV)
set LC[0]=0
endif
if MC[0]==1 then
call UnitAddAbilityBJ('A1E4',INV)
call UnitAddAbilityBJ('A0BA',INV)
set MC[0]=0
endif
endif
set FC[6]=0
set FC[7]=0
set GC[6]=0
set GC[7]=0
endfunction
function PYB takes nothing returns nothing
set ZEV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZEV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ZEV,Condition(function PMB))
call TriggerAddAction(ZEV,function PWB)
endfunction
function PZB takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==1)
endfunction
function P_B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==2)
endfunction
function P0B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==3)
endfunction
function P1B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==4)
endfunction
function P2B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==5)
endfunction
function P3B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==6)
endfunction
function P4B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==7)
endfunction
function P5B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==8)
endfunction
function P6B takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1U8')and(GetUnitAbilityLevelSwapped('A1U8',GetTriggerUnit())==9)
endfunction
function P7B takes nothing returns nothing
if HC[0]==1 then
call UnitAddAbilityBJ('A1XW',INV)
set HC[0]=0
call UnitAddItemToSlotById(INV,FC[6],0)
if GC[6]!=0 then
call SetItemCharges(UnitItemInSlot(INV,0),GC[6])
endif
endif
if HC[0]==2 then
call UnitAddAbilityBJ('A1XX',INV)
set HC[0]=0
if FC[6]!=0 then
call UnitAddItemToSlotById(INV,FC[6],0)
if GC[6]!=0 then
call SetItemCharges(UnitItemInSlot(INV,0),GC[6])
endif
endif
if FC[7]!=0 then
call UnitAddItemToSlotById(INV,FC[7],1)
if GC[7]!=0 then
call SetItemCharges(UnitItemInSlot(INV,1),GC[7])
endif
endif
endif
if KC[0]==1 then
call ExecuteFunc("PPB")
set KC[0]=0
endif
if KC[0]==2 then
call ExecuteFunc("PQB")
set KC[0]=0
endif
if KC[0]==3 then
call ExecuteFunc("PSB")
set KC[0]=0
endif
if KC[0]==4 then
call ExecuteFunc("PTB")
set KC[0]=0
endif
if KC[0]==5 then
call ExecuteFunc("PUB")
set KC[0]=0
endif
set FC[6]=0
set FC[7]=0
set GC[6]=0
set GC[7]=0
endfunction
function P8B takes nothing returns nothing
if(GetUnitAbilityLevel(INV,'A1XW'))==1then
set FC[6]=GetItemTypeId(UnitItemInSlot(INV,0))
set GC[6]=GetItemCharges(UnitItemInSlot(INV,0))
set HC[0]=1
endif
if(GetUnitAbilityLevel(INV,'A1XX'))==1then
set FC[6]=GetItemTypeId(UnitItemInSlot(INV,0))
set GC[6]=GetItemCharges(UnitItemInSlot(INV,0))
set FC[7]=GetItemTypeId(UnitItemInSlot(INV,1))
set GC[7]=GetItemCharges(UnitItemInSlot(INV,1))
set HC[0]=2
endif
if(GetUnitAbilityLevel(INV,'A1BG'))==1then
set KC[0]=1
endif
if(GetUnitAbilityLevel(INV,'A10D'))==1then
set KC[0]=2
endif
if(GetUnitAbilityLevel(INV,'A10E'))==1then
set KC[0]=3
endif
if(GetUnitAbilityLevel(INV,'A10F'))==1then
set KC[0]=4
endif
if(GetUnitAbilityLevel(INV,'A10G'))==1then
set KC[0]=5
endif
endfunction
function P9B takes nothing returns nothing
if(PZB())then
set IDV=GetTriggerUnit()
set INV=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n006',GetUnitX(IDV),GetUnitY(IDV),270.)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(P_B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n007',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P0B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n008',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/18)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P1B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n009',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P2B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n00A',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/16)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P3B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n00B',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P4B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n00C',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/3)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P5B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n00D',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)))*3/2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV))*3/2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
if(P6B())then
if IsUnitAliveBJ(INV) then
call ExecuteFunc("P8B")
set INV=ReplaceUnitBJ(INV,'n04H',bj_UNIT_STATE_METHOD_RELATIVE)
call QVE(INV,UNIT_STATE_MAX_LIFE,(R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,INV))+((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1))*2))
call QBE(INV,0,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$E)
call QBE(INV,1,(R2I((GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*(GetUnitAbilityLevelSwapped('A1U8',IDV)))/2.5)))
call QBE(INV,2,(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true))/$A)
set OF=(GetHeroStatBJ(bj_HEROSTAT_INT,IDV,true)*GetUnitAbilityLevelSwapped('A1U8',IDV)-1)*2
call AddSpecialEffectTargetUnitBJ("origin",INV,"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ExecuteFunc("MMB")
call ExecuteFunc("P7B")
endif
endif
endfunction
function QVB takes nothing returns nothing
set ZVV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZVV,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(ZVV,function P9B)
endfunction
function QEB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==1)
endfunction
function QXB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==2)
endfunction
function QOB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==3)
endfunction
function QRB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==4)
endfunction
function QIB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==5)
endfunction
function QAB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==6)
endfunction
function QNB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==7)
endfunction
function QBB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==8)
endfunction
function QCB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',GetKillingUnitBJ())==9)
endfunction
function QDB takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function QFB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function QGB takes nothing returns boolean
return GetBooleanAnd(QDB(),QFB())
endfunction
function QHB takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(HLV>1)and(CountUnitsInGroup(GetUnitsInRectMatching(LQV,Condition(function QGB)))<1))!=null
endfunction
function QJB takes nothing returns nothing
if(QEB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 10.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1
endif
if(QXB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 8.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+2
endif
if(QOB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 7.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+3
endif
if(QRB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 6.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+4
endif
if(QIB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 5.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+5
endif
if(QAB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 4.)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+7
endif
if(QNB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 3.12)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+9
endif
if(QBB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/ 2.5)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+$B
endif
if(QCB())then
call AddSpecialEffectTargetUnitBJ("chest",GetKillingUnitBJ(),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetKillingUnitBJ(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetKillingUnitBJ())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())/2)))
set ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=ED[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+$D
endif
if(QHB())then
set XVV=GetRectCenter(M2V)
call SetUnitPositionLoc(HMV,XVV)
call RemoveLocation(XVV)
call SetUnitLifeBJ(HMV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HMV))
set H_V=1
set H0V=1
endif
endfunction
function QKB takes nothing returns nothing
set ZOV=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ZOV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(ZOV,function QJB)
endfunction
function QLB takes nothing returns nothing
call UnitRemoveAbilityBJ('A1UH',YF)
set YF=null
endfunction
function QMB takes nothing returns nothing
set TUV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TUV,VG)
call TriggerAddAction(TUV,function QLB)
endfunction
function QPB takes nothing returns nothing
call UnitRemoveAbilityBJ('A1V6',ZF)
set ZF=null
endfunction
function QQB takes nothing returns nothing
set TWV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TWV,EG)
call TriggerAddAction(TWV,function QPB)
endfunction
function QSB takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LV)))
endfunction
function QTB takes nothing returns boolean
return GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0
endfunction
function QUB takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function QWB takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='uplg')
endfunction
function QYB takes nothing returns boolean
return(GetBooleanAnd(QSB(),QTB()))
endfunction
function QZB takes nothing returns boolean
return(GetBooleanAnd(QUB(),QWB()))
endfunction
function Q_B takes nothing returns boolean
return(GetBooleanAnd(QYB(),QZB()))
endfunction
function Q0B takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ('A028',GetEnumUnit())
call SetUnitAbilityLevelSwapped('A028',GetEnumUnit(),38)
call UnitDamageTargetBJ(LV,GetEnumUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function V7A takes nothing returns nothing
call UnitRemoveAbilityBJ('A0GU',LV)
call UnitRemoveAbilityBJ('A0GU',MV)
set XVV=GetUnitLoc(LV)
set XEV=GetUnitsInRangeOfLocMatching(600.,XVV,Condition(function Q_B))
call RemoveLocation(XVV)
call ForGroupBJ(XEV,function Q0B)
call DestroyGroup(XEV)
set LV=null
set MV=null
set QV=0
endfunction
function Q1B takes nothing returns nothing
local trigger Q2B
set Q2B=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Q2B,PV)
call TriggerAddAction(Q2B,function V7A)
endfunction
function Q3B takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZJ',GetKillingUnitBJ())>=1)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function Q4B takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=5)
endfunction
function Q5B takes nothing returns boolean
return(R0V>=50)and(R0V<'d')
endfunction
function Q6B takes nothing returns boolean
return(R0V>='d')and(R0V<$96)
endfunction
function Q7B takes nothing returns boolean
return(R0V>=$96)and(R0V<$C8)
endfunction
function Q8B takes nothing returns boolean
return(R0V>=$C8)
endfunction
function Q9B takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=20)
endfunction
function SVB takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=20)and(GetUnitAbilityLevelSwapped('A0ZJ',GetKillingUnitBJ())>=5)
endfunction
function SEB takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=60)
endfunction
function SXB takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function SOB takes nothing returns nothing
if(Q4B())then
set R0V=(R0V+(GetUnitLevel(GetTriggerUnit())+(GetUnitAbilityLevelSwapped('A0ZJ',GetKillingUnitBJ())*2)))
else
set R0V=(R0V+(GetUnitLevel(GetTriggerUnit())+(GetUnitAbilityLevelSwapped('A0ZJ',GetKillingUnitBJ())*5)))
endif
if(Q5B())then
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
set R0V=(R0V-50)
endif
if(Q6B())then
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+1)
set R0V=(R0V-'d')
endif
if(Q7B())then
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+1)
set R0V=(R0V-$96)
endif
if(Q8B())then
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+3)
set R0V=(R0V-$C8)
endif
if(Q9B())then
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+1)
endif
if(SVB())then
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+1)
endif
if(SEB())then
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+5)
endif
if(SXB())then
call SetPlayerTechResearchedSwap('R01K',(GetPlayerTechCountSimple('R01K',GetOwningPlayer(GetKillingUnitBJ()))+2),GetOwningPlayer(GetKillingUnitBJ()))
call SetPlayerTechResearchedSwap('R01J',(GetPlayerTechCountSimple('R01J',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call QBE(R1V,1,QFE(R1V,1)+3)
endif
endfunction
function SRB takes nothing returns nothing
set IIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(IIE,Condition(function Q3B))
call TriggerAddAction(IIE,function SOB)
endfunction
function SIB takes nothing returns boolean
return(GetSpellAbilityId()=='A1W3')
endfunction
function SAB takes nothing returns boolean
return(GetTriggerUnit()==GLV)
endfunction
function SNB takes nothing returns boolean
return(GetTriggerUnit()==FLV)
endfunction
function SBB takes nothing returns boolean
return(GetTriggerUnit()==IHV)
endfunction
function SCB takes nothing returns boolean
return(GetTriggerUnit()==GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function SDB takes nothing returns nothing
set Y5=GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),false)
set Z5=GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),false)
set V6=GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),false)
if GetUnitAbilityLevelSwapped('A1D4',GetTriggerUnit())>0 then
set G1[5]=1
endif
if GetUnitAbilityLevelSwapped('A1UZ',GetTriggerUnit())>0 then
set G1[7]=1
endif
if GetUnitAbilityLevelSwapped('A1KB',GetTriggerUnit())>0 then
set G1[8]=1
endif
if GetUnitAbilityLevelSwapped('A1KA',GetTriggerUnit())>0 then
set G1[9]=1
endif
if GetUnitAbilityLevelSwapped('A1D5',GetTriggerUnit())>0 then
set G1[$A]=1
endif
if GetUnitAbilityLevelSwapped('A05A',GetTriggerUnit())>0 then
set G1[$B]=1
endif
if GetUnitAbilityLevelSwapped('A1V0',GetTriggerUnit())>0 then
set G1[$C]=1
endif
if GetUnitAbilityLevelSwapped('A0N4',GetTriggerUnit())>0 then
set G1[$D]=1
endif
if GetUnitAbilityLevelSwapped('A1UV',GetTriggerUnit())>0 then
set G1[$E]=1
endif
if GetUnitAbilityLevelSwapped('A1UW',GetTriggerUnit())>0 then
set G1[$F]=1
endif
if GetUnitAbilityLevelSwapped('A1UX',GetTriggerUnit())>0 then
set G1[16]=1
endif
if GetUnitAbilityLevelSwapped('A1UY',GetTriggerUnit())>0 then
set G1[17]=1
endif
if GetUnitAbilityLevelSwapped('A1UU',GetTriggerUnit())>0 then
set G1[18]=1
endif
if GetUnitAbilityLevelSwapped('A1UT',GetTriggerUnit())>0 then
set G1[19]=1
endif
if GetUnitAbilityLevelSwapped('A01Q',GetTriggerUnit())>0 then
set G1[20]=1
endif
if GetUnitAbilityLevelSwapped('A1QY',GetTriggerUnit())>0 then
set G1[21]=1
endif
if GetUnitAbilityLevelSwapped('A1P3',GetTriggerUnit())>0 then
set G1[22]=1
endif
if GetUnitAbilityLevelSwapped('A1QZ',GetTriggerUnit())>0 then
set G1[23]=1
endif
if GetUnitAbilityLevelSwapped('A1R1',GetTriggerUnit())>0 then
set G1[24]=1
endif
if GetUnitAbilityLevelSwapped('A1GQ',GetTriggerUnit())>0 then
set G1[25]=1
endif
if GetUnitAbilityLevelSwapped('A1GU',GetTriggerUnit())>0 then
set G1[26]=1
endif
if GetUnitAbilityLevelSwapped('A1GT',GetTriggerUnit())>0 then
set G1[27]=1
endif
if(GetSpellAbilityId()=='A1W3')then
set G1[28]=1
endif
if(GetSpellAbilityId()=='A1W4')then
set G1[29]=1
endif
if(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I041'))and(GetSpellAbilityId()!='A1W4')and(GetSpellAbilityId()!='A1W3')then
set G1[30]=1
endif
if GetUnitAbilityLevelSwapped('A18D',GetTriggerUnit())>0 then
set G1[31]=1
endif
if GetUnitAbilityLevelSwapped('A18C',GetTriggerUnit())>0 then
set G1[32]=1
endif
if GetUnitAbilityLevelSwapped('A18E',GetTriggerUnit())>0 then
set G1[33]=1
endif
if GetUnitAbilityLevelSwapped('A19P',GetTriggerUnit())>0 then
set G1[34]=1
endif
if GetUnitAbilityLevelSwapped('A19O',GetTriggerUnit())>0 then
set G1[35]=1
endif
if GetUnitAbilityLevelSwapped('A19N',GetTriggerUnit())>0 then
set G1[36]=1
endif
if GetUnitAbilityLevelSwapped('A161',GetTriggerUnit())>0 then
set G1[37]=1
endif
if GetUnitAbilityLevelSwapped('A162',GetTriggerUnit())>0 then
set G1[38]=1
endif
if GetUnitAbilityLevelSwapped('A19U',GetTriggerUnit())>0 then
set G1[39]=1
endif
if GetUnitAbilityLevelSwapped('A1GL',GetTriggerUnit())>0 then
set G1[40]=1
endif
if GetUnitAbilityLevelSwapped('A1KA',GetTriggerUnit())>0 then
set G1[41]=1
endif
if GetUnitAbilityLevelSwapped('A15Z',GetTriggerUnit())>0 then
set G1[42]=1
endif
if GetUnitAbilityLevelSwapped('A1ER',GetTriggerUnit())>0 then
set G1[43]=1
endif
if GetUnitAbilityLevelSwapped('A160',GetTriggerUnit())>0 then
set G1[44]=1
endif
if GetUnitAbilityLevelSwapped('A1E4',GetTriggerUnit())>0 then
set G1[45]=1
endif
if GetUnitAbilityLevelSwapped('A1XY',GetTriggerUnit())>0 then
set G1[46]=1
endif
if GetUnitAbilityLevelSwapped('A1VC',GetTriggerUnit())>0 then
set G1[47]=1
endif
if WC[GetConvertedPlayerId(GetTriggerPlayer())] then
set WC[GetConvertedPlayerId(GetTriggerPlayer())]=false
endif
endfunction
function SFB takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,Y5)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,Z5)
call ModifyHeroStat(bj_HEROSTAT_INT,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,V6)
set JZV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastReplacedUnitBJ()
if(SAB())then
set GLV=GetLastReplacedUnitBJ()
endif
if(SNB())then
set FLV=GetLastReplacedUnitBJ()
endif
if(SBB())then
set IHV=GetLastReplacedUnitBJ()
endif
if(SCB())then
set GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastReplacedUnitBJ()
endif
if(VF==1)then
call UnitAddAbilityBJ('A1KS',GetLastReplacedUnitBJ())
endif
if(WH==1)then
call UnitAddAbilityBJ('A1S3',GetLastReplacedUnitBJ())
endif
call UnitAddAbilityBJ(ZB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetLastReplacedUnitBJ())
if G1[5]==1 then
call UnitAddAbilityBJ('A1D4',GetLastReplacedUnitBJ())
endif
if G1[7]==1 then
call UnitAddAbilityBJ('A1UZ',GetLastReplacedUnitBJ())
endif
if G1[8]==1 then
call UnitAddAbilityBJ('A1KB',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('AItx',GetLastReplacedUnitBJ())
endif
if G1[9]==1 then
call UnitAddAbilityBJ('A1KA',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A130',GetLastReplacedUnitBJ())
endif
if G1[$A]==1 then
call UnitAddAbilityBJ('A1D5',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1D5',GetLastReplacedUnitBJ(),LG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))+$80])
endif
if G1[$B]==1 then
call UnitAddAbilityBJ('A05A',GetLastReplacedUnitBJ())
endif
if G1[$C]==1 then
call UnitAddAbilityBJ('A1V0',GetLastReplacedUnitBJ())
endif
if G1[$D]==1 then
call UnitAddAbilityBJ('A0N4',GetLastReplacedUnitBJ())
endif
if G1[$E]==1 then
call UnitAddAbilityBJ('A1UV',GetLastReplacedUnitBJ())
endif
if G1[$F]==1 then
call UnitAddAbilityBJ('A1UW',GetLastReplacedUnitBJ())
endif
if G1[16]==1 then
call UnitAddAbilityBJ('A1UX',GetLastReplacedUnitBJ())
endif
if G1[17]==1 then
call UnitAddAbilityBJ('A1UY',GetLastReplacedUnitBJ())
endif
if G1[18]==1 then
call UnitAddAbilityBJ('A1UU',GetLastReplacedUnitBJ())
endif
if G1[19]==1 then
call UnitAddAbilityBJ('A1UT',GetLastReplacedUnitBJ())
endif
if G1[20]==1 then
call UnitAddAbilityBJ('A01Q',GetLastReplacedUnitBJ())
endif
if G1[21]==1 then
call UnitAddAbilityBJ('A1QY',GetLastReplacedUnitBJ())
endif
if G1[22]==1 then
call UnitAddAbilityBJ('A1P3',GetLastReplacedUnitBJ())
endif
if G1[23]==1 then
call UnitAddAbilityBJ('A1QZ',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1R0',GetLastReplacedUnitBJ())
endif
if G1[24]==1 then
call UnitAddAbilityBJ('A1R1',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1R2',GetLastReplacedUnitBJ())
endif
if G1[25]==1 then
call UnitAddAbilityBJ('A1GQ',GetLastReplacedUnitBJ())
endif
if G1[26]==1 then
call UnitAddAbilityBJ('A1GU',GetLastReplacedUnitBJ())
endif
if G1[27]==1 then
call UnitAddAbilityBJ('A1GT',GetLastReplacedUnitBJ())
endif
if G1[28]==1 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetLastReplacedUnitBJ(),'I000'))
call UnitAddItemById(GetLastReplacedUnitBJ(),'I0KP')
endif
if G1[29]==1 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetLastReplacedUnitBJ(),'I024'))
call UnitAddItemById(GetLastReplacedUnitBJ(),'I0LE')
call AddSpecialEffectTargetUnitBJ("origin",GetLastReplacedUnitBJ(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if G1[30]==1 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetLastReplacedUnitBJ(),'I041'))
call UnitAddItemById(GetLastReplacedUnitBJ(),'I0LG')
call AddSpecialEffectTargetUnitBJ("origin",GetLastReplacedUnitBJ(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if G1[31]==1 then
call UnitAddAbilityBJ('A18D',GetLastReplacedUnitBJ())
endif
if G1[32]==1 then
call UnitAddAbilityBJ('A18C',GetLastReplacedUnitBJ())
endif
if G1[33]==1 then
call UnitAddAbilityBJ('A18E',GetLastReplacedUnitBJ())
endif
if G1[34]==1 then
call UnitAddAbilityBJ('A19P',GetLastReplacedUnitBJ())
endif
if G1[35]==1 then
call UnitAddAbilityBJ('A19O',GetLastReplacedUnitBJ())
endif
if G1[36]==1 then
call UnitAddAbilityBJ('A19N',GetLastReplacedUnitBJ())
endif
if G1[37]==1 then
call UnitAddAbilityBJ('A161',GetLastReplacedUnitBJ())
endif
if G1[38]==1 then
call UnitAddAbilityBJ('A162',GetLastReplacedUnitBJ())
endif
if G1[39]==1 then
call UnitAddAbilityBJ('A19U',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A19T',GetLastReplacedUnitBJ())
endif
if G1[40]==1 then
call UnitAddAbilityBJ('A1GL',GetLastReplacedUnitBJ())
endif
if G1[41]==1 then
call UnitAddAbilityBJ('A1AK',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1AJ',GetLastReplacedUnitBJ())
endif
if G1[42]==1 then
call UnitAddAbilityBJ('A15Z',GetLastReplacedUnitBJ())
endif
if G1[43]==1 then
call UnitAddAbilityBJ('A1ER',GetLastReplacedUnitBJ())
endif
if G1[44]==1 then
call UnitAddAbilityBJ('A160',GetLastReplacedUnitBJ())
endif
if G1[45]==1 then
call UnitAddAbilityBJ('A1E4',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A0BA',GetLastReplacedUnitBJ())
endif
if G1[46]==1 then
call UnitAddAbilityBJ('A1XY',GetLastReplacedUnitBJ())
endif
if G1[47]==1 then
call UnitAddAbilityBJ('A1VC',GetLastReplacedUnitBJ())
endif
if RD then
if GetUnitLevel(GetLastReplacedUnitBJ())<40 then
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
if ZC[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]>0 then
call QVE(GetLastReplacedUnitBJ(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastReplacedUnitBJ())+ZC[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
endif
call ExecuteFunc("HEN")
set G1[5]=0
set G1[7]=0
set G1[8]=0
set G1[9]=0
set G1[$A]=0
set G1[$B]=0
set G1[$C]=0
set G1[$D]=0
set G1[$E]=0
set G1[$F]=0
set G1[16]=0
set G1[17]=0
set G1[18]=0
set G1[19]=0
set G1[20]=0
set G1[21]=0
set G1[22]=0
set G1[23]=0
set G1[24]=0
set G1[25]=0
set G1[26]=0
set G1[27]=0
set G1[28]=0
set G1[29]=0
set G1[30]=0
set G1[31]=0
set G1[32]=0
set G1[33]=0
set G1[34]=0
set G1[35]=0
set G1[36]=0
set G1[37]=0
set G1[38]=0
set G1[39]=0
set G1[40]=0
set G1[41]=0
set G1[42]=0
set G1[43]=0
set G1[44]=0
set G1[45]=0
set G1[46]=0
set G1[47]=0
call SelectUnitForPlayerSingle(GetLastReplacedUnitBJ(),GetOwningPlayer(GetLastReplacedUnitBJ()))
endfunction
function SGB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z0',GetTriggerUnit())>=5)
endfunction
function SHB takes nothing returns boolean
return(GetTriggerUnit()==RKV)
endfunction
function SJB takes nothing returns boolean
return(GetTriggerUnit()==I5V)
endfunction
function SKB takes nothing returns boolean
return(GetTriggerUnit()==I_V)
endfunction
function SLB takes nothing returns boolean
return(GetTriggerUnit()==CGV)
endfunction
function SMB takes nothing returns boolean
return(GetTriggerUnit()==JDV)
endfunction
function SPB takes nothing returns boolean
return(GetTriggerUnit()==X8V)
endfunction
function SQB takes nothing returns boolean
return(GetTriggerUnit()==AHV)
endfunction
function SSB takes nothing returns boolean
return(GetTriggerUnit()==OSV)
endfunction
function STB takes nothing returns boolean
return(GetTriggerUnit()==E6V)
endfunction
function SUB takes nothing returns boolean
return(GetTriggerUnit()==HVV)
endfunction
function SWB takes nothing returns boolean
return(GetTriggerUnit()==OJV)
endfunction
function SYB takes nothing returns boolean
return(GetTriggerUnit()==RPV)
endfunction
function SZB takes nothing returns boolean
return(GetTriggerUnit()==DUV)
endfunction
function S_B takes nothing returns nothing
if(GetUnitTypeId(GetTriggerUnit())=='Otch')then
if(SWB())then
call StartTimerBJ(OHV,false,.0)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O003',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hhkl')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00R',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H03B')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03F',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05D')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set PA=null
set PA=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='H065')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H063',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SYB())then
set RPV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmkg')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H072')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H073',bj_UNIT_STATE_METHOD_RELATIVE)
if(SZB())then
set DUV=GetLastReplacedUnitBJ()
call StartTimerBJ(DTV,false,.0)
endif
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Harf')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H001',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Eevi')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E005',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hlgr')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00U',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbst')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N025',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbbc')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N03O',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05Y')then
if(SGB())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,RGV)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H066',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SHB())then
set RKV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hpal')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H003',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Huth')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H012',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Npbm')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N02Z',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SJB())then
set I5V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvwd')then
set L0=null
call StartTimerBJ(DYV,false,.0)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set SF=GetLastReplacedUnitBJ()
call SetUnitAbilityLevelSwapped('A1V8',SF,DF)
if DF>=$F then
call UnitAddAbilityBJ('A1VA',SF)
call SetUnitAbilityLevelSwapped('A1VA',SF,DF-$E)
endif
if(SLB())then
set CGV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H060')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvsh')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Naka')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N00L',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='N02Y')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N032',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SKB())then
set I_V=GetLastReplacedUnitBJ()
call UnitAddAbilityBJ('A1S7',I_V)
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='O01E')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O01H',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Oshd')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O00B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H07G')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H08E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Edem')then
set JAV=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E008',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SMB())then
set JDV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E011')then
set NF=QFE(GetTriggerUnit(),1)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E012',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
call QBE(GetLastReplacedUnitBJ(),1,NF)
set NF=0
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00X')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00Y',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SPB())then
set X8V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00W')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00T',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Obla')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O001',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ewar')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E003',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Orkn')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O00Y',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SQB())then
set AHV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05L')then
set EF=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05P',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SSB())then
set OSV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ekee')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E001',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Efur')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E006',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hkal')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00A',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hdgo')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H006',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H062')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06A',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set IJV=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmgd')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H036',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hjai')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H007',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hamg')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H014',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H039')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,XYV)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03I',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(STB())then
set E6V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nfir')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N022',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05M')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05T',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H061')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H079',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Othr')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O014',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Uvng')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'U009',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
endfunction
function S0B takes nothing returns nothing
local trigger S1B
set S1B=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S1B,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(S1B,Condition(function SIB))
call TriggerAddAction(S1B,function S_B)
endfunction
function S2B takes nothing returns boolean
return(GetSpellAbilityId()=='A1W4')
endfunction
function S3B takes nothing returns nothing
if(GetUnitTypeId(GetTriggerUnit())=='Otch')or(GetUnitTypeId(GetTriggerUnit())=='O003')then
if(SWB())then
call StartTimerBJ(OHV,false,.0)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O002',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hhkl')or(GetUnitTypeId(GetTriggerUnit())=='H00R')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00S',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H03B')or(GetUnitTypeId(GetTriggerUnit())=='H03F')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03G',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05D')or(GetUnitTypeId(GetTriggerUnit())=='H05C')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set PA=null
set PA=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='H065')or(GetUnitTypeId(GetTriggerUnit())=='H063')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H064',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SYB())then
set RPV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmkg')or(GetUnitTypeId(GetTriggerUnit())=='H03C')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H072')or(GetUnitTypeId(GetTriggerUnit())=='H073')then
if(SZB())then
set DUV=GetLastReplacedUnitBJ()
call StartTimerBJ(DTV,false,.0)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H074',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Harf')or(GetUnitTypeId(GetTriggerUnit())=='H001')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H002',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Eevi')or(GetUnitTypeId(GetTriggerUnit())=='E005')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E004',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hlgr')or(GetUnitTypeId(GetTriggerUnit())=='H00U')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00V',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbst')or(GetUnitTypeId(GetTriggerUnit())=='N025')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N026',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbbc')or(GetUnitTypeId(GetTriggerUnit())=='N03O')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N03P',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05Y')or(GetUnitTypeId(GetTriggerUnit())=='H066')then
if(SGB())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,RGV)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H067',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SHB())then
set RKV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hpal')or(GetUnitTypeId(GetTriggerUnit())=='H003')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H004',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SUB())then
set HVV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Huth')or(GetUnitTypeId(GetTriggerUnit())=='H012')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H013',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Npbm')or(GetUnitTypeId(GetTriggerUnit())=='N02Z')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N030',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SJB())then
set I5V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvwd')or(GetUnitTypeId(GetTriggerUnit())=='H00C')then
set L0=null
call StartTimerBJ(DYV,false,.0)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set SF=GetLastReplacedUnitBJ()
call SetUnitAbilityLevelSwapped('A1V8',SF,DF)
if DF>=$F then
call UnitAddAbilityBJ('A1VA',SF)
call SetUnitAbilityLevelSwapped('A1VA',SF,DF-$E)
endif
if(SLB())then
set CGV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H060')or(GetUnitTypeId(GetTriggerUnit())=='H06D')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvsh')or(GetUnitTypeId(GetTriggerUnit())=='H00D')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H00E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Naka')or(GetUnitTypeId(GetTriggerUnit())=='N00L')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N00M',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='N02Y')or(GetUnitTypeId(GetTriggerUnit())=='N032')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N033',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SKB())then
set I_V=GetLastReplacedUnitBJ()
call UnitAddAbilityBJ('A1S7',I_V)
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='O01E')or(GetUnitTypeId(GetTriggerUnit())=='O01H')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O01I',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Oshd')or(GetUnitTypeId(GetTriggerUnit())=='O00B')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O00C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H07G')or(GetUnitTypeId(GetTriggerUnit())=='H08E')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H08F',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Edem')or(GetUnitTypeId(GetTriggerUnit())=='E008')then
set JAV=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E009',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SMB())then
set JDV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E011')or(GetUnitTypeId(GetTriggerUnit())=='E012')then
set NF=QFE(GetTriggerUnit(),1)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E013',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
call QBE(GetLastReplacedUnitBJ(),1,NF)
set NF=0
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00X')or(GetUnitTypeId(GetTriggerUnit())=='E00Y')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00Z',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SPB())then
set X8V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00W')or(GetUnitTypeId(GetTriggerUnit())=='E00T')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00V',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Obla')or(GetUnitTypeId(GetTriggerUnit())=='O001')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O000',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ewar')or(GetUnitTypeId(GetTriggerUnit())=='E003')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E002',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Orkn')or(GetUnitTypeId(GetTriggerUnit())=='O00Y')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O00Z',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SQB())then
set AHV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05L')or(GetUnitTypeId(GetTriggerUnit())=='H05P')then
set EF=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05Q',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SSB())then
set OSV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ekee')or(GetUnitTypeId(GetTriggerUnit())=='E001')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E000',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Efur')or(GetUnitTypeId(GetTriggerUnit())=='E006')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E007',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hkal')or(GetUnitTypeId(GetTriggerUnit())=='H00A')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H009',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hdgo')or(GetUnitTypeId(GetTriggerUnit())=='H006')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H005',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H062')or(GetUnitTypeId(GetTriggerUnit())=='H06A')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set IJV=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmgd')or(GetUnitTypeId(GetTriggerUnit())=='H036')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H037',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hjai')or(GetUnitTypeId(GetTriggerUnit())=='H007')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H008',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hamg')or(GetUnitTypeId(GetTriggerUnit())=='H014')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H015',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H039')or(GetUnitTypeId(GetTriggerUnit())=='H03I')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,XYV)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03J',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$D2)
if(STB())then
set E6V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nfir')or(GetUnitTypeId(GetTriggerUnit())=='N022')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N023',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05M')or(GetUnitTypeId(GetTriggerUnit())=='H05T')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05U',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H061')or(GetUnitTypeId(GetTriggerUnit())=='H079')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H078',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Othr')or(GetUnitTypeId(GetTriggerUnit())=='O014')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O015',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Uvng')or(GetUnitTypeId(GetTriggerUnit())=='U009')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'U00A',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
endfunction
function S4B takes nothing returns nothing
local trigger S5B
set S5B=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S5B,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(S5B,Condition(function S2B))
call TriggerAddAction(S5B,function S3B)
endfunction
function S6B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I041'))
endfunction
function S7B takes nothing returns nothing
if(GetUnitTypeId(GetTriggerUnit())=='Otch')then
if(SWB())then
call StartTimerBJ(OHV,false,.0)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O005',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hhkl')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01A',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H03B')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03H',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05D')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05F',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set PA=null
set PA=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='H065')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05Z',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SYB())then
set RPV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmkg')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H072')then
if(SZB())then
set DUV=GetLastReplacedUnitBJ()
call StartTimerBJ(DTV,false,.0)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H075',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Harf')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H019',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Eevi')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hlgr')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01E',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbst')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N027',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nbbc')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N03Q',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05Y')then
if(SGB())then
call ModifyHeroStat(bj_HEROSTAT_STR,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,RGV)
endif
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H068',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SHB())then
set RKV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hpal')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H016',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Huth')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Npbm')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N031',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SJB())then
set I5V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvwd')then
set L0=null
call StartTimerBJ(DYV,false,.0)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01F',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set SF=GetLastReplacedUnitBJ()
call SetUnitAbilityLevelSwapped('A1V8',SF,DF)
if DF>=$F then
call UnitAddAbilityBJ('A1VA',SF)
call SetUnitAbilityLevelSwapped('A1VA',SF,DF-$E)
endif
if(SLB())then
set CGV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H060')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06F',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hvsh')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01G',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Naka')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N00V',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='N02Y')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N034',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SKB())then
set I_V=GetLastReplacedUnitBJ()
call UnitAddAbilityBJ('A1S7',I_V)
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='O01E')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O01J',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Oshd')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O00D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H07G')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H08G',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Edem')then
set JAV=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SMB())then
set JDV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E011')then
set NF=QFE(GetTriggerUnit(),1)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E014',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
call QBE(GetLastReplacedUnitBJ(),1,NF)
set NF=0
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00X')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E010',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SPB())then
set X8V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='E00W')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00U',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Obla')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O004',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ewar')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Orkn')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O010',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SQB())then
set AHV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05L')then
set EF=0
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05R',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
if(SSB())then
set OSV=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Ekee')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00A',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Efur')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'E00D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hkal')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01D',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hdgo')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H018',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H062')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H06C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
set IJV=GetLastReplacedUnitBJ()
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hmgd')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H038',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hjai')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H01C',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Hamg')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H017',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H039')then
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_SUB,XYV)
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03K',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
call ModifyHeroStat(bj_HEROSTAT_INT,GetTriggerUnit(),bj_MODIFYMETHOD_ADD,$D2)
if(STB())then
set E6V=GetLastReplacedUnitBJ()
endif
endif
if(GetUnitTypeId(GetTriggerUnit())=='Nfir')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'N024',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H05M')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05S',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='H061')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H069',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Othr')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'O016',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
if(GetUnitTypeId(GetTriggerUnit())=='Uvng')then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'U00B',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("SFB")
endif
endfunction
function S8B takes nothing returns nothing
local trigger S9B
set S9B=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S9B,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(S9B,Condition(function S6B))
call TriggerAddAction(S9B,function S7B)
endfunction
function TVB takes nothing returns boolean
return(GetLearnedSkillBJ()=='A1V4')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function TEB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())==1)
endfunction
function TXB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())==2)
endfunction
function TOB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())==3)
endfunction
function TRB takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())==4)
endfunction
function TIB takes nothing returns nothing
if(TEB())then
call ExecuteFunc("SDB")
set G1[0]=GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())
set G1[1]=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set G1[2]=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set G1[3]=GetUnitAbilityLevelSwapped('A0I7',GetTriggerUnit())
set G1[4]=GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())
call ReplaceUnitBJ(GetTriggerUnit(),'H01J',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("RFN")
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SUB,(GetUnitLevel(GetLastReplacedUnitBJ())))
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,(GetUnitLevel(GetLastReplacedUnitBJ()))-(G1[0]+G1[1]+G1[2]+G1[3]+G1[4]))
if G1[0]>0 then
call UnitAddAbilityBJ('A0IL',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IL',GetLastReplacedUnitBJ(),G1[0])
endif
if G1[1]>0 then
call UnitAddAbilityBJ('A0I8',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I8',GetLastReplacedUnitBJ(),G1[1])
endif
if G1[2]>0 then
call UnitAddAbilityBJ('A0IA',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IA',GetLastReplacedUnitBJ(),G1[2])
endif
if G1[3]>0 then
call UnitAddAbilityBJ('A0I7',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I7',GetLastReplacedUnitBJ(),G1[3])
endif
if G1[4]>0 then
call UnitAddAbilityBJ('A1V4',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1V4',GetLastReplacedUnitBJ(),G1[4])
endif
set G1[0]=0
set G1[1]=0
set G1[2]=0
set G1[3]=0
set G1[4]=0
endif
if(TXB())then
call ExecuteFunc("SDB")
set G1[0]=GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())
set G1[1]=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set G1[2]=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set G1[3]=GetUnitAbilityLevelSwapped('A0I7',GetTriggerUnit())
set G1[4]=GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())
call ReplaceUnitBJ(GetTriggerUnit(),'H08L',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("RFN")
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SUB,(GetUnitLevel(GetLastReplacedUnitBJ())))
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,(GetUnitLevel(GetLastReplacedUnitBJ()))-(G1[0]+G1[1]+G1[2]+G1[3]+G1[4]))
if G1[0]>0 then
call UnitAddAbilityBJ('A0IL',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IL',GetLastReplacedUnitBJ(),G1[0])
endif
if G1[1]>0 then
call UnitAddAbilityBJ('A0I8',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I8',GetLastReplacedUnitBJ(),G1[1])
endif
if G1[2]>0 then
call UnitAddAbilityBJ('A0IA',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IA',GetLastReplacedUnitBJ(),G1[2])
endif
if G1[3]>0 then
call UnitAddAbilityBJ('A0I7',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I7',GetLastReplacedUnitBJ(),G1[3])
endif
if G1[4]>0 then
call UnitAddAbilityBJ('A1V4',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1V4',GetLastReplacedUnitBJ(),G1[4])
endif
set G1[0]=0
set G1[1]=0
set G1[2]=0
set G1[3]=0
set G1[4]=0
endif
if(TOB())then
call ExecuteFunc("SDB")
set G1[0]=GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())
set G1[1]=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set G1[2]=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set G1[3]=GetUnitAbilityLevelSwapped('A0I7',GetTriggerUnit())
set G1[4]=GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())
call ReplaceUnitBJ(GetTriggerUnit(),'H08M',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("RFN")
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SUB,(GetUnitLevel(GetLastReplacedUnitBJ())))
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,(GetUnitLevel(GetLastReplacedUnitBJ()))-(G1[0]+G1[1]+G1[2]+G1[3]+G1[4]))
if G1[0]>0 then
call UnitAddAbilityBJ('A0IL',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IL',GetLastReplacedUnitBJ(),G1[0])
endif
if G1[1]>0 then
call UnitAddAbilityBJ('A0I8',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I8',GetLastReplacedUnitBJ(),G1[1])
endif
if G1[2]>0 then
call UnitAddAbilityBJ('A0IA',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IA',GetLastReplacedUnitBJ(),G1[2])
endif
if G1[3]>0 then
call UnitAddAbilityBJ('A0I7',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I7',GetLastReplacedUnitBJ(),G1[3])
endif
if G1[4]>0 then
call UnitAddAbilityBJ('A1V4',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1V4',GetLastReplacedUnitBJ(),G1[4])
endif
set G1[0]=0
set G1[1]=0
set G1[2]=0
set G1[3]=0
set G1[4]=0
endif
if(TRB())then
call ExecuteFunc("SDB")
set G1[0]=GetUnitAbilityLevelSwapped('A0IL',GetTriggerUnit())
set G1[1]=GetUnitAbilityLevelSwapped('A0I8',GetTriggerUnit())
set G1[2]=GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())
set G1[3]=GetUnitAbilityLevelSwapped('A0I7',GetTriggerUnit())
set G1[4]=GetUnitAbilityLevelSwapped('A1V4',GetTriggerUnit())
call ReplaceUnitBJ(GetTriggerUnit(),'H01I',bj_UNIT_STATE_METHOD_RELATIVE)
call ExecuteFunc("RFN")
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SUB,(GetUnitLevel(GetLastReplacedUnitBJ())))
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,(GetUnitLevel(GetLastReplacedUnitBJ()))-(G1[0]+G1[1]+G1[2]+G1[3]+G1[4]))
if G1[0]>0 then
call UnitAddAbilityBJ('A0IL',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IL',GetLastReplacedUnitBJ(),G1[0])
endif
if G1[1]>0 then
call UnitAddAbilityBJ('A0I8',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I8',GetLastReplacedUnitBJ(),G1[1])
endif
if G1[2]>0 then
call UnitAddAbilityBJ('A0IA',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0IA',GetLastReplacedUnitBJ(),G1[2])
endif
if G1[3]>0 then
call UnitAddAbilityBJ('A0I7',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A0I7',GetLastReplacedUnitBJ(),G1[3])
endif
if G1[4]>0 then
call UnitAddAbilityBJ('A1V4',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1V4',GetLastReplacedUnitBJ(),G1[4])
endif
set G1[0]=0
set G1[1]=0
set G1[2]=0
set G1[3]=0
set G1[4]=0
endif
endfunction
function TAB takes nothing returns nothing
local trigger TNB
set TNB=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TNB,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(TNB,Condition(function TVB))
call TriggerAddAction(TNB,function TIB)
endfunction
function RFN takes nothing returns nothing
call ModifyHeroStat(bj_HEROSTAT_STR,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,Y5)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,Z5)
call ModifyHeroStat(bj_HEROSTAT_INT,GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_SET,V6)
call SetUnitLifeBJ(GetLastReplacedUnitBJ(),GetUnitStateSwap(UNIT_STATE_LIFE,GetLastReplacedUnitBJ())+$C8)
set JZV[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]=GetLastReplacedUnitBJ()
if(SAB())then
set GLV=GetLastReplacedUnitBJ()
endif
if(SNB())then
set FLV=GetLastReplacedUnitBJ()
endif
if(SBB())then
set IHV=GetLastReplacedUnitBJ()
endif
if(SCB())then
set GUV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastReplacedUnitBJ()
endif
if(VF==1)then
call UnitAddAbilityBJ('A1KS',GetLastReplacedUnitBJ())
endif
if(WH==1)then
call UnitAddAbilityBJ('A1S3',GetLastReplacedUnitBJ())
endif
call UnitAddAbilityBJ(ZB[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))],GetLastReplacedUnitBJ())
if G1[5]==1 then
call UnitAddAbilityBJ('A1D4',GetLastReplacedUnitBJ())
endif
if G1[7]==1 then
call UnitAddAbilityBJ('A1UZ',GetLastReplacedUnitBJ())
endif
if G1[8]==1 then
call UnitAddAbilityBJ('A1KB',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('AItx',GetLastReplacedUnitBJ())
endif
if G1[9]==1 then
call UnitAddAbilityBJ('A1KA',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A130',GetLastReplacedUnitBJ())
endif
if G1[$A]==1 then
call UnitAddAbilityBJ('A1D5',GetLastReplacedUnitBJ())
call SetUnitAbilityLevelSwapped('A1D5',GetLastReplacedUnitBJ(),LG[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))+$80])
endif
if G1[$B]==1 then
call UnitAddAbilityBJ('A05A',GetLastReplacedUnitBJ())
endif
if G1[$C]==1 then
call UnitAddAbilityBJ('A1V0',GetLastReplacedUnitBJ())
endif
if G1[$D]==1 then
call UnitAddAbilityBJ('A0N4',GetLastReplacedUnitBJ())
endif
if G1[$E]==1 then
call UnitAddAbilityBJ('A1UV',GetLastReplacedUnitBJ())
endif
if G1[$F]==1 then
call UnitAddAbilityBJ('A1UW',GetLastReplacedUnitBJ())
endif
if G1[16]==1 then
call UnitAddAbilityBJ('A1UX',GetLastReplacedUnitBJ())
endif
if G1[17]==1 then
call UnitAddAbilityBJ('A1UY',GetLastReplacedUnitBJ())
endif
if G1[18]==1 then
call UnitAddAbilityBJ('A1UU',GetLastReplacedUnitBJ())
endif
if G1[19]==1 then
call UnitAddAbilityBJ('A1UT',GetLastReplacedUnitBJ())
endif
if G1[20]==1 then
call UnitAddAbilityBJ('A01Q',GetLastReplacedUnitBJ())
endif
if G1[21]==1 then
call UnitAddAbilityBJ('A1QY',GetLastReplacedUnitBJ())
endif
if G1[22]==1 then
call UnitAddAbilityBJ('A1P3',GetLastReplacedUnitBJ())
endif
if G1[23]==1 then
call UnitAddAbilityBJ('A1QZ',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1R0',GetLastReplacedUnitBJ())
endif
if G1[24]==1 then
call UnitAddAbilityBJ('A1R1',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1R2',GetLastReplacedUnitBJ())
endif
if G1[25]==1 then
call UnitAddAbilityBJ('A1GQ',GetLastReplacedUnitBJ())
endif
if G1[26]==1 then
call UnitAddAbilityBJ('A1GU',GetLastReplacedUnitBJ())
endif
if G1[27]==1 then
call UnitAddAbilityBJ('A1GT',GetLastReplacedUnitBJ())
endif
if G1[31]==1 then
call UnitAddAbilityBJ('A18D',GetLastReplacedUnitBJ())
endif
if G1[32]==1 then
call UnitAddAbilityBJ('A18C',GetLastReplacedUnitBJ())
endif
if G1[33]==1 then
call UnitAddAbilityBJ('A18E',GetLastReplacedUnitBJ())
endif
if G1[34]==1 then
call UnitAddAbilityBJ('A19P',GetLastReplacedUnitBJ())
endif
if G1[35]==1 then
call UnitAddAbilityBJ('A19O',GetLastReplacedUnitBJ())
endif
if G1[36]==1 then
call UnitAddAbilityBJ('A19N',GetLastReplacedUnitBJ())
endif
if G1[37]==1 then
call UnitAddAbilityBJ('A161',GetLastReplacedUnitBJ())
endif
if G1[38]==1 then
call UnitAddAbilityBJ('A162',GetLastReplacedUnitBJ())
endif
if G1[39]==1 then
call UnitAddAbilityBJ('A19U',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A19T',GetLastReplacedUnitBJ())
endif
if G1[40]==1 then
call UnitAddAbilityBJ('A1GL',GetLastReplacedUnitBJ())
endif
if G1[41]==1 then
call UnitAddAbilityBJ('A1AK',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A1AJ',GetLastReplacedUnitBJ())
endif
if G1[42]==1 then
call UnitAddAbilityBJ('A15Z',GetLastReplacedUnitBJ())
endif
if G1[43]==1 then
call UnitAddAbilityBJ('A1ER',GetLastReplacedUnitBJ())
endif
if G1[44]==1 then
call UnitAddAbilityBJ('A160',GetLastReplacedUnitBJ())
endif
if G1[45]==1 then
call UnitAddAbilityBJ('A1E4',GetLastReplacedUnitBJ())
call UnitAddAbilityBJ('A0BA',GetLastReplacedUnitBJ())
endif
if G1[46]==1 then
call UnitAddAbilityBJ('A1XY',GetLastReplacedUnitBJ())
endif
if G1[47]==1 then
call UnitAddAbilityBJ('A1VC',GetLastReplacedUnitBJ())
endif
if RD then
if GetUnitLevel(GetLastReplacedUnitBJ())<40 then
call ModifyHeroSkillPoints(GetLastReplacedUnitBJ(),bj_MODIFYMETHOD_ADD,1)
endif
endif
if ZC[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))]>0 then
call QVE(GetLastReplacedUnitBJ(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetLastReplacedUnitBJ())+ZC[GetConvertedPlayerId(GetOwningPlayer(GetLastReplacedUnitBJ()))])
endif
call ExecuteFunc("HEN")
set G1[5]=0
set G1[7]=0
set G1[8]=0
set G1[9]=0
set G1[$A]=0
set G1[$B]=0
set G1[$C]=0
set G1[$D]=0
set G1[$E]=0
set G1[$F]=0
set G1[16]=0
set G1[17]=0
set G1[18]=0
set G1[19]=0
set G1[20]=0
set G1[21]=0
set G1[22]=0
set G1[23]=0
set G1[24]=0
set G1[25]=0
set G1[26]=0
set G1[27]=0
set G1[31]=0
set G1[32]=0
set G1[33]=0
set G1[34]=0
set G1[35]=0
set G1[36]=0
set G1[37]=0
set G1[38]=0
set G1[39]=0
set G1[40]=0
set G1[41]=0
set G1[42]=0
set G1[43]=0
set G1[44]=0
set G1[45]=0
set G1[46]=0
set G1[47]=0
call SelectUnitForPlayerSingle(GetLastReplacedUnitBJ(),GetOwningPlayer(GetLastReplacedUnitBJ()))
endfunction
function TBB takes nothing returns boolean
return(GetSpellAbilityId()=='A0EH')
endfunction
function TCB takes nothing returns boolean
return(GetSpellAbilityId()=='A0EI')
endfunction
function TDB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RC')
endfunction
function TFB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RF')
endfunction
function TGB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RG')
endfunction
function THB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QX')
endfunction
function TJB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RM')
endfunction
function TKB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RN')
endfunction
function TLB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RH')
endfunction
function TMB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RI')
endfunction
function TPB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RJ')
endfunction
function TQB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RK')
endfunction
function TSB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RL')
endfunction
function TTB takes nothing returns boolean
return(GetSpellAbilityId()=='A0R0')
endfunction
function TUB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RR')
endfunction
function TWB takes nothing returns boolean
return(GetSpellAbilityId()=='A0FK')
endfunction
function TYB takes nothing returns boolean
return(GetSpellAbilityId()=='A0FL')
endfunction
function TZB takes nothing returns boolean
return(GetSpellAbilityId()=='A0FM')
endfunction
function T_B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R3')
endfunction
function T0B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R4')
endfunction
function T1B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R5')
endfunction
function T2B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R9')
endfunction
function T3B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R1')
endfunction
function T4B takes nothing returns boolean
return(GetSpellAbilityId()=='A0QY')
endfunction
function T5B takes nothing returns boolean
return(GetSpellAbilityId()=='A0QZ')
endfunction
function T6B takes nothing returns boolean
return(GetSpellAbilityId()=='A0RE')
endfunction
function T7B takes nothing returns boolean
return(GetSpellAbilityId()=='A0RQ')
endfunction
function T8B takes nothing returns boolean
return(GetSpellAbilityId()=='A0R2')
endfunction
function T9B takes nothing returns boolean
return(GetSpellAbilityId()=='A0RO')
endfunction
function UVB takes nothing returns boolean
return(GetSpellAbilityId()=='A0R7')
endfunction
function UEB takes nothing returns boolean
return(GetSpellAbilityId()=='A0R8')
endfunction
function UXB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RB')
endfunction
function UOB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RA')
endfunction
function URB takes nothing returns boolean
return(GetSpellAbilityId()=='A0R6')
endfunction
function UIB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RD')
endfunction
function UAB takes nothing returns boolean
return(GetSpellAbilityId()=='A0FJ')
endfunction
function UNB takes nothing returns boolean
return(GetSpellAbilityId()=='A0QV')
endfunction
function UBB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S9')
endfunction
function UCB takes nothing returns boolean
return(GetSpellAbilityId()=='A0EJ')
endfunction
function UDB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RP')
endfunction
function UFB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RS')
endfunction
function UGB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RT')
endfunction
function UHB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RU')
endfunction
function UJB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RV')
endfunction
function UKB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RW')
endfunction
function ULB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RX')
endfunction
function UMB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RY')
endfunction
function UPB takes nothing returns boolean
return(GetSpellAbilityId()=='A0RZ')
endfunction
function UQB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S0')
endfunction
function USB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S1')
endfunction
function UTB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S2')
endfunction
function UUB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S4')
endfunction
function UWB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S3')
endfunction
function UYB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S5')
endfunction
function UZB takes nothing returns boolean
return(GetSpellAbilityId()=='A0S6')
endfunction
function U_B takes nothing returns nothing
if(TBB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03M',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-2),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
call ExecuteFunc("RFN")
endif
if(TCB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03P',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-3),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
call ExecuteFunc("RFN")
endif
if(TDB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04F',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(TFB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04G',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(TGB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04H',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(THB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04O',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(TJB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04P',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(TKB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04Q',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(TLB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04I',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(TMB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04J',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(TPB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04K',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(TQB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04L',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(TSB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04R',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(TTB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04T',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(TUB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04S',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(TWB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03Q',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-3),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
call ExecuteFunc("RFN")
endif
if(TYB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03S',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(TZB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03W',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(T_B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03X',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(T0B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03Y',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-8),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
call ExecuteFunc("RFN")
endif
if(T1B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03Z',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(T2B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H040',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(T3B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H049',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(T4B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04A',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(T5B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04B',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(T6B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04E',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(T7B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04C',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(T8B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04D',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(T9B())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H043',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-7),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-7)
call ExecuteFunc("RFN")
endif
if(UVB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H045',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-8),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
call ExecuteFunc("RFN")
endif
if(UEB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H047',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UXB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H044',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-8),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
call ExecuteFunc("RFN")
endif
if(UOB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H046',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(URB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H041',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-8),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
call ExecuteFunc("RFN")
endif
if(UIB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H042',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UAB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03R',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(UNB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04V',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$D),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$D)
call ExecuteFunc("RFN")
endif
if(UBB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04U',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$D),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$D)
call ExecuteFunc("RFN")
endif
if(UCB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H03O',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-2),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-2)
call ExecuteFunc("RFN")
endif
if(UDB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H052',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-3),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
call ExecuteFunc("RFN")
endif
if(UFB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H053',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(UGB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H054',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-8),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-8)
call ExecuteFunc("RFN")
endif
if(UHB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H055',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UJB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H056',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-5),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-5)
call ExecuteFunc("RFN")
endif
if(UKB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H057',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(ULB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H058',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UMB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H059',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(UPB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05A',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
if GetUnitAbilityLevelSwapped('A1XW',INV)==1 then
call UnitRemoveAbilityBJ('A1XW',INV)
endif
if GetUnitAbilityLevelSwapped('A1XX',INV)==1 then
call UnitRemoveAbilityBJ('A1XX',INV)
endif
set IDV=null
set ICV=INV
set IBV=0
set INV=null
call KillUnit(ICV)
set ICV=null
endif
if(UQB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H05B',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
if GetUnitAbilityLevelSwapped('A1XW',INV)==1 then
call UnitRemoveAbilityBJ('A1XW',INV)
endif
if GetUnitAbilityLevelSwapped('A1XX',INV)==1 then
call UnitRemoveAbilityBJ('A1XX',INV)
endif
set IDV=null
set ICV=INV
set IBV=0
set INV=null
call KillUnit(ICV)
set ICV=null
endif
if(USB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04W',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-3),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-3)
call ExecuteFunc("RFN")
endif
if(UTB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04Z',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(UUB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H051',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UWB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H050',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
if(UYB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04X',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-6),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-6)
call ExecuteFunc("RFN")
endif
if(UZB())then
call ExecuteFunc("SDB")
call ReplaceUnitBJ(GetTriggerUnit(),'H04Y',bj_UNIT_STATE_METHOD_RELATIVE)
call SetHeroLevelBJ(GetLastReplacedUnitBJ(),(GetHeroLevel(GetTriggerUnit())-$A),false)
set RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(RN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-$A)
call ExecuteFunc("RFN")
endif
endfunction
function U0B takes nothing returns nothing
local trigger U1B
set U1B=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(U1B,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(U1B,function U_B)
endfunction
function U2B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IU'))and(FIV==0)
endfunction
function U3B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IV'))and(FIV==0)
endfunction
function U4B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IV'))and(FIV>0)
endfunction
function U5B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IU'))and(FIV>0)
endfunction
function U6B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IW'))and(FIV==0)
endfunction
function U7B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IW'))and(FIV>0)
endfunction
function U8B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IX'))and(FIV>0)and(FAV>0)
endfunction
function U9B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IX'))and(FIV==0)and(FAV==0)and(FNV==0)
endfunction
function WVB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IY'))and(FIV==0)
endfunction
function WEB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IY'))and(FIV>0)
endfunction
function WXB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IZ'))and(FIV==0)
endfunction
function WOB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IZ'))and(FIV>0)
endfunction
function WRB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J0'))and(FIV==0)
endfunction
function WIB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J0'))and(FIV>0)
endfunction
function WAB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J1'))and(FIV==0)
endfunction
function WNB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J1'))and(FIV>0)
endfunction
function WBB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J2'))and(FIV==0)
endfunction
function WCB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0J2'))and(FIV>0)
endfunction
function WDB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0JX'))and(FAV==0)
endfunction
function WFB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0JX'))and(FAV>0)
endfunction
function WGB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0JZ'))and(FAV==0)
endfunction
function WHB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0JZ'))and(FAV>0)
endfunction
function WJB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K1'))and(FAV==0)
endfunction
function WKB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K1'))and(FAV>0)
endfunction
function WLB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K2'))and(FIV==0)
endfunction
function WMB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K2'))and(FIV>0)
endfunction
function WPB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K3'))and(FIV==0)
endfunction
function WQB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0K3'))and(FIV>0)
endfunction
function WSB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0LK'))and(FIV==0)
endfunction
function WTB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0LK'))and(FIV>0)
endfunction
function WUB takes nothing returns boolean
return((GetItemTypeId(GetManipulatedItem())=='I0K4')and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function WWB takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0K6')
endfunction
function WYB takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0KW')
endfunction
function WZB takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0KX')
endfunction
function W_B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0KY')
endfunction
function W0B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0KZ')
endfunction
function W1B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L0')
endfunction
function W2B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L5')
endfunction
function W3B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L1')
endfunction
function W4B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L2')
endfunction
function W5B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L3')
endfunction
function W6B takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0L4')
endfunction
function W7B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IX'))and(FIV>0)and(FAV==0)
endfunction
function W8B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0IX'))and(FIV==0)and(FAV>0)
endfunction
function W9B takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0L6'))and(FAV==0)
endfunction
function YVB takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I0L6'))and(FAV>0)
endfunction
function YEB takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0K5')
endfunction
function YXB takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0LN')
endfunction
function YOB takes nothing returns nothing
if(U2B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IU'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Bounty has been selected:|r Kill Dark Wizard or Black Dragon Hatchling.")
set FIV=2
set NG="Kill Dark Wizard or Black Dragon Hatchling"
endif
if(U4B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IV'))
call AdjustPlayerStateBJ(4120,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(U5B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IU'))
call AdjustPlayerStateBJ($9AB,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(U3B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IV'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill Wildking or Revenant.")
set FIV=3
set NG="Kill Wildking or Revenant"
endif
if(U6B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IW'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill Makrura Tidal Lord or Dire Mammoth")
set FIV=4
set NG="Kill Makrura Tidal Lord or Dire Mammoth"
endif
if(U7B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IW'))
call AdjustPlayerStateBJ($41A,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(U8B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IX'))
set FNV=1
call DialogClearBJ(SC[5])
call DialogSetMessageBJ(SC[5],"Choose Which Bounty to Cancel")
set DPV[70]=DialogAddButtonBJ(SC[5],NG)
set DPV[71]=DialogAddButtonBJ(SC[5],BG)
set DPV[72]=DialogAddButtonBJ(SC[5],"Cancel")
call DialogDisplayBJ(true,SC[5],GetOwningPlayer(GetTriggerUnit()))
endif
if(U9B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IX'))
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000There is currently no active bounty.")
endif
if(WVB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IY'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Bounty has been selected:|r Kill Gaia Awakening or Murloc Overlord")
set FIV=5
set NG="Kill Gaia Awakening or Murloc Overlord"
endif
if(WEB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IY'))
call AdjustPlayerStateBJ(5600,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WXB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IZ'))
call DisplayTextToForce(GetPlayersAll(),"|cffffcc00A Bounty has been selected:|r Kill Pyromancer")
set FIV=6
set NG="Kill Pyromancer"
endif
if(WOB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IZ'))
call AdjustPlayerStateBJ(4550,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WRB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J0'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill Vrykolaklaus")
set FIV=7
set NG="Kill Vrykolaklaus"
endif
if(WIB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J0'))
call AdjustPlayerStateBJ($2710,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WAB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J1'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill Kel'Thuzad")
set FIV=8
set NG="Kill Kel'Thuzad"
endif
if(WNB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J1'))
call AdjustPlayerStateBJ($6D60,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WBB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J2'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill Ninja")
set FIV=9
set NG="Kill Ninja"
endif
if(WCB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0J2'))
call AdjustPlayerStateBJ($7D00,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WDB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0JX'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill "+I2S(50+JD*$D)+" Spiders")
set FAV=1
set BG="Kill "+I2S(50+JD*$D)+" Spiders"
endif
if(WFB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0JX'))
call AdjustPlayerStateBJ($3E8,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WGB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0JZ'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill "+I2S(17+QD*9)+" Golems")
set FAV=2
set BG="Kill "+I2S(17+QD*9)+" Golems"
endif
if(WHB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0JZ'))
call AdjustPlayerStateBJ($BB8,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Repeatable Bounty at a time.")
endif
if(WJB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K1'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill "+I2S(2+ZD*2)+" Revenants")
set FAV=3
set BG="Kill "+I2S(2+ZD*2)+" Revenants"
endif
if(WKB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K1'))
call AdjustPlayerStateBJ(6000,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Repeatable Bounty at a time.")
endif
if(WLB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K2'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill 3 Gaia Awakening")
set FIV=$A
set NG="Kill 3 Gaia Awakening"
endif
if(WMB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K2'))
call AdjustPlayerStateBJ(500,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WPB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K3'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill 7 Skeletal Kings or Minotaurs")
set FIV=$B
set NG="Kill 7 Skeletal Kings or Minotaurs"
endif
if(WQB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K3'))
call AdjustPlayerStateBJ(5675,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WSB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LK'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill 10th Gaia Awakening")
set FIV=$C
set NG="Kill 10th Gaia Awakening"
endif
if(WTB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LK'))
call AdjustPlayerStateBJ(5675,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Bounty at a time.")
endif
if(WUB())then
set BJ=R2I(GetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()))*.15)
call SetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()),GetPlayerHandicapXPBJ(GetOwningPlayer(GetTriggerUnit()))+BJ)
endif
if(WWB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0K6'))
if JBV==false then
call StartTimerBJ(B9V,false,(TimerGetRemaining(B9V))+300)
endif
if JBV then
call StartTimerBJ(B9V,false,(TimerGetRemaining(B9V))+$96)
endif
endif
if(WYB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KW'))
call QBE(HH,0,0)
call QBE(JH,0,0)
call QBE(KH,0,0)
endif
if(WZB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KX'))
call QBE(HH,0,'d')
call QBE(JH,0,'d')
call QBE(KH,0,'d')
endif
if(W_B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KY'))
call QBE(HH,0,500)
call QBE(JH,0,500)
call QBE(KH,0,500)
endif
if(W0B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0KZ'))
call QBE(HH,0,$3E8)
call QBE(JH,0,$3E8)
call QBE(KH,0,$3E8)
endif
if(W1B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L0'))
call QBE(HH,0,$7D0)
call QBE(JH,0,$7D0)
call QBE(KH,0,$7D0)
endif
if(W2B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L5'))
call SetUnitAbilityLevelSwapped('A1UK',HH,1)
call SetUnitAbilityLevelSwapped('A1UK',JH,1)
call SetUnitAbilityLevelSwapped('A1UK',KH,1)
endif
if(W3B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L1'))
call SetUnitAbilityLevelSwapped('A1UK',HH,2)
call SetUnitAbilityLevelSwapped('A1UK',JH,2)
call SetUnitAbilityLevelSwapped('A1UK',KH,2)
endif
if(W4B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L2'))
call SetUnitAbilityLevelSwapped('A1UK',HH,3)
call SetUnitAbilityLevelSwapped('A1UK',JH,3)
call SetUnitAbilityLevelSwapped('A1UK',KH,3)
endif
if(W5B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L3'))
call SetUnitAbilityLevelSwapped('A1UK',HH,4)
call SetUnitAbilityLevelSwapped('A1UK',JH,4)
call SetUnitAbilityLevelSwapped('A1UK',KH,4)
endif
if(W6B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L4'))
call SetUnitAbilityLevelSwapped('A1UK',HH,5)
call SetUnitAbilityLevelSwapped('A1UK',JH,5)
call SetUnitAbilityLevelSwapped('A1UK',KH,5)
endif
if(W7B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IX'))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Last Bounty has been cancelled by|r "+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))))
set FIV=0
set NG=null
endif
if(W8B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0IX'))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000Last Repeatable Bounty has been cancelled by|r "+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))))
set FAV=0
set BG=null
endif
if(W9B())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L6'))
call DisplayTextToForce(GetPlayersAll(),"|CFF00FFFFA Bounty has been selected:|r Kill "+I2S(32+SD*16)+" Crabs & Murlocs")
set FAV=4
set BG="Kill "+I2S(32+SD*16)+" Crabs & Murlocs"
endif
if(YVB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0L6'))
call AdjustPlayerStateBJ($5DC,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff0000You can only have one Repeatable Bounty at a time.")
endif
if(YEB())then
call SetPlayerTechResearchedSwap('R05V',(GetPlayerTechCountSimple('R05V',GetOwningPlayer(GetManipulatingUnit()))+1),GetOwningPlayer(GetManipulatingUnit()))
endif
if(YXB())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I0LN'))
call KillUnit(HH)
call KillUnit(JH)
call KillUnit(KH)
endif
endfunction
function YRB takes nothing returns nothing
set NLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NLE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(NLE,function YOB)
endfunction
function YIB takes real x,real y returns boolean
return not IsTerrainPathable(x,y,PATHING_TYPE_FLOATABILITY)and IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)
endfunction
function YAB takes nothing returns nothing
if IsItemVisible(GetEnumItem())then
set H[J]=GetEnumItem()
call SetItemVisible(H[J],false)
set J=J+1
endif
endfunction
function YNB takes nothing returns nothing
set G=Rect(.0,.0,128.,128.)
set F=CreateItem('wolg',0,0)
call SetItemVisible(F,false)
endfunction
function YBB takes unit YCB,unit u returns boolean
return IsUnitEnemy(u,GetOwningPlayer(YCB))and not(IsUnitType(u,UNIT_TYPE_DEAD)and GetUnitTypeId(u)!=0)and not IsUnitType(u,UNIT_TYPE_STRUCTURE)
endfunction
function YDB takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer id=GetHandleId(t)
local unit YCB=LoadUnitHandle(P,id,0)
local real YFB=LoadReal(P,id,1)
local real YGB=LoadReal(P,id,2)
local group g=LoadGroupHandle(P,id,3)
local real x=GetUnitX(YCB)
local real y=GetUnitY(YCB)
local real x1=x+U*Cos(YFB)
local real y1=y+U*Sin(YFB)
local player YHB=GetOwningPlayer(YCB)
local unit KJB
local unit u
local real YJB=(2*(2+GetUnitAbilityLevel(YCB,'A1WA'))*(GetHeroStatBJ(bj_HEROSTAT_STR,YCB,true))+($C8*(GetUnitAbilityLevel(YCB,'A1WA'))))
local real YKB=(GetUnitAbilityLevel((YCB),('A1WA'))*40+$C8)
if YGB<YKB then
call SetUnitAnimation(YCB,"stand ready")
if not Q then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",x,y))
else
set KJB=CreateUnit(YHB,T,x,y,YFB)
call SetUnitAnimation(KJB,"stand ready")
call SetUnitVertexColor(KJB,$FF,$FF,$FF,80)
call UnitApplyTimedLife(KJB,'BTLF',.5)
set KJB=null
endif
call GroupEnumUnitsInRange(S,x,y,$AF,null)
loop
set u=FirstOfGroup(S)
exitwhen u==null
if not IsUnitInGroup(u,g)and YBB(YCB,u)then
call UnitDamageTarget(YCB,u,YJB,false,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL,null)
call GroupAddUnit(g,u)
endif
call GroupRemoveUnit(S,u)
endloop
if YIB(x1,y1)then
call PauseTimer(t)
call DestroyTimer(t)
call DestroyGroup(g)
call SetUnitAnimation(YCB,"stand")
call FlushChildHashtable(P,id)
else
call SetUnitX(YCB,x1)
call SetUnitY(YCB,y1)
set YGB=YGB+U
call SaveReal(P,id,2,YGB)
endif
else
call PauseTimer(t)
call DestroyTimer(t)
call DestroyGroup(g)
call SetUnitAnimation(YCB,"stand")
call FlushChildHashtable(P,id)
endif
set t=null
set YCB=null
set g=null
endfunction
function YLB takes nothing returns nothing
local timer t=CreateTimer()
local integer id=GetHandleId(t)
local unit YCB=GetTriggerUnit()
local real dx=GetSpellTargetX()-GetUnitX(YCB)
local real dy=GetSpellTargetY()-GetUnitY(YCB)
local real YMB=(dx*dx)+(dy*dy)
local real YFB
if YMB<='d'*'d' then
set YFB=GetUnitFacing(YCB)*bj_DEGTORAD
else
set YFB=(Atan2(dy,dx))
endif
call SaveUnitHandle(P,id,0,YCB)
call SaveReal(P,id,1,YFB)
call SaveReal(P,id,2,0)
call SaveGroupHandle(P,id,3,CreateGroup())
call TimerStart(t,.03,true,function YDB)
set t=null
set YCB=null
endfunction
function YPB takes nothing returns boolean
if GetSpellAbilityId()=='A1WA' then
call YLB()
endif
return false
endfunction
function YQB takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function YPB))
set P=InitHashtable()
set t=null
endfunction
function YSB takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='e016')
endfunction
function YTB takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function YUB takes nothing returns nothing
set M=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(M,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(M,Condition(function YSB))
call TriggerAddAction(M,function YTB)
endfunction
function YWB takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(XF==0)and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))!=null
endfunction
function YYB takes nothing returns boolean
return(RQ[1]=="ignocompleted")
endfunction
function YZB takes nothing returns boolean
return(IQ[2]==1)
endfunction
function Y_B takes nothing returns boolean
return(RQ[1]=="completed")and(XF==0)
endfunction
function Y0B takes nothing returns boolean
return(RQ[1]=="notstarted")
endfunction
function Y1B takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(5000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($2710,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function Y2B takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Y3B takes nothing returns nothing
call AddHeroXPSwapped(R2I($96*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($96*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$3A98
endif
if JBV then
set HF=$7530
endif
call ExecuteFunc("M5A")
endfunction
function Y4B takes nothing returns nothing
local integer SHA
local integer Y5B
local integer SJA
if(Y0B())then
set XF=1
set EQ[1]=GetTriggerUnit()
set RQ[1]="started"
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Milord, we need your help. The Dark Forces started to attack our village they have killed all of the guards the empire sent us. Scouts say they are preparing for a new attack, it will be too late until empire sends new guards please help us. I can pay you 20000 gold.",bj_TIMETYPE_SET,GQ[1],true)
call DialogClearBJ(XQ)
call DialogSetMessageBJ(XQ,"Help?")
set OQ[1]=DialogAddButtonBJ(XQ,"Help.")
set OQ[2]=DialogAddButtonBJ(XQ,"Ask 30k gold")
call DialogDisplayBJ(true,XQ,GetOwningPlayer(EQ[1]))
else
if(Y_B())then
set XF=1
if(YZB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Forgotten Village")
if JBV==false then
set SHA=5000
set SJA=$3A98
call AdjustPlayerStateBJ($7530,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$7530
endif
if JBV then
set SHA=$2710
set SJA=$7530
call AdjustPlayerStateBJ($EA60,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$EA60
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFD700+"+I2S(Y5B)+" Additional gold for quest receiver|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
")
call ForForce(GetPlayersAllies(Player(0)),function Y1B)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Y2B)),function Y3B)
call DestroyEffectBJ(BQ[1])
call QuestSetCompletedBJ(PJ[9],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"You saved us milord. Here 30000 gold as promised.",bj_TIMETYPE_SET,GQ[2],true)
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
else
set EQ[1]=GetTriggerUnit()
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"The village is gratefull of what you did milord. Please accept this gold.",bj_TIMETYPE_SET,GQ[2],true)
call DialogClearBJ(XQ)
call DialogSetMessageBJ(XQ,"Accept the gold?")
set OQ[5]=DialogAddButtonBJ(XQ,"Yes")
set OQ[6]=DialogAddButtonBJ(XQ,"No")
call DialogDisplayBJ(true,XQ,GetOwningPlayer(EQ[1]))
endif
else
if(YYB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Forgotten Village")
if JBV==false then
set SHA=5000
set SJA=$3A98
call AdjustPlayerStateBJ($4E20,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$4E20
endif
if JBV then
set SHA=$2710
set SJA=$7530
call AdjustPlayerStateBJ($9C40,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$9C40
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFD700+"+I2S(Y5B)+" Additional gold for quest receiver|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
")
call AdjustPlayerStateBJ($4E20,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
call ForForce(GetPlayersAllies(Player(0)),function Y1B)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Y2B)),function Y3B)
call DestroyEffectBJ(BQ[1])
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"By the name of eternal Light I thought we were doomed thanks for coming back milord.",bj_TIMETYPE_SET,GQ[2],true)
call QuestSetCompletedBJ(PJ[9],true)
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
endif
endif
endif
endfunction
function Y6B takes nothing returns nothing
set DFE=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(DFE,180.,D6E)
call TriggerAddCondition(DFE,Condition(function YWB))
call TriggerAddAction(DFE,function Y4B)
endfunction
function Y7B takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[2])
endfunction
function Y8B takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[1])
endfunction
function Y9B takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[6])
endfunction
function ZVB takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[5])
endfunction
function ZEB takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function ZXB takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[4])
endfunction
function ZOB takes nothing returns boolean
return(GetClickedButtonBJ()==OQ[3])
endfunction
function ZRB takes nothing returns nothing
local integer SHA
local integer Y5B
local integer SJA
if(Y8B())then
set XF=0
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[1],GetUnitName(EQ[1]),null,"Dont worry, I will help you.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Thank you milord!",bj_TIMETYPE_SET,GQ[2],false)
call QuestSetDiscoveredBJ(PJ[9],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Forgotten Village
  - Defend the village against undead attacks.")
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Attack wave will begin in 1 minute.|r ")
call StartTimerBJ(AQ[1],false,60.)
else
if(Y7B())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[1],GetUnitName(EQ[1]),null,"30000 gold. Then I can help.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Milord thats too much. We are poor villagers.",bj_TIMETYPE_SET,GQ[2],true)
call DialogClearBJ(XQ)
call DialogSetMessageBJ(XQ,"Help?")
set OQ[3]=DialogAddButtonBJ(XQ,"Help.")
set OQ[4]=DialogAddButtonBJ(XQ,"Ask 30k gold")
call DialogDisplayBJ(true,XQ,GetOwningPlayer(EQ[1]))
else
if(ZOB())then
set XF=0
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[1],GetUnitName(EQ[1]),null,"Hmm... Fine, I will help you.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Thank you milord!",bj_TIMETYPE_SET,GQ[2],false)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Attack wave will begin in 1 minute.|r")
call QuestSetDiscoveredBJ(PJ[9],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Forgotten Village
  - Defend the village against undead attacks.")
call StartTimerBJ(AQ[1],false,60.)
else
if(ZXB())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[1],GetUnitName(EQ[1]),null,"I don't care. 30000 or I am out.",bj_TIMETYPE_SET,GQ[2],true)
if(ZEB())then
set XF=0
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Looks like I have no choice 30000 it is.",bj_TIMETYPE_SET,GQ[2],true)
set IQ[2]=1
call QuestSetDiscoveredBJ(PJ[9],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Forgotten Village
  - Defend the village against undead attacks.")
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Attack wave will begin in 1 minute.|r")
call StartTimerBJ(AQ[1],false,60.)
else
set XF=0
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"Thats very disappointing thing to hear from looks like we are on our own.",bj_TIMETYPE_SET,GQ[2],true)
set RQ[1]="ignored"
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Attack wave will begin in 1 minute.|r")
call StartTimerBJ(AQ[1],false,60.)
endif
else
if(ZVB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Forgotten Village")
if JBV==false then
set SHA=5000
set SJA=$3A98
call AdjustPlayerStateBJ($4E20,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$4E20
endif
if JBV then
set SHA=$2710
set SJA=$7530
call AdjustPlayerStateBJ($9C40,GetOwningPlayer(EQ[1]),PLAYER_STATE_RESOURCE_GOLD)
set Y5B=$9C40
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFD700+"+I2S(Y5B)+" Additional gold for quest receiver|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
")
call ForForce(GetPlayersAllies(Player(0)),function Y1B)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Y2B)),function Y3B)
call DestroyEffectBJ(BQ[1])
call QuestSetCompletedBJ(PJ[9],true)
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
else
if(Y9B())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[1],GetUnitName(EQ[1]),null,"Keep that gold, you will need it more than me.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D6E,"Village Elder",null,"You are a blessing for us! Please at least take this as a gift from us.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Forgotten Village")
if JBV==false then
set SHA=5000
set SJA=$3A98
endif
if JBV then
set SHA=$2710
set SJA=$7530
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
|cff7777aaRaven Sword|r

")
call ForForce(GetPlayersAllies(Player(0)),function Y1B)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Y2B)),function Y3B)
set XVV=GetUnitLoc(EQ[1])
call CreateItemLoc('I0JV',XVV)
call RemoveLocation(XVV)
call DestroyEffectBJ(BQ[1])
call QuestSetCompletedBJ(PJ[9],true)
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
endif
endif
endif
endif
endif
endif
endfunction
function ZIB takes nothing returns nothing
set DGE=CreateTrigger()
call TriggerRegisterDialogEventBJ(DGE,XQ)
call TriggerAddAction(DGE,function ZRB)
endfunction
function ZAB takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Village is under attack.|r")
set XVV=GetRectCenter(C5E)
call CreateNUnitsAtLoc(2,'u010',Player(1),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call TriggerSleepAction(20.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Village is under attack.|r")
set XVV=GetRectCenter(C5E)
call CreateNUnitsAtLoc(3,'u010',Player(1),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call TriggerSleepAction(20.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Village is under attack.|r")
set XVV=GetRectCenter(C5E)
call CreateNUnitsAtLoc(4,'u010',Player(1),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u011',Player(1),XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call TriggerSleepAction(20.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,"|cffff0000Village is under attack.|r")
set XVV=GetRectCenter(C5E)
call CreateNUnitsAtLoc(5,'u010',Player(1),XVV,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'n04W',Player(1),XVV,bj_UNIT_FACING)
set IQ[3]=1
call RemoveLocation(XVV)
endfunction
function ZNB takes nothing returns nothing
set DHE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(DHE,AQ[1])
call TriggerAddAction(DHE,function ZAB)
endfunction
function ZBB takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(1))
endfunction
function ZCB takes nothing returns boolean
return(RQ[1]=="failed")
endfunction
function ZDB takes nothing returns nothing
call IssuePointOrderLocBJ(GetTriggerUnit(),"attack",GetRectCenter(C6E))
call GroupAddUnitSimple(GetTriggerUnit(),NQ)
if(ZCB())then
call RemoveUnit(GetTriggerUnit())
call DestroyGroup(NQ)
endif
endfunction
function ZFB takes nothing returns nothing
set DJE=CreateTrigger()
call TriggerRegisterEnterRectSimple(DJE,C5E)
call TriggerAddCondition(DJE,Condition(function ZBB))
call TriggerAddAction(DJE,function ZDB)
endfunction
function ZGB takes nothing returns nothing
local unit u
set u=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'h08H',-11017.,8716.,270.)
call UnitAddItemByIdSwapped('I0HD',u)
endfunction
function ZHB takes nothing returns boolean
return(RQ[1]=="started")
endfunction
function ZJB takes nothing returns boolean
return(GetTriggerUnit()==D7E)
endfunction
function ZKB takes nothing returns boolean
return(CountUnitsInGroup(NQ)==0)and(IQ[3]==1)and(RQ[1]=="ignored")
endfunction
function ZLB takes nothing returns boolean
return(CountUnitsInGroup(NQ)==0)and(IQ[3]==1)and(RQ[1]=="started")
endfunction
function ZMB takes nothing returns boolean
return(IsUnitInGroup(GetTriggerUnit(),NQ))
endfunction
function ZPB takes nothing returns boolean
return(CountUnitsInGroup(FQ)==0)
endfunction
function ZQB takes nothing returns boolean
return(IsUnitInGroup(GetTriggerUnit(),FQ))
endfunction
function ZSB takes nothing returns boolean
return(GetTriggerUnit()==FEE)
endfunction
function ZTB takes nothing returns boolean
return(IQ[4]==2)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,7)==1)and(HQ[4]!=$A)and(GetUnitLevel(GetTriggerUnit())>=20)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function ZUB takes nothing returns boolean
return(IQ[4]==1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,$A)==1)and(HQ[3]!=$F)and(GetUnitLevel(GetTriggerUnit())>=4)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function ZWB takes nothing returns boolean
return(IQ[$A]!=1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,5)==2)and(GetUnitTypeId(GetTriggerUnit())=='nsrv')
endfunction
function ZYB takes nothing returns boolean
return(IQ[9]!=1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,5)==2)and(GetUnitTypeId(GetTriggerUnit())=='nubw')and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function ZZB takes nothing returns boolean
return(IQ[8]!=1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,5)==2)and(GetUnitTypeId(GetTriggerUnit())=='n04P')
endfunction
function Z_B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00U')
endfunction
function Z0B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n03R')
endfunction
function Z1B takes nothing returns boolean
return(IQ[7]!=1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,5)==2)and(GetBooleanOr(Z_B(),Z0B()))
endfunction
function Z2B takes nothing returns boolean
return(IQ[6]!=1)and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetRandomInt(1,5)==2)and(GetUnitTypeId(GetTriggerUnit())=='n04I')
endfunction
function Z3B takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Z4B takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function Z5B takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Z6B takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Z7B takes nothing returns boolean
return(GetRandomInt(1,8)<=2)
endfunction
function Z8B takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04P')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function Z9B takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function VVC takes nothing returns boolean
return(GetRandomInt(1,25)==3)
endfunction
function VEC takes nothing returns boolean
return(GetRandomInt(1,25)==2)
endfunction
function VXC takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function VOC takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function VRC takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n04I')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function VIC takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function VAC takes nothing returns boolean
return(GetRandomInt(1,$C)==3)
endfunction
function VNC takes nothing returns boolean
return(GetRandomInt(1,17)==2)
endfunction
function VBC takes nothing returns boolean
return(GetRandomInt(1,7)==2)
endfunction
function VCC takes nothing returns boolean
return(GetRandomInt(1,17)==2)
endfunction
function VDC takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n056')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function VFC takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function VGC takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function VHC takes nothing returns boolean
return(GetRandomInt(1,17)==2)
endfunction
function VJC takes nothing returns boolean
return(GetRandomInt(1,7)==2)
endfunction
function VKC takes nothing returns boolean
return(GetRandomInt(1,17)==2)
endfunction
function VLC takes nothing returns boolean
return(GetRandomInt(1,$C)==2)
endfunction
function VMC takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n057')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function VPC takes nothing returns boolean
return(GetRandomInt(1,2)==2)
endfunction
function VQC takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function VSC takes nothing returns boolean
return(GetRandomInt(1,20)==2)
endfunction
function VTC takes nothing returns boolean
return(GetRandomInt(1,7)==2)
endfunction
function VUC takes nothing returns boolean
return(GetRandomInt(1,17)==2)
endfunction
function VWC takes nothing returns boolean
return(GetRandomInt(1,21)==7)
endfunction
function VYC takes nothing returns boolean
return(GetRandomInt(1,9)==2)
endfunction
function VZC takes nothing returns boolean
return(GetRandomInt(1,5)==3)
endfunction
function V_C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n058')and(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function V0C takes nothing returns boolean
return(GetTriggerUnit()==FIE)
endfunction
function V1C takes nothing returns nothing
if(ZJB())then
if(ZHB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|cffffcc00QUEST FAILED|r
Forgotten Village
  - Dark forces have destroyed the Town Hall.")
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
set EQ[1]=null
set RQ[1]="failed"
call QuestSetFailedBJ(PJ[9],true)
else
call DestroyTrigger(DFE)
call DestroyTrigger(DGE)
call DestroyTrigger(DHE)
set EQ[1]=null
set RQ[1]="failed"
call QuestSetFailedBJ(PJ[9],true)
endif
endif
if(ZMB())then
call GroupRemoveUnitSimple(GetTriggerUnit(),NQ)
call RemoveUnit(GetTriggerUnit())
if(ZLB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Forgotten Village
  - Speak with village elder to claim your reward.")
set RQ[1]="completed"
call DestroyGroup(NQ)
else
if(ZKB())then
set RQ[1]="ignocompleted"
call DestroyGroup(NQ)
endif
endif
endif
if(ZQB())then
call GroupRemoveUnitSimple(GetTriggerUnit(),FQ)
call RemoveUnit(GetTriggerUnit())
if(ZPB())then
set RQ[2]="updated"
call DestroyGroup(FQ)
endif
endif
if(ZSB())then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|cffffcc00QUEST FAILED|r
Little Tommy.
  - Tommy has been killed.")
set RQ[2]="failed"
call DestroyTrigger(DLE)
call DestroyTrigger(DME)
call DestroyTrigger(DPE)
call DestroyTrigger(DSE)
call DestroyTrigger(DQE)
call QuestSetFailedBJ(PJ[$A],true)
endif
if(ZUB())then
set HQ[3]=(HQ[3]+1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0J7',XVV)
call RemoveLocation(XVV)
else
if(ZTB())then
set HQ[4]=(HQ[4]+1)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0J8',XVV)
call RemoveLocation(XVV)
endif
endif
if(Z2B())then
set IQ[6]=1
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JG',XVV)
call RemoveLocation(XVV)
else
if(Z1B())then
set IQ[7]=1
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JC',XVV)
call RemoveLocation(XVV)
else
if(ZZB())then
set IQ[8]=1
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JE',XVV)
call RemoveLocation(XVV)
else
if(ZYB())then
set IQ[9]=1
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JF',XVV)
call RemoveLocation(XVV)
else
if(ZWB())then
set IQ[$A]=1
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JD',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endif
if(Z8B())then
if(Z3B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DP',XVV)
call RemoveLocation(XVV)
endif
if(Z4B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CY',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I05T',XVV)
call RemoveLocation(XVV)
endif
if(Z5B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CP',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CR',XVV)
call RemoveLocation(XVV)
endif
if(Z6B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CJ',XVV)
call RemoveLocation(XVV)
endif
if(Z7B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I047',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DEE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04P',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endif
if(VRC())then
if(Z9B())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CK',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CV',XVV)
call RemoveLocation(XVV)
endif
if(VVC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0F1',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0ET',XVV)
call RemoveLocation(XVV)
endif
if(VEC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CT',XVV)
call RemoveLocation(XVV)
endif
if(VXC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04N',XVV)
call RemoveLocation(XVV)
endif
if(VOC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0A0',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DAE)
call CreateNUnitsAtLocFacingLocBJ(1,'n04I',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endif
if(VDC())then
if(VIC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I04V',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CY',XVV)
call RemoveLocation(XVV)
endif
if(VAC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E1',XVV)
call RemoveLocation(XVV)
endif
if(VNC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HH',XVV)
call RemoveLocation(XVV)
endif
if(VBC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I048',XVV)
call RemoveLocation(XVV)
endif
if(VCC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I02I',XVV)
call CreateItemLoc('I0AB',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DBE)
call CreateNUnitsAtLocFacingLocBJ(1,'n057',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
call RemoveLocation(XVV)
endif
if(VMC())then
if(VFC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CR',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CQ',XVV)
call RemoveLocation(XVV)
endif
if(VGC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0EZ',XVV)
call CreateItemLoc('I0BM',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0BC',XVV)
call RemoveLocation(XVV)
endif
if(VHC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0D1',XVV)
call RemoveLocation(XVV)
endif
if(VJC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CP',XVV)
call RemoveLocation(XVV)
endif
if(VKC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0CS',XVV)
call RemoveLocation(XVV)
endif
if(VLC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0LI',XVV)
call RemoveLocation(XVV)
endif
if JBV==false then
call mj(90.)
endif
if JBV then
call mj(45.)
endif
set XVV=GetRectCenter(DBE)
call CreateNUnitsAtLocFacingLocBJ(1,'n058',Player(PLAYER_NEUTRAL_AGGRESSIVE),XVV,XVV)
set Z0=GetLastCreatedUnit()
call RemoveLocation(XVV)
endif
if(V_C())then
if(VPC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0I6',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0E0',XVV)
call RemoveLocation(XVV)
endif
if(VQC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H3',XVV)
call CreateItemLoc('I0HM',XVV)
call RemoveLocation(XVV)
else
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I090',XVV)
call RemoveLocation(XVV)
endif
if(VSC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0DK',XVV)
call CreateItemLoc('I0DH',XVV)
call RemoveLocation(XVV)
endif
if(VTC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0FY',XVV)
call RemoveLocation(XVV)
endif
if(VUC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0HL',XVV)
call RemoveLocation(XVV)
endif
if(VWC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H9',XVV)
call RemoveLocation(XVV)
endif
if(VYC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0H4',XVV)
call RemoveLocation(XVV)
endif
if(VZC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0LI',XVV)
call RemoveLocation(XVV)
endif
endif
if(V0C())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JU',XVV)
call RemoveLocation(XVV)
endif
endfunction
function V2C takes nothing returns nothing
set DKE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DKE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(DKE,function V1C)
endfunction
function V3C takes nothing returns boolean
return(GetTriggerUnit()==FEE)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function V4C takes nothing returns boolean
return((RQ[2]=="notstarted")and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function V5C takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ(8000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($3E80,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function V6C takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function V7C takes nothing returns nothing
call AddHeroXPSwapped(R2I($B4*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($B4*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$4650
endif
if JBV then
set HF=$8CA0
endif
call ExecuteFunc("M5A")
endfunction
function V8C takes nothing returns nothing
local integer SHA
local integer SJA
if(V4C())then
set RQ[2]="started"
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"What is it ma'am, why are you crying?",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D8E,"Citizen",null,"It is my son sir, I told him so many times not to go out of city, but he didn't listen. Three days ago I got a letter claiming they have my son and asking for 60000 gold for ransom. They want me to bring the gold to a place in the south of village located north east from here. 60000 is not even my yearly income, I dont know what to do I slept at gates of Castle but empire just ignored me please sir help me.",bj_TIMETYPE_SET,GQ[1],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Little Tommy
  - Find and rescue Tommy.")
set XVV=GetRectCenter(C8E)
call PingMinimapLocForForce(GetPlayersAll(),XVV,5.)
call RemoveLocation(XVV)
call QuestSetDiscoveredBJ(PJ[$A],true)
else
if(V3C())then
set IQ[$B]=1
call SetUnitOwner(FEE,Player(0),true)
call SetUnitInvulnerable(FEE,true)
call QuestSetCompletedBJ(PJ[$A],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Little Tommy")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D8E,"Citizen",null,"Tommy! my dear boy... Thank you so much sir, please take this. My husband took care of this sword more than anything else, but he is gone now and it has no use with me. I hope it will serve you as it did to my husband.",bj_TIMETYPE_SET,GQ[1],true)
set XVV=GetUnitLoc(D8E)
call CreateItemLoc('I0JI',XVV)
call RemoveLocation(XVV)
if JBV==false then
set SHA=8000
set SJA=$4650
endif
if JBV then
set SHA=$3E80
set SJA=$8CA0
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
|CFF0042FFRunestone Greatsword|r


")
call ForForce(GetPlayersAllies(Player(0)),function V5C)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function V6C)),function V7C)
call DestroyEffectBJ(BQ[2])
call DestroyTrigger(DLE)
call DestroyTrigger(DME)
call DestroyTrigger(DPE)
call DestroyTrigger(DSE)
call DestroyTrigger(DQE)
endif
endif
endfunction
function V9C takes nothing returns nothing
set DLE=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(DLE,180.,D8E)
call TriggerAddAction(DLE,function V8C)
endfunction
function EVC takes nothing returns boolean
return(RQ[2]=="started")
endfunction
function EEC takes nothing returns boolean
return(IQ[$B]!=1)
endfunction
function EXC takes nothing returns nothing
if(EEC())then
set IQ[$B]=1
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FVE,"Bandit 1",null,"Who is there?",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"I have come for the boy's ransom.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FVE,"Bandit 1",null,"Hold.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FVE,"Bandit 1",null,"Come in.",bj_TIMETYPE_SET,GQ[3],true)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,FOE)
endif
endfunction
function EOC takes nothing returns nothing
set DME=CreateTrigger()
call TriggerRegisterEnterRectSimple(DME,C8E)
call TriggerAddCondition(DME,Condition(function EVC))
call TriggerAddAction(DME,function EXC)
endfunction
function ERC takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IQ[$F]!=1))!=null
endfunction
function EIC takes nothing returns nothing
set EQ[2]=GetTriggerUnit()
set IQ[$F]=1
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"Gold?",bj_TIMETYPE_SET,GQ[3],true)
call DialogClearBJ(CQ)
call DialogSetMessageBJ(CQ,"You say:")
set DQ[1]=DialogAddButtonBJ(CQ,"Here. (give 60k)")
set DQ[2]=DialogAddButtonBJ(CQ,"Need time.")
set DQ[3]=DialogAddButtonBJ(CQ,"Steel? (fight)")
call DialogDisplayBJ(true,CQ,GetOwningPlayer(EQ[2]))
endfunction
function EAC takes nothing returns nothing
set DPE=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(DPE,180.,D9E)
call TriggerAddCondition(DPE,Condition(function ERC))
call TriggerAddAction(DPE,function EIC)
endfunction
function ENC takes nothing returns nothing
set XVV=GetRectCenter(C9E)
call IssuePointOrderLocBJ(GetEnumUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function EBC takes nothing returns boolean
return(GetPlayerState(GetOwningPlayer(EQ[2]),PLAYER_STATE_RESOURCE_GOLD)>=$EA60)
endfunction
function ECC takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call SetUnitInvulnerable(GetEnumUnit(),false)
endfunction
function EDC takes nothing returns boolean
return(GetClickedButtonBJ()==DQ[3])
endfunction
function EFC takes nothing returns boolean
return(GetClickedButtonBJ()==DQ[2])
endfunction
function EGC takes nothing returns boolean
return(GetClickedButtonBJ()==DQ[1])
endfunction
function EHC takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
call SetUnitInvulnerable(GetEnumUnit(),false)
endfunction
function EJC takes nothing returns boolean
return(GetClickedButtonBJ()==DQ[5])
endfunction
function EKC takes nothing returns boolean
return(GetClickedButtonBJ()==DQ[4])
endfunction
function ELC takes nothing returns nothing
if(EGC())then
if(EBC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"Here is your 60000. Now, the boy?",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"Back there, he is all yours.",bj_TIMETYPE_SET,GQ[3],true)
set RQ[2]="deal"
call SetPlayerStateBJ(GetOwningPlayer(EQ[2]),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(EQ[2]),PLAYER_STATE_RESOURCE_GOLD)-$EA60))
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"Let's move out.",bj_TIMETYPE_SET,GQ[3],true)
call ForGroupBJ(FQ,function ENC)
else
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"I don't have 60000 gold.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"What? Are you testing our patience? or have you lost your mind?",bj_TIMETYPE_SET,GQ[2],true)
call DialogClearBJ(CQ)
call DialogSetMessageBJ(CQ,"You say:")
set DQ[4]=DialogAddButtonBJ(CQ,"Give me time")
set DQ[5]=DialogAddButtonBJ(CQ,"I have nice steel (fight)")
call DialogDisplayBJ(true,CQ,GetOwningPlayer(EQ[2]))
endif
else
if(EFC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"I dont have enough gold with me now. I need more time.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"Then why did you come here?",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"I wanted to make sure you have the boy and he is unharmed.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"You think we are joking here?",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"Am I laughing?",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"I would cut your long tongue but you are lucky I need you. You have 20 minutes before I execute this kid!",bj_TIMETYPE_SET,GQ[3],false)
call StartTimerBJ(AQ[2],false,1200.)
set IQ[$F]=0
else
if(EDC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"What about steel? Long and sharp.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"I will drink my wine from your skull!",bj_TIMETYPE_SET,GQ[3],false)
call ForGroupBJ(FQ,function ECC)
endif
endif
endif
if(EKC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"Give me more time I will bring your gold.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"You have 20 minutes. Now get out of my face.",bj_TIMETYPE_SET,GQ[3],false)
call StartTimerBJ(AQ[2],false,1200.)
set IQ[$F]=0
else
if(EJC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[2],GetHeroProperName(EQ[2]),null,"I don't have gold and I heard dead doesn't need it anyway.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D9E,"Bandit Lord",null,"hah! You have a nice head on your shoulders.",bj_TIMETYPE_SET,GQ[3],false)
call ForGroupBJ(FQ,function EHC)
endif
endif
endfunction
function EMC takes nothing returns nothing
set DQE=CreateTrigger()
call TriggerRegisterDialogEventBJ(DQE,CQ)
call TriggerAddAction(DQE,function ELC)
endfunction
function EPC takes nothing returns nothing
local unit u
set u=CreateUnit(Player(PLAYER_NEUTRAL_AGGRESSIVE),'h08H',-11017.,8716.,270.)
call UnitAddItemByIdSwapped('I0HD',u)
endfunction
function EQC takes nothing returns boolean
return(RQ[2]=="updated")
endfunction
function ESC takes nothing returns boolean
return(RQ[2]=="deal")
endfunction
function ETC takes nothing returns boolean
return(GetBooleanOr(EQC(),ESC()))
endfunction
function EUC takes nothing returns nothing
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"Come here boi..",bj_TIMETYPE_SET,GQ[3],true)
call SetUnitOwner(FEE,GetOwningPlayer(GetTriggerUnit()),true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Little Tommy
 - Get Tommy back to his mother.")
call SetUnitInvulnerable(FEE,false)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function EWC takes nothing returns nothing
set DSE=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(DSE,180.,FEE)
call TriggerAddCondition(DSE,Condition(function ETC))
call TriggerAddAction(DSE,function EUC)
endfunction
function EYC takes nothing returns boolean
return(RQ[2]=="deal")and(IsUnitInGroup(GetTriggerUnit(),FQ))
endfunction
function EZC takes nothing returns boolean
return(CountUnitsInGroup(FQ)==0)
endfunction
function E_C takes nothing returns nothing
call GroupRemoveUnitSimple(GetTriggerUnit(),FQ)
call RemoveUnit(GetTriggerUnit())
if(EZC())then
call DestroyGroup(FQ)
endif
endfunction
function E0C takes nothing returns nothing
set DTE=CreateTrigger()
call TriggerRegisterEnterRectSimple(DTE,C9E)
call TriggerAddCondition(DTE,Condition(function EYC))
call TriggerAddAction(DTE,function E_C)
endfunction
function E1C takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.,"Fast Dialog enabled. NPC dialogs will skip instantly.")
set GQ[1]=.5
set GQ[2]=.5
set GQ[3]=.5
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function E2C takes nothing returns nothing
set DUE=CreateTrigger()
call TriggerRegisterPlayerChatEvent(DUE,Player(2),"-fd",false)
call TriggerAddAction(DUE,function E1C)
endfunction
function E3C takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function E4C takes nothing returns boolean
return(RQ[3]=="notstarted")
endfunction
function E5C takes nothing returns boolean
return(HQ[1]==$F)and(IQ[$C]!=1)
endfunction
function E6C takes nothing returns boolean
return(RQ[3]=="available")and(IQ[16]!=1)
endfunction
function E7C takes nothing returns boolean
return(HQ[2]==$A)and(IQ[$D]!=1)
endfunction
function E8C takes nothing returns boolean
return(RQ[3]=="completed")and(IQ[4]!=3)and(IQ[$D]==1)and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function E9C takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($FA0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ(8000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function XVC takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function XEC takes nothing returns nothing
call AddHeroXPSwapped(R2I('x'*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I('x'*GetPlayerHandicapXPBJ(GetOwningPlayer(LF))))
if JBV==false then
set HF=$2EE0
endif
if JBV then
set HF=$5DC0
endif
call ExecuteFunc("M5A")
endfunction
function XXC takes nothing returns nothing
local integer SHA
local integer SJA
if(E4C())then
set RQ[3]="started"
call QuestSetDiscoveredBJ(PJ[7],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Well well my elven eyes seeing a fighter in my library. Let me guess you are looking for scrolls that will help you in battlefield.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"Yes, some magical scrolls.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"I have something just for you but I am looking for some books that are not in my library you know how it is, you bring me the books I help you with scrolls.",bj_TIMETYPE_SET,GQ[1],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Knowledge is power.
  - Find 15 missing books.")
set IQ[4]=1
endif
if(E5C())then
set IQ[$C]=1
set EQ[3]=GetTriggerUnit()
call QuestSetCompletedBJ(PJ[7],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"You have the books, nice. Here as I promised the recipe of powerfull scroll.",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"A recipe?...",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Yes I told I will help you with scroll and here it is. If you like the scroll come see me again maybe I can help you improve it.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Knowledge is power.
  - Find 15 missing books.")
if JBV==false then
set SHA=$FA0
set SJA=$2EE0
endif
if JBV then
set SHA=8000
set SJA=$5DC0
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
|cffff8c00Improved Book Recipe|r

")
call ForForce(GetPlayersAllies(Player(0)),function E9C)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function XVC)),function XEC)
call DestroyEffectBJ(BQ[3])
set XVV=GetUnitLoc(EQ[3])
call CreateItemLoc('I0JR',XVV)
call RemoveLocation(XVV)
endif
if(E6C())then
set IQ[16]=1
call QuestSetDiscoveredBJ(PJ[8],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Greetings. Let's not waste time, you know the procedure bring me books get the help. By the way this books are a little bit rare.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Knowledge is power 2.
  - Find 10 missing Greater Books.")
set IQ[4]=2
endif
if(E7C())then
set IQ[$D]=1
set RQ[3]="completed"
set EQ[3]=GetTriggerUnit()
call QuestSetCompletedBJ(PJ[8],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Beautifull, look at these.. Here is your recipe.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Knowledge is power 2.")
if JBV==false then
set SHA=$FA0
set SJA=$2EE0
endif
if JBV then
set SHA=8000
set SJA=$5DC0
endif
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+"+I2S(SHA)+" Gold to all|r
|cffFFC0CB+"+I2S(SJA)+" XP to all|r
|cffff8c00Encyclopedia Recipe|r

")
call ForForce(GetPlayersAllies(Player(0)),function E9C)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function XVC)),function XEC)
call DestroyEffectBJ(BQ[3])
set XVV=GetUnitLoc(EQ[3])
call CreateItemLoc('I0JS',XVV)
call RemoveLocation(XVV)
call TriggerSleepAction(10.)
set RQ[3]="completed"
else
if(E8C())then
set IQ[4]=3
set EQ[3]=GetTriggerUnit()
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[3],GetHeroProperName(EQ[3]),null,"I would like to have a recipe.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"I don't need any books now but library needs some restoration so I need gold. I can sell you recipes if you want.",bj_TIMETYPE_SET,GQ[2],true)
call DialogClearBJ(JQ)
call DialogSetMessageBJ(JQ,"Buy Recipe")
set KQ[1]=DialogAddButtonBJ(JQ,"Improved (10k gold)")
set KQ[2]=DialogAddButtonBJ(JQ,"Encyclopedia (30k gold)")
set KQ[3]=DialogAddButtonBJ(JQ,"Nothing")
call DialogDisplayBJ(true,JQ,GetOwningPlayer(GetTriggerUnit()))
endif
endif
endfunction
function XOC takes nothing returns nothing
set DWE=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(DWE,180.,D4E)
call TriggerAddCondition(DWE,Condition(function E3C))
call TriggerAddAction(DWE,function XXC)
endfunction
function XRC takes nothing returns nothing
call QuestSetDescriptionBJ(PJ[$C],"Help the worker collect his tools and missing supplies. The worker said he lost his tools in the forest above Emily and the Trolls that stole his supplies are below the furbolg that lives in the forest.

Lost Tools  Satus: "+ZA+"
Stolen Supplies     Status: "+VN)
endfunction
function XIC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0J8')
endfunction
function XAC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0J7')
endfunction
function XNC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0EQ')
endfunction
function XBC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I0IJ')
endfunction
function XCC takes nothing returns boolean
return(GetItemType(GetManipulatedItem())==ITEM_TYPE_CHARGED)or(GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT)or(GetItemTypeId(GetManipulatedItem())=='I0DR')or(GetItemTypeId(GetManipulatedItem())=='I0JI')or(GetItemTypeId(GetManipulatedItem())=='I0G3')or(GetItemTypeId(GetManipulatedItem())=='I0HI')or(GetItemTypeId(GetManipulatedItem())=='I0HJ')or(GetItemTypeId(GetManipulatedItem())=='I0HK')or(GetItemTypeId(GetManipulatedItem())=='I0HN')or(GetItemTypeId(GetManipulatedItem())=='I0IN')
endfunction
function XDC takes nothing returns boolean
return((IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(XCC()))!=null
endfunction
function XFC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I013'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JR'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XGC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'scul'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JR'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XHC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0EG'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'arsc'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JR'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XJC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JS'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JM'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XKC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JS'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05T'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JL'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XLC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JS'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I05S'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JN'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$4E20)
endfunction
function XMC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JT'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0I5'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JI'))and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JI'))>=$A)and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$3D090)
endfunction
function XPC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CC'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0J6'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0CU'))
endfunction
function XQC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0IQ'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0J5'))and(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=$61A8)
endfunction
function XSC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ankh'))and(GetUnitTypeId(GetTriggerUnit())=='nrdr')
endfunction
function XTC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0IS'))
endfunction
function XUC takes nothing returns nothing
if(XAC())then
set HQ[1]=(HQ[1]+1)
call RemoveItem(GetManipulatedItem())
call QuestSetDescriptionBJ(PJ[7],(I2S(HQ[1])+"/15 Books have found."))
call DisplayTimedTextToForce(GetPlayersAll(),3.,("Book found: "+(I2S(HQ[1])+"/15")))
else
if(XIC())then
set HQ[2]=(HQ[2]+1)
call RemoveItem(GetManipulatedItem())
call QuestSetDescriptionBJ(PJ[8],(I2S(HQ[2])+"/10 Books have found."))
call DisplayTimedTextToForce(GetPlayersAll(),3.,("Book found: "+(I2S(HQ[2])+"/10")))
endif
endif
if(XNC())then
call DisplayTimedTextToForce(GetPlayersAll(),3.,("Worker's Tools have been found"))
call RemoveItem(GetManipulatedItem())
set ZA="|CFF20C000Found|r"
call ExecuteFunc("XRC")
if VN=="|CFF20C000Retrieved|r" then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
The Tunnel.
 - Return to the worker.")
endif
endif
if(XBC())then
call DisplayTimedTextToForce(GetPlayersAll(),3.,("Building Supplies have been retrieved"))
call RemoveItem(GetManipulatedItem())
set VN="|CFF20C000Retrieved|r"
call ExecuteFunc("XRC")
if ZA=="|CFF20C000Found|r" then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
The Tunnel.
 - Return to the worker.")
endif
endif
if(XDC())then
if IsUnit(PQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetManipulatingUnit())==false then
set PQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=null
set PQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetManipulatingUnit()
endif
endif
if(XHC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'arsc'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JR'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JM',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set RQ[3]="available"
set BQ[3]=AddSpecialEffectTargetUnitBJ("overhead",D4E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
else
if(XGC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'scul'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JR'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JL',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set RQ[3]="available"
set BQ[3]=AddSpecialEffectTargetUnitBJ("overhead",D4E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
else
if(XFC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I013'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0EG'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JR'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JN',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set RQ[3]="available"
set BQ[3]=AddSpecialEffectTargetUnitBJ("overhead",D4E,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
endif
endif
endif
if(XLC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JS'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JN'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JO',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(XKC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I05T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JS'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JL'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JQ',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
if(XJC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CQ'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JS'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JM'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call UnitAddItemByIdSwapped('I0JP',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(XMC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JT'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0I5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JI'))
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$3D090))
call UnitAddItemByIdSwapped('I0JJ',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(XPC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0J6'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CU'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0CC'))
call UnitAddItemByIdSwapped('I0J5',GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(XQC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0J5'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0IQ'))
call UnitAddItemByIdSwapped('I0LM',GetTriggerUnit())
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)-$61A8))
call AddSpecialEffectLocBJ(GetUnitLoc(GetManipulatingUnit()),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(XSC())then
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),0))=='ankh' then
call UnitRemoveItemFromSlot(GetTriggerUnit(),0)
endif
if GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),1))=='ankh' then
call UnitRemoveItemFromSlot(GetTriggerUnit(),1)
endif
endif
if(XTC())then
call UnitRemoveBuffsBJ('B01B',GetTriggerUnit())
endif
endfunction
function XWC takes nothing returns nothing
set DYE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(DYE,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(DYE,function XUC)
endfunction
function XYC takes nothing returns boolean
return(GetClickedButtonBJ()==KQ[3])
endfunction
function XZC takes nothing returns boolean
return(GetClickedButtonBJ()==KQ[2])and(GetPlayerState(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD)>=$7530)
endfunction
function X_C takes nothing returns boolean
return(GetClickedButtonBJ()==KQ[1])and(GetPlayerState(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD)>=$2710)
endfunction
function X0C takes nothing returns nothing
if(X_C())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Here is the recipe for improved book.",bj_TIMETYPE_SET,GQ[2],false)
call SetPlayerStateBJ(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD)-$2710))
set IQ[4]=4
set XVV=GetUnitLoc(EQ[3])
call CreateItemLoc('I0JR',XVV)
call RemoveLocation(XVV)
else
if(XZC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Here it is.",bj_TIMETYPE_SET,GQ[2],false)
call SetPlayerStateBJ(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(EQ[3]),PLAYER_STATE_RESOURCE_GOLD)-$7530))
set IQ[4]=4
set XVV=GetUnitLoc(EQ[3])
call CreateItemLoc('I0JS',XVV)
call RemoveLocation(XVV)
else
if(XYC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[3],GetHeroProperName(EQ[3]),null,"Maybe later.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Allright.",bj_TIMETYPE_SET,GQ[3],false)
set IQ[4]=4
else
set IQ[4]=4
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[3],GetHeroProperName(EQ[3]),null,"Maybe later.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D4E,"Helder",null,"Allright.",bj_TIMETYPE_SET,GQ[3],false)
endif
endif
endif
endfunction
function X1C takes nothing returns nothing
set DZE=CreateTrigger()
call TriggerRegisterDialogEventBJ(DZE,JQ)
call TriggerAddAction(DZE,function X0C)
endfunction
function X2C takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function X3C takes nothing returns boolean
return(RQ[4]=="notstarted")
endfunction
function X4C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JC'))
endfunction
function X5C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JF'))
endfunction
function X6C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JG'))
endfunction
function X7C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JE'))
endfunction
function X8C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JH'))
endfunction
function X9C takes nothing returns boolean
return(RQ[4]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JD'))
endfunction
function OVC takes nothing returns boolean
return(IQ[18]>=6)
endfunction
function OEC takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($BB8,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ(6000,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function OXC takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OOC takes nothing returns nothing
call AddHeroXPSwapped(R2I(80*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I(80*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))))
if JBV==false then
set HF=8000
endif
if JBV then
set HF=$3E80
endif
call ExecuteFunc("M5A")
endfunction
function showtextforsilversmith takes nothing returns nothing
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+3000 Gold to all|r
|cffFFC0CB+8000 XP to all|r
")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+6000 Gold to all|r
|cffFFC0CB+16000 XP to all|r
")
endif
call ForForce(GetPlayersAllies(Player(0)),function OEC)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function OXC)),function OOC)
endfunction
function ORC takes nothing returns nothing
if(X3C())then
set RQ[4]="started"
call QuestSetDiscoveredBJ(PJ[1],true)
call QuestSetDiscoveredBJ(PJ[2],true)
call QuestSetDiscoveredBJ(PJ[3],true)
call QuestSetDiscoveredBJ(PJ[4],true)
call QuestSetDiscoveredBJ(PJ[5],true)
call QuestSetDiscoveredBJ(PJ[6],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D5E,"Silversmith",null,"Greetings warrior. Looking for job?",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),GetHeroProperName(GetTriggerUnit()),null,"Yes I need a job.",bj_TIMETYPE_SET,GQ[3],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D5E,"Silversmith",null,"I am trying to make a collection of some unique items but I am too old to find them. Find me these items and I will pay you.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
Artifacts worth collecting.
  - Bring these items for Silversmith.
    - Claws of Gaia.
    - Shield of Revenant.
    - Darkweaver's Club.
    - Horn of Minotaur.
    - Helm of Skeletal King.
    - Komodo Tail.")
endif
if(X4C())then
call QuestSetCompletedBJ(PJ[5],true)
set IQ[18]=(IQ[18]+1)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Claws of Gaia.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JC'))
endif
if(X5C())then
set IQ[18]=(IQ[18]+1)
call QuestSetCompletedBJ(PJ[3],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Darkweaver's Club.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JF'))
endif
if(X6C())then
call QuestSetCompletedBJ(PJ[4],true)
set IQ[18]=(IQ[18]+1)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Helm of Skeletal King.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JG'))
endif
if(X7C())then
call QuestSetCompletedBJ(PJ[6],true)
set IQ[18]=(IQ[18]+1)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Horn of Minotaur.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JE'))
endif
if(X8C())then
call QuestSetCompletedBJ(PJ[1],true)
set IQ[18]=(IQ[18]+1)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Komodo Tail.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JH'))
endif
if(X9C())then
set IQ[18]=(IQ[18]+1)
call QuestSetCompletedBJ(PJ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
Artifacts worth collecting.
    - Shield of Revenant.")
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JD'))
endif
if(OVC())then
set IQ[18]=0
call DestroyEffectBJ(BQ[4])
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D5E,"Silversmith",null,"Well done warrior! Here, let this mighty sword be your companion in this great battle.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
Artifacts worth collecting.")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JW',XVV)
call RemoveLocation(XVV)
call DisplayTextToForce(GetPlayersAll(),"


|cffff0000Muramasa|r



")
endif
endfunction
function OIC takes nothing returns nothing
set D_E=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(D_E,180.,D5E)
call TriggerAddCondition(D_E,Condition(function X2C))
call TriggerAddAction(D_E,function ORC)
endfunction
function OAC takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function ONC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JI'))and(IQ[17]!=1)
endfunction
function OBC takes nothing returns boolean
return(RQ[5]!="notstarted")
endfunction
function OCC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JU'))and(RQ[5]!="completed")
endfunction
function ODC takes nothing returns boolean
return(IQ[$B]==1)and(IQ[$E]!=1)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JI'))and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function OFC takes nothing returns boolean
return(RQ[5]=="notstarted")
endfunction
function OGC takes nothing returns nothing
if JBV==false then
call AdjustPlayerStateBJ($3A98,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
if JBV then
call AdjustPlayerStateBJ($7530,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endif
endfunction
function OHC takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OJC takes nothing returns nothing
call AddHeroXPSwapped((R2I($FA*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit())))),GetEnumUnit(),true)
set LF=GetEnumUnit()
set GF=(R2I($FA*GetPlayerHandicapXPBJ(GetOwningPlayer(GetEnumUnit()))))
if JBV==false then
set HF=$61A8
endif
if JBV then
set HF=$C350
endif
call ExecuteFunc("M5A")
endfunction
function OKC takes nothing returns nothing
if(OFC())then
if(ODC())then
set IQ[$E]=1
set EQ[4]=GetTriggerUnit()
call DialogClearBJ(LQ)
call DialogSetMessageBJ(LQ,"Action")
set MQ[1]=DialogAddButtonBJ(LQ,"Get Quest")
set MQ[2]=DialogAddButtonBJ(LQ,"Ask about Runesword")
call DialogDisplayBJ(true,LQ,GetOwningPlayer(GetTriggerUnit()))
else
set RQ[5]="started"
call QuestSetDiscoveredBJ(PJ[$B],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FXE,"Runemaster",null,"One of the heroes have betrayed empire and joined Dark Forces bring me his head and you shall be rewarded. Beware this hero will not be easy to take down.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
The Traitor.
  - Find and kill the hero that betrayed Light Forces.")
endif
else
if(OCC())then
set RQ[5]="completed"
call QuestSetCompletedBJ(PJ[$B],true)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0JU'))
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FXE,"Runemaster",null,"Damn the traitor. you done well here is your reward.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
The Traitor.")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JK',XVV)
call RemoveLocation(XVV)
if JBV==false then
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+15000 Gold to all|r
|cffFFC0CB+25000 XP to all|r
|CFF00FFFFRunestone Armor|r
")
endif
if JBV then
call DisplayTextToForce(GetPlayersAll(),"

|cffFFD700+30000 Gold to all|r
|cffFFC0CB+50000 XP to all|r
|CFF00FFFFRunestone Armor|r
")
endif
call ForForce(GetPlayersAllies(Player(0)),function OGC)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function OHC)),function OJC)
call DestroyEffectBJ(BQ[5])
else
if(OBC())then
if(ONC())then
set IQ[17]=1
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[4],GetHeroProperName(GetTriggerUnit()),null,"Can you take a look at this sword for me?",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FXE,"Runemaster",null,"A Runestone sword.. this steel.. I can improve this for you but the cost will be high. Here take a look at this.",bj_TIMETYPE_SET,GQ[2],false)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0JT',XVV)
call RemoveLocation(XVV)
endif
endif
endif
endif
endfunction
function OLC takes nothing returns nothing
set D0E=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(D0E,180.,FXE)
call TriggerAddCondition(D0E,Condition(function OAC))
call TriggerAddAction(D0E,function OKC)
endfunction
function OMC takes nothing returns nothing
set XVV=GetRectCenter(C9E)
call IssuePointOrderLocBJ(GetEnumUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function OPC takes nothing returns nothing
call KillUnit(FEE)
set RQ[2]="deal"
call ForGroupBJ(FQ,function OMC)
endfunction
function OQC takes nothing returns nothing
set X5E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(X5E,AQ[2])
call TriggerAddAction(X5E,function OPC)
endfunction
function OSC takes nothing returns boolean
return(GetClickedButtonBJ()==MQ[2])
endfunction
function OTC takes nothing returns boolean
return(GetClickedButtonBJ()==MQ[1])
endfunction
function OUC takes nothing returns nothing
if(OTC())then
set RQ[5]="started"
call QuestSetDiscoveredBJ(PJ[$B],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FXE,"Runemaster",null,"One of the heroes have betrayed empire and joined Dark Forces bring me his head and you shall be rewarded. Beware this hero will not be easy to take down.",bj_TIMETYPE_SET,GQ[2],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
The Traitor.
  - Find and kill the hero that betrayed Light Forces.")
else
if(OSC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),EQ[4],GetHeroProperName(EQ[4]),null,"Can you take a look at this sword for me?",bj_TIMETYPE_SET,GQ[2],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),FXE,"Runemaster",null,"A Runestone sword.. this steel.. I can improve this for you but the cost will be high. Here take a look at this.",bj_TIMETYPE_SET,GQ[2],true)
set XVV=GetUnitLoc(EQ[4])
call CreateItemLoc('I0JT',XVV)
call RemoveLocation(XVV)
endif
endif
endfunction
function OWC takes nothing returns nothing
set D3E=CreateTrigger()
call TriggerRegisterDialogEventBJ(D3E,LQ)
call TriggerAddAction(D3E,function OUC)
endfunction
function OYC takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OZC takes nothing returns boolean
return(RQ[6]=="notstarted")
endfunction
function O_C takes nothing returns boolean
return(ZA=="|CFF20C000Found|r")and(VN=="|CFF20C000Retrieved|r")and(RQ[6]=="started")
endfunction
function O0C takes nothing returns nothing
if(OZC())then
set RQ[6]="started"
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CWE,"Worker",null,"Hero! I have been tasked to build a tunnel to the other side. However I lost my tools the other day in the forest near Emily and when I was looking for my tools a bunch of trolls robbed me of my supplies",bj_TIMETYPE_SET,GQ[1],true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CWE,"Worker",null,"Can you help me get my tools and supplies back? I heard a rumor that the Trolls live near the empire. Here let me point both locations on the map",bj_TIMETYPE_SET,GQ[1],true)
call QuestSetDiscoveredBJ(PJ[$C],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
The Tunnel.
  - Find the missing tools
  - Retrieve the stolen supplies")
call PingMinimapForForce(GetPlayersAll(),634.,-6650.,5)
call PingMinimapForForce(GetPlayersAll(),-4754.,-6332.,5)
if GetRandomInt(1,3)==1 then
call CreateItemLoc('I0EQ',Location(-4683.4,-5624.8))
else
if GetRandomInt(1,2)==1 then
call CreateItemLoc('I0EQ',Location(-5356.8,-7476.8))
else
call CreateItemLoc('I0EQ',Location(-5631.9,-6109.6))
endif
endif
call CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'n05K',Location(281.,-6738.),10.)
set MJ=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'o01N',Location(679.,-6484.),245.)
set LJ=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'o01M',Location(1116.,-6649.),200.)
endif
if(O_C())then
set RQ[6]="completed"
call DestroyEffectBJ(BQ[6])
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CWE,"Worker",null,"Thank you Hero. Now I can finish linking it to the other side so you can freely use it to get into the cave. Sadly I don't have any reward so take this crystal that I found.",bj_TIMETYPE_SET,GQ[1],true)
call QuestSetCompletedBJ(PJ[$C],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
The Tunnel.")
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0IK',XVV)
call RemoveLocation(XVV)
call PingMinimapForForce(GetPlayersAll(),-11132.,-5347.,5)
call EnableTrigger(XSE)
call EnableTrigger(XQE)
call DisableTrigger(D1E)
endif
endfunction
function O1C takes nothing returns nothing
set D1E=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(D1E,180.,CWE)
call TriggerAddCondition(D1E,Condition(function OYC))
call TriggerAddAction(D1E,function O0C)
endfunction
function O2C takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function O3C takes nothing returns boolean
return(RQ[7]=="notstarted")
endfunction
function O4C takes nothing returns boolean
return(RQ[7]=="started")and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0LO'))
endfunction
function O5C takes nothing returns boolean
return(RQ[7]=="changing")and(TA==null)and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function O6C takes nothing returns nothing
if(O3C())then
set RQ[7]="started"
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CYE,"Acolyte",null,"The spirits near the graveyard have grown restless. Help me give the dead peace once again by capturing the soul of the Elder Voidwalker with this Soul Stone and returning it to me. The Elder Void walker can be found here.",bj_TIMETYPE_SET,GQ[1],true)
call QuestSetDiscoveredBJ(PJ[$D],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|cffffcc00NEW QUEST|r
The restless Spirits.
  - Take the Soul Stone and Charge it
  - Return the Charged Soul Stone")
call PingMinimapForForce(GetPlayersAll(),10694.3,10566.,5)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc('I0IN',XVV)
call RemoveLocation(XVV)
endif
if(O4C())then
set RQ[7]="completed"
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I0LO'))
call DestroyEffectBJ(BQ[7])
call QuestSetDescriptionBJ(PJ[$D],"The acolyte wants to return peace to the graveyard once again. Help him by absorbing the soul of the Elder Voidwalker with the soul stone by killing the Elder Voidwalker.
The Elder Voidwalker is located at the top right.
Charging Soul Stone: |CFF20C000Completed|r
Return the Charged Soul Stone to the Acolyte: |CFF20C000Completed|r")
call SetUnitOwner(CYE,Player(1),false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CYE,"Acolyte",null,"Fool! You thought I was helping the Light forces? I only needed this so I could use its power to be reborn in a stronger being. May the Lord of the Darkness rise again!",bj_TIMETYPE_SET,GQ[2],true)
call SetUnitExplodedBJ(CYE,true)
call AddSpecialEffectLocBJ(GetUnitLoc(CYE),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call KillUnit(CYE)
set CYE=null
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CZE,"Priest",null,"I should have never trusted the acolyte. It seems he now has been reborn as Harborym but he is bound to the graveyard as the Elder Voidwalker used to be.",bj_TIMETYPE_SET,GQ[2],true)
set C1E=1
set C3E=1
set C2E=0
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'N05L',XVV,270)
call RemoveLocation(XVV)
call ExecuteFunc("GTX")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),CZE,"Priest",null,"If you wish to challenge him go ahead but if you wish for the Elder Voidwalker to return then talk to me.",bj_TIMETYPE_SET,GQ[3],true)
call QuestSetCompletedBJ(PJ[$D],true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|cffffcc00QUEST COMPLETED|r
The restless Spirits.")
call AddSpecialEffectTargetUnitBJ("overhead",CZE,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set RQ[7]="changing"
endif
if(O5C())then
call DialogClearBJ(SC[$C])
set TA=GetTriggerUnit()
call DialogSetMessageBJ(SC[$C],"Do you want to change the graveyard boss?")
if C1E==1 then
set DPV[94]=DialogAddButtonBJ(SC[$C],"Yes return the Elder Voidwalker")
endif
if C1E==0 then
set DPV[95]=DialogAddButtonBJ(SC[$C],"Yes return Harborym")
endif
set DPV[96]=DialogAddButtonBJ(SC[$C],"Cancel")
call DialogDisplayBJ(true,SC[$C],GetOwningPlayer(TA))
endif
endfunction
function O7C takes nothing returns nothing
set D2E=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(D2E,180.,CYE)
call TriggerRegisterUnitInRangeSimple(D2E,180.,CZE)
call TriggerAddCondition(D2E,Condition(function O2C))
call TriggerAddAction(D2E,function O6C)
endfunction
function O8C takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[94])
endfunction
function O9C takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[95])
endfunction
function RVC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[96])
endfunction
function REC takes nothing returns nothing
if(O8C())then
set C1E=0
if IsUnitAliveBJ(C_E) then
call RemoveUnit(C_E)
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'nvde',XVV,270)
call RemoveLocation(XVV)
endif
call DisplayTextToPlayer(GetOwningPlayer(TA),0,0,"The Elder Voidwalker has returned to the graveyard")
set TA=null
endif
if(O9C())then
set C1E=1
if IsUnitAliveBJ(C_E) then
call RemoveUnit(C_E)
set XVV=GetRectCenter(K2V)
set C_E=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_AGGRESSIVE),'N05L',XVV,270)
call RemoveLocation(XVV)
call ExecuteFunc("GTX")
endif
call DisplayTextToPlayer(GetOwningPlayer(TA),0,0,"Harborym has returned to the graveyard")
set TA=null
endif
if(RVC())then
call DisplayTextToPlayer(GetOwningPlayer(TA),0,0,"Talk to me at any time to change the boss at the graveyard")
set TA=null
endif
endfunction
function RXC takes nothing returns nothing
set QAV=CreateTrigger()
call TriggerRegisterDialogEventBJ(QAV,SC[$C])
call TriggerAddAction(QAV,function REC)
endfunction
function ROC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0DA'))and(GWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function RRC takes nothing returns boolean
return(QA==false)
endfunction
function RIC takes nothing returns nothing
local integer RAC=0
if(RRC())then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),D5E,"Silversmith",null,"Warrior! I require a lot of coal to run my workshop. If you happen to have any I would be more than willing to trade for it.",bj_TIMETYPE_SET,GQ[2],true)
set QA=true
endif
if SA!=null then
call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,"Please wait until the previous player has finished trading.")
else
call DialogClearBJ(SC[$A])
set SA=GetTriggerUnit()
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=4 then
set DPV[80]=DialogAddButtonBJ(SC[$A],"|CFF20C000Mystic Gloves|r Cost: 4 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=5 then
set DPV[81]=DialogAddButtonBJ(SC[$A],"|CFF20C000Edged Sword|r Cost: 5 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=7 then
set DPV[82]=DialogAddButtonBJ(SC[$A],"|CFF20C000Sharp Armor|r Cost: 7 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=7 then
set DPV[83]=DialogAddButtonBJ(SC[$A],"|CFF20C000Plate Shield|r Cost: 7 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=8 then
set DPV[84]=DialogAddButtonBJ(SC[$A],"|CFF20C000Heroism Boots|r Cost: 8 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=8 then
set DPV[85]=DialogAddButtonBJ(SC[$A],"|cffffcc00Divine Amulet of Battle|r Cost: 8 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=$B then
set DPV[86]=DialogAddButtonBJ(SC[$A],"|CFF20C000Mystic Firebolt Scepter|r Cost: 11 Coal")
set RAC=RAC+1
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=$F then
set DPV[87]=DialogAddButtonBJ(SC[$A],"|CFF20C000Diamond Armor|r Cost: 15 Coal")
set RAC=RAC+1
endif
if RAC==8 and GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=17 then
set DPV[78]=DialogAddButtonBJ(SC[$A],"Next Page")
endif
set DPV[79]=DialogAddButtonBJ(SC[$A],"Cancel")
call DialogDisplayBJ(true,SC[$A],GetOwningPlayer(SA))
endif
endfunction
function RNC takes nothing returns nothing
set QRV=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(QRV,300.,D5E)
call TriggerAddCondition(QRV,Condition(function ROC))
call TriggerAddAction(QRV,function RIC)
endfunction
function RBC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[78])
endfunction
function RCC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[79])
endfunction
function RDC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[80])
endfunction
function RFC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[81])
endfunction
function RGC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[82])
endfunction
function RHC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[83])
endfunction
function RJC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[84])
endfunction
function RKC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[85])
endfunction
function RLC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[86])
endfunction
function RMC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[87])
endfunction
function RPC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[88])
endfunction
function RQC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[89])
endfunction
function RSC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[90])
endfunction
function RTC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[91])
endfunction
function RUC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[92])
endfunction
function RWC takes nothing returns boolean
return(GetClickedButtonBJ()==DPV[93])
endfunction
function RYC takes nothing returns nothing
if(RBC())then
call DialogClearBJ(SC[$B])
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=17 then
set DPV[89]=DialogAddButtonBJ(SC[$B],"|CFF20C000Unholy Sword|r Cost: 17 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=17 then
set DPV[90]=DialogAddButtonBJ(SC[$B],"|cffffcc00Water Orb|r Cost: 17 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=32 then
set DPV[91]=DialogAddButtonBJ(SC[$B],"|CFF0042FFZeral Amulet|r Cost: 32 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=35 then
set DPV[92]=DialogAddButtonBJ(SC[$B],"|cffffcc00Halberd of Sorrows|r Cost: 35 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=45 then
set DPV[93]=DialogAddButtonBJ(SC[$B],"|CFF00FFFFZhulong|r Cost: 45 Coal")
endif
set DPV[88]=DialogAddButtonBJ(SC[$B],"Previous Page")
set DPV[79]=DialogAddButtonBJ(SC[$B],"Cancel")
call DialogDisplayBJ(true,SC[$B],GetOwningPlayer(SA))
endif
if(RCC())then
call DisplayTextToPlayer(GetOwningPlayer(SA),0,0,"Try to come back with more coal and I will have better items to offer.")
set SA=null
endif
if(RDC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==4 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-4)
endif
call UnitAddItemByIdSwapped('I0B2',SA)
set SA=null
endif
if(RFC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==5 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-5)
endif
call UnitAddItemByIdSwapped('I0A5',SA)
set SA=null
endif
if(RGC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==7 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-7)
endif
call UnitAddItemByIdSwapped('I0BJ',SA)
set SA=null
endif
if(RHC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==7 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-7)
endif
call UnitAddItemByIdSwapped('I0B9',SA)
set SA=null
endif
if(RJC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==8 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-8)
endif
call UnitAddItemByIdSwapped('I0AX',SA)
set SA=null
endif
if(RKC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==8 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-8)
endif
call UnitAddItemByIdSwapped('I0DN',SA)
set SA=null
endif
if(RLC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==$B then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-$B)
endif
call UnitAddItemByIdSwapped('I09X',SA)
set SA=null
endif
if(RMC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==$F then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-$F)
endif
call UnitAddItemByIdSwapped('I0AS',SA)
set SA=null
endif
if(RPC())then
call DialogClearBJ(SC[$A])
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=4 then
set DPV[80]=DialogAddButtonBJ(SC[$A],"|CFF20C000Mystic Gloves|r Cost: 4 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=5 then
set DPV[81]=DialogAddButtonBJ(SC[$A],"|CFF20C000Edged Sword|r Cost: 5 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=7 then
set DPV[82]=DialogAddButtonBJ(SC[$A],"|CFF20C000Sharp Armor|r Cost: 7 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=7 then
set DPV[83]=DialogAddButtonBJ(SC[$A],"|CFF20C000Plate Shield|r Cost: 7 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=8 then
set DPV[84]=DialogAddButtonBJ(SC[$A],"|CFF20C000Heroism Boots|r Cost: 8 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=8 then
set DPV[85]=DialogAddButtonBJ(SC[$A],"|cffffcc00Divine Amulet of Battle|r Cost: 8 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=$B then
set DPV[86]=DialogAddButtonBJ(SC[$A],"|CFF20C000Mystic Firebolt Scepter|r Cost: 11 Coal")
endif
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))>=$F then
set DPV[87]=DialogAddButtonBJ(SC[$A],"|CFF20C000Diamond Armor|r Cost: 15 Coal")
endif
set DPV[78]=DialogAddButtonBJ(SC[$A],"Next Page")
set DPV[79]=DialogAddButtonBJ(SC[$A],"Cancel")
call DialogDisplayBJ(true,SC[$A],GetOwningPlayer(SA))
endif
if(RQC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==16 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-16)
endif
call UnitAddItemByIdSwapped('I0AF',SA)
set SA=null
endif
if(RSC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==17 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-17)
endif
call UnitAddItemByIdSwapped('I0CU',SA)
set SA=null
endif
if(RTC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==32 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-32)
endif
call UnitAddItemByIdSwapped('I0EV',SA)
set SA=null
endif
if(RUC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==35 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-35)
endif
call UnitAddItemByIdSwapped('I0F1',SA)
set SA=null
endif
if(RWC())then
if GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))==45 then
call RemoveItem(GetItemOfTypeFromUnitBJ(SA,'I0DA'))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'),GetItemCharges(GetItemOfTypeFromUnitBJ(SA,'I0DA'))-45)
endif
call UnitAddItemByIdSwapped('I0E0',SA)
set SA=null
endif
endfunction
function RZC takes nothing returns nothing
set QIV=CreateTrigger()
call TriggerRegisterDialogEventBJ(QIV,SC[$A])
call TriggerRegisterDialogEventBJ(QIV,SC[$B])
call TriggerAddAction(QIV,function RYC)
endfunction
function R_C takes nothing returns boolean
return((GetUnitPointValue(GetKillingUnitBJ())!=$FA)and(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false)and(GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))and(IsUnitAliveBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])))!=null
endfunction
function R0C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GS'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GP'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GM'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GN'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GT'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GQ'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EK'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EP'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EN'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EM'))or(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EL'))
endfunction
function R1C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>6)
endfunction
function R2C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>9)
endfunction
function R3C takes nothing returns boolean
return(R0C())
endfunction
function R4C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=92)
endfunction
function R5C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))and(GetUnitLevel(GetTriggerUnit())>=75)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function R6C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'))and(GetUnitLevel(GetTriggerUnit())>=92)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)
endfunction
function R7C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'))and(GetUnitLevel(GetTriggerUnit())>=92)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ()))
endfunction
function R8C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=92)
endfunction
function R9C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))and(GetUnitLevel(GetTriggerUnit())>=75)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ()))
endfunction
function IVC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0G3'))and(GetUnitLevel(GetTriggerUnit())>=93)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ()))
endfunction
function IEC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0G3'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0G3')==false)and(GetUnitLevel(GetTriggerUnit())>=93)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)
endfunction
function IXC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HK')==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'))<380)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function IOC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HK'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'))<380)
endfunction
function IRC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HI')==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'))<300)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function IIC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HI'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'))<300)
endfunction
function IAC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HJ')==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'))<400)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function INC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HJ'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'))<400)
endfunction
function IBC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HN')==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'))<600)and(IsUnitIllusionBJ(GetTriggerUnit())==false)
endfunction
function ICC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0HN'))and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'))<600)
endfunction
function IDC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0IN'))and(UnitHasItemOfTypeBJ(GetKillingUnitBJ(),'I0IN')==false)and(IsUnitIllusionBJ(GetTriggerUnit())==false)and(IsUnitIllusionBJ(GetKillingUnitBJ())==false)and(GetUnitTypeId(GetTriggerUnit())=='nvde')
endfunction
function IFC takes nothing returns nothing
if(R3C())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GS'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GS'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GS'))>=440)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8600)then
call RemoveItem(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GS'))
call UnitAddItemByIdSwapped('I0GT',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8600))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GP'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GP'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GP'))>=500)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8800)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0GP'))
call UnitAddItemByIdSwapped('I0GQ',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8800))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GM'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GM'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GM'))>=400)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=8000)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0GM'))
call UnitAddItemByIdSwapped('I0GN',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-8000))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GN'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GN'))>=$3E8)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$5208)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0GN'))
call UnitAddItemByIdSwapped('I0GO',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$4E20))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GT'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GT'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GT'))>=$44C)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$5BCC)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0GT'))
call UnitAddItemByIdSwapped('I0GU',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$5BCC))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GQ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GQ'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0GQ'))>=$5DC)and(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)>=$6590)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0GQ'))
call UnitAddItemByIdSwapped('I0GR',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call SetPlayerStateBJ(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)-$6590))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EK'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EK'))>=90)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0EK'))
call UnitAddItemByIdSwapped('I0EL',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO')))<$2EE0 then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO'))+1))
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO'))>=$3E8)and(UnitHasItemOfTypeBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I040'))then
call RemoveItem(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EO'))
call RemoveItem(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I040'))
call UnitAddItemByIdSwapped('I0EP',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EM'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EM'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EM'))>=700)then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0EM'))
call UnitAddItemByIdSwapped('I0EN',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(R1C())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EL'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EL'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EL'))>=97)and(IsUnitAliveBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0EL'))
call UnitAddItemByIdSwapped('I0EM',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(R2C())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EN'))+1))
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EN'))>=97)and(IsUnitAliveBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0EN'))
call UnitAddItemByIdSwapped('I0EO',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EP'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0EP'))+1))
endif
endif
if(R5C())then
if(R4C())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))<100then
call ModifyHeroStat(bj_HEROSTAT_STR,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,32)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*$82),GetOwningPlayer(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*700),PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],true)
set XVV=GetUnitLoc(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call CreateTextTagLocBJ(("Gold +"+(I2S(($82*GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*700))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))+2))
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))>='d' and(IsUnitAliveBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0DR'))
call UnitAddItemByIdSwapped('I0J4',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))<100then
call ModifyHeroStat(bj_HEROSTAT_STR,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_AGI,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_INT,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,16)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*65),GetOwningPlayer(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*350),PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],true)
set XVV=GetUnitLoc(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call CreateTextTagLocBJ(("Gold +"+(I2S((65*GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*350))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))+1))
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))>='d' and(IsUnitAliveBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0DR'))
call UnitAddItemByIdSwapped('I0J4',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(R6C())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI')))<12then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'))+1))
endif
endif
if(R7C())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI')))<12then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0JI'))+1))
endif
endif
if(R9C())then
if(R8C())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))<100then
call ModifyHeroStat(bj_HEROSTAT_STR,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_AGI,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,20)
call ModifyHeroStat(bj_HEROSTAT_INT,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,32)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*$82),GetOwningPlayer(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*700),PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],true)
set XVV=GetUnitLoc(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call CreateTextTagLocBJ(("Gold +"+(I2S(($82*GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*700))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))+2))
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))>=100then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0DR'))
call UnitAddItemByIdSwapped('I0J4',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))<100then
call ModifyHeroStat(bj_HEROSTAT_STR,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_AGI,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,$A)
call ModifyHeroStat(bj_HEROSTAT_INT,PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],bj_MODIFYMETHOD_ADD,16)
call AdjustPlayerStateBJ((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*65),GetOwningPlayer(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),PLAYER_STATE_RESOURCE_GOLD)
call AddHeroXPSwapped((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*350),PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],true)
set XVV=GetUnitLoc(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call CreateTextTagLocBJ(("Gold +"+(I2S((65*GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))))+("EXP +"+I2S((GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))*350))))),XVV,10.,12.,95.,95.,1.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR'))+1))
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0DR')))>=100then
call RemoveItem(GetItemOfTypeFromUnitBJ((PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),'I0DR'))
call UnitAddItemByIdSwapped('I0J4',(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call AddSpecialEffectTargetUnitBJ("origin",(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
if(IVC()or IEC())then
call SetPlayerTechResearchedSwap('R05W',(GetPlayerTechCountSimple('R05W',GetOwningPlayer(GetKillingUnitBJ()))+1),GetOwningPlayer(GetKillingUnitBJ()))
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0G3'),GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0G3'))+1)
endif
if(IXC())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'))+1))
endif
if(IOC())then
if(IsUnitIllusionBJ(GetKillingUnitBJ())==false)and(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK')==false)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HK'))+1))
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'))<380)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HK'))+1))
endif
endif
endif
if(IRC())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'))+1))
endif
if(IIC())then
if(IsUnitIllusionBJ(GetKillingUnitBJ())==false)and(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI')==false)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HI'))+1))
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'))<300)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HI'))+1))
endif
endif
endif
if(IAC())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'))+1))
endif
if(INC())then
if(IsUnitIllusionBJ(GetKillingUnitBJ())==false)and(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ')==false)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HJ'))+1))
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'))<400)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HJ'))+1))
endif
endif
endif
if(IBC())then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'))+1))
endif
if(ICC())then
if(IsUnitIllusionBJ(GetKillingUnitBJ())==false)and(UnitHasItemOfTypeBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN')==false)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),'I0HN'))+1))
else
if(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'))<600)then
call SetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'),(GetItemCharges(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0HN'))+1))
endif
endif
endif
if(IDC())then
call RemoveItem(GetItemOfTypeFromUnitBJ(PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],'I0IN'))
call UnitAddItemByIdSwapped('I0LO',PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call AddSpecialEffectTargetUnitBJ("origin",PQ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set C2E=1
set C1E=0
call QuestSetDescriptionBJ(PJ[$D],"The acolyte wants to return peace to the graveyard once again. Help him by absorbing the soul of the Elder Voidwalker with the soul stone by killing the Elder Voidwalker.
The Elder Voidwalker is located at the top right.
Charging Soul Stone: |CFF20C000Completed|r
Return the Charged Soul Stone to the Acolyte: |cffff0000Not Completed|r")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffffcc00QUEST UPDATED|r
The restless Spirits.
 - Return to the Acolyte with the Charged Soul Stone.")
endif
endfunction
function IGC takes nothing returns nothing
set HRE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(HRE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(HRE,Condition(function R_C))
call TriggerAddAction(HRE,function IFC)
endfunction
function IHC takes nothing returns boolean
return(GetRandomInt(1,8)==4)
endfunction
function IJC takes nothing returns boolean
return(GetRandomInt(1,4)==2)and(OL!=1)
endfunction
function IKC takes nothing returns boolean
return(GetRandomInt(1,4)==2)and(OL!=1)
endfunction
function ILC takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<=50.)and(OL!=1)
endfunction
function IMC takes nothing returns boolean
return(GetUnitLifePercent(GetAttacker())<=65.)
endfunction
function IPC takes nothing returns boolean
return(GetRandomInt(1,4)==2)and(GetUnitLifePercent(GetAttacker())<=75.)
endfunction
function IQC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n058')
endfunction
function ISC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04P')and(GetUnitLifePercent(GetAttacker())<=65.)
endfunction
function ITC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00X')
endfunction
function IUC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04I')and(GetRandomInt(1,4)==2)
endfunction
function IWC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04N')and(GetRandomInt(1,4)==2)
endfunction
function IYC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04M')and(GetRandomInt(1,4)==2)
endfunction
function IZC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04L')and(GetRandomInt(1,4)==2)
endfunction
function I_C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n04K')and(GetRandomInt(1,4)==2)
endfunction
function I0C takes nothing returns boolean
return(GetRandomInt(1,$D)==6)and(UnitHasItemOfTypeBJ(GetAttacker(),'I0JI'))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function I1C takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false)and(GetUnitTypeId(GetTriggerUnit())!='u00Y')and(GetUnitTypeId(GetTriggerUnit())!='nmyr')and(GetUnitTypeId(GetTriggerUnit())!='n039')and(IsUnitIllusionBJ(GetAttacker())==false)and(GetUnitLevel(GetTriggerUnit())<$C8)
endfunction
function I2C takes nothing returns boolean
return(GetRandomInt(1,$D)==6)and(UnitHasItemOfTypeBJ(GetAttacker(),'I0JJ'))and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function I3C takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false)and(GetUnitTypeId(GetTriggerUnit())!='u00Y')and(GetUnitTypeId(GetTriggerUnit())!='nmyr')and(GetUnitTypeId(GetTriggerUnit())!='n039')and(IsUnitIllusionBJ(GetAttacker())==false)and(GetUnitLevel(GetTriggerUnit())<$C8)
endfunction
function I4C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I0JK'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function I5C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='u00X')
endfunction
function I6C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n058')
endfunction
function I7C takes nothing returns boolean
return(GetBooleanOr(I5C(),I6C()))
endfunction
function I8C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='H089')and(GetRandomInt(1,4)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function I9C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='H089')and(GetUnitLifePercent(GetAttacker())<=60.)and(GetRandomInt(1,$A)==2)and(IsUnitIllusionBJ(GetAttacker())==false)
endfunction
function AVC takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='H089')and(GetUnitLifePercent(GetAttacker())<=25.)and(IsUnitIllusionBJ(GetAttacker())==false)and(GetRandomInt(1,2)==2)
endfunction
function AEC takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>='x')
endfunction
function AXC takes nothing returns boolean
return((GetUnitTypeId(GetAttackedUnitBJ())=='H089')and(IsUnitIllusionBJ(GetAttackedUnitBJ())==false)and(IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)))!=null
endfunction
function AOC takes nothing returns nothing
if(I_C())then
call IssueImmediateOrderBJ(GetAttacker(),"roar")
else
if(IZC())then
call IssueImmediateOrderBJ(GetAttacker(),"roar")
else
if(IYC())then
call IssueImmediateOrderBJ(GetAttacker(),"roar")
else
if(IWC())then
call IssueImmediateOrderBJ(GetAttacker(),"roar")
else
if(IUC())then
call IssueTargetOrderBJ(GetAttacker(),"impale",GetAttackedUnitBJ())
call TriggerSleepAction(1.)
call IssueImmediateOrderBJ(GetAttacker(),"stop")
else
if(ITC())then
if(IHC())then
call UnitAddAbilityBJ('A028',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A028',GetTriggerUnit(),67)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(IJC())then
call IssueImmediateOrderBJ(GetAttacker(),"waterelemental")
endif
if(IKC())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"breathoffire",XVV)
call RemoveLocation(XVV)
call TriggerSleepAction(1.3)
call IssueImmediateOrderBJ(GetAttacker(),"stop")
endif
if(ILC())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"breathoffire",XVV)
call RemoveLocation(XVV)
call TriggerSleepAction(1.3)
call IssueImmediateOrderBJ(GetAttacker(),"stop")
endif
else
if(ISC())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"shockwave",XVV)
call RemoveLocation(XVV)
else
if(IQC())then
if(IMC())then
set XVV=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"shockwave",XVV)
call RemoveLocation(XVV)
call TriggerSleepAction(1.3)
call IssueImmediateOrderBJ(GetAttacker(),"stop")
endif
if(IPC())then
call IssueImmediateOrderBJ(GetAttacker(),"howlofterror")
endif
endif
if(I7C())then
call UnitRemoveBuffBJ('BPSE',GetTriggerUnit())
call UnitRemoveBuffBJ('B03H',GetTriggerUnit())
call UnitRemoveBuffBJ('B00J',GetTriggerUnit())
call UnitRemoveBuffBJ('B02J',GetTriggerUnit())
call UnitRemoveBuffBJ('B014',GetTriggerUnit())
call UnitRemoveBuffBJ('B03L',GetTriggerUnit())
endif
if(I8C())then
call UnitUseItem(GetAttacker(),GetItemOfTypeFromUnitBJ(GetAttacker(),'I0GR'))
endif
if(I9C())then
call UnitUseItem(GetAttacker(),GetItemOfTypeFromUnitBJ(GetAttacker(),'I0H9'))
endif
if(AVC())then
call UnitUseItem(GetAttacker(),GetItemOfTypeFromUnitBJ(GetAttacker(),'I0HZ'))
endif
if(AEC())then
call UnitRemoveBuffBJ('BPSE',GetAttackedUnitBJ())
call UnitRemoveBuffBJ('B03H',GetAttackedUnitBJ())
call UnitRemoveBuffBJ('B00J',GetAttackedUnitBJ())
call UnitRemoveBuffBJ('B02J',GetAttackedUnitBJ())
call UnitRemoveBuffBJ('B014',GetAttackedUnitBJ())
endif
endif
endif
endif
endif
endif
endif
endif
if(I1C())then
if(I0C())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*((I2R(GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),'I0JI')))/ 100.)*1)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(I3C())then
if(I2C())then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.08),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call SetUnitLifeBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttacker())+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetAttacker())*.08)))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\AItb\\AItbTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(I4C())then
call UnitAddAbilityBJ('A028',GetAttacker())
call SetUnitAbilityLevelSwapped('A028',GetAttacker(),68)
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
if(AXC())then
call UnitDamageTargetBJ(GetAttackedUnitBJ(),GetAttacker(),45,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function ARC takes nothing returns nothing
set FRE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(FRE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(FRE,function AOC)
endfunction
function AIC takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function AAC takes nothing returns nothing
set XVV=GetRectCenter(FNE)
call IssuePointOrderLocBJ(GetTriggerUnit(),"move",XVV)
call RemoveLocation(XVV)
endfunction
function ANC takes nothing returns nothing
set FAE=CreateTrigger()
call TriggerRegisterEnterRectSimple(FAE,C7E)
call TriggerAddCondition(FAE,Condition(function AIC))
call TriggerAddAction(FAE,function AAC)
endfunction
function ABC takes nothing returns boolean
return((GetHeroLevel(GetTriggerUnit())-JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])>=1)
endfunction
function ACC takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H07L')
endfunction
function ADC takes nothing returns boolean
return((GetHeroLevel(GetTriggerUnit())-JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])>=1)
endfunction
function AFC takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H07M')
endfunction
function AGC takes nothing returns nothing
if(ACC())then
call ModifyHeroSkillPoints(GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
if(ABC())then
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+((GetHeroLevel(GetTriggerUnit())-JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
set JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetHeroLevel(GetTriggerUnit())
endif
endif
if(AFC())then
call ModifyHeroSkillPoints(GetTriggerUnit(),bj_MODIFYMETHOD_ADD,1)
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
set JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1)
if(ADC())then
set JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(JWV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+((GetHeroLevel(GetTriggerUnit())-JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])))
set JYV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetHeroLevel(GetTriggerUnit())
endif
endif
endfunction
function AHC takes nothing returns nothing
set X6E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(X6E,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddAction(X6E,function AGC)
endfunction
function AJC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetAttacker(),'I0JW'))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function AKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QI',GetTriggerUnit())<18)and(GetUnitAbilityLevelSwapped('A1QJ',GetAttacker())<18)
endfunction
function ALC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QI',GetTriggerUnit())>=1)and(GetTriggerUnit()==LP[1])
endfunction
function AMC takes nothing returns boolean
return(GetRandomInt(1,5)==2)
endfunction
function APC takes nothing returns boolean
return(GetRandomInt(1,5)==2)
endfunction
function AQC takes nothing returns boolean
return(GetRandomInt(1,3)==2)and(GetUnitAbilityLevelSwapped('A1QM',GetTriggerUnit())<1)
endfunction
function ASC takes nothing returns boolean
return(GetRandomInt(1,3)==2)and(GetUnitAbilityLevelSwapped('A1QL',GetTriggerUnit())<1)
endfunction
function ATC takes nothing returns boolean
return(GetRandomInt(1,20)==5)
endfunction
function AUC takes nothing returns nothing
if(ALC())then
if(AKC())then
call IncUnitAbilityLevelSwapped('A1QI',LP[1])
call IncUnitAbilityLevelSwapped('A1QJ',LP[2])
call StartTimerBJ(MP,false,7.)
else
call UnitAddAbilityBJ('A1QK',LP[1])
call StartTimerBJ(MP,false,7.)
endif
else
call UnitRemoveAbilityBJ('A1QI',LP[1])
call UnitRemoveAbilityBJ('A1QJ',LP[2])
set LP[1]=GetTriggerUnit()
set LP[2]=GetAttacker()
call UnitAddAbilityBJ('A1QI',LP[1])
call UnitAddAbilityBJ('A1QJ',LP[2])
call StartTimerBJ(MP,false,7.)
endif
if(ATC())then
if(ASC())then
call UnitAddAbilityBJ('A1QL',GetTriggerUnit())
call UnitAddAbilityBJ('A1QM',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("|c00FF0000-45% Attack Speed|r",XVV,10.,12.,80.,80.,80.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
else
if(AQC())then
call UnitAddAbilityBJ('A1QM',GetTriggerUnit())
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ("|c00FF0000-750 Base Damage|r",XVV,10.,12.,80.,80.,80.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(XVV)
else
if(APC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1QN',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"entanglingroots",GetTriggerUnit())
call CreateTextTagLocBJ("|c0000FF00Entangling Roots!|r",XVV,10.,12.,80.,80.,80.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
else
if(AMC())then
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h076',GetOwningPlayer(GetAttacker()),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call SetUnitInvulnerable(GetLastCreatedUnit(),true)
call UnitAddAbilityBJ('A1QO',GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,'BTLF',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",GetTriggerUnit())
call CreateTextTagLocBJ("|c006969FFShock!|r",XVV,10.,12.,80.,80.,80.,6.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
else
set FFV=GetRandomInt($3A98,$7530)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(FFV),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
set XVV=GetUnitLoc(GetTriggerUnit())
call CreateTextTagLocBJ(I2S(FFV),XVV,10.,13.,99.,99.,76.,2.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
endfunction
function AWC takes nothing returns nothing
set X3E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(X3E,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(X3E,Condition(function AJC))
call TriggerAddAction(X3E,function AUC)
endfunction
function AYC takes nothing returns nothing
call UnitRemoveAbilityBJ('A1QI',LP[1])
call UnitRemoveAbilityBJ('A1QJ',LP[2])
endfunction
function AZC takes nothing returns nothing
set X4E=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(X4E,MP)
call TriggerAddAction(X4E,function AYC)
endfunction
function A_C takes nothing returns nothing
local timer A0C=CreateTimer()
local integer i=GetRandomInt(600,6000)
if((GetPlayerState(Player(2),PLAYER_STATE_RESOURCE_GOLD)>=$3A98))then
call TimerStart(A0C,i,false,function EPC)
endif
endfunction
function A1C takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function A2C takes nothing returns nothing
set XVV=GetRectCenter(KOV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function A3C takes nothing returns nothing
set X1E=CreateTrigger()
call TriggerRegisterEnterRectSimple(X1E,DXE)
call TriggerAddCondition(X1E,Condition(function A1C))
call TriggerAddAction(X1E,function A2C)
endfunction
function A4C takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function A5C takes nothing returns nothing
set XVV=GetRectCenter(KXV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),XVV,1.)
call SetUnitPositionLoc(GetTriggerUnit(),XVV)
call RemoveLocation(XVV)
endfunction
function A6C takes nothing returns nothing
set X2E=CreateTrigger()
call TriggerRegisterEnterRectSimple(X2E,DOE)
call TriggerAddCondition(X2E,Condition(function A4C))
call TriggerAddAction(X2E,function A5C)
endfunction
function A7C takes nothing returns nothing
call UnitRemoveBuffBJ('B00I',CH)
endfunction
function A8C takes nothing returns boolean
return(GetSpellAbilityId()=='A1QP')
endfunction
function A9C takes nothing returns boolean
return(GetSpellAbilityId()=='A02Z')and(GetUnitLevel(GetSpellTargetUnit())>'x')
endfunction
function NVC takes nothing returns nothing
local timer NEC=CreateTimer()
if(A8C())then
set XVV=GetRectCenter(KHV)
call SetUnitInvulnerable(GetSpellTargetUnit(),true)
call IssueImmediateOrderBJ(GetSpellTargetUnit(),"stop")
call SetUnitPositionLoc(GetSpellTargetUnit(),XVV)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetSpellTargetUnit()),XVV,1.)
call SetUnitInvulnerable(GetSpellTargetUnit(),false)
call RemoveLocation(XVV)
else
if(A9C())then
call UnitRemoveBuffBJ('B00I',CH)
set CH=GetSpellTargetUnit()
call TimerStart(NEC,6.,false,function A7C)
set NEC=null
endif
endif
endfunction
function NXC takes nothing returns nothing
set C4E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(C4E,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(C4E,function NVC)
endfunction
function NOC takes unit NRC,unittype NIC returns boolean
return(IsUnitType(NRC,NIC)!=null)
endfunction
function NAC takes nothing returns boolean
return(GetUnitTypeId(GX)=='N02Y' or GetUnitTypeId(GX)=='N032' or GetUnitTypeId(GX)=='N033' or GetUnitTypeId(GX)=='N034')
endfunction
function NNC takes nothing returns nothing
local real sr
local unit s=GX
local unit t=HX
local integer i
if(GetUnitTypeId(s)=='N02Y' or GetUnitTypeId(s)=='N032' or GetUnitTypeId(s)=='N033' or GetUnitTypeId(s)=='N034')and GetUnitAbilityLevelSwapped('ACmi',t)!=1 and(NOC(t,UNIT_TYPE_STRUCTURE)==false)!=null then
if UnitHasBuffBJ(t,'B08X')then
set KD=2.
elseif LD==1 and RB==1 and GetUnitState(s,UNIT_STATE_MANA)>=($C+(8*GetUnitAbilityLevel(s,'A10V')))then
set KD=2.
endif
endif
set s=null
set t=null
endfunction
function NBC takes nothing returns nothing
local real r
local unit s=GX
local unit t=HX
if(KD==2)and(GetUnitTypeId(s)=='N02Y' or GetUnitTypeId(s)=='N032' or GetUnitTypeId(s)=='N033' or GetUnitTypeId(s)=='N034')then
set KD=0
set r=(I2R(GetHeroStatBJ(1,s,true))*(.3*I2R(GetUnitAbilityLevelSwapped('A10V',s))))
call UnitRemoveAbility(t,'B08X')
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(s,t,r,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call EnableTrigger(GetTriggeringTrigger())
call SetWidgetLife(s,(GetUnitStateSwap(UNIT_STATE_LIFE,s)+r/2))
call AddSpecialEffectTargetUnitBJ("origin",s,"Abilities\\Spells\\Human\\Heal\\HealTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set XVV=GetUnitLoc(t)
call CreateTextTagLocBJ(("+"+I2S(R2I(r))),XVV,10.,10.,99.,3.,99.,12.)
call RemoveLocation(XVV)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,1.)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,60.,90)
endif
set s=null
set t=null
endfunction
function NCC takes nothing returns nothing
local trigger NDC=CreateTrigger()
call TriggerRegisterVariableEvent(NDC,"NE",EQUAL,1)
call TriggerAddCondition(NDC,Condition(function NAC))
call TriggerAddAction(NDC,function NBC)
endfunction
function NFC takes nothing returns nothing
local trigger NGC=CreateTrigger()
call TriggerRegisterVariableEvent(NGC,"NE",EQUAL,1)
call TriggerAddCondition(NGC,Condition(function NAC))
call TriggerAddAction(NGC,function NNC)
endfunction
function NHC takes nothing returns boolean
return(GetIssuedOrderId()==$D011F)or(GetIssuedOrderId()==$D0120)or(GetIssuedOrderId()==$D023C)
endfunction
function NJC takes nothing returns nothing
if(GetIssuedOrderId()==$D011F)then
set LD=1
else
set LD=0
endif
endfunction
function NKC takes nothing returns nothing
local trigger NLC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NLC,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(NLC,Condition(function NHC))
call TriggerAddAction(NLC,function NJC)
endfunction
function NMC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04T' or GetItemTypeId(GetManipulatedItem())=='I04P'or GetItemTypeId(GetManipulatedItem())=='I0JV' or GetItemTypeId(GetManipulatedItem())=='I0I5')and(GetUnitTypeId(GetTriggerUnit())=='N02Y' or GetUnitTypeId(GetTriggerUnit())=='N034' or GetUnitTypeId(GetTriggerUnit())=='N033' or GetUnitTypeId(GetTriggerUnit())=='N032')
endfunction
function NPC takes nothing returns nothing
set RB=1
endfunction
function NQC takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I04T' or GetItemTypeId(GetManipulatedItem())=='I04P' or GetItemTypeId(GetManipulatedItem())=='I0JV' or GetItemTypeId(GetManipulatedItem())=='I0I5')and(GetUnitTypeId(GetTriggerUnit())=='N02Y' or GetUnitTypeId(GetTriggerUnit())=='N034' or GetUnitTypeId(GetTriggerUnit())=='N033' or GetUnitTypeId(GetTriggerUnit())=='N032')
endfunction
function NSC takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer i
local integer i2=0
local item it
set i=1
loop
exitwhen i>6
set it=UnitItemInSlot(u,i-1)
if(it!=null)and((GetItemTypeId(it)=='I04T')or(GetItemTypeId(it)=='I04P')or(GetItemTypeId(it)=='I0JV')or(GetItemTypeId(it)=='I0I5'))then
set i2=i2+1
endif
set i=i+1
endloop
if i2<2 then
set RB=0
endif
set u=null
endfunction
function NTC takes nothing returns nothing
local trigger NUC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NUC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(NUC,Condition(function NQC))
call TriggerAddAction(NUC,function NSC)
endfunction
function NWC takes nothing returns nothing
local trigger NYC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(NYC,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(NYC,Condition(function NMC))
call TriggerAddAction(NYC,function NPC)
endfunction
function NZC takes nothing returns nothing
local timer N_C=CreateTimer()
local timer N0C=CreateTimer()
local integer i=GetRandomInt(500,5000)
call TimerStart(N_C,24.,false,function A_C)
set N_C=null
call TriggerSleepAction(2)
if((StringLength(MultiboardGetTitleText(AD))>$B))then
call TimerStart(N0C,i,false,function ZGB)
endif
endfunction
function N1C takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GX,'I03F'))or(UnitHasItemOfTypeBJ(GX,'I03I'))or(UnitHasItemOfTypeBJ(GX,'I0GI'))or(UnitHasItemOfTypeBJ(GX,'I09S'))or(UnitHasItemOfTypeBJ(GX,'I0GK'))or(UnitHasItemOfTypeBJ(GX,'I04I'))or(UnitHasItemOfTypeBJ(GX,'I09T'))or(UnitHasItemOfTypeBJ(GX,'I0GJ'))and(IsUnitType(HX,UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function N2C takes nothing returns nothing
local timer N3C=GetExpiredTimer()
local integer YYN=GetHandleId(N3C)
local unit t=LoadUnitHandle(TG,YYN,0)
call UnitRemoveAbility(t,'A1US')
call DestroyTimer(N3C)
set N3C=null
set t=null
endfunction
function N4C takes nothing returns nothing
local unit s=GX
local unit t=HX
local timer N5C=CreateTimer()
local integer YYN=GetHandleId(N5C)
if(GetUnitAbilityLevelSwapped('A1US',t)==0)and(UnitHasItemOfTypeBJ(s,'I03F'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
call TimerStart(N5C,5.,false,function N2C)
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)and(UnitHasItemOfTypeBJ(s,'I03I'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,2)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)and(UnitHasItemOfTypeBJ(s,'I0GI'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,3)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)and(UnitHasItemOfTypeBJ(s,'I09S'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,3)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)or(GetUnitAbilityLevelSwapped('A1US',t)==3)and(UnitHasItemOfTypeBJ(s,'I0GK'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,4)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)or(GetUnitAbilityLevelSwapped('A1US',t)==3)and(UnitHasItemOfTypeBJ(s,'I04I'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,4)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)or(GetUnitAbilityLevelSwapped('A1US',t)==3)or(GetUnitAbilityLevelSwapped('A1US',t)==4)and(UnitHasItemOfTypeBJ(s,'I0GJ'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,5)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
if(GetUnitAbilityLevelSwapped('A1US',t)==1)or(GetUnitAbilityLevelSwapped('A1US',t)==0)or(GetUnitAbilityLevelSwapped('A1US',t)==2)or(GetUnitAbilityLevelSwapped('A1US',t)==3)or(GetUnitAbilityLevelSwapped('A1US',t)==4)or(GetUnitAbilityLevelSwapped('A1US',t)==5)and(UnitHasItemOfTypeBJ(s,'I09T'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))then
call UnitAddAbilityBJ('A1US',t)
call SetUnitAbilityLevelSwapped('A1US',t,6)
call TimerStart(N5C,5.,false,function N2C)
call SaveUnitHandle(TG,YYN,0,t)
call SaveInteger(TG,YYN,2,GetUnitTypeId(t))
endif
set s=null
set t=null
set N5C=null
endfunction
function N6C takes nothing returns nothing
local trigger N7C=CreateTrigger()
call TriggerRegisterVariableEvent(N7C,"NE",EQUAL,1)
call TriggerAddCondition(N7C,Condition(function N1C))
call TriggerAddAction(N7C,function N4C)
endfunction
function N8C takes nothing returns boolean
return((UnitHasItemOfTypeBJ(GX,'ofro'))or(UnitHasItemOfTypeBJ(GX,'I017'))or(UnitHasItemOfTypeBJ(GX,'I031'))and(IsUnitType(HX,UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function N9C takes nothing returns nothing
local timer BVC=GetExpiredTimer()
local integer YYN=GetHandleId(BVC)
local unit t=LoadUnitHandle(UG,YYN,0)
call UnitRemoveAbility(t,'S01I')
call DestroyTimer(BVC)
set BVC=null
set t=null
endfunction
function BEC takes nothing returns nothing
local unit s=GX
local unit t=HX
local timer BXC=CreateTimer()
local integer YYN=GetHandleId(BXC)
if(GetUnitAbilityLevelSwapped('S01I',t)==0)and(UnitHasItemOfTypeBJ(s,'ofro'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('S01I',t)
call SaveUnitHandle(UG,YYN,0,t)
call SaveInteger(UG,YYN,2,GetUnitTypeId(t))
call TimerStart(BXC,2.,false,function N9C)
endif
if(GetUnitAbilityLevelSwapped('S01I',t)==0)and(UnitHasItemOfTypeBJ(s,'I017'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))and(NX==false)then
call UnitAddAbilityBJ('S01I',t)
call SaveUnitHandle(UG,YYN,0,t)
call SaveInteger(UG,YYN,2,GetUnitTypeId(t))
call TimerStart(BXC,4.,false,function N9C)
endif
if(GetUnitAbilityLevelSwapped('S01I',t)==0)and(UnitHasItemOfTypeBJ(s,'I031'))and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))then
call UnitAddAbilityBJ('S01I',t)
call SaveUnitHandle(UG,YYN,0,t)
call SaveInteger(UG,YYN,2,GetUnitTypeId(t))
call TimerStart(BXC,6.,false,function N9C)
endif
set s=null
set t=null
set BXC=null
endfunction
function BOC takes nothing returns nothing
local trigger BRC=CreateTrigger()
call TriggerRegisterVariableEvent(BRC,"NE",EQUAL,1)
call TriggerAddCondition(BRC,Condition(function N8C))
call TriggerAddAction(BRC,function BEC)
endfunction
function BIC takes nothing returns boolean
return((GetUnitAbilityLevelSwapped('A1X3',GX)>0)and(IsUnitType(HX,UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function BAC takes nothing returns nothing
local unit s=GX
local unit t=HX
if(GetUnitAbilityLevelSwapped('A1X3',s)>0)and(IsUnitType(t,UNIT_TYPE_STRUCTURE)==false)and(IsUnitEnemy(t,GetOwningPlayer(s)))then
if GetUnitStateSwap(UNIT_STATE_MANA,t)<70 and GetUnitStateSwap(UNIT_STATE_MANA,t)>1 then
call SetUnitState(s,UNIT_STATE_MANA,GetUnitStateSwap(UNIT_STATE_MANA,s)+GetUnitStateSwap(UNIT_STATE_MANA,t))
call SetUnitState(t,UNIT_STATE_MANA,0)
call AddSpecialEffectTargetUnitBJ("origin",t,"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
if GetUnitStateSwap(UNIT_STATE_MANA,t)>70 then
call SetUnitState(t,UNIT_STATE_MANA,GetUnitStateSwap(UNIT_STATE_MANA,t)-70)
call SetUnitState(s,UNIT_STATE_MANA,GetUnitStateSwap(UNIT_STATE_MANA,s)+70)
call AddSpecialEffectTargetUnitBJ("origin",t,"Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endif
endfunction
function BNC takes nothing returns nothing
local trigger BBC=CreateTrigger()
call TriggerRegisterVariableEvent(BBC,"NE",EQUAL,1)
call TriggerAddCondition(BBC,Condition(function BIC))
call TriggerAddAction(BBC,function BAC)
endfunction
function BCC takes nothing returns boolean
return(IsUnitEnemy(GX,GetOwningPlayer(HX)))
endfunction
function BDC takes nothing returns boolean
return(IsUnit(DIV,HX))
endfunction
function BFC takes nothing returns boolean
return(IsUnit(HX,LV))
endfunction
function BGC takes nothing returns boolean
return(IsUnit(HX,MV))
endfunction
function BHC takes nothing returns boolean
return(GetBooleanOr(BFC(),BGC()))
endfunction
function BJC takes nothing returns boolean
return(GetUnitTypeId(HX)=='n059')
endfunction
function BKC takes nothing returns boolean
return(GetUnitTypeId(HX)=='n05A')
endfunction
function BLC takes nothing returns boolean
return(GetUnitTypeId(HX)=='n05B')
endfunction
function BMC takes nothing returns boolean
return(GetBooleanOr(BJC(),BKC()))
endfunction
function BPC takes nothing returns boolean
return(GetBooleanOr(BLC(),BMC()))
endfunction
function BQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0TX',HX)>0)and(FX>=1)and(NX==false)and(EX!=GE)and(EX!=JE)
endfunction
function BSC takes nothing returns nothing
if(BDC())then
set D_V=D_V+FX
endif
if(BHC())then
set QV=QV+FX
set FX=FX*.5
set SV=FX
if(BFC())then
call UnitAddAbilityBJ('A028',MV)
call SetUnitAbilityLevelSwapped('A028',MV,80)
call UnitDamageTargetBJ(LV,MV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(BGC())then
call UnitAddAbilityBJ('A028',LV)
call SetUnitAbilityLevelSwapped('A028',LV,80)
call UnitDamageTargetBJ(MV,LV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
if(BQC())then
if GetUnitAbilityLevelSwapped('A0TX',HX)>=1 and GetUnitAbilityLevelSwapped('A0TX',HX)<=7 then
set FX=FX+(40*GetUnitAbilityLevelSwapped('A0TX',HX))
endif
if GetUnitAbilityLevelSwapped('A0TX',HX)==8 then
set FX=FX+350
endif
if GetUnitAbilityLevelSwapped('A0TX',HX)==9 then
set FX=FX+500
endif
endif
if(BPC())then
if(BJC())then
if(TimerGetRemaining(MH[0])==0)then
call StartTimerBJ(MH[0],false,10.)
else
set LH[0]=LH[0]+R2I(FX)
endif
endif
if(BKC())then
if(TimerGetRemaining(MH[1])==0)then
call StartTimerBJ(MH[1],false,10.)
else
set LH[1]=LH[1]+R2I(FX)
endif
endif
if(BLC())then
if(TimerGetRemaining(MH[2])==0)then
call StartTimerBJ(MH[2],false,10.)
else
set LH[2]=LH[2]+R2I(FX)
endif
endif
endif
endfunction
function BTC takes nothing returns nothing
set J9V=CreateTrigger()
call TriggerRegisterVariableEvent(J9V,"NE",EQUAL,1)
call TriggerAddAction(J9V,function BSC)
call TriggerAddCondition(J9V,Condition(function BCC))
endfunction
function BUC takes nothing returns boolean
return(GetExpiredTimer()==MH[0])
endfunction
function BWC takes nothing returns boolean
return(GetExpiredTimer()==MH[1])
endfunction
function BYC takes nothing returns boolean
return(GetExpiredTimer()==MH[2])
endfunction
function BZC takes nothing returns boolean
return(GetExpiredTimer()==MH[3])
endfunction
function B_C takes nothing returns nothing
local texttag B0C
if(BUC())then
set B0C=CreateTextTagUnitBJ("Total DPS: "+I2S(LH[0]/$A),HH,0,11.,$FF,$FF,$FF,.0)
set LH[0]=0
call mj(4.)
call DestroyTextTagBJ(B0C)
endif
if(BWC())then
set B0C=CreateTextTagUnitBJ("Total DPS: "+I2S(LH[1]/$A),JH,0,11.,$FF,$FF,$FF,.0)
set LH[1]=0
call mj(4.)
call DestroyTextTagBJ(B0C)
endif
if(BYC())then
set B0C=CreateTextTagUnitBJ("Total DPS: "+I2S(LH[2]/$A),KH,0,11.,$FF,$FF,$FF,.0)
set LH[2]=0
call mj(4.)
call DestroyTextTagBJ(B0C)
endif
if(BZC())then
if GetOwningPlayer(TF)!=Player(1)then
call IssuePointOrderById(TF,$D000F,GetUnitX(TF),GetUnitY(TF))
endif
if GetOwningPlayer(TF)==Player(1)and GetUnitTypeId(TF)!='H089'then
call IssuePointOrderById(TF,$D000F,1861.,-9952.)
endif
if GetOwningPlayer(TF)==Player(1)and GetUnitTypeId(TF)=='H089'then
call IssuePointOrderById(TF,$D000F,GetUnitX(TF),GetUnitY(TF))
endif
set TF=null
endif
endfunction
function B1C takes nothing returns nothing
set QOV=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(QOV,MH[0])
call TriggerRegisterTimerExpireEventBJ(QOV,MH[1])
call TriggerRegisterTimerExpireEventBJ(QOV,MH[2])
call TriggerRegisterTimerExpireEventBJ(QOV,MH[3])
call TriggerAddAction(QOV,function B_C)
endfunction
function B2C takes nothing returns boolean
return(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(GetUnitAbilityLevelSwapped('A028',HX)>=1)
endfunction
function B3C takes nothing returns boolean
return GetUnitAbilityLevelSwapped('A028',HX)==76
endfunction
function B4C takes nothing returns boolean
return GetUnitAbilityLevelSwapped('A028',HX)==80
endfunction
function B5C takes nothing returns boolean
return(GetBooleanOr(B3C(),B4C()))and(IsUnitEnemy(GX,GetOwningPlayer(HX))==false)
endfunction
function B6C takes nothing returns boolean
return(GetBooleanOr(B2C(),B5C()))and(NX==false)
endfunction
function B7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==1)
endfunction
function B8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==2)
endfunction
function B9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==3)
endfunction
function CVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==4)
endfunction
function CEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==5)
endfunction
function CXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==6)
endfunction
function COC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==7)
endfunction
function CRC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==8)
endfunction
function CIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==9)
endfunction
function CAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$A)
endfunction
function CNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$B)
endfunction
function CBC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$C)
endfunction
function CCC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$D)
endfunction
function CDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$E)
endfunction
function CFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==$F)
endfunction
function CGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==16)
endfunction
function CHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==17)
endfunction
function CJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==18)
endfunction
function CKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==19)
endfunction
function CLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==20)and(JQV[GetConvertedPlayerId(GetOwningPlayer(GX))]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetOwningPlayer(GX))],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetOwningPlayer(GX))])*4))<$8CA)
endfunction
function CMC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==20)and(JQV[GetConvertedPlayerId(GetOwningPlayer(GX))]+(GetHeroStatBJ(bj_HEROSTAT_INT,JZV[GetConvertedPlayerId(GetOwningPlayer(GX))],true)+(GetUnitLevel(JZV[GetConvertedPlayerId(GetOwningPlayer(GX))])*4))>=$8CA)
endfunction
function CPC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==21)
endfunction
function CQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==22)
endfunction
function CSC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==23)
endfunction
function CTC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==24)
endfunction
function CUC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==25)
endfunction
function CWC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==26)
endfunction
function CYC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==27)
endfunction
function CZC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==28)
endfunction
function C_C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==29)
endfunction
function C0C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==30)
endfunction
function C1C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==31)
endfunction
function C2C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==32)
endfunction
function C3C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==33)
endfunction
function C4C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==34)
endfunction
function C5C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==35)
endfunction
function C6C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==36)
endfunction
function C7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==37)
endfunction
function C8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==38)
endfunction
function C9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==39)
endfunction
function DVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==40)
endfunction
function DEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==41)
endfunction
function DXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==42)
endfunction
function DOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==43)
endfunction
function DIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==44)
endfunction
function DAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==45)
endfunction
function DNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==46)
endfunction
function DBC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==47)
endfunction
function DCC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==48)
endfunction
function DDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==49)
endfunction
function DFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==50)
endfunction
function DGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==51)
endfunction
function DHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==52)
endfunction
function DJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==53)
endfunction
function DKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==54)
endfunction
function DLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==55)
endfunction
function DMC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==56)
endfunction
function DPC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==57)
endfunction
function DQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==58)
endfunction
function DSC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==59)
endfunction
function DTC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==60)
endfunction
function DUC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==61)
endfunction
function DWC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==62)
endfunction
function DYC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==63)
endfunction
function DZC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==64)
endfunction
function D_C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==65)
endfunction
function D0C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==66)
endfunction
function D1C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==67)
endfunction
function D2C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==68)
endfunction
function D3C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==69)
endfunction
function D4C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==70)
endfunction
function D5C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==71)
endfunction
function D6C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==72)
endfunction
function D7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==73)
endfunction
function D8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==74)
endfunction
function D9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==75)
endfunction
function FVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==76)
endfunction
function FEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==77)
endfunction
function FXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==78)
endfunction
function FOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==79)
endfunction
function FRC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==80)
endfunction
function FIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==81)
endfunction
function FAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A028',HX)==82)
endfunction
function FNC takes nothing returns nothing
if(B7C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$F4240
set EX=GE
endif
if(B8C())then
call UnitRemoveAbilityBJ('A028',HX)
if GD==false then
set FX=((I2R(I9V)*57.)+(250.+(250.*GetUnitAbilityLevelSwapped('A11A',GX))))
else
set FX=((.0+((GetUnitAbilityLevelSwapped('A11B',GX))*.1)+.5))*(((I2R(I9V)*57.)+250.)+(250.*I2R(GetUnitAbilityLevelSwapped('A11A',GX))))
set GD=false
endif
set EX=GE
endif
if(B9C())then
call UnitRemoveAbilityBJ('A028',HX)
if GD==false then
set FX=(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GX,true))*(1.+(1.*I2R(GetUnitAbilityLevelSwapped('A119',GX)))))
else
set FX=((GetHeroStatBJ(bj_HEROSTAT_INT,GX,true)*((GetUnitAbilityLevelSwapped('A11B',GX))*.1)+.5)*(1.+(1.*GetUnitAbilityLevelSwapped('A119',GX))))
set GD=false
endif
set EX=GE
endif
if(CVC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((I2R(JQV[GetConvertedPlayerId(GetOwningPlayer(GX))])+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GX,true))+(I2R(GetUnitLevel(GX))*4.)))*(I2R(GetUnitAbilityLevelSwapped('A11C',GX))*32.5))
set EX=GE
endif
if(CEC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=R2I((9000*GetUnitAbilityLevelSwapped('A1Y2',GX))+(GetUnitState(HX,UNIT_STATE_MAX_LIFE)*(.02*GetUnitAbilityLevelSwapped('A1Y2',GX))))
set EX=GE
endif
if(CXC())then
call UnitRemoveAbilityBJ('A028',HX)
if GD==false then
set FX=(80.*I2R(GetUnitAbilityLevelSwapped('A118',GX)))
else
set FX=(((I2R(GetUnitAbilityLevelSwapped('A11B',GX))*.1)+.5)*80.)*I2R(GetUnitAbilityLevelSwapped('A118',GX))
set GD=false
endif
set EX=GE
endif
if(COC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(D_V*(.65+(.35*I2R(GetUnitAbilityLevelSwapped('A18Y',GX)))))
set EX=GE
set XVV=GetUnitLoc(DZV)
call AddSpecialEffectLocBJ(XVV,"Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ(R2S((D_V*(.65+(.35*I2R(GetUnitAbilityLevelSwapped('A18Y',DIV)))))),XVV,10.,14.,85.,2.,100.,4.)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),30.,90)
call RemoveLocation(XVV)
endif
if(CRC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((((I2R(GetUnitAbilityLevelSwapped('A18R',GX))*.02)+.03)*GetUnitStateSwap(UNIT_STATE_LIFE,HX)))
set EX=GE
endif
if(CIC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)*.7)
set EX=GE
endif
if(CAC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)-GetUnitStateSwap(UNIT_STATE_LIFE,GX))+.0)*((I2R(GetUnitAbilityLevelSwapped('A18V',GX))+.0)-.0))+1.)
set EX=GE
endif
if(CNC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)*(.02*GetUnitAbilityLevelSwapped('A1UG',GX))
set EX=GE
endif
if(CBC())then
call UnitRemoveAbilityBJ('A028',HX)
if GetUnitAbilityLevelSwapped('A0FR',GX)>=1 and GetUnitAbilityLevelSwapped('A0FR',GX)<=3 then
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,GX)*.7)*GetUnitAbilityLevelSwapped('A0FR',GX)+400
endif
if GetUnitAbilityLevelSwapped('A0FR',GX)==4 then
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,GX)*2.7)+400
endif
set EX=GE
endif
if(CCC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((I2R(GetUnitAbilityLevelSwapped('A1PV',GX))*2.)*DistanceBetweenPoints(XVV,FCV))
set EX=GE
endif
if(CDC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$5DC
set EX=GE
endif
if(CFC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.4)
set EX=GE
endif
if(CGC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$249F0
set EX=GE
endif
if(CHC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$2710
set EX=GE
endif
if(CJC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$4E20
set EX=GE
endif
if(CKC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.0004)
set EX=GE
endif
if(CLC())then
call UnitRemoveAbilityBJ('A028',HX)
if IsUnitType(HX,UNIT_TYPE_MELEE_ATTACKER)then
set FX=((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*2.1)+220.)
else
set FX=((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*2.1))
endif
set EX=GE
endif
if(CMC())then
call UnitRemoveAbilityBJ('A028',HX)
if IsUnitType(HX,UNIT_TYPE_MELEE_ATTACKER)then
set FX=((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*2.6)+220.)
else
set FX=((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*2.6))
endif
set EX=GE
endif
if(CPC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.2)
set EX=GE
endif
if(CQC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((GetUnitAbilityLevelSwapped('A1RI',GX)+(GetUnitAbilityLevelSwapped('A1RK',GX)))*((GetHeroStatBJ(bj_HEROSTAT_AGI,GX,true))+(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))+(GetHeroStatBJ(bj_HEROSTAT_INT,GX,true)))/2)
set EX=GE
endif
if(CSC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=XH*$D
set EX=GE
endif
if(CTC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=R2I((2.*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))+(($F*(GetPlayerTechCountSimple('R02P',GetOwningPlayer(GX))*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX))))+((25*(GetPlayerTechCountSimple('R01L',GetOwningPlayer(GX)))))*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX))))+(500*(GetPlayerTechCountSimple('R05V',GetOwningPlayer(GX))))*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX)))+((2*(GetPlayerTechCountSimple('R01G',GetOwningPlayer(GX)))))*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX)))+(2*(GetPlayerTechCountSimple('R00V',GetOwningPlayer(GX))))*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX)))+((1.3*(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))+47)*(.25+(.25*GetUnitAbilityLevelSwapped('A0PN',GX)))))))
set EX=GE
endif
if(CUC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$2710
set EX=GE
endif
if(CWC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(JQV[GetConvertedPlayerId(GetOwningPlayer(GX))]+(GetHeroStatBJ(bj_HEROSTAT_INT,GX,true)+(GetUnitLevel(GX)*4)))*GetUnitAbilityLevelSwapped('A0XZ',GX)
set EX=GE
endif
if(CYC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(100.+(I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*(4.+I2R(GetUnitAbilityLevelSwapped('A0Z9',GX)))))
set EX=GE
endif
if(CZC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=6000.
set EX=GE
endif
if(C_C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$578
set EX=GE
endif
if(C0C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GX,true))*(2.+(2.*I2R(GetUnitAbilityLevelSwapped('A1MU',GX)))))
set EX=GE
endif
if(C1C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.27)
set EX=GE
endif
if(C2C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.21)
set EX=GE
endif
if(C3C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$FA0
set EX=GE
endif
if(C4C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$3E8
set EX=GE
endif
if(C5C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitLevel(GX)*'d'+500
set EX=GE
endif
if(C6C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitLevel(GX)*'d'+800
set EX=GE
endif
if(C7C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitLevel(GX)*80
set EX=GE
endif
if(C8C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=QV*1.5
set EX=GE
endif
if(C9C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.01)
set EX=GE
endif
if(DVC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX))*.1
set EX=GE
endif
if(DEC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$4268
set EX=GE
endif
if(DXC())then
call UnitRemoveAbilityBJ('A028',HX)
set EX=GE
endif
if(DOC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetHeroStatBJ(bj_HEROSTAT_INT,GX,true))*(2.+GetUnitAbilityLevelSwapped('A0QJ',GX))
set EX=GE
endif
if(DIC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.01*(GetUnitAbilityLevelSwapped('A1RZ',GX)))
set EX=GE
endif
if(DAC())then
call UnitRemoveAbilityBJ('A028',HX)
if GetUnitAbilityLevelSwapped('A1VA',GX)>=5 and GetUnitAbilityLevelSwapped('A1VA',GX)<=$A then
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX))*.04
endif
if GetUnitAbilityLevelSwapped('A1VA',GX)>=$B and GetUnitAbilityLevelSwapped('A1VA',GX)<=$F then
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX))*.06
endif
if GetUnitAbilityLevelSwapped('A1VA',GX)==16 then
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX))*.08
endif
set EX=GE
endif
if(DNC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((.01*I2R(G_V))*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
set EX=GE
endif
if(DBC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.04)
set EX=GE
endif
if(DCC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R(FN[9])
set EX=GE
endif
if(DDC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R(FN[8])
set EX=GE
endif
if(DFC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.09)
set EX=GE
endif
if(DGC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.21)
set EX=GE
endif
if(DHC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((.01*I2R(G_V))*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
set EX=GE
endif
if(DJC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.88)
set EX=GE
endif
if(DKC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.23)+(I2R(FN[7]))
set EX=GE
endif
if(DLC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R(FN[6])
set EX=GE
endif
if(DMC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.05)+50
set EX=GE
endif
if(DPC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)*.08*(GetUnitAbilityLevelSwapped('A06Q',GX)))
set EX=GE
endif
if(DQC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=600*(GetUnitAbilityLevelSwapped('A0PI',GX))+((GetHeroStatBJ(bj_HEROSTAT_STR,GX,true)*(GetUnitAbilityLevelSwapped('A0PI',GX))*.3))
set EX=GE
endif
if(DSC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetHeroStatBJ(bj_HEROSTAT_STR,GX,true))*GetUnitAbilityLevelSwapped('A0OM',GX)
set EX=GE
endif
if(DTC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$7148
set EX=GE
endif
if(DUC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((.01*I2R(G_V))*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
set EX=GE
endif
if(DWC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)*(.03+(.01*GetUnitAbilityLevelSwapped('A1A4',GX))))
set EX=GE
endif
if(DYC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)*.5
set EX=GE
endif
if(DZC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((325.*I2R(GetUnitAbilityLevelSwapped('A1C3',GX)))*I2R(GRV))
set EX=GE
endif
if(D_C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=$7D0
set EX=GE
endif
if(D0C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=R2I((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GX)-GetUnitStateSwap(UNIT_STATE_LIFE,GX))/2.1)
set EX=GE
endif
if(D1C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_LIFE,HX)*.15)+$3A98
set EX=GE
endif
if(D2C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R((GetUnitLevel(GX)*375))
set EX=GE
endif
if(D3C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R(((GetHeroStatBJ(bj_HEROSTAT_STR,GX,true)+GetHeroStatBJ(bj_HEROSTAT_AGI,GX,true))+GetHeroStatBJ(bj_HEROSTAT_INT,GX,true))*3)
set EX=GE
endif
if(D4C())then
call UnitRemoveAbilityBJ('A028',HX)
if GetUnitAbilityLevelSwapped('A1PC',GX)==1 then
set FX=(.05*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
endif
if GetUnitAbilityLevelSwapped('A1PC',GX)==2 then
set FX=(.06*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
endif
if GetUnitAbilityLevelSwapped('A1PC',GX)==3 then
set FX=(.07*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
endif
if GetUnitAbilityLevelSwapped('A1PC',GX)==4 then
set FX=(.09*GetUnitStateSwap(UNIT_STATE_LIFE,HX))
endif
set EX=GE
endif
if(D5C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX)*.11)
set EX=GE
endif
if(D6C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=(A6[M6]*.03)
set EX=GE
endif
if(D7C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=YM[((MM[2]*6)+1)]
set EX=GE
endif
if(D8C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=I2R(U2[L2])
set EX=GE
endif
if(D9C())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=((AK+(NK*(I2R(QK[LK[3]])-1)))+(BK+(CK*(I2R(QK[LK[3]])-1))))
set EX=GE
endif
if(FVC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=QV*2.4
set EX=GE
endif
if(FEC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=ZZ[F0]
set EX=GE
endif
if(FXC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=DW[KW[PW]]
set EX=GE
endif
if(FOC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=R6[M6]+(.05*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,HX))
set EX=GE
endif
if(FRC())then
call UnitRemoveAbilityBJ('A028',HX)
if UnitHasBuffBJ(HX,'B050') then
set FX=0
else
set FX=SV
set EX=GE
endif
set SV=0
endif
if(FIC())then
call UnitRemoveAbilityBJ('A028',HX)
set FX=GetUnitLevel(GX)*80
set EX=GE
endif
if(FAC())then
call UnitRemoveAbilityBJ('A028',HX)
if(GetUnitAbilityLevelSwapped('A0OJ',GX)>=1 and GetUnitAbilityLevelSwapped('A0OJ',GX)<=3)then
set FX=$96*GetUnitAbilityLevelSwapped('A0OJ',GX)
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==4)then
set FX=800
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==5)then
set FX=$514
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==6)then
set FX=$76C
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==7)then
set FX=$A28
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==8)then
set FX=$DAC
endif
if(GetUnitAbilityLevelSwapped('A0OJ',GX)==9)then
set FX=5000
endif
set EX=GE
endif
endfunction
function FBC takes nothing returns nothing
local trigger FCC=CreateTrigger()
call TriggerRegisterVariableEvent(FCC,"ME",EQUAL,1)
call TriggerAddCondition(FCC,Condition(function B6C))
call TriggerAddAction(FCC,function FNC)
endfunction
function FDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)>=1)and(NX)
endfunction
function FFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==1)
endfunction
function FGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==2)
endfunction
function FHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==3)
endfunction
function FJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==4)
endfunction
function FKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==5)
endfunction
function FLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AB',HX)==6)
endfunction
function FMC takes nothing returns nothing
local unit s=GX
local unit t=HX
if(FFC())then
call UnitRemoveAbilityBJ('A0AB',t)
set FDV=GetUnitLoc(s)
if FX<GetUnitStateSwap(UNIT_STATE_LIFE,t)then
call SetUnitLifeBJ(s,GetUnitStateSwap(UNIT_STATE_LIFE,s)+FX)
call CreateTextTagLocBJ("+"+I2S(R2I(RAbsBJ(-FX))),FDV,0,8.,5.,100.,10.,0)
else
call SetUnitLifeBJ(s,GetUnitStateSwap(UNIT_STATE_LIFE,s)+R2I(GetUnitStateSwap(UNIT_STATE_LIFE,t)))
call CreateTextTagLocBJ("+"+I2S(R2I(RAbsBJ(-GetUnitStateSwap(UNIT_STATE_LIFE,t)))),FDV,0,8.,5.,100.,10.,0)
endif
call RemoveLocation(FDV)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),.83)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,GetRandomReal(10.,90.))
endif
if(FGC())then
call UnitRemoveAbilityBJ('A0AB',t)
set FX=0-(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,s,true))*13.)
set EX=DE
endif
if(FHC())then
call UnitRemoveAbilityBJ('A0AB',t)
set FX=0-((400.*I2R(GetUnitAbilityLevelSwapped('A15H',s)))+((I2R(GetHeroStatBJ(bj_HEROSTAT_STR,s,true))*(I2R(GetUnitAbilityLevelSwapped('A15H',s))+6.))))
set EX=DE
endif
if(FJC())then
call UnitRemoveAbilityBJ('A0AB',t)
set FX=0-(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,O7V)*.08)
set EX=DE
endif
if(FKC())then
call UnitRemoveAbilityBJ('A0AB',t)
if GetUnitAbilityLevelSwapped('A1WV',s)>=1 and GetUnitAbilityLevelSwapped('A1WV',s)<=7 then
set FX=0-(400*GetUnitAbilityLevelSwapped('A1WV',s)+((GetHeroStatBJ(bj_HEROSTAT_INT,s,true)*GetUnitAbilityLevelSwapped('A1WV',s)/2)))
endif
if GetUnitAbilityLevelSwapped('A1WV',s)==8 then
set FX=0-($E10+(GetHeroStatBJ(bj_HEROSTAT_INT,s,true)*GetUnitAbilityLevelSwapped('A1WV',s)/2))
endif
if GetUnitAbilityLevelSwapped('A1WV',s)==9 then
set FX=0-(5000+(GetHeroStatBJ(bj_HEROSTAT_INT,s,true)*GetUnitAbilityLevelSwapped('A1WV',s)/2))
endif
set EX=DE
endif
if(FLC())then
call UnitRemoveAbilityBJ('A0AB',t)
set FX=0-((8+(8*GetUnitAbilityLevelSwapped('A12T',s)))*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,s,true))+(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,t)*(.18+(.04*GetUnitAbilityLevelSwapped('A12T',s)))))
call AddSpecialEffectTargetUnitBJ("origin",t,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set EX=DE
endif
set s=null
set t=null
endfunction
function FPC takes nothing returns nothing
local trigger FQC=CreateTrigger()
call TriggerRegisterVariableEvent(FQC,"ME",EQUAL,2)
call TriggerAddCondition(FQC,Condition(function FDC))
call TriggerAddAction(FQC,function FMC)
endfunction
function FSC takes nothing returns boolean
return(IsUnitIllusionBJ(HX))and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(EX!=GE)
endfunction
function FTC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A1'))
endfunction
function FUC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A2'))
endfunction
function FWC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A5'))
endfunction
function FYC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A6'))
endfunction
function FZC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A7'))
endfunction
function F_C takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A8'))
endfunction
function F0C takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A9'))
endfunction
function F1C takes nothing returns nothing
if(FTC())then
set FX=FX*6.
endif
if(FUC())then
set FX=FX*1.8
endif
if(FWC())then
set FX=FX*(1-(.2*GetUnitAbilityLevelSwapped('A1XV',HX)))
endif
if(FYC())then
if GetUnitAbilityLevelSwapped('AOmi',HX)>=1 and GetUnitAbilityLevelSwapped('AOmi',HX)<=3 then
set FX=FX*(1-(.15*GetUnitAbilityLevelSwapped('AOmi',HX)))
endif
if GetUnitAbilityLevelSwapped('AOmi',HX)==4 then
set FX=FX*.3
endif
endif
if(FZC())then
if GetUnitAbilityLevelSwapped('A0CC',HX)>=1 and GetUnitAbilityLevelSwapped('A0CC',HX)<=8 then
set FX=FX*(4.25-(.25*GetUnitAbilityLevelSwapped('A0CC',HX)))
endif
if GetUnitAbilityLevelSwapped('A0CC',HX)==9 then
set FX=FX*1.35
endif
endif
if(F_C())then
if GetUnitAbilityLevelSwapped('A02Q',HX)>=1 and GetUnitAbilityLevelSwapped('A02Q',HX)<=4 then
set FX=FX*$A
endif
if GetUnitAbilityLevelSwapped('A02Q',HX)>=5 and GetUnitAbilityLevelSwapped('A02Q',HX)<=9 then
set FX=FX*($A-(1*(GetUnitAbilityLevelSwapped('A02Q',HX)-4)))
endif
endif
if(F0C())then
set FX=FX*(6.5-(.5*GetUnitAbilityLevelSwapped('A1RC',HX)))
endif
endfunction
function F2C takes nothing returns nothing
local trigger F3C=CreateTrigger()
call TriggerRegisterVariableEvent(F3C,"ME",EQUAL,1)
call TriggerAddCondition(F3C,Condition(function FSC))
call TriggerAddAction(F3C,function F1C)
endfunction
function F4C takes nothing returns boolean
return(NX)and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)
endfunction
function F5C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0U8',HX)==1)
endfunction
function F6C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1UK',HX)>=2)
endfunction
function F7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A04R',HX)==1)
endfunction
function F8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0U4',HX)>=1)
endfunction
function F9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0EC',HX)==1)
endfunction
function GVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0E6',HX)==1)
endfunction
function GEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0WU',HX)==1)
endfunction
function GXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A12S',HX)==1)
endfunction
function GOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0H8',HX)==1)
endfunction
function GRC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A04S',HX)==1)
endfunction
function GIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0H2',HX)==1)
endfunction
function GAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06J',HX)==1)
endfunction
function GNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A04T',HX)==1)
endfunction
function GBC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VE',HX)==1)
endfunction
function GCC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1UC',HX)==1)
endfunction
function GDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VF',HX)==1)
endfunction
function GFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1R3',HX)==1)
endfunction
function GGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QR',HX)>=1)
endfunction
function GHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1QU',HX)>=1)
endfunction
function GJC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B07D'))
endfunction
function GKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AC',HX)>=1)
endfunction
function GLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ME',HX)==1)
endfunction
function GMC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0MK',HX)==1)
endfunction
function GPC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A16Z',HX)==1)
endfunction
function GQC takes nothing returns nothing
local real GSC=0
local real GTC=0
if(F5C())then
set GSC=GSC+1.1
endif
if(F8C())then
if(GetUnitAbilityLevelSwapped('A0U4',HX)==1)then
set GSC=GSC+.6
endif
if(GetUnitAbilityLevelSwapped('A0U4',HX)==2)then
set GSC=GSC+.7
endif
if(GetUnitAbilityLevelSwapped('A0U4',HX)==3)then
set GSC=GSC+.8
endif
endif
if(GHC())then
if(GetUnitAbilityLevelSwapped('A1QU',HX)==1)then
set GSC=GSC+.03
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==2)then
set GSC=GSC+.06
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==3)then
set GSC=GSC+.1
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==4)then
set GSC=GSC+.14
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==5)then
set GSC=GSC+.18
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==6)then
set GSC=GSC+.23
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==7)then
set GSC=GSC+.28
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==8)then
set GSC=GSC+.33
endif
if(GetUnitAbilityLevelSwapped('A1QU',HX)==9)then
set GSC=GSC+.4
endif
endif
if(F6C())then
if(GetUnitAbilityLevelSwapped('A1UK',HX)==2)then
set GTC=.1
endif
if(GetUnitAbilityLevelSwapped('A1UK',HX)==3)then
set GTC=.25
endif
if(GetUnitAbilityLevelSwapped('A1UK',HX)==4)then
set GTC=.5
endif
if(GetUnitAbilityLevelSwapped('A1UK',HX)==5)then
set GTC=.7
endif
endif
if(F9C())then
if GTC<.94 then
set GTC=.94
endif
endif
if(GVC())then
if GTC<.86 then
set GTC=.86
endif
endif
if(GEC())then
if GTC<.8 then
set GTC=.8
endif
endif
if(GXC())or(GJC())then
if GTC<.75 then
set GTC=.75
endif
endif
if(GOC())then
if GTC<.7 then
set GTC=.7
endif
endif
if(GLC())then
if GTC<.65 then
set GTC=.65
endif
endif
if(GRC())then
if GTC<.6 then
set GTC=.6
endif
endif
if(GIC())or(GMC())then
if GTC<.5 then
set GTC=.5
endif
endif
if(GKC())then
if GTC<.45 then
set GTC=.45
endif
endif
if(GAC())then
if GTC<.4 then
set GTC=.4
endif
endif
if(GNC())or(GPC())then
if GTC<.3 then
set GTC=.3
endif
endif
if(F7C())then
if GTC<.25 then
set GTC=.25
endif
endif
if(GBC())then
if GTC<.2 then
set GTC=.2
endif
endif
if(GCC())then
if GTC<.1 then
set GTC=.1
endif
endif
if(GDC())then
if GTC<.05 then
set GTC=.05
endif
endif
if(GFC())then
if GTC<.6 then
set GTC=.6
endif
endif
if(GGC())then
if(GetUnitAbilityLevelSwapped('A1QR',HX)==1)and(GTC<.1)then
set GTC=.1
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==2)and(GTC<.15)then
set GTC=.15
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==3)and(GTC<.2)then
set GTC=.2
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==4)and(GTC<.25)then
set GTC=.25
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==5)and(GTC<.3)then
set GTC=.3
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==6)and(GTC<.35)then
set GTC=.35
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==7)and(GTC<.5)then
set GTC=.5
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==8)and(GTC<.65)then
set GTC=.65
endif
if(GetUnitAbilityLevelSwapped('A1QR',HX)==9)and(GTC<.8)then
set GTC=.8
endif
endif
set FX=FX+(FX*GSC)
set FX=FX-(FX*GTC)
set GTC=0
set GSC=0
endfunction
function GUC takes nothing returns nothing
local trigger GWC=CreateTrigger()
call TriggerRegisterVariableEvent(GWC,"ME",EQUAL,1)
call TriggerAddCondition(GWC,Condition(function F4C))
call TriggerAddAction(GWC,function GQC)
endfunction
function GYC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B025'))
endfunction
function GZC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B07I'))
endfunction
function G_C takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0AD'))
endfunction
function G0C takes nothing returns boolean
return(GetBooleanOr(GYC(),GZC()))
endfunction
function G1C takes nothing returns boolean
return(GetBooleanOr(G_C(),G0C()))and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)
endfunction
function G2C takes nothing returns boolean
return(NX)
endfunction
function G3C takes nothing returns boolean
return(NX==false)
endfunction
function G4C takes nothing returns nothing
if(FV==0)then
if(G2C())then
if(UnitHasBuffBJ(HX,'B0AD'))then
set FX=0-(.75*FX)
endif
if(UnitHasBuffBJ(HX,'B025'))then
set FX=0-(.5*FX)
endif
if(UnitHasBuffBJ(HX,'B07I'))then
set FX=0-(.1*FX)
endif
set EX=DE
endif
if(G3C())then
set FX=0
set EX=0
endif
else
set FV=0
endif
endfunction
function G5C takes nothing returns nothing
local trigger G6C=CreateTrigger()
call TriggerRegisterVariableEvent(G6C,"ME",EQUAL,5)
call TriggerAddCondition(G6C,Condition(function G1C))
call TriggerAddAction(G6C,function G4C)
endfunction
function G7C takes nothing returns nothing
if(GetUnitAbilityLevelSwapped('A0PA',HX)==1)then
if FX>50then
set FX=FX-50
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==2)then
if FX>80then
set FX=FX-80
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==3)then
if FX>120then
set FX=FX-'x'
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==4)then
if FX>180then
set FX=FX-$B4
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==5)then
if FX>250then
set FX=FX-$FA
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==6)then
if FX>360then
set FX=FX-360
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==7)then
if FX>500then
set FX=FX-500
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0PA',HX)==8)then
if FX>900then
set FX=FX-900
set EX=FE
else
set FX=.0
endif
endif
endfunction
function G8C takes nothing returns nothing
if(GetUnitAbilityLevelSwapped('A0A5',HX)==1)then
if FX>50then
set FX=FX-50
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==2)then
if FX>70then
set FX=FX-70
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==3)then
if FX>90then
set FX=FX-90
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==4)then
if FX>140then
set FX=FX-$8C
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==5)then
if FX>200then
set FX=FX-$C8
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==6)then
if FX>300then
set FX=FX-300
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==7)then
if FX>450then
set FX=FX-450
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==8)then
if FX>675then
set FX=FX-675
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0A5',HX)==9)then
if FX>1200then
set FX=FX-$4B0
set EX=FE
else
set FX=.0
endif
endif
endfunction
function G9C takes nothing returns nothing
if(GetUnitAbilityLevelSwapped('A0P2',HX)>=1)and(GetUnitAbilityLevelSwapped('A0P2',HX)<=7)then
if FX>5+(5*(GetUnitAbilityLevelSwapped('A0P2',HX)))then
set FX=FX-5+(5*(GetUnitAbilityLevelSwapped('A0P2',HX)))
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P2',HX)==8)then
if FX>47then
set FX=FX-47
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P2',HX)==9)then
if FX>62then
set FX=FX-62
set EX=FE
else
set FX=.0
endif
endif
endfunction
function HVC takes nothing returns nothing
if(GetUnitAbilityLevelSwapped('A0P3',HX)>=1)and(GetUnitAbilityLevelSwapped('A0P3',HX)<=5)then
if FX>(4*(GetUnitAbilityLevelSwapped('A0P3',HX)))then
set FX=FX-(4*(GetUnitAbilityLevelSwapped('A0P3',HX)))
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P3',HX)==6)then
if FX>30then
set FX=FX-30
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P3',HX)==7)then
if FX>40then
set FX=FX-40
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P3',HX)==8)then
if FX>80then
set FX=FX-80
set EX=FE
else
set FX=.0
endif
endif
if(GetUnitAbilityLevelSwapped('A0P3',HX)==9)then
if FX>200then
set FX=FX-$C8
set EX=FE
else
set FX=.0
endif
endif
endfunction
function HEC takes nothing returns boolean
return(EX==GE)and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)
endfunction
function HXC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I0IO'))and(GetRandomInt(1,$A)<=3)and(FX>=1)
endfunction
function HOC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B050'))
endfunction
function HRC takes nothing returns nothing
if(HXC())then
set FX=.0
set EX=HE
endif
if(HOC())then
if GetUnitAbilityLevelSwapped('A083',HX)==1 then
set D_V=D_V+FX
endif
set FX=0
call SetUnitLifeBJ(HX,I2R(N1V))
endif
endfunction
function HIC takes nothing returns nothing
local trigger HAC=CreateTrigger()
call TriggerRegisterVariableEvent(HAC,"ME",EQUAL,4)
call TriggerAddCondition(HAC,Condition(function HEC))
call TriggerAddAction(HAC,function HRC)
endfunction
function HNC takes nothing returns boolean
return(EX!=GE)and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)
endfunction
function HBC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I0IO'))and(GetRandomInt(1,$A)<=3)and(FX>=1)
endfunction
function HCC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B050'))
endfunction
function HDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1Y6',HX)==1)
endfunction
function HFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0B6',HX)==1)and(FX>=1)
endfunction
function HGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1RN',HX)>=1)and(FX>=1)
endfunction
function HHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',HX)==1)and(FX>=1)and(NX==false)
endfunction
function HJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00F',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=4)and(NX==false)
endfunction
function HKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A004',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=2)and(NX==false)
endfunction
function HLC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I00E'))and(FX>=1)and(GetRandomInt(1,20)==2)
endfunction
function HMC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I00D'))and(FX>=1)and(GetRandomInt(1,$A)==2)
endfunction
function HPC takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B0A4'))and(FX>=1)and(NX==false)
endfunction
function HQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00G',HX)==1)and(FX>=1)
endfunction
function HSC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1Y4',HX)>=1)and(FX>=1)
endfunction
function HTC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02C',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=7)and(NX==false)
endfunction
function HUC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00H',HX)==1)and(FX>=1)and(NX==false)
endfunction
function HWC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09Y',HX)>=1)and(FX>=1)
endfunction
function HYC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A01U',HX)==1)and(FX>=1)and(NX==false)
endfunction
function HZC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A01T',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,4)<=3)
endfunction
function H_C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I01G'))and(FX>=1)and(GetRandomInt(1,50)<=6)
endfunction
function H0C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0E3',HX)>=1)and(FX>=1)and(GetRandomInt(1,20)<=3)
endfunction
function H1C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0PQ',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=4)and(NX==false)
endfunction
function H2C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0UD',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=6)
endfunction
function H3C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0T4',HX)>=1)and(FX>=1)and(GetRandomInt(1,5)==1)
endfunction
function H4C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A049',HX)==1)and(FX>=1)and(GetRandomInt(1,20)<=$B)
endfunction
function H5C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Z1',HX)>=1)and(FX>=1)
endfunction
function H6C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A03L',HX)==1)and(FX>=1)and(NX==false)
endfunction
function H7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A037',HX)==1)and(FX>=1)and(GetRandomInt(1,2)==1)and(NX==false)
endfunction
function H8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0ZA',HX)>=1)and(FX>=1)and(GetRandomInt(1,2)==1)and(NX==false)
endfunction
function H9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1HP',HX)>=1)and(FX>=1)and(GetRandomInt(1,2)==1)and(NX==false)
endfunction
function JVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A17P',HX)>=1)and(FX>=1)and(GetRandomInt(1,5)==1)and(NX==false)
endfunction
function JEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A11G',HX)==1)and(FX>=1)and(GetRandomInt(1,20)<=7)and(NX==false)
endfunction
function JXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LF',HX)>=1)and(FX>=1)and(GetRandomInt(1,$A)<=8)
endfunction
function JOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Assk',HX)==1)and(FX>=1)and(NX==false)
endfunction
function JRC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09D',HX)==1)and(FX>=1)and(GetRandomInt(1,25)<=9)and(NX==false)
endfunction
function JIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AT',HX)==1)and(FX>=1)and(NX==false)
endfunction
function JAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A075',HX)==1)and(FX>=1)and(GetRandomInt(1,4)==1)and(NX==false)
endfunction
function JNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A076',HX)==1)and(FX>=1)and(NX==false)
endfunction
function JBC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A077',HX)==1)and(FX>=1)and(NX==false)
endfunction
function JCC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A078',HX)==1)and(FX>=1)and(NX==false)
endfunction
function JDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CI',HX)>=1)and(FX>=1)and(NX==false)
endfunction
function JFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A4',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,5)<=2)
endfunction
function JGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0KQ',HX)==1)and(GetPlayerTechCountSimple('R006',GetOwningPlayer(HX))==1)and(FX>=1)and(NX==false)and(GetRandomInt(1,25)<=6)
endfunction
function JHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IY',HX)==1)and(FX>=1)and(GetRandomInt(1,20)<=3)
endfunction
function JJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IZ',HX)==1)and(FX>=1)and(GetRandomInt(1,'d')<=23)
endfunction
function JKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0GC',HX)>=1)and(FX>=1)and(GetRandomInt(1,20)<=1+(1*GetUnitAbilityLevelSwapped('A0GC',HX)))and(NX==false)
endfunction
function JLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1FZ',HX)==1)and(FX>=1)and(GetRandomInt(1,25)<=3)and(NX==false)
endfunction
function JMC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A01K',HX)==1)and(FX>=1)and(GetRandomInt(1,5)<=2)and(NX==false)
endfunction
function JPC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0OG',HX)>=1)and(FX>=8)and(GetRandomInt(1,20)<=2+(1*GetUnitAbilityLevelSwapped('A0OG',HX)))and(NX==false)and(IsUnitIllusionBJ(HX)==false)
endfunction
function JQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0PA',HX)>=1)and(GetUnitAbilityLevelSwapped('A0PA',HX)<=8)and(FX>=1)and(GetRandomInt(1,50)<=9+(1*GetUnitAbilityLevelSwapped('A0PA',HX)))and(NX==false)
endfunction
function JSC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0PA',HX)==9)and(FX>=1)and(GetRandomInt(1,2)==1)
endfunction
function JTC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A5',HX)>=1)and(FX>=1)and(GetRandomInt(1,25)<=3+(1*GetUnitAbilityLevelSwapped('A0A5',HX)))and(NX==false)
endfunction
function JUC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P2',HX)>=1)and(FX>=1)and(NX==false)
endfunction
function JWC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P3',HX)>=1)and(FX>=1)
endfunction
function JYC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VO',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,$A)<=3)
endfunction
function JZC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VP',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,25)<=8)
endfunction
function J_C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VQ',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,20)<=7)
endfunction
function J0C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VR',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,5)<=2)
endfunction
function J1C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VS',HX)>=1)and(FX>=1)and(GetRandomInt(1,20)<=7)and(NX==false)
endfunction
function J2C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VT',HX)>=1)and(FX>=1)and(NX==false)and(GetRandomInt(1,3)==1)
endfunction
function J3C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VU',HX)>=1)and(FX>=1)and(GetRandomInt(1,20)<=9)and(NX==false)
endfunction
function J4C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VV',HX)>=1)and(FX>=1)and(GetRandomInt(1,5)<=3)and(NX==false)
endfunction
function J5C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VW',HX)>=1)and(FX>=1)and(GetRandomInt(1,3)==1)
endfunction
function J6C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VX',HX)>=1)and(FX>=1)and(GetRandomInt(1,2)==1)
endfunction
function J7C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I0H6'))and(FX>=1)and(GetRandomInt(1,20)<=3)and(NX)
endfunction
function J8C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I0HS'))and(FX>=1)and(GetRandomInt(1,25)<=3)
endfunction
function J9C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(HX,'I0EW'))and(FX>=1)and(GetRandomInt(1,5)==1)and(NX)
endfunction
function KVC takes nothing returns nothing
local unit t=HX
local boolean KEC=false
local boolean KXC=false
if EX==ZE then
set KEC=true
endif
if EX==JE then
set KXC=true
endif
if(HBC())then
set FX=.0
endif
if(HLC())then
set FX=.0
endif
if(HMC())then
set FX=.0
endif
if(H_C())then
set FX=.0
endif
if(JVC())then
set FX=.0
endif
if(JKC())then
set FX=.0
endif
if(JLC())then
set FX=.0
endif
if(J7C())then
set FX=.0
endif
if(J9C())then
set FX=FX*.75
set EX=FE
endif
if(J8C())then
set FX=FX*.75
set EX=FE
endif
if(HFC())then
if FX>18then
set FX=FX-18
set EX=FE
else
set FX=.0
endif
endif
if(HGC())then
if FX>(3*GetUnitAbilityLevelSwapped('A1RN',t))then
set FX=FX-(3*GetUnitAbilityLevelSwapped('A1RN',t))
set EX=FE
else
set FX=.0
endif
endif
if(HHC())then
if FX>4then
set FX=FX-4.
set EX=FE
else
set FX=.0
endif
endif
if(HJC())then
if FX>(20*GetUnitAbilityLevelSwapped('A00F',t))then
set FX=FX-(20*GetUnitAbilityLevelSwapped('A00F',t))
set EX=FE
else
set FX=.0
endif
endif
if(HKC())then
if FX>(28*GetUnitAbilityLevelSwapped('A004',t))then
set FX=FX-(28*GetUnitAbilityLevelSwapped('A004',t))
set EX=FE
else
set FX=.0
endif
endif
if(HQC())then
if FX>12then
set FX=FX-$C
set EX=FE
else
set FX=.0
endif
endif
if(HSC())then
if FX>(8*GetUnitAbilityLevelSwapped('A1Y4',t))then
set FX=FX-(8*GetUnitAbilityLevelSwapped('A1Y4',t))
set EX=FE
else
set FX=.0
endif
endif
if(HTC())then
if FX>(26*GetUnitAbilityLevelSwapped('A02C',t))then
set FX=FX-(26*GetUnitAbilityLevelSwapped('A02C',t))
set EX=FE
else
set FX=.0
endif
endif
if(HUC())then
if FX>40then
set FX=FX-40
set EX=FE
else
set FX=.0
endif
endif
if(HWC())then
if FX>(22*GetUnitAbilityLevelSwapped('A09Y',t))then
set FX=FX-(22*GetUnitAbilityLevelSwapped('A09Y',t))
set EX=FE
else
set FX=.0
endif
endif
if(HYC())then
if FX>20then
set FX=FX-20
set EX=FE
else
set FX=.0
endif
endif
if(HZC())then
if FX>(40*GetUnitAbilityLevelSwapped('A01T',t))then
set FX=FX-(40*GetUnitAbilityLevelSwapped('A01T',t))
set EX=FE
else
set FX=.0
endif
endif
if(H0C())then
if FX>(320*GetUnitAbilityLevelSwapped('A0E3',t))then
set FX=FX-(320*GetUnitAbilityLevelSwapped('A0E3',t))
set EX=FE
else
set FX=.0
endif
endif
if(H1C())then
if FX>(65*GetUnitAbilityLevelSwapped('A0PQ',t))then
set FX=FX-(65*GetUnitAbilityLevelSwapped('A0PQ',t))
set EX=FE
else
set FX=.0
endif
endif
if(H2C())then
if FX>(650*GetUnitAbilityLevelSwapped('A0UD',t))then
set FX=FX-(650*GetUnitAbilityLevelSwapped('A0UD',t))
set EX=FE
else
set FX=.0
endif
endif
if(H3C())then
if FX>(260*GetUnitAbilityLevelSwapped('A0T4',t))then
set FX=FX-(260*GetUnitAbilityLevelSwapped('A0T4',t))
set EX=FE
else
set FX=.0
endif
endif
if(H4C())then
if FX>200then
set FX=FX-$C8
set EX=FE
else
set FX=.0
endif
endif
if(H5C())then
if FX>(40*GetUnitAbilityLevelSwapped('A0Z1',t))then
set FX=FX-(40*GetUnitAbilityLevelSwapped('A0Z1',t))
set EX=FE
else
set FX=.0
endif
endif
if(H6C())then
if FX>60then
set FX=FX-60
set EX=FE
else
set FX=.0
endif
endif
if(H7C())then
if FX>110then
set FX=FX-'n'
set EX=FE
else
set FX=.0
endif
endif
if(H8C())then
if FX>(60*GetUnitAbilityLevelSwapped('A0ZA',t))then
set FX=FX-(90*GetUnitAbilityLevelSwapped('A0ZA',t))
set EX=FE
else
set FX=.0
endif
endif
if(H9C())then
if FX>($7D0*GetUnitAbilityLevelSwapped('A1HP',t))then
set FX=FX-($7D0*GetUnitAbilityLevelSwapped('A1HP',t))
set EX=FE
else
set FX=.0
endif
endif
if(JEC())then
if FX>300then
set FX=FX-300
set EX=FE
else
set FX=.0
endif
endif
if(JXC())then
if GetUnitAbilityLevelSwapped('A0LF',t)==1 then
if FX>500then
set FX=FX-500
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0LF',t)==2 then
if FX>1100then
set FX=FX-$44C
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0LF',t)==3 then
if FX>1900then
set FX=FX-$76C
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0LF',t)==4 then
if FX>2800then
set FX=FX-$AF0
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0LF',t)==5 then
if FX>4000then
set FX=FX-$FA0
set EX=FE
else
set FX=.0
endif
endif
endif
if(JOC())then
if FX>12then
set FX=FX-$C
set EX=FE
else
set FX=1
set EX=FE
endif
endif
if(JRC())then
if FX>500then
set FX=FX-500
set EX=FE
else
set FX=.0
endif
endif
if(JIC())then
if FX>15then
set FX=FX-$F
set EX=FE
else
set FX=.0
endif
endif
if(JAC())then
if FX>50then
set FX=FX-50
set EX=FE
else
set FX=.0
endif
endif
if(JNC())then
if FX>40then
set FX=FX-40
set EX=FE
else
set FX=.0
endif
endif
if(JBC())then
if FX>60then
set FX=FX-60
set EX=FE
else
set FX=.0
endif
endif
if(JCC())then
if FX>350then
set FX=FX-350
set EX=FE
else
set FX=.0
endif
endif
if(JDC())then
if GetUnitAbilityLevelSwapped('A0CI',t)==1 then
if FX>12then
set FX=FX-$C
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0CI',t)==2 then
if FX>18then
set FX=FX-18
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0CI',t)==3 then
if FX>30then
set FX=FX-30
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0CI',t)==4 then
if FX>56then
set FX=FX-56
set EX=FE
else
set FX=.0
endif
endif
endif
if(JFC())then
if GetUnitAbilityLevelSwapped('A0A4',t)>=1 and GetUnitAbilityLevelSwapped('A0A4',t)<=8 then
if FX>(20*GetUnitAbilityLevelSwapped('A0A4',t))then
set FX=FX-(20*GetUnitAbilityLevelSwapped('A0A4',t))
set EX=FE
else
set FX=.0
endif
endif
if GetUnitAbilityLevelSwapped('A0A4',t)==9 then
if FX>250then
set FX=FX-$FA
set EX=FE
else
set FX=.0
endif
endif
endif
if(JGC())then
if FX>350then
set FX=FX-350
set EX=FE
else
set FX=.0
endif
endif
if(JHC())then
if FX>100then
set FX=FX-'d'
set EX=FE
else
set FX=.0
endif
endif
if(JJC())then
if FX>200then
set FX=FX-$C8
set EX=FE
else
set FX=.0
endif
endif
if(JMC())then
if FX>80then
set FX=FX-80
set EX=FE
else
set FX=.0
endif
endif
if(JPC())then
if FX>1450then
set FX=FX-$5AA
set EX=FE
else
set FX=7
set EX=FE
endif
endif
if(JQC())then
call ExecuteFunc("G7C")
endif
if(JSC())then
if FX>2000then
set FX=FX-$7D0
set EX=FE
else
set FX=.0
endif
endif
if(JTC())then
call ExecuteFunc("G8C")
endif
if(JUC())then
call ExecuteFunc("G9C")
endif
if(JWC())then
call ExecuteFunc("HVC")
endif
if(JYC())then
if FX>(40*GetUnitAbilityLevelSwapped('A0VO',t))then
set FX=FX-(40*GetUnitAbilityLevelSwapped('A0VO',t))
set EX=FE
else
set FX=.0
endif
endif
if(JZC())then
if FX>(80*GetUnitAbilityLevelSwapped('A0VP',t))then
set FX=FX-(80*GetUnitAbilityLevelSwapped('A0VP',t))
set EX=FE
else
set FX=.0
endif
endif
if(J_C())then
if FX>('n'*GetUnitAbilityLevelSwapped('A0VQ',t))then
set FX=FX-('n'*GetUnitAbilityLevelSwapped('A0VQ',t))
set EX=FE
else
set FX=.0
endif
endif
if(J0C())then
if FX>($E1*GetUnitAbilityLevelSwapped('A0VR',t))then
set FX=FX-($E1*GetUnitAbilityLevelSwapped('A0VR',t))
set EX=FE
else
set FX=.0
endif
endif
if(J1C())then
if FX>(315*GetUnitAbilityLevelSwapped('A0VS',t))then
set FX=FX-(315*GetUnitAbilityLevelSwapped('A0VS',t))
set EX=FE
else
set FX=.0
endif
endif
if(J2C())then
if FX>($AA*GetUnitAbilityLevelSwapped('A0VT',t))then
set FX=FX-($AA*GetUnitAbilityLevelSwapped('A0VT',t))
set EX=FE
else
set FX=.0
endif
endif
if(J3C())then
if FX>(395*GetUnitAbilityLevelSwapped('A0VU',t))then
set FX=FX-(395*GetUnitAbilityLevelSwapped('A0VU',t))
set EX=FE
else
set FX=.0
endif
endif
if(J4C())then
if FX>(540*GetUnitAbilityLevelSwapped('A0VV',t))then
set FX=FX-(540*GetUnitAbilityLevelSwapped('A0VV',t))
set EX=FE
else
set FX=.0
endif
endif
if(J5C())then
if FX>(800*GetUnitAbilityLevelSwapped('A0VW',t))then
set FX=FX-(800*GetUnitAbilityLevelSwapped('A0VW',t))
set EX=FE
else
set FX=.0
endif
endif
if(J6C())then
if FX>(650*GetUnitAbilityLevelSwapped('A0VX',t))then
set FX=FX-(650*GetUnitAbilityLevelSwapped('A0VX',t))
set EX=FE
else
set FX=.0
endif
endif
if FX==0 then
set EX=HE
endif
if FX>0 and FX<1 then
set FX=1
endif
if(HPC())then
set FX=0
endif
if(HCC())then
if GetUnitAbilityLevelSwapped('A083',HX)==1 then
set D_V=D_V+FX
endif
if(GetBooleanOr(BFC(),BGC()))then
set QV=QV+FX
set SV=FX*.5
if(BFC())then
call UnitAddAbilityBJ('A028',MV)
call SetUnitAbilityLevelSwapped('A028',MV,80)
call UnitDamageTargetBJ(LV,MV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
if(BGC())then
call UnitAddAbilityBJ('A028',LV)
call SetUnitAbilityLevelSwapped('A028',LV,80)
call UnitDamageTargetBJ(MV,LV,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
endif
endif
set FX=0
call SetUnitLifeBJ(t,I2R(N1V))
endif
if(HDC())then
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,t,true,false)
endif
if FX!=0 and KEC then
set EX=ZE
endif
if FX!=0 and KXC and EX==FE then
set EX=JE
set DV=1
endif
set KEC=false
set t=null
endfunction
function KOC takes nothing returns nothing
local trigger KRC=CreateTrigger()
call TriggerRegisterVariableEvent(KRC,"ME",EQUAL,4)
call TriggerAddCondition(KRC,Condition(function HNC))
call TriggerAddAction(KRC,function KVC)
endfunction
function KIC takes nothing returns boolean
return(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)
endfunction
function KAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0Y3',HX)>=1)
endfunction
function KNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0P9',HX)==1)
endfunction
function KBC takes nothing returns nothing
if(KAC())then
if(GetUnitAbilityLevelSwapped('A18P',HX)==1)then
set FX=FX+(FX*.5)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==2)then
set FX=FX+(FX*.55)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==3)or(GetUnitAbilityLevelSwapped('A18P',HX)==8)then
set FX=FX+(FX*.6)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==4)then
set FX=FX+(FX*.65)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==5)then
set FX=FX+(FX*.7)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==6)then
set FX=FX+(FX*.75)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==7)then
set FX=FX+(FX*.8)
endif
if(GetUnitAbilityLevelSwapped('A18P',HX)==9)then
set FX=FX+(FX*.3)
endif
endif
if(KNC())then
set FX=FX+(FX*(.45+(.05*GetUnitAbilityLevelSwapped('A1M5',HX))))
endif
endfunction
function KCC takes nothing returns nothing
local trigger KDC=CreateTrigger()
call TriggerRegisterVariableEvent(KDC,"ME",EQUAL,2)
call TriggerAddCondition(KDC,Condition(function KIC))
call TriggerAddAction(KDC,function KBC)
endfunction
function KFC takes nothing returns boolean
return(EX!=GE)and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)and(NX==false)and(EX!=JE)
endfunction
function KGC takes nothing returns boolean
return(UnitHasBuffBJ(GX,'B0AC'))and(FX>=1)
endfunction
function KHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V8',GX)>=26)and(GetUnitAbilityLevelSwapped('A02P',GX)>0)
endfunction
function KJC takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GX,'I0EO'))and(FX>=1)
endfunction
function KKC takes nothing returns nothing
local unit s=GX
local real KLC=1
if(KGC())then
set FX=FX*1.25
set EX=ZE
endif
if(KHC())then
set O0V=O0V+1
if O0V==25 then
set O0V=0
set FX=FX*(1.+(M0*.02))
set EX=ZE
call AddSpecialEffectTargetUnitBJ("origin",HX,"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
if(KJC())then
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$3E8)then
set KLC=KLC+.1
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$3E8)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$7D0)then
set KLC=KLC+.15
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$7D0)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$BB8)then
set KLC=KLC+.2
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$BB8)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$FA0)then
set KLC=KLC+.25
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$FA0)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<5000)then
set KLC=KLC+.3
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=5000)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<6000)then
set KLC=KLC+.35
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=6000)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<7000)then
set KLC=KLC+.4
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=7000)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<8000)then
set KLC=KLC+.45
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=8000)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<9000)then
set KLC=KLC+.5
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=9000)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$2710)then
set KLC=KLC+.55
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$2710)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$2AF8)then
set KLC=KLC+.6
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$2AF8)and(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))<$2EE0)then
set KLC=KLC+.65
endif
if(GetItemCharges(GetItemOfTypeFromUnitBJ(s,'I0EO'))>=$2EE0)then
set KLC=KLC+.7
endif
if(IsUnitIllusionBJ(s))then
set KLC=KLC/1.6
endif
set FX=FX*KLC
set EX=ZE
endif
set s=null
endfunction
function KMC takes nothing returns nothing
local trigger KPC=CreateTrigger()
call TriggerRegisterVariableEvent(KPC,"ME",EQUAL,2)
call TriggerAddCondition(KPC,Condition(function KFC))
call TriggerAddAction(KPC,function KKC)
endfunction
function KQC takes nothing returns boolean
return((EX!=GE)and(EX!=JE)and(IsUnitIllusionBJ(HX)==false)and(IsUnitEnemy(GX,GetOwningPlayer(HX)))and( not(not(IsUnitType(HX,UNIT_TYPE_STRUCTURE))==false))and(FX>=1)and(NX==false))!=null
endfunction
function KSC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05A',GX)==1)
endfunction
function KTC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0MG',GX)>=1)
endfunction
function KUC takes nothing returns nothing
local unit s=GX
local unit t=HX
local real KWC=0
if(KSC())then
set KWC=.09
endif
if(KTC())then
if(GetUnitAbilityLevelSwapped('A0MG',GX)==1)then
set KWC=.6
endif
if(GetUnitAbilityLevelSwapped('A0MG',GX)==2)then
set KWC=.8
endif
if(GetUnitAbilityLevelSwapped('A0MG',GX)==3)then
set KWC=1.2
endif
if(GetUnitAbilityLevelSwapped('A0MG',GX)==4)then
set KWC=1.6
endif
if(GetUnitAbilityLevelSwapped('A0MG',GX)==5)then
set KWC=2.3
endif
endif
if KWC>0 then
if(GetUnitStateSwap(UNIT_STATE_LIFE,t)>=(FX*KWC))then
call SetUnitLifeBJ(s,GetUnitStateSwap(UNIT_STATE_LIFE,s)+(FX*KWC))
else
call SetUnitLifeBJ(s,GetUnitStateSwap(UNIT_STATE_LIFE,s)+(GetUnitStateSwap(UNIT_STATE_LIFE,t)*KWC))
endif
call AddSpecialEffectTargetUnitBJ("origin",s,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
set KWC=0
set s=null
set t=null
endfunction
function KYC takes nothing returns nothing
local trigger KZC=CreateTrigger()
call TriggerRegisterVariableEvent(KZC,"ME",EQUAL,4)
call TriggerAddCondition(KZC,Condition(function KQC))
call TriggerAddAction(KZC,function KUC)
endfunction
function K_C takes nothing returns boolean
return(NX==false)and(EX!=GE)and(IsUnitIllusionBJ(HX)==false)and(EX!=JE)
endfunction
function K0C takes nothing returns boolean
return(DistanceBetweenPoints(OV,IV)<Y)
endfunction
function K1C takes nothing returns boolean
return((GetFilterUnit()!=GX)and(GetFilterUnit()!=HX)and(IsUnitAliveBJ(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GX))))!=null
endfunction
function K2C takes nothing returns boolean
return(GetFilterUnit()!=GX)and(GetFilterUnit()!=HX)and(IsUnitAliveBJ(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GX)))and(GetUnitAbilityLevelSwapped('Avul',GetFilterUnit())==0)
endfunction
function K3C takes nothing returns nothing
local unit K4C=GetEnumUnit()
set IV=GetUnitLoc(K4C)
set W=DistanceBetweenPoints(XV,IV)
if(K0C())then
call DisableTrigger(VV)
call UnitAddAbilityBJ('A0CL',K4C)
call UnitDamageTargetBJ(GX,K4C,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call EnableTrigger(VV)
call AddSpecialEffectTargetUnitBJ("chest",K4C,CV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
call RemoveLocation(IV)
set K4C=null
endfunction
function K5C takes nothing returns nothing
local unit K4C=GetEnumUnit()
call DisableTrigger(VV)
call UnitAddAbilityBJ('A0CL',K4C)
call UnitDamageTargetBJ(GX,K4C,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL)
call EnableTrigger(VV)
call AddSpecialEffectTargetUnitBJ("chest",K4C,CV)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set K4C=null
endfunction
function K6C takes nothing returns boolean
return(EV>=1)
endfunction
function K7C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0UW',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function K8C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0OT',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function K9C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A03D',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LVC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A04L',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0LE',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LXC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VC',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0VD',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LRC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0I9',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LIC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0WE',GX)>=1)
endfunction
function LAC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0S7',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LNC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09E',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LBC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A034',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LCC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0J9',GX)==1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LDC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0X0',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LFC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0X1',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LGC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0X2',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LHC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1UL',GX)>=1)and(IsUnitIllusionBJ(GX)==false)
endfunction
function LJC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1V9',GX)>=1)
endfunction
function LKC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1I0',GX)>=1)
endfunction
function LLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A1CI',GX)==1)
endfunction
function LMC takes nothing returns nothing
local boolean LPC=false
local boolean LQC=false
local location XDI=null
local string LSC="Abilities\\Spells\\Other\\Cleave\\CleaveDamageTarget.mdl"
if IsUnitType(GX,UNIT_TYPE_RANGED_ATTACKER) then
set LQC=true
endif
if(K7C())then
if Y<850 then
set Y=850.
endif
set EV=1
set NV=NV+(.08*GetUnitAbilityLevelSwapped('A0UW',GX))
endif
if(K8C())and LQC==false then
if Y<300 then
set Y=300.
endif
set NV=NV+(.25*GetUnitAbilityLevelSwapped('A0OT',GX))
set EV=1
endif
if(K9C())then
if Y<550 then
set Y=550.
endif
set NV=NV+.7
set EV=1
endif
if(LVC())and LQC==false then
if Y<420 then
set Y=420.
endif
set NV=NV+(.42*GetUnitAbilityLevelSwapped('A04L',GX))
set EV=1
endif
if(LEC())then
if Y<800 then
set Y=800.
endif
set NV=NV+.24
set EV=1
endif
if(LXC())then
if Y<850 then
set Y=850.
endif
set NV=NV+.83
set EV=1
endif
if(LOC())then
if Y<550 then
set Y=550.
endif
set NV=NV+.92
set EV=1
endif
if(LIC())then
if Y<380 then
set Y=380.
endif
set NV=NV+.04+(.08*GetUnitAbilityLevelSwapped('A0WE',GX))
set EV=1
endif
if(LAC())then
if Y<550 then
set Y=550.
endif
set NV=NV+1.4
set LPC=true
set EV=1
endif
if(LNC())then
if Y<700 then
set Y=700.
endif
set NV=NV+.55
set EV=1
endif
if(LBC())then
if Y<550 then
set Y=550.
endif
set NV=NV+2.
set EV=1
endif
if(LCC())then
if Y<300 then
set Y=300.
endif
set NV=NV+.3
set EV=1
endif
if(LDC())then
if Y<400 then
set Y=400.
endif
set NV=NV+(.3*GetUnitAbilityLevelSwapped('A0X0',GX))
set EV=1
endif
if(LFC())then
if Y<430 then
set Y=430.
endif
set NV=NV+(.38*GetUnitAbilityLevelSwapped('A0X1',GX))
set EV=1
endif
if(LGC())then
if Y<500 then
set Y=500.
endif
set NV=NV+(.5*GetUnitAbilityLevelSwapped('A0X2',GX))
set EV=1
endif
if(LHC())then
if Y<600 then
set Y=600.
endif
set NV=NV+(.55*GetUnitAbilityLevelSwapped('A1UL',GX))
set EV=1
endif
if(LJC())then
if GetUnitAbilityLevelSwapped('A1V9',GX)>=1 and GetUnitAbilityLevelSwapped('A1V9',GX)<=6 then
if Y<300 then
set Y=300.
endif
endif
if GetUnitAbilityLevelSwapped('A1V9',GX)>=7 then
if Y<300+(50*(GetUnitAbilityLevelSwapped('A1V9',GX)-6))then
set Y=300.+(50*(GetUnitAbilityLevelSwapped('A1V9',GX)-6))
endif
endif
if GetUnitAbilityLevelSwapped('A1V9',GX)>=1 and GetUnitAbilityLevelSwapped('A1V9',GX)<=8 then
set NV=NV+(.14+(.08*GetUnitAbilityLevelSwapped('A1V9',GX)))
endif
if GetUnitAbilityLevelSwapped('A1V9',GX)==9 then
set NV=NV+.9
endif
set EV=1
endif
if(LLC())then
if Y<550 then
set Y=550.
endif
set NV=NV+.25
set EV=1
endif
if(LKC())then
if Y<450 then
set Y=450.
endif
set NV=NV+(.07+(.07*GetUnitAbilityLevelSwapped('A1I0',GX)))
set EV=1
set LSC="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"
endif
if(LRC())then
if Y<450 then
set Y=450.
endif
set NV=NV+.8
set EV=1
set LSC="Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl"
endif
if(K6C())then
if FX<($A*GetUnitState(HX,UNIT_STATE_MAX_LIFE))then
set AV=FX*NV
else
set AV=$A*GetUnitState(HX,UNIT_STATE_MAX_LIFE)
endif
set CV=LSC
set XV=GetUnitLoc(GX)
set OV=GetUnitLoc(HX)
set Z=AngleBetweenPoints(XV,OV)
call RemoveLocation(OV)
set OV=PolarProjectionBJ(XV,Y,Z)
if LQC==false then
if LPC==false then
set RV=GetUnitsInRangeOfLocMatching(Y,XV,Condition(function K1C))
else
set RV=GetUnitsInRangeOfLocMatching(Y,XV,Condition(function K2C))
endif
set BV=CountUnitsInGroup(RV)
call ForGroupBJ(RV,function K3C)
call DestroyGroup(RV)
else
set XDI=GetUnitLoc(HX)
if LPC==false then
set RV=GetUnitsInRangeOfLocMatching(Y-75,XDI,Condition(function K1C))
else
set RV=GetUnitsInRangeOfLocMatching(Y-75,XDI,Condition(function K2C))
endif
set BV=CountUnitsInGroup(RV)
call ForGroupBJ(RV,function K5C)
call DestroyGroup(RV)
call RemoveLocation(XDI)
endif
call RemoveLocation(XV)
call RemoveLocation(OV)
set CV=null
set Y=0
set EV=0
set NV=0
endif
endfunction
function LTC takes nothing returns nothing
set VV=CreateTrigger()
call TriggerRegisterVariableEvent(VV,"NE",EQUAL,1)
call TriggerAddCondition(VV,Condition(function K_C))
call TriggerAddAction(VV,function LMC)
endfunction
function LUC takes nothing returns boolean
return(NX==false)and(EX!=JE)and(EX!=GE)and(GetUnitAbilityLevelSwapped('A0CL',HX)>=1)
endfunction
function LWC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CL',HX)==1)
endfunction
function LYC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CL',HX)==2)
endfunction
function LZC takes nothing returns nothing
if BV>=1 then
if(LWC())then
call UnitRemoveAbilityBJ('A0CL',HX)
set FX=AV
set EX=JE
set BV=BV-1
endif
if BV==0 then
set AV=0
endif
if FX<1 and FX!=0 then
set FX=1
endif
endif
if(LYC())then
call UnitRemoveAbilityBJ('A0CL',HX)
set EX=JE
endif
endfunction
function L_C takes nothing returns nothing
local trigger L0C=CreateTrigger()
call TriggerRegisterVariableEvent(L0C,"ME",EQUAL,1)
call TriggerAddCondition(L0C,Condition(function LUC))
call TriggerAddAction(L0C,function LZC)
endfunction
function L1C takes nothing returns boolean
return(NX==false)
endfunction
function L2C takes nothing returns boolean
return(UnitHasBuffBJ(HX,'B016'))
endfunction
function L3C takes nothing returns nothing
if(L2C())then
call UnitRemoveBuffBJ('B016',HX)
set FX=0
call DisableTrigger(TV)
call UnitDamageTargetBJ(JZV[GetConvertedPlayerId(GetOwningPlayer(GX))],HX,400,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call EnableTrigger(TV)
endif
endfunction
function InitTrig_custom_DamageSpells takes nothing returns nothing
set TV=CreateTrigger()
call TriggerRegisterVariableEvent(TV,"ME",EQUAL,1)
call TriggerAddCondition(TV,Condition(function L1C))
call TriggerAddAction(TV,function L3C)
endfunction
function L4C takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='u00X')
endfunction
function L5C takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit()))
endfunction
function L6C takes nothing returns boolean
return(GetBooleanAnd(L5C(),L4C()))
endfunction
function L7C takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='u00X')and(IsUnitIllusionBJ(GetSummonedUnit()))
endfunction
function L8C takes nothing returns nothing
local unit u
if HD==7 then
set XVV=Location($3490,-4764)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$3490,-4764))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==6 then
set XVV=Location($3276,-5018)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$3276,-5018))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==5 then
set XVV=Location($3071,-4807)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$3071,-4807))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==4 then
set XVV=Location($2FB8,-4236)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$2FB8,-4236))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==3 then
set XVV=Location($307B,-$EA9)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$307B,-$EA9))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==2 then
set XVV=Location($32B4,-$D9F)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$32B4,-$D9F))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==1 then
set XVV=Location($34B5,-$EA9)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$34B5,-$EA9))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==0 then
set XVV=Location($358B,-4281)
call SetUnitPositionLoc(GetSummonedUnit(),XVV)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",$358B,-4281))
call RemoveLocation(XVV)
set HD=HD+1
endif
if HD==8 then
set HD=0
set XEV=GetUnitsOfPlayerMatching(GetOwningPlayer(GetSummonedUnit()),Condition(function L6C))
set u=GroupPickRandomUnit(XEV)
set XVV=GetUnitLoc(u)
call KillUnit(u)
call DestroyGroup(XEV)
call SetUnitPositionLoc(F1,XVV)
call RemoveLocation(XVV)
set F1=null
endif
endfunction
function L9C takes nothing returns nothing
local trigger MVC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(MVC,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(MVC,Condition(function L7C))
call TriggerAddAction(MVC,function L8C)
endfunction
function MEC takes nothing returns nothing
local unit u
set XVV=GetUnitLoc(F1)
set u=CreateUnitAtLoc(GetOwningPlayer(F1),'h07Y',XVV,bj_UNIT_FACING)
call RemoveLocation(XVV)
call UnitApplyTimedLife(u,'BHwe',2.)
call UnitAddAbilityBJ('A1PO',u)
if FJ==1 or GJ==1 then
call SetUnitAbilityLevelSwapped('A1PO',u,2)
endif
if FJ==2 or GJ==2 then
call SetUnitAbilityLevelSwapped('A1PO',u,3)
endif
if FJ==3 or GJ==3 then
call SetUnitAbilityLevelSwapped('A1PO',u,4)
endif
if IsUnitAliveBJ(F1) then
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
call IssueTargetOrderById(u,$D0132,F1)
endif
set u=null
endfunction
function MXC takes nothing returns boolean
return(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)and( not(not(IsUnitIllusionBJ(HX))==false))
endfunction
function MOC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0A7',HX)==1)and(GetUnitLifePercent(HX)<50.)and(FX>=1)
endfunction
function MRC takes nothing returns nothing
if(MOC())then
call DisableTrigger(KVV)
set F1=HX
call CreateTextTagLocBJ("Water Illusions!",GetUnitLoc(F1),0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call mj(2.5)
call ExecuteFunc("MEC")
endif
endfunction
function MIC takes nothing returns nothing
set KVV=CreateTrigger()
call DisableTrigger(KVV)
call TriggerRegisterVariableEvent(KVV,"ME",EQUAL,1)
call TriggerAddCondition(KVV,Condition(function MXC))
call TriggerAddAction(KVV,function MRC)
endfunction
function MAC takes nothing returns nothing
set BGV=(BGV-1)
set XVV=GetUnitLoc(BJV)
call SetUnitInvulnerable(BJV,true)
call SetUnitVertexColorBJ(BJV,'d',.0,.0,0)
call AddSpecialEffectTargetUnitBJ("overhead",BJV,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagLocBJ("Hell Spawn!",GetUnitLoc(BJV),0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
if(GetRandomInt(1,3)==3)then
if VC[0]==null then
set VC[0]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03F',XVV,bj_UNIT_FACING)
else
set VC[3]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03F',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if(GetRandomInt(1,2)==2)then
if VC[0]==null then
set VC[0]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03G',XVV,bj_UNIT_FACING)
else
set VC[3]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03G',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if VC[0]==null then
set VC[0]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03J',XVV,bj_UNIT_FACING)
else
set VC[3]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03J',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
endif
endif
if(GetRandomInt(1,3)==3)then
if VC[1]==null then
set VC[1]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00Q',XVV,bj_UNIT_FACING)
else
set VC[4]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00Q',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if(GetRandomInt(1,2)==2)then
if VC[1]==null then
set VC[1]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00P',XVV,bj_UNIT_FACING)
else
set VC[4]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00P',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if VC[1]==null then
set VC[1]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03H',XVV,bj_UNIT_FACING)
else
set VC[4]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03H',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
endif
endif
if(GetRandomInt(1,3)==3)then
if VC[2]==null then
set VC[2]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03F',XVV,bj_UNIT_FACING)
else
set VC[5]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03F',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if(GetRandomInt(1,2)==2)then
if VC[2]==null then
set VC[2]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00P',XVV,bj_UNIT_FACING)
else
set VC[5]=CreateUnitAtLoc(GetOwningPlayer(HX),'u00P',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
else
if VC[2]==null then
set VC[2]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03I',XVV,bj_UNIT_FACING)
else
set VC[5]=CreateUnitAtLoc(GetOwningPlayer(HX),'n03I',XVV,bj_UNIT_FACING)
endif
set BLV=BLV+1
endif
endif
call RemoveLocation(XVV)
endfunction
function MNC takes nothing returns nothing
local integer S7A=0
if GJ==0 or FJ==0 then
set S7A=$960
endif
if GJ==1 or FJ==1 then
set S7A=$E10
endif
if GJ==2 or FJ==2 then
set S7A=4800
endif
if GJ==3 or FJ==3 then
set S7A=7200
endif
call QBE(HX,3,S7A)
call QBE(HX,4,S7A-834)
call QBE(HX,5,S7A-$4B0)
call UnitAddAbilityBJ('A0MF',HX)
set S7A=0
endfunction
function MBC takes nothing returns boolean
return((IsUnitAliveBJ(GX))and(IsUnitType(GX,UNIT_TYPE_MAGIC_IMMUNE)==false))!=null
endfunction
function MCC takes nothing returns boolean
return(IsUnitEnemy(GX,GetOwningPlayer(HX)))and(FX>=1)and( not(not(IsUnitIllusionBJ(HX))==false))
endfunction
function MDC takes nothing returns boolean
return(GetUnitTypeId(HX)=='uktg')
endfunction
function MFC takes nothing returns boolean
return(GetUnitLifePercent(HX)<75.)and(BGV==5)
endfunction
function MGC takes nothing returns boolean
return(GetUnitLifePercent(HX)<50.)and(BGV==4)
endfunction
function MHC takes nothing returns boolean
return(GetUnitLifePercent(HX)<20.)and(BGV==3)
endfunction
function MJC takes nothing returns boolean
return(GetUnitTypeId(HX)=='n05J')and(GetOwningPlayer(HX)==Player(PLAYER_NEUTRAL_AGGRESSIVE))
endfunction
function MKC takes nothing returns boolean
return(GetUnitLifePercent(HX)<60.)and(GetRandomInt(1,4)==1)and(MBC())
endfunction
function MLC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A088',HX)>0)and(MBC())
endfunction
function MMC takes nothing returns boolean
return(GetUnitLifePercent(HX)<90.)and(GetUnitAbilityLevelSwapped('A0I6',HX)>0)and(GetRandomInt(1,5)==1)
endfunction
function MPC takes nothing returns boolean
return(GetUnitLifePercent(HX)<90.)and(GetUnitAbilityLevelSwapped('A0M7',HX)>0)and(MBC())and(GetRandomInt(1,6)==1)
endfunction
function MQC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09R',HX)>0)and(MBC())and(GetRandomInt(1,4)==1)
endfunction
function MSC takes nothing returns boolean
return(GetUnitLifePercent(HX)<50.)and(GetUnitAbilityLevelSwapped('A0M5',HX)>0)and(GetRandomInt(1,4)==1)
endfunction
function MTC takes nothing returns boolean
return(GetUnitTypeId(HX)=='Eilm')and(GetOwningPlayer(HX)==Player(1))
endfunction
function MUC takes nothing returns boolean
return(GetUnitLifePercent(HX)<60.)and(GV==0)and(KV>=3)and(IsUnitAliveBJ(GX))
endfunction
function MWC takes nothing returns boolean
return(GetUnitLifePercent(HX)<45.)and(HV==0)and(KV>=1)
endfunction
function MYC takes nothing returns boolean
return(GetUnitLifePercent(HX)<30.)and(JV==0)and(KV>=2)
endfunction
function MZC takes nothing returns boolean
return(GetUnitLifePercent(HX)<15.)and(JV==1)
endfunction
function M_C takes nothing returns boolean
return GetUnitTypeId(HX)=='o01M'
endfunction
function M0C takes nothing returns boolean
return GetUnitTypeId(HX)=='o01N'
endfunction
function M1C takes nothing returns boolean
return(GetBooleanOr(M_C(),M0C()))and(GetOwningPlayer(HX)==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(LJ!=null)
endfunction
function M2C takes nothing returns boolean
return(GetUnitTypeId(HX)=='N05L')and(GetOwningPlayer(HX)==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitLevel(HX)>=$A)and(IsUnitIllusionBJ(HX)==false)
endfunction
function M3C takes nothing returns boolean
return(GetUnitLifePercent(HX)<55.)and(GetUnitLevel(HX)>=22)and(GetRandomInt(1,$A)==1)
endfunction
function M4C takes nothing returns boolean
return(GetUnitLifePercent(HX)<60.)and(GetUnitLevel(HX)>=32)and(GetRandomInt(1,$A)==1)
endfunction
function M5C takes nothing returns boolean
return(GetUnitLifePercent(HX)<46.)and(GetRandomInt(1,$A)==1)
endfunction
function M6C takes nothing returns nothing
if(MDC())then
call StartTimerBJ(BHV,false,37.)
if(MFC())then
call ExecuteFunc("MAC")
endif
if(MGC())then
call ExecuteFunc("MAC")
endif
if(MHC())then
call ExecuteFunc("MAC")
endif
endif
if(MJC())then
if(MKC())then
set XVV=GetUnitLoc(GX)
call IssuePointOrderByIdLoc(HX,$D0208,XVV)
call RemoveLocation(XVV)
endif
if(MLC())then
call IssueTargetOrderBJ(HX,"thunderbolt",GX)
endif
if(MMC())then
set XVV=GetUnitLoc(GX)
call IssuePointOrderByIdLoc(HX,$D010E,XVV)
call RemoveLocation(XVV)
endif
if(MPC())then
call IssueTargetOrderBJ(HX,"frostnova",GX)
endif
if(MQC())then
call IssueTargetOrderById(HX,$D0250,GX)
endif
if(MSC())then
call IssueTargetOrderBJ(HX,"rejuvination",HX)
endif
endif
if(MTC())then
if FX>GetUnitStateSwap(UNIT_STATE_LIFE,HX)and JV<2 and KV>=1 then
set FX=GetUnitStateSwap(UNIT_STATE_LIFE,HX)-'d'
if JV==0 and KV>=2 then
call ExecuteFunc("MNC")
set JV=1
endif
call UnitDamageTargetBJ(GX,HX,.1,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call CreateTextTagLocBJ("Death Defy!",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
set JB=null
else
if(MUC())then
set GV=1
set XVV=GetUnitLoc(HX)
call CreateNUnitsAtLoc(1,'h07B',GetOwningPlayer(HX),XVV,bj_UNIT_FACING)
call ShowUnitHide(GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(22.,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stampede",GetUnitLoc(HX))
call CreateTextTagLocBJ("Armagedon!",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
call mj(35.)
set GV=0
else
if(MWC())then
set HV=1
set XVV=GetUnitLoc(HX)
call CreateTextTagLocBJ("Dispell!",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
call AddSpecialEffectTargetUnitBJ("overhead",HX,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitRemoveBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,HX,true,false)
else
if(MYC())then
set JV=1
call ExecuteFunc("MNC")
set XVV=GetUnitLoc(HX)
call CreateTextTagLocBJ("Rage!",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
else
if(MZC())then
set JV=2
set XVV=GetUnitLoc(HX)
call CreateTextTagLocBJ("Heal!",XVV,0,$A,'i','i','i',40)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.5)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),150.,90)
call RemoveLocation(XVV)
call SetUnitLifePercentBJ(HX,62.)
call AddSpecialEffectTargetUnitBJ("origin",HX,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
endif
endif
endif
endif
endif
if(M1C())then
if MJ!=null and GetOwningPlayer(LJ)==Player(PLAYER_NEUTRAL_AGGRESSIVE)then
call IssueTargetOrderBJ(LJ,"purge",MJ)
else
if(GetOwningPlayer(LJ)==Player(PLAYER_NEUTRAL_AGGRESSIVE))then
call IssueTargetOrderBJ(LJ,"purge",LJ)
endif
endif
endif
if(M2C())then
if(MBC()and GetUnitLevel(HX)>=$E)and GetRandomInt(1,4)==1 then
call UnitUseItemTarget(HX,GetItemOfTypeFromUnitBJ(HX,'I0LP'),GX)
endif
if(M3C())then
call UnitUseItem(HX,GetItemOfTypeFromUnitBJ(HX,'I01Z'))
else
if(M4C())then
call UnitUseItem(HX,GetItemOfTypeFromUnitBJ(HX,'I0HH'))
else
if(M5C())then
call IssueTargetOrderBJ(HX,"heal",HX)
endif
endif
endif
endif
endfunction
function M7C takes nothing returns nothing
set KEV=CreateTrigger()
call TriggerRegisterVariableEvent(KEV,"ME",EQUAL,1)
call TriggerAddCondition(KEV,Condition(function MCC))
call TriggerAddAction(KEV,function M6C)
endfunction
function M8C takes nothing returns nothing
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+8]>=1 then
call UnitAddAbilityBJ('A162',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+16]>=1 then
call UnitAddAbilityBJ('A15Z',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+32]>=1 then
call UnitAddAbilityBJ('A19T',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+48]>=1 then
call UnitAddAbilityBJ('A1AJ',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+'h']>=1 then
call UnitAddAbilityBJ('A19N',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+'h']>=2 then
call UnitAddAbilityBJ('A19O',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+'h']==3 then
call UnitAddAbilityBJ('A19P',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+88]==2 then
call UnitAddAbilityBJ('A1UW',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+88]==3 then
call UnitAddAbilityBJ('A1UX',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+80]==2 then
call UnitAddAbilityBJ('A1UT',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+80]==3 then
call UnitAddAbilityBJ('A1UU',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+'x']==1 then
call UnitAddAbilityBJ('A05A',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+$88]==1 then
call UnitAddAbilityBJ('A1GT',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+$90]==1 then
call UnitAddAbilityBJ('A1GU',GetSummonedUnit())
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+$98]==1 then
call UnitAddAbilityBJ('A1GQ',GetSummonedUnit())
call QVE(GetSummonedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSummonedUnit())-7400)
endif
if LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+96]>=1 then
call UnitAddAbilityBJ('A18E',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A18E',GetSummonedUnit(),LG[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))+96])
endif
if GetUnitAbilityLevelSwapped('A1VC',JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))])>0 then
call UnitAddAbilityBJ('A1VC',GetSummonedUnit())
endif
if ZB[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))]=='A1CI' then
call UnitAddAbilityBJ('A1CI',GetSummonedUnit())
endif
if GetUnitAbilityLevelSwapped('A0CD',JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))])>0 then
call UnitAddAbilityBJ('A089',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A089',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0CD',JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))]))
endif
if GetUnitAbilityLevelSwapped('A0MG',JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))])>0 then
call UnitAddAbilityBJ('A0MG',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A0MG',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A0MG',JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))]))
endif
if QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],0)>0 then
call QBE(GetSummonedUnit(),0,QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],0))
endif
if QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],2)>0 then
call QBE(GetSummonedUnit(),2,QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],2))
endif
if QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],4)>0 then
call QBE(GetSummonedUnit(),4,QFE(JZV[GetConvertedPlayerId(GetOwningPlayer(GetSummonedUnit()))],4))
endif
endfunction
function M9C takes nothing returns nothing
if UnitHasItemOfTypeBJ(BC,'I0HK') then
call QBE(GetSummonedUnit(),0,QFE(GetSummonedUnit(),0)+$C8)
endif
if UnitHasItemOfTypeBJ(BC,'I0HI') then
call QBE(GetSummonedUnit(),0,QFE(GetSummonedUnit(),0)+55)
endif
if UnitHasItemOfTypeBJ(BC,'I0HN') then
call QBE(GetSummonedUnit(),2,QFE(GetSummonedUnit(),2)+$96)
endif
if UnitHasItemOfTypeBJ(BC,'I0HJ') then
call QBE(GetSummonedUnit(),0,QFE(GetSummonedUnit(),0)+90)
endif
if GetUnitAbilityLevelSwapped('A1GT',BC)==1 then
call UnitAddAbilityBJ('A1GT',GetSummonedUnit())
endif
if GetUnitAbilityLevelSwapped('A1GU',BC)==1 then
call UnitAddAbilityBJ('A1GU',GetSummonedUnit())
endif
if GetUnitAbilityLevelSwapped('A1GQ',BC)==1 then
call UnitAddAbilityBJ('A1GQ',GetSummonedUnit())
call QVE(GetSummonedUnit(),UNIT_STATE_MAX_LIFE,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSummonedUnit())-7400)
endif
endfunction
function PVC takes nothing returns boolean
return(IsUnitIllusionBJ(GetSummonedUnit()))
endfunction
function PEC takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A020',GetSummonedUnit())==1)
endfunction
function PXC takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==GetUnitTypeId(BC))and(IsUnitType(BC,UNIT_TYPE_HERO))and(GetOwningPlayer(BC)!=Player(PLAYER_NEUTRAL_AGGRESSIVE)))!=null
endfunction
function POC takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==GetUnitTypeId(BC))and(IsUnitType(BC,UNIT_TYPE_HERO)==false))!=null
endfunction
function PRC takes nothing returns boolean
return((GetUnitTypeId(GetSummonedUnit())==GetUnitTypeId(BC))and(IsUnitType(BC,UNIT_TYPE_HERO))and(GetOwningPlayer(BC)==Player(PLAYER_NEUTRAL_AGGRESSIVE))and(GetUnitTypeId(GetTriggerUnit())=='N05L'))!=null
endfunction
function PIC takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())==GetUnitTypeId(CC))
endfunction
function PAC takes nothing returns nothing
local integer G_X=0
local integer PNC=0
local integer GZX=0
local integer GWX=0
local integer GYX=0
if(PEC())then
call ExecuteFunc("M8C")
endif
if(PXC())then
call ExecuteFunc("M8C")
if GetUnitAbilityLevelSwapped('A1V9',BC)>0 then
call UnitAddAbilityBJ('A1V9',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A1V9',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A1V9',BC))
call UnitAddAbilityBJ('A021',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A021',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A1V9',BC))
endif
if GetUnitAbilityLevelSwapped('A04D',BC)>0 then
call UnitAddAbilityBJ('A04D',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A04D',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A04D',BC))
endif
if GetUnitAbilityLevelSwapped('A081',BC)>0 then
call UnitAddAbilityBJ('A081',GetSummonedUnit())
call SetUnitAbilityLevelSwapped('A081',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A081',BC))
endif
set BC=null
endif
if(POC())then
call ExecuteFunc("M9C")
set BC=null
endif
if(PRC())then
call UnitAddAbilityBJ('A1UN',C_E)
set G_X=G_X+QFE(C_E,0)
set PNC=PNC+QFE(C_E,2)
if UnitHasItemOfTypeBJ(BC,'clfm')then
set GYX=GYX+'d'
set G_X=G_X+30
set PNC=PNC+20
endif
if UnitHasItemOfTypeBJ(BC,'I0LP')then
set GZX=GZX+400
endif
if UnitHasItemOfTypeBJ(BC,'I01Z')then
set G_X=G_X+60
call UnitAddAbilityBJ('A0Z1',GetSummonedUnit())
endif
if UnitHasItemOfTypeBJ(BC,'I04K')then
call QBE(GetSummonedUnit(),1,QFE(GetSummonedUnit(),1)+'d')
set GWX=GWX+22
set GYX=GYX+22
set GZX=GZX+22
endif
if UnitHasItemOfTypeBJ(BC,'I0HH')then
set G_X=G_X+80
set GWX=GWX+50
set GYX=GYX+50
set GZX=GZX+50
endif
if UnitHasItemOfTypeBJ(BC,'I0LQ')then
set GZX=GZX+$3E8
endif
if C3E>$C then
call UnitAddAbilityBJ('A1GT',GetSummonedUnit())
endif
call QBE(GetSummonedUnit(),0,QFE(GetSummonedUnit(),0)+G_X)
call QBE(GetSummonedUnit(),5,QFE(GetSummonedUnit(),5)+GZX)
call QBE(GetSummonedUnit(),4,QFE(GetSummonedUnit(),4)+GYX)
call QBE(GetSummonedUnit(),3,QFE(GetSummonedUnit(),3)+GWX)
call QBE(GetSummonedUnit(),2,QFE(GetSummonedUnit(),2)+PNC)
set G_X=0
set GZX=0
set GYX=0
set GWX=0
set PNC=0
if C0E[0]==null then
set C0E[0]=GetSummonedUnit()
else
if C0E[1]==null and C3E>17 then
set C0E[1]=GetSummonedUnit()
else
if C0E[2]==null and C3E>28 then
set C0E[2]=GetSummonedUnit()
else
call RemoveUnit(GetSummonedUnit())
endif
endif
endif
set BC=null
endif
if(PIC())then
call ExecuteFunc("M8C")
if C0E[3]==null then
set C0E[3]=GetSummonedUnit()
else
if C0E[4]==null then
set C0E[4]=GetSummonedUnit()
else
if C0E[5]==null then
set C0E[5]=GetSummonedUnit()
endif
endif
endif
set CC=null
endif
endfunction
function PBC takes nothing returns nothing
local trigger PCC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(PCC,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(PCC,Condition(function PVC))
call TriggerAddAction(PCC,function PAC)
endfunction
function PDC takes nothing returns nothing
call P8E()
call GHN()
call HBN()
call JON()
call JKN()
call JPN()
call JGN()
call JCN()
call KGN()
call JAN()
call YFN()
call FYB()
call GCB()
call GJB()
call G_B()
call FXB()
call FLB()
call FSB()
call H6B()
call JVB()
call JJB()
call G1B()
call G5B()
call HHB()
call HLB()
call BJB()
call CPB()
call BZB()
call B0B()
call CHB()
call IPB()
call IUB()
call I5B()
call I8B()
call DKB()
call DWB()
call D9B()
call YSN()
call WDN()
call WHN()
call Z0N()
call CUB()
call C1B()
call C8B()
call DHB()
call O6B()
call O9B()
call RRB()
call RLB()
call RTB()
call R4B()
call OTB()
call VRB()
call VAB()
call VBB()
call VDB()
call VLB()
call VYB()
call V0B()
call V6B()
call XSB()
call ODI()
call WUN()
call WZN()
call W8N()
call YEN()
call QMN()
call UBN()
call WEN()
call U8N()
call UDN()
call UHN()
call SXN()
call ZON()
call Y7N()
call ZFN()
call ZIN()
call UON()
call SIN()
call PKN()
call QIN()
call QON()
call JTN()
call HYN()
call P0N()
call PPN()
call J7X()
call AGB()
call AZB()
call NEB()
call K4N()
call O3B()
call HTN()
call H2N()
call JVN()
call J2N()
call J5N()
call J8N()
call KEN()
call K8N()
call LEN()
call M1N()
call M3N()
call M6N()
call M9N()
call PON()
call PNN()
call PDN()
call P6N()
call P3N()
call QZN()
call Q6N()
call Q9N()
call QUN()
call KKN()
call SNN()
call BWB()
call SGN()
call SSN()
call SUN()
call S0N()
call S7N()
call S9N()
call TIN()
call TNN()
call TGN()
call TYN()
call T_N()
call T5N()
call UVN()
call HKN()
call HPN()
call HFN()
call QJE()
call HIN()
call QYE()
call Q_E()
call Q1E()
call Q4E()
call SIE()
call SYE()
call S8E()
call TSE()
call UOE()
call UZE()
call WJE()
call WLE()
call WPE()
call YXE()
call YBE()
call YUE()
call Y1E()
call Y4E()
call Y8E()
call ZXE()
call VOX()
call VCX()
call VZX()
call V3X()
call V8X()
call EOX()
call EJX()
call E_X()
call E2X()
call XMX()
call XSX()
call XUX()
call X2X()
call X5X()
call OXX()
call OAX()
call OLX()
call O_X()
call O1X()
call O6X()
call RRX()
call RNX()
call RGX()
call RKX()
call RMX()
call Y5N()
call RSX()
call RWX()
call R_X()
call R3X()
call R7X()
call IVX()
call IRX()
call INX()
call IFX()
call I3X()
call I7X()
call AEX()
call AIX()
call ACX()
call AHX()
call AMX()
call ATX()
call AZX()
call A2X()
call A6X()
call NVX()
call NRX()
call NBX()
call NGX()
call NLX()
call NPX()
call BMX()
call CJX()
call DGX()
call FUX()
call F_X()
call S0B()
call S4B()
call S8B()
call U0B()
call F7X()
call GIX()
call GHX()
call MBX()
call LCX()
call JJX()
call MTX()
call S3X()
call S9X()
call TXX()
call TIX()
call TBX()
call TGX()
call TQX()
call T8X()
call UEX()
call URX()
call UNX()
call W8X()
call YVX()
call YAX()
call YFX()
call YWX()
call Y1X()
call Y5X()
call Y8X()
call ZVX()
call ZPX()
call VBO()
call VMO()
call VTO()
call VYO()
call V0O()
call EWO()
call E7O()
call XBO()
call XWO()
call X_O()
call X1O()
call YRB()
call TLA()
call TTA()
call T_A()
call T4A()
call UXA()
call UBA()
call UHA()
call UQA()
call XPA()
call OVO()
call OIO()
call OBO()
call OTO()
call OWO()
call OZO()
call RFO()
call RJO()
call RMO()
call RQO()
call I2O()
call I5O()
call AGO()
call NFO()
call NKO()
call NQO()
call NUO()
call NZO()
call N1O()
call N4O()
call N7O()
call BVO()
call BCO()
call BGO()
call BLO()
call BQO()
call BWO()
call B_O()
call B2O()
call B6O()
call CEO()
call CRO()
call CCO()
call CGO()
call CKO()
call CPO()
call CYO()
call C7O()
call ACB()
call AUB()
call A8B()
call DVO()
call DOO()
call DBO()
call DFO()
call DJO()
call DMO()
call RNC()
call RZC()
call RXC()
call FPO()
call F3O()
call GHO()
call GTO()
call GZO()
call G1O()
call G4O()
call G7O()
call HVO()
call JTO()
call HOO()
call HKO()
call HQO()
call HUO()
call H_O()
call H2O()
call H6O()
call JVO()
call JOO()
call JAO()
call JCO()
call JJO()
call JZO()
call J1O()
call J4O()
call J7O()
call KVO()
call KOO()
call KIO()
call KBO()
call KPO()
call KWO()
call K0O()
call K6O()
call LEO()
call LHO()
call LSO()
call L0O()
call L3O()
call L6O()
call L9O()
call MAO()
call MBO()
call QKB()
call MTO()
call MYO()
call SLO()
call S1O()
call S9O()
call T9O()
call UXO()
call UIO()
call UBO()
call UFO()
call WOO()
call WAO()
call WCO()
call WGO()
call WLO()
call W6O()
call ZXO()
call ZAO()
call ZFO()
call ZKO()
call ZQO()
call Z3O()
call Z7O()
call VVR()
call VRR()
call HSB()
call H4B()
call VNR()
call VDR()
call VHR()
call VMR()
call VSR()
call V_R()
call V2R()
call V4R()
call V6R()
call EVR()
call ERR()
call ENR()
call EGR()
call EMR()
call EWR()
call E2R()
call XCR()
call XFR()
call XHR()
call XQR()
call XTR()
call XYR()
call X8R()
call OER()
call OIR()
call ODR()
call OGR()
call OMR()
call OQR()
call OUR()
call OYR()
call R3N()
call R0N()
call TAB()
call ROR()
call RGR()
call RKR()
call RMR()
call RSR()
call RWR()
call R1R()
call IHR()
call IPR()
call ARR()
call ANR()
call ACR()
call AFR()
call AHR()
call AKR()
call AMR()
call AQR()
call ATR()
call AWR()
call A1R()
call A4R()
call A8R()
call NCR()
call NGR()
call NKR()
call NPR()
call NUR()
call N4R()
call N6R()
call MRB()
call MAB()
call BXR()
call BIR()
call BBR()
call BDR()
call BUR()
call BZR()
call D1R()
call GCR()
call GPR()
call G_R()
call G1R()
call G3R()
call G5R()
call G7R()
call G9R()
call HNR()
call HTR()
call H_R()
call H2R()
call JAR()
call JBR()
call J8R()
call KVR()
call KOR()
call KNR()
call KFR()
call KPR()
call KTR()
call KZR()
call K4R()
call K8R()
call LOR()
call LIR()
call LNR()
call LFR()
call LKR()
call LTR()
call PUR()
call P_R()
call P4R()
call Q4R()
call SVR()
call SOR()
call SNR()
call SCR()
call SFR()
call SPR()
call SSR()
call S7R()
call T1R()
call T3R()
call T6R()
call T9R()
call SRB()
call PFI()
call PHI()
call UXR()
call UAR()
call UWR()
call UZR()
call U0R()
call U2R()
call U4R()
call U6R()
call WVR()
call WBR()
call WDR()
call WGR()
call WQR()
call LWB()
call MVB()
call LAB()
call LDB()
call Y8R()
call ZCR()
call ZGR()
call ZKR()
call ZPR()
call ZTR()
call Z2R()
call XFI()
call XKI()
call XMI()
call XQI()
call XUI()
call XZI()
call X3I()
call X5I()
call X7I()
call OEI()
call OOI()
call OAI()
call OGI()
call OJI()
call RVI()
call R1I()
call III()
call INI()
call ICI()
call IGI()
call IJI()
call BIN()
call BSN()
call IMI()
call IUI()
call I4I()
call I7I()
call N3I()
call N7I()
call N9I()
call BGI()
call BJI()
call B3I()
call A5N()
call CAI()
call CBI()
call CLI()
call CQI()
call C8I()
call DOI()
call DPI()
call DTI()
call F7I()
call JNI()
call MDI()
call MPI()
call DYI()
call PNI()
call PPI()
call PSI()
call PUI()
call QYI()
call Q_I()
call Q1I()
call Q4I()
call Q6I()
call Q8I()
call SVI()
call SXI()
call SGI()
call SUI()
call S4I()
call T9I()
call R7A()
call R9A()
call IEA()
call IOA()
call IDA()
call IGA()
call IJA()
call ILA()
call NVA()
call NOA()
call NBA()
call J4A()
call DMA()
call CNA()
call BLA()
call Y_I()
call Y9I()
call Y3I()
call PKB()
call V8A()
call BOC()
call BNC()
call YUB()
call EHN()
call IVN()
call WLR()
call BTC()
call CTA()
call CZA()
call HVN()
call FBC()
call FPC()
call KYC()
call KMC()
call MIC()
call L9C()
call Z5R()
call Y6B()
call ZIB()
call ZNB()
call ZFB()
call V2C()
call V9C()
call EOC()
call EAC()
call EMC()
call EWC()
call E0C()
call E2C()
call XOC()
call XWC()
call X1C()
call OIC()
call OLC()
call OWC()
call IGC()
call ARC()
call ANC()
call GRO()
call ZXI()
call IPA()
call ZRO()
call XWB()
call XZB()
call X3B()
call X2B()
call X7B()
call X8B()
call O1C()
call O7C()
call MJB()
call LHN()
call LKN()
call L1N()
call L4N()
call L7N()
call MBN()
call MGN()
call GUC()
call F2C()
call G5C()
call CWN()
call C0N()
call PBC()
call TER()
call S9R()
call KCC()
call TBE()
call RII()
call R7N()
call FEO()
call FAO()
call FDO()
call QZR()
call P9E()
call Q1B()
call YNB()
call YQB()
call YUB()
call P6E()
call QNN()
call B1C()
call MUN()
endfunction
function PFC takes nothing returns nothing
call ConditionalTriggerExecute(QVV)
call ConditionalTriggerExecute(QNV)
call ConditionalTriggerExecute(T8V)
call ConditionalTriggerExecute(E1E)
call ConditionalTriggerExecute(OKE)
call ConditionalTriggerExecute(O_E)
call ConditionalTriggerExecute(RAE)
call ConditionalTriggerExecute(RCE)
call ConditionalTriggerExecute(RFE)
call ConditionalTriggerExecute(RJE)
call ConditionalTriggerExecute(FYE)
call ConditionalTriggerExecute(G5E)
call ConditionalTriggerExecute(FJE)
call ConditionalTriggerExecute(FFE)
call ConditionalTriggerExecute(O8E)
call M2E()
call ExecuteFunc("ZNB")
call ExecuteFunc("ZIB")
call ExecuteFunc("EMC")
call ExecuteFunc("X1C")
call ExecuteFunc("OWC")
call ExecuteFunc("TIR")
call ExecuteFunc("OQC")
call ExecuteFunc("ZKN")
call ExecuteFunc("NKC")
call ExecuteFunc("NFC")
call ExecuteFunc("NCC")
call ExecuteFunc("NWC")
call ExecuteFunc("NTC")
call ExecuteFunc("NXC")
call ExecuteFunc("ZYN")
call ExecuteFunc("EUB")
call ExecuteFunc("XJB")
call ExecuteFunc("V9B")
call ExecuteFunc("ERB")
call ExecuteFunc("EMB")
call ExecuteFunc("ICB")
call ExecuteFunc("ILB")
call ExecuteFunc("A6C")
call ExecuteFunc("A3C")
call ExecuteFunc("AWC")
call ExecuteFunc("AZC")
call ExecuteFunc("FNA")
call ExecuteFunc("TFA")
call ExecuteFunc("F8A")
call ExecuteFunc("GKA")
call ExecuteFunc("GMA")
call ExecuteFunc("H3A")
call ExecuteFunc("H5A")
call ExecuteFunc("H7A")
call ExecuteFunc("H9A")
call ExecuteFunc("JEA")
call ExecuteFunc("JOA")
call ExecuteFunc("JIA")
call ExecuteFunc("JWA")
call ExecuteFunc("J2A")
call ExecuteFunc("J7A")
call ExecuteFunc("LPA")
call ExecuteFunc("LSA")
call ExecuteFunc("MVA")
call ExecuteFunc("MAA")
call ExecuteFunc("MBA")
call ExecuteFunc("MDA")
call ExecuteFunc("MGA")
call ExecuteFunc("M4A")
call ExecuteFunc("SKA")
call ExecuteFunc("S8A")
call ExecuteFunc("YAA")
call ExecuteFunc("ZMA")
call ExecuteFunc("EFN")
call ExecuteFunc("EPN")
call ExecuteFunc("EZN")
call ExecuteFunc("OHN")
call ExecuteFunc("RGN")
call ExecuteFunc("IPN")
call ExecuteFunc("I8N")
call ExecuteFunc("AGN")
call ExecuteFunc("ALN")
call ExecuteFunc("ATN")
call ExecuteFunc("NVN")
call ExecuteFunc("NGN")
call ExecuteFunc("NTN")
call ExecuteFunc("DVN")
call ExecuteFunc("FIN")
call ExecuteFunc("GBN")
call ExecuteFunc("qBt")
call ExecuteFunc("AHC")
call ExecuteFunc("GQN")
call ExecuteFunc("IUA")
call ExecuteFunc("O3X")
call ExecuteFunc("U2A")
call ExecuteFunc("WXA")
call ExecuteFunc("WKA")
call ExecuteFunc("WTA")
call ExecuteFunc("W8A")
call ExecuteFunc("YRA")
call ExecuteFunc("COR")
call ExecuteFunc("YBA")
call ExecuteFunc("PGB")
call ExecuteFunc("B5R")
call ExecuteFunc("DSO")
call ExecuteFunc("D_O")
call ExecuteFunc("DWO")
call ExecuteFunc("RQN")
call ExecuteFunc("RKN")
call ExecuteFunc("ISA")
call ExecuteFunc("ZHI")
call ExecuteFunc("J0A")
call ExecuteFunc("QVB")
call ExecuteFunc("PYB")
call ExecuteFunc("Z7A")
call ExecuteFunc("W3O")
call ExecuteFunc("EFA")
call ExecuteFunc("QMB")
call ExecuteFunc("QQB")
call ExecuteFunc("D4O")
call ExecuteFunc("D8O")
call ExecuteFunc("A0N")
call ExecuteFunc("QCN")
call ExecuteFunc("N6C")
call ExecuteFunc("KOC")
call ExecuteFunc("HIC")
call ExecuteFunc("M7C")
call ExecuteFunc("LTC")
call ExecuteFunc("L_C")
call ConditionalTriggerExecute(PX)
endfunction
function PGC takes nothing returns nothing
call SetPlayerTechResearched(Player(0),'Remg',1)
call SetPlayerTechResearched(Player(0),'R001',1)
endfunction
function PHC takes nothing returns nothing
call SetPlayerTechResearched(Player(1),'Rupc',1)
endfunction
function PJC takes nothing returns nothing
call SetPlayerTechResearched(Player(2),'Rhgb',1)
call SetPlayerTechResearched(Player(2),'Rhhb',1)
call SetPlayerTechResearched(Player(2),'Remg',1)
call SetPlayerTechResearched(Player(2),'R001',1)
endfunction
function PKC takes nothing returns nothing
call PGC()
call PHC()
call PJC()
endfunction
function PLC takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(0),true)
call SetPlayerController(Player(0),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(1),true)
call SetPlayerController(Player(1),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(2),true)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(3),true)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(4),true)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(5),true)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(6),true)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(7),true)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(8),true)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_RANDOM)
call SetPlayerRaceSelectable(Player(9),true)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(5),0)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(6),0)
call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),0)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(8),0)
call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(9),0)
call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(8),true)
call SetPlayerTeam(Player(1),1)
endfunction
function PMC takes nothing returns nothing
call SetStartLocPrioCount(1,1)
call SetStartLocPrio(1,0,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,7)
call SetStartLocPrio(2,0,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,7)
call SetStartLocPrio(3,0,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,5)
call SetStartLocPrio(4,0,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,5)
call SetStartLocPrio(5,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,5)
call SetStartLocPrio(6,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,5)
call SetStartLocPrio(7,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,5)
call SetStartLocPrio(8,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,5)
call SetStartLocPrio(9,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,8,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
call ExecuteFunc("Y2N")
call ExecuteFunc("NZC")
call SetCameraBounds(-15616.+GetCameraMargin(CAMERA_MARGIN_LEFT),-11776.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),15616.-GetCameraMargin(CAMERA_MARGIN_RIGHT),11264.-GetCameraMargin(CAMERA_MARGIN_TOP),-15616.+GetCameraMargin(CAMERA_MARGIN_LEFT),11264.-GetCameraMargin(CAMERA_MARGIN_TOP),15616.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-11776.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call SetTerrainFogEx(0,3000.,5000.,.5,.0,.0,.0)
call NewSoundEnvironment("Default")
call SetAmbientDaySound("SunkenRuinsDay")
call SetAmbientNightSound("SunkenRuinsNight")
call SetMapMusic("Music",true,0)
call ExecuteFunc("M_E")
call ExecuteFunc("PTE")
call ExecuteFunc("PKC")
call ExecuteFunc("M0E")
call ExecuteFunc("PSE")
call ExecuteFunc("HJE")
call ExecuteFunc("PDC")
call ExecuteFunc("jasshelper__initstructs2611484")
call ExecuteFunc("J_B")
call ExecuteFunc("J1B")
call ExecuteFunc("KUB")
call ExecuteFunc("KZB")
call ExecuteFunc("JLB")
call ExecuteFunc("QAE")
call ExecuteFunc("QGE")
call PFC()
call InitBlizzard()
endfunction
function config takes nothing returns nothing
call SetMapName("|cffff8c00Darkyemp")
call SetMapDescription("The empire of the dark and the light are at war, the forces of the dark have an advantage that is growing, you must surpass this advantage.
More Information in : |cffffcc00https://discord.gg/tc56Nu7eUS|r


")
call SetPlayers($A)
call SetTeams($A)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,896.,-10752.)
call DefineStartLocation(1,1152.,10560.)
call DefineStartLocation(2,-10816.,-11328.)
call DefineStartLocation(3,-10816.,-11200.)
call DefineStartLocation(4,-10816.,-11264.)
call DefineStartLocation(5,-10816.,-11264.)
call DefineStartLocation(6,-10752.,-11200.)
call DefineStartLocation(7,-10752.,-11264.)
call DefineStartLocation(8,-10816.,-11328.)
call DefineStartLocation(9,-10816.,-11264.)
call PLC()
call InitCustomTeams()
call PMC()
endfunction
